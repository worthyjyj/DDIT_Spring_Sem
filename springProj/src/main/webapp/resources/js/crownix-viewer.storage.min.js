/*!
 * Copyright(c) 2014. M2SOFT Co., Ltd. All source codes cannot be copied without permission.
 * 
 * @version: 7.4.1.726
 * @bulid date: 2021/08/17 16:02
 */
var m2soft=m2soft||{};m2soft.ns=function(e){var d=e.split("."),c=m2soft;if(d[0]==="m2soft"){d=d.slice(1)}for(var b=0,a=d.length;b<a;b++){if(typeof c[d[b]]==="undefined"){c[d[b]]={}}c=c[d[b]]}return c};m2soft.ns("m2soft.crownix.Constant");m2soft.crownix.Constant={INFO_TALK_PROTOCOL_VERSION:"1.0",SERVICE_INSERT_HANDLER:1100,SERVICE_EXPORT_HANDLER:1300,SERVICE_SECUCEN_HANDLER:1400,VIEWER_Z_INDEX:2147483545,VIEWER_OVERLAY_Z_INDEX:2147483544,WINDOW_Z_INDEX:2147483547,WINDOW_OVERLAY_Z_INDEX:2147483546,WINDOW_CLOSE_ID:"crownix-window-frame-close",CONTAINER_ID:"m2soft-crownix-container",PAGE_ID:"m2soft-crownix-page",PAGE_CLASS:"m2soft-crownix-page-frame",CANVAS_ID:"m2soft-crownix-canvas",TEXT_ID:"m2soft-crownix-text",NOTE_ID:"m2soft-crownix-note",NOTE_CLASS:"m2soft-crownix-note-container",PREVENTER_ID:"m2soft-crownix-preventer",PAGE_LOADING_ID:"crownix-page-loading",FONT_FAMILY_PREFIX:"crownix-font-",CONTAINER_PADDING:12};m2soft.ns("m2soft.crownix.Resource");m2soft.crownix.Resource.r={close_overlay:{ko:"닫기",ja:"閉じる",en:"Close"},first_page:{ko:"첫 페이지로 이동",ja:"最初のページ",en:"Move to First Page"},pre_page:{ko:"앞 페이지로 이동",ja:"前のページ",en:"Move to Previous Page"},next_page:{ko:"뒷 페이지로 이동",ja:"次のページ",en:"Move to Next page"},last_page:{ko:"마지막 페이지로 이동",ja:"最後のページ",en:"Move to Last page"},move_page:{ko:"페이지 이동",ja:"ページの移動",en:"Go to Page"},prev_doc:{ko:"이전 문서",ja:"前のレポート",en:"Previous Report"},next_doc:{ko:"이후 문서",ja:"次のレポート",en:"Next Report"},zoom_in:{ko:"확대",ja:"ズームイン",en:"Zoom In"},zoom_out:{ko:"축소",ja:"ズームアウト",en:"Zoom Out"},ratio:{ko:"비율",ja:"ズーム",en:"Ratio"},fit_width:{ko:"가로 맞춤",ja:"幅に合わせ",en:"Horizontal Alignment"},fit_height:{ko:"세로 맞춤",ja:"高さに合わせ",en:"Vertical Alignment"},save_pdf:{ko:"PDF 파일로 저장",ja:"PDFファイルとして保存",en:"Save as PDF File"},save_word:{ko:"Microsoft Word 파일로 저장",ja:"Microsoft Wordファイルとして保存",en:"Save as Microsoft Word File"},save_excel:{ko:"Microsoft Excel 파일로 저장",ja:"Microsoft Excelファイルとして保存",en:"Save as Microsoft Excel File"},save_ppt:{ko:"Microsoft Powerpoint 파일로 저장",ja:"Microsoft PowerPointファイルとして保存",en:"Save as Microsoft PowerPoint File"},save_hwp:{ko:"HWP 파일로 저장",ja:"HWPファイルとして保存",en:"Save as HWP File"},save_txt:{ko:"Text 파일로 저장",ja:"テキストファイルとして保存",en:"Save as Text File"},save_cell:{ko:"CELL 파일로 저장",ja:"CELLファイルとして保存",en:"Save as CELL File"},save_brl:{ko:"BRL 파일로 저장",ja:"BRLファイルとして保存",en:"Save as BRL File"},save_csv:{ko:"CSV 파일로 저장",ja:"CSVファイルとして保存",en:"Save as CSV File"},print:{ko:"인쇄",ja:"印刷",en:"Print"},print_pdf:{ko:"PDF 파일로 변환하여 인쇄",ja:"PDFファイルに変換して印刷",en:"Convert to PDF file and Print"},print_subpage_next:{ko:"서브페이지 넘김",ja:"サブページを改ページにする",en:"Make a subpage break"},print_page_layout:{ko:"모아찍기",ja:"シートごとにページ数",en:"Number of pages per sheet"},not_use:{ko:"사용안함",ja:"使用しない",en:"Disabled"},print_duplex:{ko:"양면인쇄",ja:"両面印刷",en:"Duplex Printing"},print_duplex_flip_up:{ko:"위로 넘김",ja:"短辺綴じ",en:"Turn Upward"},print_duplex_flip_sideway:{ko:"옆으로 넘김",ja:"長辺綴じ",en:"Turn Sideways"},cancel_report:{ko:"중지",ja:"中止",en:"Stop"},storage_report:{ko:"보고서",ja:"レポート",en:"Report"},parsing_error_mml:{ko:"읽을 수 없는 포맷입니다.",ja:"読み込めない形式のファイルです。。",en:"The file format is not readable."},storage_formdata:{ko:"폼 데이터",ja:"フォームデータ",en:"Form Data"},export_file:{ko:"파일을 생성 중입니다.",ja:"ファイルを生成中です。",en:"Creating file."},save_file:{ko:"파일 저장 중입니다.",ja:"ファイルに保存中です。",en:"Saving as file."},print_progress:{ko:"인쇄 준비 중입니다.",ja:"印刷準備中です。",en:"Preparing to print."},print_pdf_export:{ko:"인쇄하기 위해 PDF 파일로 변환 중입니다.",ja:"印刷用にPDF変換中です。",en:"Converting to PDF file to print."},print_printviewer_title:{ko:"인쇄 미리 보기",ja:"印刷プレビュー",en:"Print Preview"},print_pdfviewer_title:{ko:"PDF 인쇄 미리 보기",ja:"PDF印刷プレビュー",en:"PDF Print Preview"},print_submit_preview:{ko:"제출 전 미리보기 생성중입니다.",ja:"送信前にプレビューを生成中です。",en:"Converting to PDF file to print."},submit_preview_title:{ko:"미리 보기",ja:"プレビュー",en:"Preview"},insert_page_number:{ko:"페이지 번호를 입력하십시오.",ja:"ページ番号を入力してください。",en:"Please enter the page number."},submit_formfield:{ko:"제출 중입니다.",ja:"送信中です。",en:"Submitting."},submit_formfield_insert_ok:{ko:"제출을 완료했습니다.",ja:"送信を完了しました。",en:"Submission complete."},submit_formfield_insert_fail:{ko:"제출에 실패했습니다.",ja:"送信に失敗しました。",en:"Submission failed."},submit_fail_not_filled_required_form:{ko:"필수 항목을 입력하십시오.",ja:"必須項目を入力してください。",en:"Please fill in the required fields."},not_filled_required_form:{ko:"%s에 값을 입력하십시오.",ja:"%s에 값을 입력하십시오.",en:"%s에 값을 입력하십시오."},submit_button_text:{ko:"제출",ja:"送信",en:"Submit"},sign_window_title:{ko:"서명",ja:"署名",en:"Signature"},ok_button_text:{ko:"확인",ja:"OK",en:"OK"},cancel_button_text:{ko:"취소",ja:"キャンセル",en:"Cancel"},apply_button_text:{ko:"적용",ja:"適用",en:"Apply"},refresh_button_text:{ko:"초기화",ja:"初期化",en:"Reset"},pen_size:{ko:"두께",ja:"太さ",en:"Thickness"},pen_transparency:{ko:"투명도",ja:"透明度",en:"Transparency"},color:{ko:"색",ja:"色",en:"Color"},inquery:{ko:"조회 툴바",ja:"照会ツールバー",en:""},report_list:{ko:"보고서 목록",ja:"レポート一覧",en:"Report List"},report_name:{ko:"이름",ja:"名前",en:"Name"},data_size:{ko:"용량",ja:"サイズ",en:"Size"},open:{ko:"열기",ja:"開く",en:"Open"},remove:{ko:"삭제",ja:"削除",en:"Delete"},saved_report_name:{ko:"저장할 보고서 명",ja:"保存するレポート名",en:"Save As.."},include_image_chart_barcode:{ko:"이미지/바코드 포함 저장",ja:"イメージ/バーコードを含める",en:"With Image and Barcode."},save:{ko:"저장",ja:"保存",en:"Save"},formdata_list:{ko:"폼 데이터 목록",ja:"フォームデータリスト",en:"Form Data List"},formdata_name:{ko:"이름",ja:"名前",en:"Name"},apply_data:{ko:"적용",ja:"適用",en:"Import"},saved_formdata_name:{ko:"폼 데이터 명",ja:"保存するフォームデータ名",en:"Export As.."},check_validation:{ko:"유효성 검사",ja:"必須項目の入力チェック",en:"Validataion"},extract_data:{ko:"저장",ja:"保存",en:"Export"},wrong_page_number:{ko:"잘못된 페이지 번호입니다.",ja:"ページ番号が正しくありません。",en:"The page number is incorrect."},page_not_exist:{ko:"존재하지 않는 페이지입니다.",ja:"存在しないページです。",en:"The page does not exist."},page_not_create:{ko:"생성되지 않은 페이지입니다.",ja:"作成されていないページです。",en:"This page is not created."},execute_error:{ko:"문서를 실행할 수 없습니다.",ja:"レポートを実行できません。",en:"The report cannot be run."},server_connect_error:{ko:"서버와 연결할 수 없습니다.",ja:"サーバに接続できません。",en:"Cannot connect to server."},request_server_error:{ko:"서버 오류",ja:"サーバエラー",en:"Server Error"},request_abort_error:{ko:"요청이 중지되었습니다.",ja:"要求が停止されました。",en:"Request has been cancelled."},request_timeout_error:{ko:"네트워크 오류 (Timeout)",ja:"ネットワークエラー (Timeout)",en:"Network Error (Timeout)"},cross_origin_ie9_error:{ko:"다른 도메인의 원본을 접근할 수 없습니다. <br><br> IE9 사용자의 경우 <br> 인터넷옵션 > 보안설정 > 사용자 지정 수준 > 기타 > 도메인 간의 데이터 원본 액세스 를 사용으로 설정하시기 바랍니다.",ja:"異なるドメインへアクセスできません。<br><br>IE9をご利用の場合は<br>’インタネットオプション’<br>＞’セキュリティ’<br>＞’レベルのカスタマイズ’<br>＞’ドメイン間でのデータソースの<br>アクセス’<br>を有効に設定してください。",en:'Access Denied<br>The cross-origin request is <br>prohibited.<br><br>If you are using IE9, <br>go to Tools<br>->Internet Options<br>->Security tab, click on "Custom Level" button. <br>Find the Miscellaneous <br>-> Access data sources across <br>domains setting and select <br>"Enable" option.'},save_error:{ko:"파일 저장에 실패했습니다.",ja:"ファイルの保存に失敗しました。",en:"Failed to save file."},save_connect_error:{ko:"파일 저장에 실패했습니다. 서버 연결 상태를 확인하십시오.",ja:"ファイルの保存に失敗しました。サーバの接続環境を確認してください。",en:"Failed to save file. Please check the server connection."},save_server_error:{ko:"서버에서 오류가 발생하여 파일 저장에 실패했습니다.",ja:"ファイルの保存に失敗しました。サーバの状況やライセンスを確認してください。",en:"Failed to save file due to server error."},save_timeout_error:{ko:"타임 아웃이 발생하여 파일 저장에 실패했습니다.",ja:"ファイルの保存に失敗しました。サーバと通信中にタイムアウトが発生しました。",en:"Failed to save file due to timeout."},save_stateful_error:{ko:"보고서를 저장할 수 없습니다. 보고서를 저장하려면 StateLessMode(true)로 설정해야 합니다.",ja:"レポートを保存することができません。レポートを保存するには、StateLessMode(true)に設定してください。",en:"Cannot save this report. Please set StateLessMode(true) before saving the report."},print_stateful_error:{ko:"보고서를 인쇄할 수 없습니다. 보고서를 인쇄하려면 StateLessMode(true)로 설정해야 합니다.",ja:"レポートを印刷することができません。レポートを印刷するには、StateLessMode(true)に設定してください。",en:"Cannot print this report. Please set StateLessMode(true) before printing."},print_pdf_error:{ko:"PDF 파일 변환에 실패했습니다.",ja:"PDF ファイル変換に失敗しました。",en:"PDF file conversion failed."},print_pdf_connect_error:{ko:"PDF 파일 변환에 실패했습니다. 서버 연결 상태를 확인하십시오.",ja:"PDFファイル変換に失敗しました。サーバへの接続環境を確認してください。",en:"PDF file conversion failed. Please check the server connection."},print_pdf_server_error:{ko:"서버에서 오류가 발생하여 PDF 파일 변환에 실패했습니다.",ja:"PDFファイルの保存に失敗しました。サーバの状況やライセンスを確認してください。",en:"PDF file conversion failed due to server error."},print_pdf_timeout_error:{ko:"타임 아웃이 발생하여 PDF 파일 변환에 실패했습니다.",ja:"タイムアウトが発生し、PDFファイル変換に失敗しました。",en:"PDF file conversion failed due to timeout."},print_pdf_error:{ko:"PDF 파일 변환에 실패했습니다.",ja:"PDFファイル変換に失敗しました。",en:"PDF file conversion failed."},unsupported_canvas_error:{ko:"뷰어를 실행할 수 없습니다. 캔버스를 지원하지 않는 브라우저입니다.",ja:"Viewerを実行できません。キャンバスをサポートしていないブラウザです。",en:"The viewer cannot be run. This browser does not support the canvas tag."},download_duplicate_error:{ko:"다른 파일을 다운로드 중입니다. 다운로드 완료 후에 다시 시도 하십시오",ja:"他のファイルをダウンロード中です。ダウンロード完了後にもう一度行ってください。",en:"File download in progress. Please try again after download is complete."},image_file_format_error:{ko:"지정한 파일을 삽입할 수 없습니다. 그림 필드에는 이미지 파일을 삽입해야 합니다.",ja:"指定したファイルを挿入できません。イメージフィールドには画像ファイルを指定してください。",en:"The specified file cannot be inserted. You must insert an image file in an image field."},input_text_validate_error:{ko:"입력한 문장에서 오류가 발생했습니다. 유효한 형식으로 입력하십시오.",ja:"入力した構文が正しくありません。有効な形式で入力してください。",en:"There is an error in the sentence you entered. Please enter a valid sentence."},form_not_submit_print_error:{ko:"보고서를 인쇄할 수 없습니다. 먼저, '제출'을 실행하십시오.",ja:"レポートの印刷ができません。先に「送信」を実行してください。",en:"The report cannot be printed. Run the 'Submit' first."},form_not_submit_save_error:{ko:"보고서를 저장할 수 없습니다. 먼저, '제출'을 실행하십시오.",ja:"レポートの保存ができません。先に「送信」を実行してください。",en:"The report cannot be saved. Run the 'Submit' first."},form_duplicated_id_error:{ko:"중복된 폼필드 ID가 존재합니다.",ja:"フォームフィールドIDが重複しています。IDが一意になるように設計してください。",en:"There is a duplicate form field ID."},form_submit_info_leak_error:{ko:"입력된 폼필드 데이터를 서버로 전송하기 위한 정보가 부족합니다. 데이터 전송에 필요한 정보가 올바르게 지정되어 있는지 확인하십시오.",ja:"送信に必要な情報が設定されていません。送信時のサーバ設定等を確認してください。",en:"Information for sending the entered form field data to the server is insufficient. Please check if the required information for data transmission is correctly specified."},form_submit_not_found_form:{ko:"제출할 수 있는 폼이 없습니다.",ja:"送信できるフォームがありません。",en:"There is no form that can be submitted."},unsupported_note_error:{ko:"노트 기능을 실행할 수 없습니다. SVG를 지원하지 않는 브라우저입니다.",ja:"手書きノートが利用できません。SVGに対応したブラウザをご利用ください。",en:"The note function cannot be run. This browser does not support the SVG."},insert_inquery_condition:{ko:"검색할 조건을 입력하십시오 (총 %d건)",ja:"検索条件を入力してください。（全 %d 項目）",en:"Please enter the values for searching.(Total %d)"},inquery_formfield_reset:{ko:"조회를 실행하면 폼 필드의 값이 모두 삭제됩니다. 계속하시겠습니까?",ja:"フォームフィールドの入力データが全て消去されます。<br>続行しますか？",en:"When you run Lookup, the entire contents of the form fields will be deleted. Continue?"},inquery_note_reset:{ko:"조회 기능을 실행하면 노트 내용이 모두 삭제됩니다. 계속하시겠습니까?",ja:"照会機能を実行すると入力した全てのデータがクリアされます。<br>続行しますか？",en:"When you run Lookup, the entire content of the note will be deleted. Continue?"},inquery_calendar_format_error:{ko:"날짜 또는 시간 값이 적절하지 않습니다.",ja:"日時の書式に誤りがあります。",en:"The date or time value is invalid."},image_export_disabled_before_done:{ko:"보고서를 작성 중입니다. 잠시만 기다려 주십시오",ja:"レポートを作成中です。しばらくお待ちください。",en:"Creating a report. Please wait..."},form_allowed_only_one:{ko:"모든 보고서의 폼 ID가 동일해야 합니다.",ja:"一つのフォームIDで設定してください。",en:"Each form ID of all reports must be same."},unsupported_localStorage_error:{ko:"지원하지 않는 브라우저입니다.",ja:"サポートしないブラウザです。",en:"This browser does not support."},unsupported_format:{ko:"지정한 파일 포맷은 지원하지 않습니다.",ja:"ポートしないファイル形式です",en:"The specified file format is not supported."},unsupported_feature_localStorage:{ko:"지원하지 않는 기능입니다.",ja:"サポートしない機能です。",en:"This feature is not supported."},unsupported_feature_without_formedit_mode:{ko:"폼 편집 모드에서만 사용할 수 있습니다.",ja:"フォーム編集モードをご利用ください。",en:"Only available in Form Edit Mode."},missing_input_mml_name:{ko:"이름을 입력하십시오.",ja:"名前を入力してください。",en:"Please enter the Name"},missing_input_formdata_name:{ko:"이름을 입력하십시오.",ja:"名前を入力してください。",en:"Please enter the Name"},data_save_error:{ko:"파일 저장에 실패했습니다.",ja:"ファイルの保存に失敗しました。",en:"Failed to save the file."},data_load_error:{ko:"데이터를 가져오는데에 실패했습니다.",ja:"データの読み取りに失敗しました。",en:"Failed to load the data."},storage_formfield_import:{ko:"입력한 폼필드 데이터가 모두 삭제됩니다.<br>계속하시겠습니까?",ja:"入力した全てのデータがクリアされます。<br>続行しますか？",en:"All the entered form field data will be deleted.<br>Continue?"},storage_duplicated_id_confirm:{ko:"이미 존재하는 이름입니다.<br>덮어쓰겠습니까?",ja:"既に同じ名前が存在します。<br>上書きしますか？",en:"This name already exists.<br> Overwrite?"},export_duplicate_error:{ko:"이미 변환된 문서입니다.",ja:"既に保存されたレポートです。",en:"The report has already been converted."},confirm_page_out:{ko:"저장되지 않은 변경 내용이 있습니다.",ja:"保存されてない更新内容があります。",en:"There are changes that have not been saved."},confirm_hyperlink_move:{ko:"하이퍼링크 연결 대상으로 이동하시겠습니까?",ja:"リンク先に移動しますか？",en:"Would you like to go to for hyperlink?"},formfield_event_error:{ko:"폼 필드 스크립트 실행 오류",ja:"スクリプト実行エラー",en:"Form Field Script running error"},formfield_event_disable_before_done:{ko:"보고서를 작성 중입니다. 잠시만 기다려 주십시오",ja:"レポートを作成中です。しばらくお待ちください。",en:"Creating a report. Please wait..."},formfield_not_exist:{ko:"존재하지 않는 폼필드입니다.",ja:"存在しないフォームフィールドです。",en:"The form field does not exist."},developer_console_warning:{ko:"이 기능은 개발자용으로 브라우저에서 제공되는 내용입니다. 개발자 도구에서는 Crownix Viewer의 기능을 사용할 수 없으며, 문서를 수정하면 변조된 문서로 취급됩니다.",ja:"開発者向けの機能を利用した場合、偽造されたレポートとして扱います。",en:"This is a browser feature intended for developers. In Developer tools, you cannot use the Crownix Viewer’s features. And then, if you modify this report, it will be considered a forged report."},hyperlink_full_stack_warning:{ko:"더 이상 하이퍼링크 연결 대상으로 이동할 수 없습니다.",ja:"ハイパーリンクの接続対象にこれ以上移動できません。",en:"No more the hyperlink connection can be opened."},drilldown_not_allowed:{ko:"드릴다운 기능을 사용할 수 없습니다.",ja:"ドリルダウン機能を使用することができません。",en:"The Drill-Down feature cannot be used."},no_data_message:{ko:"데이터를 찾을 수 없습니다.",ja:"データが見つかりません。",en:"Unable to find data."},submit_confirm_message:{ko:"계속 진행하시겠습니까?",ja:"続行しますか？",en:"Continue?"},share_dialog_title:{ko:"스마트폼 공유하기",ja:"スマートフォームシェアリング",en:"Smart Form Sharing"},share_list_title:{ko:"공유 리스트",ja:"共有リスト",en:"Sharing List"},share_report_title:{ko:"이름",ja:"名前",en:"Name"},share_is_public:{ko:"타입",ja:"タイプ",en:"Type"},share_user_count:{ko:"인원수",ja:"人数",en:"Count"},share_join:{ko:"참여",ja:"参加",en:"Join"},share_create_title:{ko:"공유하기",ja:"共有する",en:"Sharing"},share_public:{ko:"공개",ja:"公開",en:"Public"},share_private:{ko:"비공개",ja:"非公開",en:"Private"},share_password:{ko:"패스워드",ja:"パスワード",en:"Password"},share_create:{ko:"등록",ja:"登録",en:"Add"},share_no_select_report:{ko:"공유할 보고서를 선택하십시오.",ja:"共有するレポートを選択してください。",en:"Select a sharing report."},share_need_password:{ko:"비공개 보고서입니다. 패스워드를 입력하십시오.",ja:"非公開レポートです。パスワードを入力してください。",en:"A private report. Enter a password."},share_need_report_title:{ko:"보고서 제목을 입력하십시오.",ja:"レポートのタイトルを入力してください。",en:"Enter a report title."},do_share:{ko:"스마트폼 공유하기",ja:"スマートフォームを共有する",en:"Smart Form Sharing."},do_disconnect:{ko:"스마트폼 접속 끊기",ja:"スマートフォーム共有を解除する",en:"Disconnect Smart Form Sharing."},share_disconnect_confirm:{ko:"보고서 공유를 종료하시겠습니까?",ja:"レポートの共有を終了しますか？",en:"Are your sure to exit sharing reports?"},share_do_lock:{ko:"작성 제어권 해제 상태",ja:"作成制御解除状態",en:"User Control Unlock"},share_do_unlock:{ko:"작성 제어권 잠금 상태",ja:"作成制御ロック状態",en:"User Control Lock"},share_wrong_password:{ko:"패스워드가 틀립니다.",ja:"パスワードが正しくありません。",en:"Password is incorrect."},share_duplicated_name:{ko:"이미 등록된 제목입니다.",ja:"既に登録したタイトルです。",en:"The title is already registered."},share_session_timeout:{ko:"%s 분동안 아무동작을 하지 않았습니다. 연결을 유지하시겠습니까?",ja:"%s 分間に操作がありませんでした。接続を維持しますか？",en:"No action is made for %s mintutes. Do you want to stay connnected?"},share_undefined_room:{ko:"접속하려는 보고서가 공유 리스트에 없습니다.",ja:"接続しようとするレポートが共有リストにありません。",en:"The report to which you want to access is not in the sharing list."},share_stop_sharing:{ko:"보고서 공유가 중단되었습니다.",ja:"レポートの共有が停止されました。",en:"The Report Sharing has been Aborted."},no_share_server_url:{ko:"스마트폼 쉐어링 서비스를 위한 서버와의 연결에 실패하였습니다. 서버 주소를 확인하십시오.",ja:"スマートフォームシェアリングサービスのサーバとの接続に失敗しました。サーバのURLを確認してください。",en:"Connecting to the server for the smart form sharing service was failed. Please check the server address."},share_not_allowed_space:{ko:"패스워드에 공백 문자를 포함할 수 없습니다.",ja:"パスワードに空白文字を含めることはできません。",en:"Password should not contain blank characters."},keep_report_layout_message:{ko:"보고서 레이아웃을 유지할까요?",ja:"レポートレイアウトを維持しますか?",en:"Do you want to keep the report layout?"},yes_button_text:{ko:"네",ja:"はい",en:"Yes"},no_button_text:{ko:"아니요",ja:"いいえ",en:"No"},not_support_file_append:{ko:"첨부 기능을 사용할 수 없는 브라우저입니다. 필수로 적용된 첨부 필드는 필수 속성이 해제됩니다.",ja:"添付ファイル機能が対応しないブラウザです。必須でチェックした添付フィールドは必須プロパティが解除になります",en:"This browser does not use the attachment function. For the attachment field applied as mandatory option, the mandatory property will be canceled"},attach_file_button:{ko:"파일 선택",ja:"ファイル選択",en:"Select File"},no_attach_file:{ko:"첨부된 파일이 없습니다.",ja:"添付ファイルが存在しません。",en:"There is no file attached."},file_size_over:{ko:"최대 파일 사이즈를 초과했습니다. %d MB 사이즈까지 첨부 가능 합니다.",ja:"ファイルサイズが上限に達しました。%d MB まで利用可能です。",en:"The max file size has been exceeded. Up to %d MB can be attached."},wrong_file_extension:{ko:"잘못된 파일 형식입니다. %s 형식의 파일을 첨부하십시오",ja:"正しくないファイルタイプです。%s タイプのファイルを添付してください。",en:"Wrong file type. extension. Please attach the file type of %s "},invalid_file_name:{ko:"잘못된 파일명입니다.",ja:"ファイル名が正しくありません。",en:"Wrong file name."},invalid_submit_request:{ko:"다른 사용자가 첨부한 파일은 제출할 수 없습니다.",ja:"他のユーザが添付したファイルは提出できません。",en:"The file attached by another user cannot be submitted."},mask_dialog_title:{ko:"이미지",ja:"イメージ",en:"image"},mask_dialog_black:{ko:"검정색",ja:"黒",en:"black color"},mask_dialog_white:{ko:"흰색",ja:"白",en:"white color"},mask_dialog_thin:{ko:"얇게",ja:"薄い",en:"thin"},mask_dialog_bold:{ko:"굵게",ja:"太い",en:"bold"},text_placeholder:{ko:"메모를 입력해주세요.",ja:"手書き(ノート)テキストを入力してください。",en:"Please enter your memo"},text_attr:{ko:"속성",ja:"プロパティ",en:"Properties"},text_style:{ko:"스타일",ja:"スタイル",en:"Style"},text_font:{ko:"폰트",ja:"フォント",en:"Font"},text_outline:{ko:"테두리/배경",ja:"罫線/背景",en:"Outline/Background"},text_align:{ko:"정렬",ja:"配置",en:"Align"},text_italic:{ko:"기울임",ja:"斜体",en:"Italic"},text_strike:{ko:"취소선",ja:"取り消し線",en:"Strikeout"},text_underline:{ko:"밑줄",ja:"下線",en:"Underline"},text_fontsize:{ko:"폰트 크기",ja:"フォントサイズ",en:"Font Size"},text_fontcolor:{ko:"폰트 색상",ja:"フォントの色",en:"Font Color"},text_outline:{ko:"테두리",ja:"罫線",en:"Outline"},text_background:{ko:"배경",ja:"背景",en:"Background"},text_leftalign:{ko:"왼쪽 정렬",ja:"左揃え",en:"Left Align"},text_centeralign:{ko:"가운데 정렬",ja:"中央揃え",en:"Horizontal Center Align"},text_rightalign:{ko:"오른쪽 정렬",ja:"右揃え",en:"Right Align"},invalid_attached_file:{ko:"첨부한 파일의 크기가 0이거나, 파일을 찾을 수 없어 제출에 실패했습니다.",ja:"送信に失敗しました。添付ファイルが存在しないか、ファイルが読み込めません。",en:"You can not submitted because the attached file size is 0 or file cannot found."},textnote_format:{ko:"도형서식",ja:"図形の書式",en:"Format Shape"},page_no:{ko:"%d 페이지",ja:"%d ページ",en:"%d page"},tts_first_parag:{ko:"보고서의 처음 입니다.",ja:"レポートの最初です",en:"This is the beginning of the report."},tts_last_parag:{ko:"보고서의 마지막 입니다.",ja:"レポートの最後です",en:"This is the end of the report."},tts_prev_page:{ko:"페이지 업 키로 이전페이지로 이동하십시오.",ja:"PageUpキーで前のページに移動してください。",en:"Go to previous page with PageUP key."},tts_next_page:{ko:"PageDown키로 다음페이지로 이동하십시오.",ja:"PageDownキーで次のページに移動してください。",en:"Go to the next page with PageDown key."},tts_no_content:{ko:"빈 칸 입니다.",ja:"空欄です。",en:"It is empty space."},tts_report_area:{ko:"본문 입니다. 내용을 읽으려면 화살표 키를 이용하세요. 툴바를 이용하려면 쉬프트키와 탭 키를 함께 누르세요.",ja:"本文です。 内容を読むには矢印キーを利用してください。 ツールバーを利用するにはシフト　キーとタブ キーを同時に押してください。",en:"This is the main body. Use the arrow keys to read the contents. To use the toolbar, press the Shift key and the Tab key together."},tts_toolbar_area:{ko:"툴바 입니다. 화살표 키를 이용하여 툴바 메뉴를 이동하고 선택은 엔터키를 누르세요. 본문으로 이동하려면 탭 키를 누르세요.",ja:"ツールバーです。 矢印キーを利用してツールバーメニューを移動し、選択はエンターキーを押してください。 本文に移動するにはタブ キーを押してください。",en:"This is the toolbar. Use the arrow keys to move the toolbar menu and press the Enter key to make your selection. Press the tab key to go to the main body."},tts_form_edit_mode:{ko:"편집창에서 입력을 하시려면 화살표 키를 눌러 내용을 읽은 뒤 탭 키를 누르시고, 입력을 완료하면 이에스씨 키를 누르세요.",ja:"編集入力ウィンドウから入力するにはカーソルキーで内容を確認上、Tabキーで押してください。入力が完了するとESCキーで終了します。",en:"To write from the edit window, press the arrow key and check the contents. After read contents, press the Tab key. When you finished writing, press the ESC key to finish."},tts_button:{ko:"버튼",ja:"ボタン",en:"button"},tts_select:{ko:"선택",ja:"選択",en:"Select"},tts_release:{ko:"해제",ja:"解除",en:"Release"},tts_radio_button:{ko:"라디오 버튼",ja:"ラジオボタン",en:"RadioButton"},tts_check_box:{ko:"체크 박스",ja:"チェックボックス",en:"CheckBox"},tts_combo_box:{ko:"콤보 박스",ja:"コンボボックス",en:"Combo box"},cloud_print:{ko:"구글 클라우드 프린트",ja:"Google クラウド プリント",en:"Google Cloud Print"},text_barcode:{ko:"바코드",ja:"バーコード",en:"Barcode"},text_chart:{ko:"차트",ja:"チャート",en:"Chart"},edit_mode:{ko:"노트 모드",ja:"ノートモード",en:"Note mode"},view_mode:{ko:"노트 보이기",ja:"ノート表示",en:"Show Note"},hide_mode:{ko:"노트 숨기기",ja:"ノート非表示",en:"Hide Note"},note_pen:{ko:"펜",ja:"ペン",en:"Pen"},note_highlighter:{ko:"형광펜",ja:"蛍光ペン",en:"Highlighter"},note_text_note:{ko:"텍스트 노트",ja:"テキストノート",en:"Text Note"},note_eraser:{ko:"지우개",ja:"消しゴム",en:"Eraser"},note_erase_all:{ko:"페이지 노트 삭제",ja:"全て消去",en:"Delete Page Note"},note_undo:{ko:"원래대로",ja:"元に戻す",en:"Undo"},note_redo:{ko:"다시 실행",ja:"やり直し",en:"Redo"},thumbnail:{ko:"썸네일",ja:"サムネイル",en:"Thumbnail"},table_of_contents:{ko:"목차",ja:"目次",en:"TOC"},no_table_of_contents:{ko:"실행 중인 보고서는 목차 항목이 지정되어 있지 않습니다.",ja:"実行中のレポートは目次項目が指定されていません。",en:"The current report has no TOC items specified."},fingerprint_connect_error:{ko:"지문 인식 장비를 찾을 수 없습니다.",ja:"指紋スキャナーが見つかりませんでした。",en:"The fingerprint scanner was not found."},fingerprint_sign_duplicated:{ko:"지문 인식 필드가 하나 이상 사용되었습니다.",ja:"1つ以上の指紋認識フィールドが使用されます。",en:"One or more fingerprint recognition fields are used."},init_formField:{ko:"%s의 폼필드 데이터가 모두 삭제됩니다. 계속하시겠습니까?",ja:"%sのフォームフィールドデータがすべて初期化されます。続けますか？",en:"The form field data of %s will be initialized.Continue?"},init_all:{ko:"폼필드 데이터가 모두 삭제됩니다. 계속하시겠습니까?",ja:"フォームフィールドデータがすべて初期化されます。続けますか？",en:"The form field data will be initialized.Continue?"},not_init_formField:{ko:"이미 제출한 폼(%s)의 폼필드는 초기화할 수 없습니다.",ja:"既に提出されたフォーム(%s)のフォームフィールドは初期化できません。",en:"The form fields of form(%s) submitted cannot be initialized."},not_exist_form:{ko:"초기화할 수 없습니다. 폼 ID(%s)를 확인해 주십시오.",ja:"初期化できません。フォームID(%s)を確認してください。",en:"Cannot be initialized. Please check the Form ID(%s)."},not_exist_page:{ko:"초기화할 수 없습니다.페이지 번호(%s)를 확인해  주십시오.",ja:"初期化できません。ページ番号(%s)を確認してください。",en:"Cannot be initialized. Please check the Page Number(%s)."},set_statelessmode:{ko:"%s을/를 사용할 수 없습니다. %s을/를 사용하려면 StateLessMode(true)로 설정해야 합니다.",ja:"%sを使用することができません。%sを使用するには、StateLessMode(true)に設定してください。",en:"Cannot use %s. Please set StateLessMode(true) before using %s"},not_set_formId:{ko:"폼 ID가 지정되어 있지 않습니다.",ja:"ページ番号が設定されていません。",en:"The Form ID is not set."},not_set_pageNo:{ko:"페이지 번호가 지정되어 있지 않습니다.",ja:"ページ番号が設定されていません。",en:"The Page Number is not set."},agree_group_sign:{ko:"일괄 서명에 동의합니다.",ja:"同意して一括署名へ進む",en:"Agree with batch signature"},required_sign:{ko:"필수",ja:"必須",en:"Required"},not_group_signId:{ko:"서명할 수 없습니다. 그룹 ID(%s)를 확인해 주십시오.",ja:"署名できません。グループID(%s)を確認してください。",en:"Cannot sign. Please check the Group ID(%s)."},not_check_require:{ko:"필수 항목을 모두 선택해야 합니다.",ja:"すべての必須項目を選択してください。",en:"Please select all of required items."},validate_tab_title:{ko:"잘못 작성된 필드",ja:"無効なフィールド",en:"Invalid Fields"},validate_invalid_count:{ko:"(총 %d건)",ja:"(総 %d件)",en:"(Total %d)"},validate_invalid_regex:{ko:"입력되지 않은 필수 항목이나 잘못 작성된 항목이 있습니다.",ja:"入力されていない必須項目または無効な項目があります。",en:"There are blank required item or invalid fields."},validate_closed_page:{ko:"페이지를 이동할 수 없습니다.",ja:"ページを移動できません。",en:"Cannot go to this page."},include_note_data:{ko:"노트 포함 저장",ja:"ノートを含む",en:"With Note"},pen_field:{ko:"펜 필드",ja:"ペンフィールド",en:"Pen field"},form_not_exist:{ko:"존재하지 않는 폼입니다.(%s)",ja:"存在しないフォームです。(%s)",en:"The form does not exist.(%s)"},form_readonly:{ko:"해당 폼필드는 읽기전용 입니다.(%s)",ja:"選択されたフォームフィールドは読み取り専用です。(%s)",en:"The form field is for reading only.(%s)"},unsupported_download_error:{ko:"지원하지 않는 브라우저입니다.",ja:"サポートしないブラウザです。",en:"This browser does not support."},file_not_found:{ko:"파일을 찾을 수 없습니다.",ja:"ファイルが見つかりません。",en:"file cannot be found."},image_crop_mode:{ko:"편집",ja:"編集",en:"Edit"},image_rotate_90:{ko:"90° 회전",ja:"90°回転",en:"Rotate 90°"},no_group_sign_window:{ko:"일괄 서명 창이 활성화되어 있을 경우 사용가능합니다.",ja:"一括署名が有効になった状態のみに使用できます。",en:"It can only be used when batch signing window is enabled."},share_pageSync:{ko:"페이지 동기화",ja:"ページ同期化",en:"Page synchronization"},search:{ko:"검색",ja:"検索",en:"Search"},select_all:{ko:"전체 선택",ja:"すべて選択",en:"Select All"},search_server_error:{ko:"서버에서 오류가 발생하여 검색에 실패했습니다.",ja:"サーバーでエラーが発生して検索に失敗しました。",en:"As error is occurred in the server, search was failed."},share_sync:{ko:"동기화",ja:"同期化",en:"Synchronization"},search_reg:{ko:"정규식 검색",ja:"正規表現検索",en:"RegularExpressions"},share_syncing:{ko:"동기화 중...",ja:"同期化中。。",en:"Synchronizing..."},search_reg_error:{ko:"정규식이 잘못되었습니다.",ja:"正規表現が正しくありません。",en:"RegularExpressions is incorrect."},share_unlock:{ko:"점유 잠금 해제",ja:"シェアロック解除",en:"Unlock share"},search_not_page:{ko:"검색된 페이지가 없습니다.",ja:"存在しないページです。",en:"The page does not exist."},share_hide_lock:{ko:"점유 버튼 숨김",ja:"占有ボタン非表示",en:"Occupied button hidden"},unqualified_stroke:{ko:"획수가 부족합니다.",ja:"画数が不足しています。",en:"There are not enough strokes."},record_ready_state:{ko:"음성녹음",ja:"ボイスレコーダー",en:"Voice recording"},record_no_mobile:{ko:"음성 녹음을 시작 할 수 없습니다.",ja:"ボイスレコーダーが開始できません。",en:"Voice recording cannot begin."},record_request:{ko:"녹음하기",ja:"開始",en:"Record"},play_request:{ko:"재생하기",ja:"再生",en:"Play"},record_no_file:{ko:"녹음된 파일이 없습니다.",ja:"録音したファイルがありません。",en:"There is no recording file."},record_play_fail:{ko:"녹음된 파일을 가져올 수 없습니다.",ja:"要求した録音ファイルがサーバから見つかりませんでした。",en:"Cannot import the recording file."},not_support_audio_record:{ko:"음성 녹음을 할 수 없는 브라우저입니다. 필수로 적용된 녹음 필드는 필수 속성이 해제됩니다.",ja:"ボイスレコーダーが対応しないブラウザです。ボイスレコーダー機能が無効になります。",en:'This browser does not support voice recording. Required recording field will discharge "Required" attribute.'},invalid_audio_submit_request:{ko:"다른 사용자가  녹음한 파일은 제출할 수 없습니다.",ja:"違うユーザから作成された録音ファイルは提出できません。",en:"You cannot submit a file recorded by another user."},next:{ko:"다음",ja:"次へ",en:"Next"},back:{ko:"이전",ja:"前へ",en:"Back"},input_type_error:{ko:"입력한 문장에서 오류가 발생했습니다. 유효한 형식으로 입력하십시오.",ja:"入力した構文が正しくありません。有効な形式で入力してください。",en:"There is an error in the sentence you entered. Please enter a valid sentence."},enable_guide:{ko:"폼 입력 가이드 활성화",ja:"フォーム入力ガイドの表示",en:"Activation of Form Input Guide"},disable_guide:{ko:"폼 입력 가이드 비활성화",ja:"フォーム入力ガイドの非表示",en:"Deactivation of Form Input Guide"},init_quick_all:{ko:"취소하면 폼 필드의 값이 모두 삭제됩니다. 계속하시겠습니까?",ja:"キャンセルすると入力した全てのデータがクリアされます。続行しますか？",en:"When you Cencel, the entire contents of the form fields will be deleted. Continue?"},quick_header_title:{ko:"모바일 간편 입력",ja:"モバイル簡単入力",en:"Mobile Simple Input"},complete:{ko:"완료",ja:"完了",en:"Complete"},guide_required_input:{ko:"내용을 입력해주세요.",ja:"内容を入力してください。",en:"Please enter content."},non_ttf_font_error:{ko:"잘못된 폰트가 포함되어 있습니다. Client-Side PDF는 TTF 형식 폰트만 지원합니다.",ja:"サポートされないフォント情報が含まれています。Client-Side PDF変換する時にはＴＴＦ形式のフォントのみサポートします。",en:"Incorrect fonts are included, Client-SidePDF only supports TTF-format fonts."},save_as:{ko:"%s 파일로 저장",ja:"%s ファイルとして保存",en:"Save as %s File"},lock_mirroring:{ko:"상대방에서 편집중인 필드가 있어서 페이지를 넘길 수 없습니다.",ja:"ユーザ操作中のフィールドがあるため、改ページすることはできません。",en:"As there is a field in editing, the page cannot be turned."},refresh_all_button_text:{ko:"전체 지우기",ja:"完全消去",en:"Clear All"},hide_columns:{ko:"열 숨기기",ja:"列の非表示",en:"Hide Columns"},hide_rows:{ko:"행 숨기기",ja:"行の非表示",en:"Hide Rows"},show_all:{ko:"전체 보이기",ja:"すべて展開",en:"Show All"},donot_hide_all_column:{ko:"열 전체를 숨길 수 없습니다.",ja:"すべて列の非表示は対応しません。少なくも１列以上で操作してください。",en:"You cannot hide all columns."},font_loading:{ko:"필요한 글꼴 정보를 로드하는 중입니다.",ja:"必要なフォント情報をロード中です。",en:"Loading the required font information."},input_sign:{ko:"서명해주세요",ja:"サインしてください",en:"please sign"},clear_sign:{ko:"지우기",ja:"消去",en:"clear"},infinite_scroll:{ko:"세로스크롤 ",ja:"縦スクロール",en:"Vertical Scroll"},paste_before_sign_text:{ko:"이전에 했던 서명을 붙여넣기 하시겠습니까?",ja:"署名した情報をコピーして貼り付けます。再利用しますか",en:"Do you want to paste the previously signed information?"},paste_before_sign:{ko:"붙여넣기",ja:"貼り付け",en:"Paste"},input_new_sign:{ko:"입력 하기",ja:"入力する",en:"Enter"},page:{ko:"페이지",ja:"ページ",en:"Page"},all:{ko:"모두",ja:"すべて",en:"All"},current_page:{ko:"현재 페이지",ja:"現在のページ",en:"Current Page"},page_range:{ko:"일부 페이지",ja:"一部のページ",en:"Partial Pages"},callate:{ko:"한 부씩 인쇄",ja:"部単位で印刷",en:"Collate"},copies:{ko:"매수",ja:"部数",en:"Copies"},invalid_page_range:{ko:"페이지 번호나 범위를 쉼표(,)로 구분하여 입력하십시오. 예) 3,5-8",ja:"ページ番号や範囲をカンマ(,)で区切って入力してください。\n例) 3,5-8",en:"Page number or scope can be inserted with comma(,) or hyphen(-). eg) 3,5-8"},exceed_page_range:{ko:"인쇄 범위가 잘못되었습니다. 보고서의 페이지 수를 확인하십시오",ja:"印刷範囲が正しくありません。レポートのページ数を確認してください。",en:"The print range is invalid. Please check the number of pages of the report."},share_sign_mirrorview_title:{ko:"사용자가 입력 중입니다.",ja:"ユーザから入力中です。",en:"Inputting from the user."},keep_report_layout:{ko:"보고서 레이아웃 유지",ja:"レポートレイアウト維持",en:"Maintain report layout"},print_page_ratio:{ko:"인쇄시 페이지 배율",ja:"拡大縮小印刷",en:"ZOOM SETTING/ENLARGE OR REDUCE"},exceed_ratio_range:{ko:"배율 범위가 잘못되었습니다. (범위: 10 ~ 400)",ja:"拡大縮小範囲が正しくありません。(範囲：10～400)",en:"The scaling range is incorrect. (Range: 10-400)"},editor:{ko:"에디터",ja:"エディター",en:"editor"},invalid_note_path:{ko:"노트 그리기에 실패하였습니다.",ja:"노트 그리기에 실패하였습니다.",en:"노트 그리기에 실패하였습니다."},follow_text:{ko:"따라쓰기",ja:"따라쓰기",en:"따라쓰기"}};m2soft.crownix.Resource.language="en";m2soft.crownix.Resource.setLanguage=function(a){if(typeof a!="string"){return undefined}if(a.indexOf("ko")===0){this.language="ko"}else{if(a.indexOf("ja")===0){this.language="ja"}else{this.language="en"}}if(m2soft.crownix.NativeInterface){m2soft.crownix.NativeInterface.setLocale(this.language)}if(m2soft.crownix.Viewer&&$.crownixdatepicker){$.crownixdatepicker.setLanguage(this.language)}return this.language};m2soft.crownix.Resource.setSystemLanguage=function(){this.setLanguage(navigator.language)||this.setLanguage(navigator.browserLanguage)||this.setLanguage(navigator.systemLanguage)||this.setLanguage(navigator.userLanguage)||this.setLanguage("en")};m2soft.crownix.Resource.setSystemLanguage();m2soft.crownix.Resource.get=function(a){try{return this.r[a][this.language]}catch(b){if(!!window.console&&typeof window.console.log==="function"){console.log("[Crownix HTML5 Viewer] resource not found: "+a)}return"RESOURCE_NOT_FOUND"}};m2soft.ns("m2soft.crownix.resource.Icon");m2soft.crownix.resource.Icon={CLOSE_OVERLAY:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="4,21 4,28.5 28,28.5 28,3.5 4,3.5 4,11"/>	<polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="21.4,13.6 12.7,13.6 12.7,10 6.1,15.1 6.1,15.3 6.12,16.551 12.671,21.758 12.671,18.1 21.4,18.1 "/></g></svg>',FIRST_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="16" cy="16" r="12.700"/>	<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="11.083" y1="9.814" x2="11.083" y2="22.223"/>	<g> 		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="23.756" y1="15.93" x2="13.703" y2="15.93"/>		<polyline fill="none" stroke-width="1.3" stroke-miterlimit="10" points="19.293,9.751 13.703,15.446 13.703,16.501 19.311,22.108"/>	</g></g></svg>',PREV_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<g>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="23.309" y1="15.992" x2="9.429" y2="15.992"/>		<polyline fill="none" stroke-width="1.3" stroke-miterlimit="10" points="15.019,9.813 9.429,15.509 9.429,16.563 15.037,22.171"/>	</g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="16" cy="16" r="12.700"/></g></svg>',NEXT_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<g>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="8.692" y1="15.992" x2="22.57" y2="15.992"/>		<polyline fill="none" stroke-width="1.3" stroke-miterlimit="10" points="16.98,9.813 22.57,15.509 22.57,16.563 16.963,22.171"/>	</g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="16" cy="16" r="12.700"/></g></svg>',LAST_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="16" cy="16" r="12.700"/>	<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="20.918" y1="9.814" x2="20.918" y2="22.223"/>	<g>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="8.244" y1="15.93" x2="18.297" y2="15.93"/>		<polyline fill="none" stroke-width="1.3" stroke-miterlimit="10" points="12.707,9.751 18.297,15.446 18.297,16.501 12.689,22.108"/>	</g></g></svg>',MOVE_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="10.3,19.8 10.1,28.7 21,28.7 27.5,21.5 27.5,9.7 10.3,9.7 10.3,12.45"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="21.5,9 21.5,3.85 3.5,3.85 3.5,22.577 10.1,22.577"/>	<polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="8.825,14.800 14.9,14.800 14.9,12.728 18.613,15.681 18.613,16.365 18.613,17.052 14.9,20.003 14.9,17.900 8.825,17.900"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/></g></svg>',ZOOM_IN:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="17.631" cy="14.191" r="11.000"/>	<g>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="17.615" y1="8.107" x2="17.615" y2="20.504"/>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="23.813" y1="14.306" x2="11.416" y2="14.306"/>	</g>	<polygon stroke="none" points="10.447,23.029 4.279,29.199 2.979,29.199 2.979,28.074 9.089,21.727"/></g></svg>',ZOOM_OUT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="17.631" cy="14.191" r="11.000"/>	<g>		<line fill="none" stroke-width="1.4" stroke-miterlimit="10" x1="23.813" y1="14.306" x2="11.416" y2="14.306"/>	</g>	<polygon stroke="none" points="10.447,23.029 4.279,29.199 2.979,29.199 2.979,28.074 9.089,21.727"/></g></svg>',FIT_WIDTH:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>	<rect x="1.649" y="2.531" fill="none" stroke-miterlimit="10" width="20.701" height="18.938"/>	<polygon stroke="none" points="17.384,9.217 20.087,11.006 20.087,12.8 17.407,14.634 17.407,12.862 14.68,12.862 14.68,11.006 17.384,11.006"/>	<polygon stroke="none" points="6.604,9.217 3.9,11.006 3.9,12.8 6.579,14.634 6.579,12.862 9.308,12.862 9.308,11.006 6.604,11.006"/></g></svg>',FIT_HEIGHT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>	<rect x="1.65" y="2.531" fill="none" stroke-miterlimit="10" width="20.699" height="18.938"/>	<polygon stroke="none"  points="14.709,16.479 12.92,19.182 11.127,19.182 9.291,16.502 11.063,16.502 11.063,13.774 12.92,13.774 12.92,16.479"/>	<polygon stroke="none"  points="14.709,7.447 12.92,4.743 11.127,4.743 9.291,7.422 11.063,7.422 11.063,10.15 12.92,10.15 12.92,7.447"/></g></svg>',SAVE:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polygon fill="none" stroke-width="1.2" stroke-miterlimit="10" points="3.412,3.735 8.156,3.735 24.889,3.735 28.588,6.995 28.588,28.700 3.412,28.700"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="8.537,3.598 8.537,11.711 23.324,11.711 23.324,3.598"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="7.400,28.700 7.400,16.700 24.700,16.700 24.700,28.700"/></g></svg>',PDF:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><path fill="#E41737" stroke="#E41737" stroke-width="0.2" stroke-miterlimit="10" d="M11.549,9.045c0,0-4.489,10.481-7.78,11.242	c0,0-0.171-1.122,2.911-3.31c0,0-3.005,1.294-3.386,3.12c0,0,0.095,0.476,1.198,0.438c0,0,0.932,0.19,4.014-4.261	c0,0,0.026-0.04,0.075-0.114c0.44-0.678,2.685-4.181,3.216-6.049c0,0,1.121,2.929,3.252,4.47c0,0-4.311,0.605-6.624,1.641	l-0.072,0.1c0,0,3.652-1.17,7.39-1.298c0,0,4.337,2.254,5.065,0.998v-0.057c0,0-0.999,0.442-3.867-0.999	c0,0,4.052-0.171,3.938,0.828c0,0,0.756-0.757-1.256-1.228c0,0-2.026-0.229-3.566-0.1c0,0-2.994-1.228-3.901-5.521	c0,0,0.563-2.839,0.505-3.923L11.92,7.847c0,0-0.711-3.41,0.236-4.223c0,0,0.392,0.1,0.563,1.027c0,0,0.458-1.084-0.563-1.17	c0,0-0.764-0.257-0.893,1.127C11.264,4.608,10.955,7.21,11.549,9.045z"/></svg>',DOC:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><path fill="#3578BD" d="M4.362,6.428h5.344v0.806c0,0-1.35,0.469-1.444,1.481l-0.075,5.42l3.787-7.708h2.494v7.708L17.3,8.584	c0,0,0.618-1.237-0.749-1.313l-0.039-0.844h4.127v0.769l-0.281,0.112l-5.945,11.063h-2.438l-0.056-6.881l-3.975,6.788l-2.531,0.094	L5.394,8.697c0,0-0.169-1.257-1.031-1.388V6.428z"/></svg>',XLS:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><polygon fill="#6CA75C" points="4.625,6.294 9.688,6.294 12.238,9.032 15.088,6.294 20.188,6.294 14.863,12.069 20.188,18.106 	14.863,18.106 11.713,14.618 9.238,17.094 4.063,17.094 9.463,11.994 "/></svg>',PPT:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><path fill="#C54C1C" d="M11.52,12V7.697c0,0,3.619-0.489,3.619,2.345c0,0,0.174,1.917-3.139,1.958H8.6v6.992h2.981v-4.533h2.668	c0,0,4.063-0.271,3.906-4.625c0,0,0.136-4.652-5.26-4.826H6.844v2.679H8.6V12H11.52z"/></svg>',HWP:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><g>	<path fill="#00A0E9" d="M10.689,4.796c0,0,3.411,0.366,4.589,1.954c0,0,0.458,0.326-0.119-0.549c0,0-0.889-2.117-3.075-2.321		c0,0-0.794,0.021-1.25,0.57C10.834,4.451,10.49,4.77,10.689,4.796z"/>	<path fill="#3897D4" d="M17.922,9.865c0,0-2.691-1.771-6.151,0c0,0-2.667,2.056,0.601,2.809c0,0,1.802,0.081,2.306-2.158		c0,0-0.168-2.789-3.339-3.033c0,0-2.931,0.021-3.339,0.204c0,0-0.265,0.183-0.24-0.407c0,0-0.24-2.015,3.244-1.628		c0,0,5.886,0.264,5.501,5.17c0,0-0.816,3.684-5.141,3.481c0,0-3.604-0.184-3.1-3.013c0,0-0.144-2.606,4.109-3.379		c0,0,3.076-0.692,5.119,0.265c0,0,0.506,0.223,0.553,0.936C18.043,9.112,18.123,9.979,17.922,9.865z"/>	<path fill="#3897D4" d="M12.516,15.484c0,0-1.177,0.142-1.177,0.997c0,0.854,0.817,0.997,1.177,0.997		c0.361,0,1.153-0.144,1.153-0.978S12.516,15.484,12.516,15.484z"/>	<path fill="#3897D4" d="M9.201,16.033v1.588c0,0,0.192,0.896,2.018,0.896s5.959-0.121,6.704-0.346		c0.745-0.225-0.48,1.588-0.48,1.588s-4.493,0.61-7.448,0.244c0,0-2.283,0.184-2.835-2.076l-0.12-1.894H9.201z"/></g></svg>',TXT:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#566573" fill="#566573">T</text></g></svg>',CSV:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#6CA75C" fill="#6CA75C">C</text></g></svg>',CELL:'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>	<path fill="none" stroke="#84919D" stroke-miterlimit="10" d="M0.503,2.992v17.425c0,0-0.196,3.083,3.278,3.083		c3.473,0,16.857,0,16.857,0s2.855-0.221,2.855-2.688c0-2.463,0-17.82,0-17.82s0.234-2.487-2.645-2.487c-2.881,0-17.797,0-17.797,0		S0.503,0.262,0.503,2.992z"/>	<g>		<polygon fill="#1E965A" points="17.982,17.262 15.959,17.827 15.959,12.274 17.982,12.069 		"/>		<polygon fill="#1E965A" points="14.586,18.234 11.742,19.077 11.742,3.26 14.586,4.053 		"/>		<polygon fill="#1E965A" points="10.368,19.541 6.518,20.737 6.518,8.278 10.368,8.278 		"/>	</g></g></svg>',BRL:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083	c3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0	S0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#566573" fill="#566573">B</text></g></svg>',STORAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="7.3,17.8 7.1,28.7 28.5,28.7 28.5,11.7 24.5,7.7 7.3,7.7 7.3,10.45"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="21.5,7 21.5,3.85 3.5,3.85 3.5,22.577 8.1,22.577"/>	<polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="6.825,12.800 12.9,12.800 12.9,10.728 16.613,13.681 16.613,14.365 16.613,15.052 12.9,18.003 12.9,15.900 6.825,15.900"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="15.537,13.611 23.324,13.611 23.324,7.598"/>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="11.400,28.700 11.400,19.700 24.500,19.700 24.500,28.700"/></g></svg>',PRINT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">	<g>		<g stroke-width="1.5">			<polyline points="7.5,10.5 7.5,2.5 24.5,2.5 24.5,10.5" fill="none" />			<polyline points="7.5,23.5 2.5,23.5 2.5,10.5 29.5,10.5 29.5,23.5 24.5,23.5" stroke-linejoin="round" fill="none" />			<circle cx="26" cy="14" r="0.5" />			<rect x="7.5" y="18.5" fill="none" width="17" height="11"/>			<line fill="none" stroke-linecap="round" x1="10.5" y1="22.5" x2="21.5" y2="22.5"/>			<line fill="none" stroke-linecap="round" x1="10.5" y1="25.5" x2="18.5" y2="25.5"/>		</g>	</g></svg>',PRINT_PDF:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">	<g>		<g stroke-width="1.5">			<polyline points="7.5,10.5 7.5,2.5 24.5,2.5 24.5,10.5" fill="none" />			<polyline points="7.5,23.5 2.5,23.5 2.5,10.5 29.5,10.5 29.5,23.5 24.5,23.5" stroke-linejoin="round" fill="none" />			<circle cx="26" cy="14" r="0.5"/>			<rect x="7.5" y="18.5" fill="none" width="17" height="11"/>			<line fill="none" stroke-linecap="round" x1="10.5" y1="22.5" x2="21.5" y2="22.5"/>			<line fill="none" stroke-linecap="round" x1="10.5" y1="25.5" x2="18.5" y2="25.5"/>			<path stroke-width="0.2" stroke-miterlimit="10" d="m14.1026,8.029c-0.5108,0.44573 -1.4212,1.35355 -0.8036,1.19616c0.9955,-0.56225 1.6175,-2.36574 2.1251,-3.57195c-0.591,-1.23222 -0.021,-2.18845 0.4281,-2.21663c0.5473,-0.03425 0.6898,0.94041 0.6898,0.94041s-0.6064,-0.43074 -0.6991,-0.69333c-0.1044,0.02451 -0.2168,0.82326 0.0927,1.70676c0.3613,-0.42497 0.5424,-0.84956 0.5424,-0.84956s0.4518,0.42457 -0.2266,1.07673c0.1213,0.25232 0.7819,1.26994 1.0812,1.45393c1.8951,-0.47864 1.9854,0.4604 1.9854,0.4604c-0.2926,-0.25105 -0.94,-0.27684 -1.6594,-0.20432c0.9074,0.44805 1.6757,0.29988 1.6757,0.29988c0,0.35081 -1.2292,0.73579 -2.1369,-0.07209c-0.9502,0.14019 -1.9208,0.56979 -2.305,0.67814c-1.0262,1.68508 -2.1485,1.55138 -2.3014,1.14902c-0.2712,-0.67939 1.5116,-1.35355 1.5116,-1.35355l0,0l0,0zm1.7556,-2.06521l-0.6712,1.73893c0.3941,-0.10603 0.8296,-0.30973 1.6103,-0.4537c-0.2528,-0.17331 -0.4812,-0.38789 -0.9391,-1.28523z"/>		</g>	</g></svg>',INQUERY:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polygon points="19.505,12.52 25.13,12.52 22.317,15.71"/>	<polygon stroke="none" points="8.124,23.268 2.358,29.279 1.058,29.279 1.058,28.154 7.167,21.804"/>	<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M24.913,6.989c0.002,0-3.268-4.242-8.885-4.267	c0,0-6.004-0.219-9.749,5.504c0,0-2.993,4.162-1.012,9.618c0,0,1.113,3.865,5.52,6.383c0,0,3.425,2.047,7.502,1.053 c0,0,4.017-0.736,6.472-3.854"/>	<rect x="10.598" y="9.756" fill="none" stroke-width="1.3" stroke-miterlimit="10" width="17.344" height="9.047"/></g></svg>',CANCEL:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<g>		<line fill="none" stroke-width="1.4" stroke-miterlimit="10" x1="22.695" y1="16" x2="9.305" y2="16"/>	</g>	<circle fill="none" stroke-width="1.3" stroke-miterlimit="10" cx="16" cy="16" r="12.700"/></g></svg>',LEFT_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="100%" viewBox="0 0 15 32" preserveAspectRatio="none" enable-background="new 0 0 15 32" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="11.375,25.656 2.625,16.031 11.375,6.344"/></g></svg>',RIGHT_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="100%" viewBox="0 0 15 32" preserveAspectRatio="none" enable-background="new 0 0 15 32" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="3.625,25.656 12.375,16.031 3.625,6.344"/></g></svg>',TOP_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="15px" viewBox="0 0 32 15" preserveAspectRatio="none" enable-background="new 0 0 32 15" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="25.656,11.375 16.031,2.625 6.344,11.375"/></g></svg>',BOTTOM_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="15px" viewBox="0 0 32 15" preserveAspectRatio="none" enable-background="new 0 0 32 15" xml:space="preserve"><g>	<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="25.656,3.625 16.031,12.375 6.344,3.625"/></g></svg>',SEARCH:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<path d="M15.016,1.936c-6.637,0-12.037,5.399-12.037,12.037s5.4,12.037,12.037,12.037c6.637,0,12.037-5.399,12.037-12.037		S21.652,1.936,15.016,1.936z M15.016,25.273c-6.231,0-11.301-5.069-11.301-11.301S8.784,2.672,15.016,2.672		s11.301,5.069,11.301,11.301S21.247,25.273,15.016,25.273z"/>	<g>		<polygon points="22.721,23.019 28.95,29.249 29.968,29.249 29.968,28.405 23.788,21.995 		"/>	</g>	<g>	<path d="M15.225,6.066c-1.114,0-2.203,0.222-3.236,0.661c-0.083,0.034-0.143,0.093-0.174,0.171	c-0.017,0.042-0.039,0.128,0.004,0.225c0.074,0.181,0.253,0.256,0.445,0.178c0.941-0.4,1.941-0.604,2.97-0.604		c3.102,0,5.883,1.841,7.087,4.689c0.052,0.126,0.157,0.196,0.292,0.196c0.018,0,0.029-0.002,0.037-0.005	c0.17-0.075,0.215-0.143,0.238-0.199c0.028-0.072,0.026-0.147-0.007-0.224C21.59,8.063,18.585,6.066,15.225,6.066z"/>	</g></g></svg>',VIEW_MODE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle fill="#318ABB" cx="17.5" cy="17.5" r="17.5"/><g>	<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M9.268,26.041c0,1.85,2.313,1.711,2.313,1.711 s11.332,0,14.015,0s2.289-2.543,2.289-2.543V14.688l-8.44-8.441h-8.049c0,0-2.358,0.046-2.358,2.636s0,6.614,0,6.614"/>	<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M19.12,6.246v6.222c0,0,0.046,2.034,2.566,2.034 s6.013,0,6.013,0"/>	<path fill="#FFFFFF" d="M3.378,20.931v-0.356c0,0,2.617-4.343,6.174-4.343h0.533h0.533c3.557,0,6.174,4.343,6.174,4.343v0.356 v-0.184v0.354c0,0-2.617,4.346-6.174,4.346h-0.533H9.552c-3.557,0-6.174-4.346-6.174-4.346v-0.354 M10.085,17.416 c-1.891,0-3.423,1.532-3.423,3.424c0,1.89,1.532,3.422,3.423,3.422s3.423-1.532,3.423-3.422 C13.508,18.948,11.976,17.416,10.085,17.416z M10.121,18.833c-1.107,0-2.005,0.899-2.005,2.007c0,1.105,0.897,2.005,2.005,2.005 c1.108,0,2.005-0.899,2.005-2.005C12.126,19.732,11.229,18.833,10.121,18.833z"/>	<path fill="#FFFFFF" d="M13.178,10.655c-3.953,3.335,1.513,4.813,4.484,4.934c-0.118-0.435-0.235-0.87-0.354-1.305c-1.255,0.821-5.835,5.793-2.786,7.007c1.405,0.559,2.96-0.313,4.224-0.899c1.099-0.511,2.224-0.963,3.394-1.278c3.602-0.972,1.057,3.864,0.276,4.842c-0.557,0.698,0.427,1.695,0.99,0.99c1.193-1.496,3.894-7.354-0.248-7.315c-1.811,0.017-3.496,0.809-5.118,1.552c-1.116,0.511-3.837,1.719-2.574-0.748c0.556-1.083,1.513-2.265,2.548-2.942c0.586-0.383,0.354-1.276-0.354-1.305c-1.2-0.048-5.783-0.611-3.494-2.543C14.859,11.062,13.864,10.077,13.178,10.655L13.178,10.655z"/></g></svg>',HIDE_MODE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle fill="#39579a" cx="17.5" cy="17.5" r="17.5"/><g>	<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M9.268,26.041c0,1.85,2.313,1.711,2.313,1.711 s11.331,0,14.013,0s2.289-2.543,2.289-2.543V14.687l-8.44-8.441h-8.047c0,0-2.358,0.046-2.358,2.636c0,2.591,0,6.614,0,6.614"/>	<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M19.119,6.246v6.222c0,0,0.046,2.034,2.566,2.034 s6.013,0,6.013,0"/>	<path fill="#FFFFFF" d="M3.379,20.931v-0.356c0,0,2.617-4.343,6.173-4.343h0.533h0.534c3.557,0,6.173,4.343,6.173,4.343v0.356 v-0.184v0.354c0,0-2.616,4.346-6.173,4.346h-0.534H9.552c-3.556,0-6.173-4.346-6.173-4.346v-0.354 M10.085,17.415 c-1.891,0-3.423,1.533-3.423,3.425c0,1.889,1.532,3.422,3.423,3.422s3.424-1.533,3.424-3.422 C13.509,18.948,11.976,17.415,10.085,17.415z M12.31,20.174H7.676v1.576h4.634V20.174z"/></g></svg>',NORMAL_PEN:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">	<g class="crownix-icon-pencolor" >		<polygon points="7.795,25.631 11.279,23.791 7.721,21.369"/>		<rect x="10.375" y="25.875" width="17.563" height="2"/>	</g>	<g>		<path d="M14.597,8.838l2.698,1.603l-1.832,1.376c0.941-1.275-0.014-1.932-0.014-1.932 c-1.162-0.861-1.981,0.877-1.981,0.877L14.597,8.838z"/>		<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M13.822,21.635 c-1.508,1.477-2.871,0.477-2.871,0.477l-2.348-1.619v-2.62l6.849-11.308c0,0,1.472-2.369,4.578-0.756c0,0,2.785,1.453,1.365,4.383 L13.822,21.635z"/>		<line fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" x1="14.402" y1="8.294" x2="20.352" y2="11.965"/>		<path d="M12.344,19.573c-0.273,0.438-0.793,0.606-1.161,0.378l0,0c-0.366-0.226-0.442-0.766-0.168-1.202 l5.277-8.419c0.271-0.438,0.793-0.607,1.16-0.38l0,0c0.366,0.229,0.441,0.768,0.168,1.204L12.344,19.573z"/>		<path d="M17.754,10.626l2.699,1.603l-1.832,1.376c0.939-1.276-0.016-1.932-0.016-1.932 c-1.16-0.861-1.98,0.878-1.98,0.878L17.754,10.626z"/>	</g></g></svg>',HIGHLIGHTER_PEN:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><circle fill="#FFFFFF" cx="17.45" cy="5.25" r="0.79"/><g class="crownix-icon-highlightercolor">	<rect x="10.375" y="25.875" width="17.563" height="2"/>	<polygon points="5.147,25.52 8.643,25.52 9.804,24.465 9.804,23.783 6.91,22.48"/></g><g>	<polygon fill="#FFFFFF" points="7.34,21.964 9.891,23.19 10.466,23.212 13.025,21.651 13.06,20.657 7.828,17.188 7.49,17.67"/>	<path fill="none" stroke="#FFFFFF" stroke-width="1.6" stroke-miterlimit="10" d="M14.799,6.273l-5.037,7.828 c0,0-1.416,1.823,0.142,2.817l2.625,1.81c0,0,1.87,1.584,3.415-1.148c1.546-2.729,4.371-7.78,4.371-7.78s1.37-2.321-0.81-3.36 l-1.912-1.176C18.115,5.546,16.215,4.261,14.799,6.273z"/></g></svg>',TEXT:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><g>	<g id="Ellipse_1">		<g>			<circle cx="17.5" cy="17.5" r="17.5"/>		</g>	</g>			<image overflow="visible" width="21" height="22" id="Layer_66_copy_xA0_Image" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAWCAYAAAAvg9c4AAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUeNpi/A8EDNQG1DYUbB4tXMrEQAPAQq2gYAQCmoXp4PQ+ipdpmaRo4n2QI0n2Pk4v4wpTYjQM7tgn1QdDx/tDx9ChU6DQxFBGangfPSkCBBgAtpM0FSvAneQAAAAASUVORK5CYII=" transform="matrix(1 0 0 1 7.0005 7)">	</image>	<g id="Rectangle_5_copy">		<g>			<polygon fill="#FFFFFF" points="29.348,9.015 19.828,18.534 18.002,22.088 21.576,20.319 31.113,10.78 			"/>		</g>	</g>	<g>					<rect x="25.137" y="23.795" transform="matrix(-0.7076 -0.7066 0.7066 -0.7076 24.9548 63.6009)" fill="#FFFFFF" width="0.999" height="5.684"/>		<rect x="22.985" y="23.939" fill="#FFFFFF" width="5.014" height="0.999"/>		<rect x="22.986" y="24.016" fill="#FFFFFF" width="1" height="4.983"/>	</g></g></svg>',ERASER:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g stroke="#FFFFFF">	<path fill="none" stroke-width="1.5" stroke-miterlimit="10" d="M16.452,6.824c0,0,2.003-2.438,5.795,0 c3.791,2.437,4.278,2.708,4.278,2.708s1.572,0.868,1.572,3.033c0,0,0.162,0.975-0.922,2.763 c-1.083,1.787-6.933,12.077-6.933,12.077s-1.19,1.842-2.6,1.842h-0.921c0,0-1.517,0.163-2.762-0.649 c-1.865-1.218-1.862-1.221-5.188-3.427c0,0-0.878-0.635-0.878-1.719s0-0.866,0-0.866s0-1.571,1.138-3.467 C10.169,17.223,16.452,6.824,16.452,6.824z"/>	<line fill="none" stroke-width="1.5" stroke-miterlimit="10" x1="10.158" y1="17.5" x2="21.738" y2="24.787"/></g></svg>',ERASE_ALL:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g stroke="#FFFFFF">	<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M26.206,26.041c0,1.85-2.313,1.711-2.313,1.711 s-11.333,0-14.015,0s-2.289-2.543-2.289-2.543V14.688l8.44-8.441h8.049c0,0,2.358,0.046,2.358,2.636s0,2.59,0,2.59"/>	<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M16.353,6.246v6.222c0,0-0.046,2.034-2.566,2.034 s-6.013,0-6.013,0"/>	<g>		<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M25.298,13.73c0,0,0.953-1.158,2.752,0 c1.801,1.156,2.032,1.286,2.032,1.286s0.745,0.41,0.745,1.44c0,0,0.077,0.463-0.437,1.311c-0.513,0.849-3.292,5.736-3.292,5.736 s-0.565,0.874-1.234,0.874h-0.438c0,0-0.72,0.077-1.312-0.309c-0.886-0.579-0.884-0.58-2.465-1.627c0,0-0.417-0.301-0.417-0.817 c0-0.514,0-0.411,0-0.411s0-0.745,0.54-1.645C22.314,18.668,25.298,13.73,25.298,13.73z"/>		<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="22.31" y1="19.142" x2="27.81" y2="22.425"/>	</g></g><path fill="#FFFFFF" d="M19.967,13.271c1.317,1.109-1.48,1.333-2.235,1.363c-0.708,0.029-0.939,0.921-0.354,1.305c0.595,0.389,1.049,1.006,1.448,1.579c0.923,1.328,0.086,1.162-0.941,0.705c-1.075-0.48-2.319-1.217-3.518-1.228	c-3.318-0.032-1.992,3.791-0.724,5.38c0.563,0.705,1.547-0.293,0.99-0.99c-0.558-0.699-1.146-1.689-1.02-2.619c0.131-0.966,2.644,0.262,2.974,0.396c1.026,0.42,2.213,1.221,3.352,0.768c2.362-0.939-0.806-4.514-1.854-5.2	c-0.119,0.435-0.236,0.87-0.354,1.305c2.201-0.089,6.124-1.312,3.225-3.754C20.271,11.703,19.275,12.688,19.967,13.271L19.967,13.271z"/></svg>',UNDO:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">	<polyline points="14.906,10.406 14.627,10.406 14.627,14.02 9.394,10.638 14.582,6.422 14.627,10.406"/>	<path fill="none" stroke="#FFFFFF" stroke-width="1.9" stroke-miterlimit="10" d="M17.944,26.6 c0.078-0.002,5.662-2.434,5.662-8.292c0-8.152-9.125-7.829-9.125-7.829h-0.279l0,0"/>	<circle cx="17.907" cy="26.623" r="0.954"/></g></svg>',REDO:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">	<polyline points="19.094,10.406 19.373,10.406 19.373,14.02 24.605,10.638 19.418,6.422 19.373,10.406"/>	<path fill="none" stroke="#FFFFFF" stroke-width="1.9" stroke-miterlimit="10" d="M16.056,26.6 c-0.078-0.002-5.662-2.434-5.662-8.292c0-8.152,9.125-7.829,9.125-7.829h0.278l0,0"/>	<circle cx="16.093" cy="26.623" r="0.954"/></g></svg>',HOVER_FILTER:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="0px" height="0px" xml:space="preserve">	<defs>		<filter id="hover">			<desc>hover 효과를 위한 필터</desc>			<feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />			<feMerge>				<feMergeNode in="blur"/>				<feMergeNode in="SourceGraphic"/>			</feMerge>		</filter>		<filter id="active">			<desc>mousedown 효과를 위한 필터</desc>			<feGaussianBlur in="SourceGraphic" stdDeviation="6" result="active" />			<feMerge>				<feMergeNode in="active"/>				<feMergeNode in="SourceGraphic"/>			</feMerge>		</filter>	</defs></svg>',PREV_DOC:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/> <polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="18.613,14.800 12.538,14.800 12.538,12.728 8.825,15.681 8.825,16.365 8.825,17.052 12.538,20.003 12.538,17.900 18.613,17.900"/> <polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',NEXT_DOC:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/> <polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="8.825,14.800 14.9,14.800 14.9,12.728 18.613,15.681 18.613,16.365 18.613,17.052 14.9,20.005 14.9,17.933 8.825,17.933"/> <polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',SHARE_CONNECT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer">  <g id="svg_3" class="layer">   <g class="layer" id="svg_2">    <g id="svg_1" class="layer">     <g id="svg_22">      <g id="Ellipse_2">       <g id="svg_23">        <circle cx="9" cy="16" r="5.225" id="svg_24"/>       </g>      </g>      <g id="Rectangle_4">       <g id="svg_25">        <rect x="9.538" y="12.638" transform="matrix(0.8663,-0.4994,0.4994,0.8663,-4.6546,8.8819) " fill="#FFFFFF" width="9.46" height="0.999" id="svg_26"/>       </g>      </g>      <g id="Rectangle_4_copy">       <g id="svg_27">        <polygon points="10.504,15.005 10.014,15.889 18.496,20.995 18.986,20.111" id="svg_28"/>       </g>      </g>      <g id="Ellipse_2_2_">       <g id="svg_29">        <circle fill="none" cx="23" cy="9" r="5.225" id="svg_30"/>       </g>      </g>      <g id="Ellipse_2_4_">       <g id="svg_31">        <circle fill="none" cx="23" cy="23" r="5.225" id="svg_32"/>       </g>      </g>     </g>    </g>   </g>  </g> </g></svg>',SHARE_DISCONNECT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer">  <g id="svg_2" class="layer">   <g class="layer" id="svg_1">    <g id="svg_33">     <g id="Ellipse_2_12_">      <g id="svg_34">       <circle id="svg_35" r="5.225" cy="16.014" cx="9"/>      </g>     </g>     <g id="Rectangle_4_4_">      <g id="svg_36">       <rect id="svg_37" height="0.999" width="9.46" fill="#FFFFFF" transform="matrix(0.8663,-0.4994,0.4994,0.8663,-4.6615,8.8837) " y="12.652" x="9.538"/>      </g>     </g>     <g id="Rectangle_4_copy_4_">      <g id="svg_38">       <polygon id="svg_39" points="10.504,15.019 10.014,15.902 18.496,21.009 18.986,20.125" />      </g>     </g>     <g id="Ellipse_2_6_">      <g id="svg_40">       <circle id="svg_41" r="5.225" cy="9.014" cx="23" fill="none"/>      </g>     </g>     <rect id="svg_42" height="1.012" width="11.352" fill="#FFFFFF" transform="matrix(0.7071,-0.7071,0.7071,0.7071,-8.8751,22.7281) " y="21.572" x="17.324"/>     <rect id="svg_43" height="1.013" width="11.35" fill="#FFFFFF" transform="matrix(-0.7071,-0.7071,0.7071,-0.7071,23.6499,53.9532) " y="21.572" x="17.325"/>    </g>   </g>  </g> </g></svg>',SHARE_LOCK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer"><g id="svg_33">   <path id="svg_34" d="m24,14l-16,0c-0.553,0 -1,0.447 -1,1l0,11c0,0.553 0.447,1 1,1l16,0c0.553,0 1,-0.447 1,-1l0,-11c0,-0.553 -0.447,-1 -1,-1zm-6,10l-4,0l1.234,-3.058c-0.751,-0.303 -1.281,-1.036 -1.281,-1.896c0,-1.13 0.916,-2.046 2.047,-2.046s2.047,0.916 2.047,2.047c0,0.859 -0.53,1.593 -1.281,1.896l1.234,3.057z"/>   <g id="svg_35">    <path id="svg_36" d="m16,7c2.205,0 4,1.794 4,4l2,0c0,-3.313 -2.687,-6 -6,-6l0,0c-3.313,0 -6,2.687 -6,6l2,0c0,-2.206 1.794,-4 4,-4"/>    <rect id="svg_37" height="7.334" width="2" y="11" x="20"/>    <rect id="svg_38" height="7.334" width="2" y="11" x="10"/>   </g>  </g> </g></svg>',SHARE_UNLOCK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer"><g id="svg_33">   <path id="svg_34" d="m24,14l-16,0c-0.553,0 -1,0.447 -1,1l0,11c0,0.553 0.447,1 1,1l16,0c0.553,0 1,-0.447 1,-1l0,-11c0,-0.553 -0.447,-1 -1,-1zm-6,10l-4,0l1.234,-3.058c-0.751,-0.303 -1.281,-1.036 -1.281,-1.896c0,-1.13 0.916,-2.046 2.047,-2.046s2.047,0.916 2.047,2.047c0,0.859 -0.53,1.593 -1.281,1.896l1.234,3.057z"/>   <g id="svg_35">    <path id="svg_36" d="m16,7c2.205,0 4,1.794 4,4l2,0c0,-3.313 -2.687,-6 -6,-6l0,0c-3.313,0 -6,2.687 -6,6l2,0c0,-2.206 1.794,-4 4,-4"/>    <rect id="svg_37" height="7.334" width="2" y="11" x="20"/>   </g>  </g> </g></svg>',FILE_CLIP:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"> <g class="layer">  <g id="svg_28">   <path id="svg_29" d="m7.085,5.799c0,0.111 -0.083,0.201 -0.183,0.201c-0.101,0 -0.183,-0.09 -0.183,-0.201c0,-0.386 0.144,-0.734 0.377,-0.989l0.012,-0.013c0.231,-0.247 0.545,-0.399 0.892,-0.399c0.352,0 0.672,0.158 0.903,0.412l0.002,0c0.23,0.254 0.375,0.603 0.375,0.989c0,0.111 -0.082,0.201 -0.184,0.201c-0.101,0 -0.182,-0.09 -0.182,-0.201c0,-0.275 -0.103,-0.523 -0.268,-0.707l-0.002,0c-0.164,-0.181 -0.392,-0.292 -0.644,-0.292c-0.247,0 -0.473,0.107 -0.636,0.282l-0.009,0.01c-0.167,0.181 -0.27,0.431 -0.27,0.707l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <path id="svg_30" d="m9.28,12.201c0,0.109 -0.082,0.199 -0.185,0.199c-0.101,0 -0.182,-0.09 -0.182,-0.199l0,-6.402c0,-0.11 0.082,-0.2 0.182,-0.2c0.103,0 0.185,0.09 0.185,0.2l0,6.402zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <g id="svg_31">    <path id="svg_32" d="m7.085,12.4c0,0.109 -0.083,0.198 -0.184,0.198c-0.101,0 -0.183,-0.089 -0.183,-0.198l0,-6.601c0,-0.11 0.083,-0.2 0.183,-0.2c0.102,0 0.184,0.09 0.184,0.2l0,6.601zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>    <path id="svg_33" d="m6.719,12.4c0,-0.11 0.083,-0.199 0.183,-0.199c0.1,0 0.181,0.089 0.181,0.199c0,0.44 0.166,0.843 0.431,1.131c0.265,0.289 0.631,0.471 1.034,0.471c0.403,0 0.768,-0.182 1.033,-0.471c0.266,-0.29 0.43,-0.692 0.43,-1.131c0,-0.11 0.083,-0.199 0.185,-0.199c0.101,0 0.182,0.089 0.182,0.199c0,0.549 -0.206,1.05 -0.537,1.413c-0.332,0.363 -0.79,0.589 -1.292,0.589c-0.503,0 -0.961,-0.226 -1.292,-0.589c-0.334,-0.363 -0.538,-0.864 -0.538,-1.413l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>    <path id="svg_34" d="m5.987,4.198c0,0.109 -0.081,0.2 -0.184,0.2c-0.101,0 -0.182,-0.091 -0.182,-0.2c0,-0.714 0.268,-1.365 0.698,-1.835l0,-0.002c0.43,-0.469 1.026,-0.763 1.681,-0.763c0.651,0 1.247,0.294 1.677,0.764l0,0.002l0.002,0c0.432,0.472 0.697,1.123 0.697,1.835c0,0.109 -0.081,0.2 -0.182,0.2s-0.183,-0.091 -0.183,-0.2c0,-0.604 -0.228,-1.155 -0.592,-1.555c-0.364,-0.399 -0.867,-0.645 -1.419,-0.645c-0.555,0 -1.058,0.246 -1.422,0.645c-0.365,0.399 -0.591,0.948 -0.591,1.554l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   </g>   <path id="svg_35" d="m5.987,12.601c0,0.11 -0.081,0.2 -0.182,0.2c-0.103,0 -0.184,-0.09 -0.184,-0.2l0,-8.403c0,-0.111 0.082,-0.201 0.184,-0.201c0.101,0 0.182,0.09 0.182,0.201l0,8.403zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <path id="svg_36" d="m10.379,12.472c0,0.109 -0.082,0.198 -0.182,0.198c-0.103,0 -0.186,-0.089 -0.186,-0.198l0,-8.404c0,-0.111 0.083,-0.201 0.186,-0.201c0.1,0 0.182,0.09 0.182,0.201l0,8.404zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>  </g> </g></svg>',BOLD:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="3" y="13" font-family="Times, Arial" font-weight="bold" font-size="80%">T</text></g></g></svg>',ITALIC:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="5" y="13" font-family="Times, Arial" font-style="italic" font-size="80%">I</text></g></g></svg>',UNDERLINE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="3" y="12" font-family="Times, Arial" text-decoration="underline" font-size="75%">U</text></g></g></svg>',STRIKE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>	<g>		<text x="4" y="13" font-family="Times, Arial" text-decoration="line-through" font-size="80%">S</text>	</g></g></svg>',FONT_COLOR:'<?xml version="1.0" encoding="utf-8"?><!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g id="svg_20">   <g id="svg_21">    <path id="svg_22" d="m9.324,8.198l-2.678,0l-0.71,2.239l-0.94,0l2.489,-7.327l1.029,0l2.489,7.326l-0.979,0l-0.7,-2.238zm-0.228,-0.74l-0.352,-1.119c-0.27,-0.83 -0.499,-1.629 -0.739,-2.479l-0.04,0c-0.23,0.86 -0.47,1.649 -0.73,2.479l-0.359,1.119l2.22,0z"/>   </g>   <rect class="crownix-textnote-fontcolor" id="svg_23" height="1.166" width="6.707" y="11.724" x="4.646"/>  </g></svg>',OUTLINE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><rect x="2.7" y="2.7" width="11" height="11" style="fill:transparent; stroke-width:1.5;"/></g></svg>',BACKGROUND:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>	<g>	<rect x="3.5" y="3.5" width="2.5" height="2.5" stroke-width="1"/>	<rect x="4.5" y="4.5" width="1" height="1" stroke-width="1"/>	<rect x="3.5" y="10" width="2.5" height="2.5" stroke-width="1"/>	<rect x="4.5" y="10.5" width="1" height="1" stroke-width="1"/>	<rect x="6.5" y="6.5" width="2.5" height="2.5" stroke-width="1"/>	<rect x="7.5" y="7.5" width="1" height="1" stroke-width="1"/>	<rect x="10" y="3.5" width="2.5" height="2.5" stroke-width="1"/>	<rect x="10.5" y="4.5" width="1" height="1" stroke-width="1"/>	<rect x="10" y="10" width="2.5" height="2.5" stroke-width="1"/>	<rect x="10.5" y="10.5" width="1" height="1" stroke-width="1"/>	<rect x="3" y="3" width="10" height="10" stroke-width="1" fill="none"/>	</g></g></svg>',LEFT_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>	<g>	<rect x="3" y="3" width="10" height="0.5"/>	<rect x="3" y="5.5" width="6" height="0.5"/>	<rect x="3" y="8" width="10" height="0.5"/>	<rect x="3" y="10.5" width="6" height="0.5"/>	<rect x="3" y="13" width="10" height="0.5"/>	</g></g></svg>',CENTER_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>	<g>	<rect x="3" y="3" width="10" height="0.5"/>	<rect x="6" y="5.5" width="4" height="0.5"/>	<rect x="3" y="8" width="10" height="0.5"/>	<rect x="6" y="10.5" width="4" height="0.5"/>	<rect x="3" y="13" width="10" height="0.5"/>	</g></g></svg>',RIGHT_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>	<g>	<rect x="3" y="3" width="10" height="0.5"/>	<rect x="6" y="5.5" width="7" height="0.5"/>	<rect x="3" y="8" width="10" height="0.5"/>	<rect x="6" y="10.5" width="7" height="0.5"/>	<rect x="3" y="13" width="10" height="0.5"/>	</g></g></svg>',MASK_BLACK:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g class="layer">  <g id="svg_1">   <g id="Shape_1_copy">    <g id="svg_2">     <path id="svg_3" d="m15.564,18.261c-0.75,-0.927 -3.047,-1.236 -4.238,0c-1.193,1.236 -0.576,5.106 -2.826,7.065c2.58,0.293 6.314,-1.236 7.064,-2.826c0.752,-1.59 0.752,-3.312 0,-4.239z"/>    </g>   </g>   <image transform="matrix(1,0,0,1,4.5,26.3389) " xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAECAYAAACUY/8YAAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpiZGBgSADieAbagIUsQEIBiB1oZMFBJgYaA0aoDxRoZP4DgAADAPOCA6qqNRP1AAAAAElFTkSuQmCC" id="Layer_52_xA0_Image" height="3" width="23"/>   <g id="Rounded_Rectangle_1">    <g id="svg_4">     <path id="svg_5" d="m24.799,4.295l-2.598,-1.5c-0.479,-0.276 -1.09,-0.112 -1.367,0.366l-7,11.855c-0.275,0.479 -0.111,1.09 0.367,1.366l2.598,1.5c0.479,0.276 1.09,0.112 1.367,-0.366l6.998,-11.855c0.277,-0.478 0.113,-1.091 -0.365,-1.366z"/>    </g>   </g>  </g> </g></svg>',MASK_WHITE:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="svg_6">   <g id="Shape_1_copy_3_">    <g id="svg_7">     <path id="svg_8" d="m15.564,18.261c-0.75,-0.927 -3.047,-1.236 -4.238,0c-1.193,1.236 -0.576,5.106 -2.826,7.065c2.58,0.293 6.314,-1.236 7.064,-2.826c0.752,-1.59 0.752,-3.312 0,-4.239z" stroke-miterlimit="10" stroke="#000000" fill="none"/>    </g>   </g>   <g id="Rounded_Rectangle_1_3_">    <g id="svg_9">     <path id="svg_10" d="m24.799,4.295l-2.598,-1.5c-0.479,-0.276 -1.09,-0.112 -1.367,0.366l-7,11.855c-0.275,0.479 -0.111,1.09 0.367,1.366l2.598,1.5c0.479,0.276 1.09,0.112 1.367,-0.366l6.998,-11.855c0.277,-0.478 0.113,-1.09 -0.365,-1.366z" stroke-miterlimit="10" stroke="#000000" fill="none"/>    </g>   </g>   <rect id="svg_11" height="3" width="23" stroke-miterlimit="10" stroke="#000000" fill="none" y="26.339" x="4.5"/>  </g> </g></svg>',MASK_BOLD:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Shape_3">   <g id="svg_12">    <path id="svg_13" d="m14.601,10.668c-0.299,0.251 -3.682,3.631 -3.959,3.965c-2.85,3.423 -4.947,9.005 -5.336,12.062c3.127,-0.502 8.723,-2.551 12.123,-5.391c0.238,-0.199 3.674,-3.621 4.014,-4.045c2.678,-3.333 4.758,-8.934 5.252,-11.955c-3.04,0.363 -8.651,2.48 -12.094,5.364z"/>   </g>  </g> </g></svg>',MASK_THIN:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Shape_3_copy">   <g id="svg_14">    <path id="svg_15" d="m16.016,12.082c-0.301,0.251 -3.682,3.631 -3.961,3.966c-2.848,3.423 -4.969,8.01 -6.75,10.647c2.508,-1.873 7.311,-3.965 10.709,-6.805c0.24,-0.2 3.674,-3.623 4.014,-4.046c2.678,-3.332 4.76,-8.005 6.668,-10.54c-2.665,1.8 -7.239,3.893 -10.68,6.778z"/>   </g>  </g> </g></svg>',MASK_RESET:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="svg_16">   <g id="Shape_2">    <g id="svg_17">     <polygon id="svg_18" points="12.5,9.312 19.5,13.311 19.5,5.313          "/>    </g>   </g>   <path id="svg_19" d="m16,9.687m0,0c4.136,0 7.5,3.364 7.5,7.5c0,4.137 -3.364,7.501 -7.5,7.501s-7.5,-3.364 -7.5,-7.501c0,-2.14 0.901,-4.073 2.343,-5.441l-1.56,-1.276c-1.72,1.72 -2.783,4.095 -2.783,6.718c0,5.247 4.253,9.501 9.5,9.501c5.247,0 9.5,-4.254 9.5,-9.501c0,-5.246 -4.253,-9.5 -9.5,-9.5l0,0"/>  </g> </g></svg>',MASK_OK:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Rectangle_2">   <g id="svg_20">    <polygon id="svg_21" points="24.284,8.575 13.681,19.181 7.716,13.217 5.595,15.339 11.56,21.302 11.558,21.304 13.679,23.425 26.405,10.696" clip-rule="evenodd" fill-rule="evenodd"/>   </g>  </g> </g></svg>',CROP_MODE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>	<polygon points="7.97,12.641 9.97,12.641 9.97,10.13 12.49,10.13 12.49,8.13 9.97,8.13 9.97,3.798 7.97,3.798 7.97,8.13 3.64,8.13		3.64,10.13 7.97,10.13 	"/>	<polygon points="24.342,22.501 24.342,8.13 14.49,8.13 14.49,10.13 22.342,10.13 22.342,22.501 9.97,22.501 9.97,14.328 7.97,14.328 7.97,24.501 22.342,24.501 22.342,28.831 24.342,28.831 24.342,24.501 28.673,24.501 28.673,22.501 	"/></g></svg>',ROTATE_90:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><polygon points="16.424,17.294 16.424,8.498 4.986,8.498 4.986,24.526 10.205,24.526 10.205,17.294 "/><polygon points="17.131,18.997 11.911,18.997 11.911,25.229 11.911,29.435 26.939,29.435 26.939,18.997 "/><polygon points="27.015,11.646 19.029,11.646 23.021,17.513 "/><path d="M23.355,13.641l-1.582-0.816c0.427-0.827,0.644-1.722,0.644-2.661c0-3.208-2.61-5.818-5.818-5.818h-0.001	c-1.859,0-3.621,0.9-4.715,2.409l-1.441-1.045c1.428-1.969,3.729-3.144,6.156-3.144h0.001c4.189,0,7.598,3.409,7.598,7.598	C24.196,11.372,23.905,12.574,23.355,13.641z"/></svg>',CROP_CANCEL:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path d="M22.323,12.795H10.236V9.692L4.37,13.685l5.866,3.992v-3.103h12.087c1.641,0,2.977,1.336,2.977,2.977	s-1.336,2.977-2.977,2.977h-4.176v1.779h4.176c2.623,0,4.756-2.133,4.756-4.756S24.946,12.795,22.323,12.795z"/></svg>',CLOUD_PRINT:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" class="crownix-toolbar-icon-svg"><g><g id="svg_2" stroke-width="1.5"><rect x="7.5" y="18.5" fill="none" width="17" height="11"/><line fill="none" stroke-linecap="round" x1="10.5" y1="23" x2="21.5" y2="23"/><line fill="none" stroke-linecap="round" x1="10.5" y1="26" x2="18.5" y2="26"/><line fill="none" stroke-opacity="null" fill-opacity="null" x1="4.713238" y1="18.42647" x2="6.772061" y2="18.5" stroke-linejoin="null" stroke-linecap="null"/><line fill="none" stroke-opacity="null" fill-opacity="null" x1="25.154411" y1="18.5" x2="27.213234" y2="18.573529" stroke-linejoin="null" stroke-linecap="null"/><path d="m7.79117,23.17748c-3.46936,0 -6.28318,-3.10131 -6.28318,-6.92514l0,0c0.0021,-3.06899 1.81584,-5.65438 4.32178,-6.56041l0,0c0.08692,-2.60847 2.02842,-4.69063 4.41498,-4.69294l0,0c0.76445,0 1.48178,0.2193 2.10486,0.59672l0,0c1.32575,-2.42957 3.73849,-4.05814 6.50099,-4.05929l0,0c4.13328,0.00231 7.49478,3.64147 7.59007,8.17051l0,0c2.47348,0.92797 4.25371,3.50181 4.2558,6.54541l0,0c0,3.82383 -2.81381,6.92514 -6.28317,6.92514l0,0c-0.15045,-0.13348 -0.00056,-4.77204 -0.15102,-4.7053c-0.15046,0.06674 -4.27204,0.10011 -7.75959,-0.00001c-3.48755,-0.10011 -7.47567,0 -8.86085,0l-0.05089,4.70531l0.20022,0l0,0l0,0l0,0z" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="null" fill="none"/></g></g></svg>',EDITOR:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/>  <polyline  stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',FINGERPRINT_AUTHENTICATION_STAMP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtQAAAJICAYAAABBiXPIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg3QjA1REM3NzMxMDExRTU4Q0FBOTdDODEzRTgwNkEzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg3QjA1REM4NzMxMDExRTU4Q0FBOTdDODEzRTgwNkEzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODdCMDVEQzU3MzEwMTFFNThDQUE5N0M4MTNFODA2QTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODdCMDVEQzY3MzEwMTFFNThDQUE5N0M4MTNFODA2QTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6AuSq0AAGmi0lEQVR42uyd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",SEARCH_ICON:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="22px" height="22px" viewBox="0 0 22 22" fill="gray" enable-background="new 0 0 22 22" xml:space="preserve"><g>	<path d="M18.694,16.97l-3.531-3.54c-0.205-0.209-0.186-0.499-0.08-0.678c1.552-2.59,1.139-5.896-1.005-8.04		c-1.254-1.255-2.926-1.946-4.708-1.946S5.913,3.458,4.652,4.712c-2.595,2.596-2.595,6.822,0.001,9.42		c1.253,1.256,2.902,1.947,4.644,1.947c1.19,0,2.365-0.328,3.399-0.948c0.021-0.013,0.132-0.075,0.284-0.075		c0.146,0,0.283,0.056,0.394,0.157l3.542,3.545c0.344,0.349,0.774,0.549,1.182,0.549c0.292,0,0.55-0.104,0.748-0.302l0.083-0.093		c0.215-0.213,0.32-0.457,0.322-0.747C19.254,17.762,19.051,17.326,18.694,16.97z M9.366,4.027c1.443,0,2.802,0.563,3.826,1.585		c2.102,2.104,2.102,5.528,0,7.632c-1.023,1.016-2.382,1.575-3.826,1.575c-1.443,0-2.801-0.559-3.822-1.572		c-2.104-2.106-2.104-5.532-0.001-7.635C6.564,4.59,7.922,4.027,9.366,4.027z"/>	<path d="M7.867,6.997c1.552-0.661,3.363,0.069,4.023,1.63c0.113,0.274,0.376,0.439,0.662,0.439c0.09,0,0.183-0.017,0.272-0.063		c0.365-0.154,0.535-0.569,0.376-0.935c-0.957-2.292-3.612-3.363-5.902-2.393C6.933,5.829,6.76,6.25,6.919,6.615		C7.069,6.98,7.491,7.151,7.867,6.997z"/></g></svg>',SEARCH_CANCEL:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="22px" height="22px" viewBox="0 0 22 22" fill="gray" enable-background="new 0 0 22 22" xml:space="preserve"><path d="M11.679,11l2.705-2.705c0.187-0.187,0.187-0.491,0-0.678s-0.491-0.187-0.678,0l-2.705,2.705L8.296,7.617	c-0.187-0.187-0.491-0.187-0.678,0c-0.187,0.187-0.187,0.491,0,0.678L10.323,11l-2.706,2.706c-0.187,0.186-0.187,0.49,0,0.676	c0.094,0.094,0.217,0.142,0.339,0.142c0.123,0,0.246-0.048,0.339-0.142l2.705-2.704l2.705,2.704	c0.093,0.094,0.216,0.142,0.339,0.142c0.122,0,0.245-0.048,0.339-0.142c0.187-0.186,0.187-0.49,0-0.676L11.679,11z"/><path d="M11,3.4C6.81,3.4,3.4,6.81,3.4,11s3.41,7.6,7.6,7.6c4.191,0,7.601-3.409,7.601-7.6S15.191,3.4,11,3.4z M11,17.384	c-3.52,0-6.383-2.863-6.383-6.383c0-3.519,2.863-6.382,6.383-6.382c3.519,0,6.382,2.863,6.382,6.382	C17.383,14.521,14.52,17.384,11,17.384z"/></svg>',RECORD_ICON:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve"><g><g><path d="M412.113,170.747c-6.637,0-12.02,5.381-12.02,12.02v75.104c0,79.452-64.639,144.09-144.092,144.09 S111.91,337.321,111.91,257.87v-75.104c0-6.639-5.383-12.02-12.02-12.02c-6.639,0-12.02,5.381-12.02,12.02v75.104 c0,88.666,68.993,161.512,156.111,167.696v62.395h-62.174c-6.637,0-12.02,5.381-12.02,12.02c0,6.639,5.382,12.02,12.02,12.02 h148.386c6.637,0,12.02-5.381,12.02-12.02c0-6.639-5.382-12.02-12.02-12.02H268.02v-62.395 c87.119-6.184,156.111-79.031,156.111-167.696v-75.104C424.133,176.128,418.75,170.747,412.113,170.747z"/></g></g><g><g><path d="M264.011,0h-16.02c-54.949,0-99.653,44.704-99.653,99.653V265.88c0,54.949,44.704,99.653,99.653,99.653h16.02 c54.949,0,99.653-44.704,99.653-99.653V99.653C363.664,44.704,318.96,0,264.011,0z M339.625,130.853h-43.572 c-6.639,0-12.02,5.381-12.02,12.02c0,6.639,5.381,12.02,12.02,12.02h43.572v33.458h-43.572c-6.639,0-12.02,5.381-12.02,12.02 s5.381,12.02,12.02,12.02h43.572v33.46h-43.572c-6.639,0-12.02,5.381-12.02,12.02s5.381,12.02,12.02,12.02h43.464 c-2.091,39.836-35.157,71.603-75.505,71.603h-16.02c-40.348,0-73.414-31.767-75.505-71.603h43.464 c6.639,0,12.02-5.381,12.02-12.02s-5.381-12.02-12.02-12.02h-43.572v-33.46h43.572c6.639,0,12.02-5.381,12.02-12.02 s-5.381-12.02-12.02-12.02h-43.572v-33.458h43.572c6.639,0,12.02-5.381,12.02-12.02c0-6.639-5.381-12.02-12.02-12.02h-43.572 v-31.2c0-29.964,17.52-55.914,42.854-68.143v33.983c0,6.639,5.382,12.02,12.02,12.02s12.02-5.381,12.02-12.02V24.558 c2.863-0.331,30.595-0.331,33.458,0v40.935c0,6.639,5.381,12.02,12.02,12.02c6.637,0,12.02-5.381,12.02-12.02V31.51 c25.334,12.229,42.854,38.177,42.854,68.142V130.853z"/></g></g></svg>',RECORD_PLAY_ICON:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve"><g><g id="play-circle-fill"><path d="M255,0C114.75,0,0,114.75,0,255s114.75,255,255,255s255-114.75,255-255S395.25,0,255,0z M204,369.75v-229.5L357,255    L204,369.75z" fill="#FFDA44"/></g></g></svg>',PLAY_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 232.153 232.153" style="fill:#565656;enable-background:new 0 0 232.153 232.153;" xml:space="preserve"> <g id="Play"> <path style="clip-rule:evenodd;" d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266 c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267 l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',PAUSE_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 353.562 353.562" style="enable-background:new 0 0 353.562 353.562;" xml:space="preserve"> <g> <g> <g> <path style="fill:#565656;clip-rule:evenodd;" d="M41.064,353.562h109.014V0H41.064V353.562z"/> </g> <g> <path style="fill:#565656;clip-rule:evenodd;" d="M203.482,0v353.562h109.017V0H203.482z"/> </g> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',VOLUME_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 459 459" style="enable-background:new 0 0 459 459;" xml:space="preserve"> <g> <g id="volume-up"> <path style="fill:#565656;clip-rule:evenodd;" d="M0,153v153h102l127.5,127.5v-408L102,153H0z M344.25,229.5c0-45.9-25.5-84.15-63.75-102v204 C318.75,313.65,344.25,275.4,344.25,229.5z M280.5,5.1v53.55C354.45,81.6,408,147.899,408,229.5S354.45,377.4,280.5,400.35V453.9 C382.5,430.949,459,339.15,459,229.5C459,119.85,382.5,28.049,280.5,5.1z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',MUTE_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 461.55 461.55" style="enable-background:new 0 0 461.55 461.55; fill:#565656;clip-rule:evenodd;" xml:space="preserve"> <g> <g id="volume-off"> <path d="M345.525,229.5c0-45.9-25.5-84.15-63.75-102v56.1l63.75,63.75C345.525,239.7,345.525,234.6,345.525,229.5z M409.275,229.5 c0,22.95-5.1,45.9-12.75,66.3l38.25,38.25c17.85-30.6,25.5-68.85,25.5-107.1c0-109.65-76.5-201.45-178.5-224.4V56.1 C355.725,81.6,409.275,147.9,409.275,229.5z M34.425,0L1.275,33.15L121.125,153H1.275v153h102l127.5,127.5V262.65L340.425,372.3 c-17.851,12.75-35.7,22.95-58.65,30.601v53.55c35.7-7.65,66.3-22.95,94.35-45.9l51,51l33.15-33.149l-229.5-229.5L34.425,0z M230.775,25.5l-53.55,53.55l53.55,53.55V25.5z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',REWIND_ICON:'<svg width="100%" height="100%" viewBox="0 -62 436.98 436" xmlns="http://www.w3.org/2000/svg"><g fill="#565656"><path d="m436.980469.488281v311l-196.980469-155.5zm0 0"/><path d="m196.980469.488281v311l-196.980469-155.5zm0 0"/></g></svg>',FAST_FORWARD_ICON:'<svg width="100%" height="100%" viewBox="0 -62 436.98 436" xmlns="http://www.w3.org/2000/svg"><g fill="#565656"><path d="m436.980469 155.988281-196.980469 155.5v-311zm0 0"/><path d="m196.980469 155.988281-196.980469 155.5v-311zm0 0"/></g></svg>',DOWNLOAD_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 268.476 268.476" style="enable-background:new 0 0 268.476 268.476;" xml:space="preserve"> <g id="Download"> <path style="fill:#565656;clip-rule:evenodd;" d="M232.943,223.73H35.533c-12.21,0-22.109,10.017-22.109,22.373 c0,12.356,9.9,22.373,22.109,22.373h197.41c12.21,0,22.109-10.017,22.109-22.373C255.052,233.747,245.153,223.73,232.943,223.73z M117.881,199.136c4.034,4.041,9.215,6.147,14.491,6.508c0.626,0.053,1.227,0.188,1.866,0.188c0.633,0,1.228-0.135,1.847-0.186 c5.284-0.357,10.473-2.464,14.512-6.51l70.763-70.967c8.861-8.875,8.861-23.267,0-32.142c-8.86-8.876-23.225-8.876-32.086,0 l-32.662,32.756V22.373C156.612,10.017,146.596,0,134.238,0c-12.356,0-22.372,10.017-22.372,22.373v106.41L79.204,96.027 c-8.86-8.876-23.226-8.876-32.086,0c-8.86,8.875-8.86,23.267,0,32.142L117.881,199.136z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>',BACK:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve" width="100%" height="100%"> <g> <g> <path d="M493.519,211.306c-11.937-11.936-27.807-18.509-44.727-18.509l-233.002-0.003l28.465-28.464 c11.957-11.941,18.542-27.823,18.542-44.722c0-34.849-28.354-63.2-63.219-63.2c-16.874,0-32.741,6.573-44.681,18.512 L18.601,211.22c-8.841,8.806-14.828,19.891-17.315,32.056C0.432,247.441,0,251.722,0,256.001c0,16.929,6.607,32.832,18.583,44.761 l136.288,136.287c11.939,11.958,27.822,18.543,44.723,18.543c34.849,0,63.201-28.353,63.203-63.201 c0.002-16.879-6.571-32.752-18.512-44.696l-28.493-28.493h233.034c16.886,0,32.76-6.574,44.694-18.513 C518.16,276.045,518.16,235.949,493.519,211.306z" fill="#8C8C8C"/> </g> </g></svg>',ENABLE_GUIDE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" d="M3.153,3.719h25.699v22.18h-5.174l-0.484,3.893	c0,0-0.335,0.459-0.726,0.021s-4.687-3.914-4.687-3.914H3.217L3.153,3.719z"/><line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="9.734" x2="17.422" y2="9.734"/><line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="14.219" x2="25.375" y2="14.219"/><line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="18.688" x2="25.375" y2="18.688"/></svg>',DISABLE_GUIDE:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px"	 height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g id="Layer_1"></g><g id="Layer_2">	<line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="9.71" x2="17.389" y2="9.71"/>	<line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="14.195" x2="25.342" y2="14.195"/>	<line fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="18.664" x2="16.219" y2="18.664"/>			<polyline fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="		15.156,25.917 3.208,25.875 3.208,3.708 28.813,3.708 28.813,20.828 	"/>	<g>		<circle fill="none" stroke="#FFFFFF" stroke-miterlimit="10" cx="21.955" cy="23.077" r="7.075"/>		<g>							<line fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="18.741" y1="19.864" x2="25.168" y2="26.291"/>							<line fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="25.168" y1="19.864" x2="18.741" y2="26.291"/>		</g>	</g></g></svg>',CLOSE_BUTTON:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC",RESET_ICON:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  fill="rgb(159, 159, 159)" d="M9.841,0.600 C9.831,0.595 9.825,0.587 9.815,0.583 C8.977,0.216 8.054,0.008 7.083,-0.002 C7.079,-0.002 7.077,-0.002 7.074,-0.002 C7.072,-0.002 7.071,-0.002 7.069,-0.002 C6.915,-0.003 6.764,0.003 6.612,0.013 C6.506,0.018 6.402,0.029 6.297,0.039 C6.280,0.041 6.264,0.042 6.247,0.044 L6.247,0.045 C5.022,0.179 3.888,0.626 2.936,1.311 L2.251,0.302 L1.250,4.516 L5.454,4.062 L4.590,3.248 C5.132,2.896 5.753,2.661 6.420,2.572 C6.420,2.572 6.832,2.548 7.044,2.550 C9.525,2.575 11.516,4.606 11.492,7.087 C11.467,9.568 9.435,11.559 6.955,11.534 C4.474,11.510 2.483,9.479 2.507,6.997 C2.509,6.781 2.532,6.570 2.564,6.362 L0.171,5.458 C0.064,5.933 0.003,6.424 -0.002,6.930 C-0.041,10.798 3.063,13.964 6.930,14.002 C10.797,14.040 13.963,10.937 14.002,7.070 C14.030,4.189 12.315,1.700 9.841,0.600 Z"/></svg>',SIGN_CANCEL:'<svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 21.9 21.9" enable-background="new 0 0 21.9 21.9"> <path d="M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0  c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4  s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3  s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7  s-0.1-0.5-0.3-0.7L14.1,11.3z"/></svg>',SIGN_RESET_ALL:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -25 512.00075 512" ><path d="m379.203125 431.960938h-85.929687l-30.003907 30.003906h115.933594c8.285156 0 15.003906-6.71875 15.003906-15 0-8.285156-6.71875-15.003906-15.003906-15.003906zm0 0"/><path d="m345.253906 4.394531c-2.8125-2.8125-6.628906-4.394531-10.609375-4.394531-3.976562 0-7.792969 1.582031-10.605469 4.394531l-190.765624 190.765625c-5.855469 5.855469-5.855469 15.355469 0 21.214844l162.355468 162.351562c2.929688 2.929688 6.769532 4.394532 10.605469 4.394532 3.839844 0 7.679687-1.464844 10.609375-4.394532l190.761719-190.761718c5.859375-5.859375 5.859375-15.359375 0-21.214844zm0 0"/><path d="m278.691406 404.113281-53.457031 53.457031c-2.8125 2.8125-6.625 4.394532-10.605469 4.394532l-149.601562.011718c-3.980469 0-7.796875-1.578124-10.609375-4.394531l-32.566407-32.566406c-29.136718-29.132813-29.136718-76.535156 0-105.667969l86.035157-86.039062zm0 0"/></svg>',SIGN_CONFIRM:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 26 26" enable-background="new 0 0 26 26">  <path d="m.3,14c-0.2-0.2-0.3-0.5-0.3-0.7s0.1-0.5 0.3-0.7l1.4-1.4c0.4-0.4 1-0.4 1.4,0l.1,.1 5.5,5.9c0.2,0.2 0.5,0.2 0.7,0l13.4-13.9h0.1v-8.88178e-16c0.4-0.4 1-0.4 1.4,0l1.4,1.4c0.4,0.4 0.4,1 0,1.4l0,0-16,16.6c-0.2,0.2-0.4,0.3-0.7,0.3-0.3,0-0.5-0.1-0.7-0.3l-7.8-8.4-.2-.3z"/></svg>',SIGNATURE_CONFIRM:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  d="M14.004,1.910 L4.994,11.005 L3.097,9.090 L3.133,9.054 L0.005,5.896 L1.902,3.982 L5.030,7.139 L12.108,-0.005 L14.004,1.910 Z"/></svg>',NEXT_ITEM_MARK:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path fill-rule="evenodd" d="M8.658,5.939 C6.769,4.074 4.879,2.209 2.990,0.345 C1.880,-0.750 0.247,1.070 1.364,2.171 C2.951,3.739 4.539,5.305 6.126,6.871 C4.527,8.519 2.928,10.168 1.328,11.815 C0.234,12.943 1.864,14.767 2.955,13.643 C4.855,11.684 6.757,9.724 8.658,7.766 C9.098,7.312 9.115,6.390 8.658,5.939 Z"/></svg>',PREV_ITEM_MARK:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  d="M0.342,5.939 C2.231,4.074 4.121,2.209 6.010,0.345 C7.120,-0.750 8.753,1.070 7.636,2.171 C6.048,3.739 4.461,5.305 2.874,6.871 C4.473,8.519 6.072,10.168 7.672,11.815 C8.766,12.943 7.136,14.767 6.045,13.643 C4.145,11.684 2.243,9.724 0.342,7.766 C-0.098,7.312 -0.115,6.390 0.342,5.939 Z"/></svg>',SCROLL_LEFT:'<svg xml:space="preserve" class="crownix-scrollPen-arrow" enable-background="new 0 0 15 32" preserveAspectRatio="none" viewBox="0 0 15 32" height="100%" width="15px" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="scroll_left_arrow" version="1.1"><g><polyline stroke-width="1.2" stroke-miterlimit="10" points="11.375,25.656 2.625,16.031 11.375,6.344"></polyline></g></svg>',SCROLL_RIGHT:'<svg xml:space="preserve" class="crownix-scrollPen-arrow" enable-background="new 0 0 15 32" preserveAspectRatio="none" viewBox="0 0 15 32" height="100%" width="15px" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="scroll_right_arrow" version="1.1"><g><polyline stroke-width="1.2" stroke-miterlimit="10" points="3.625,25.656 12.375,16.031 3.625,6.344"></polyline></g></svg>'};m2soft.ns("m2soft.crownix.Channel");m2soft.ns("m2soft.crownix.ChannelManager");m2soft.crownix.Channel=(function(){var e=[];var c=function(g){for(var f=0;f<e.length;f++){if(e[f].channel==g){e=[];return true}}return false};var a=function(f){e.push({channel:f,})};var b=function(){e.pop()};var d=function(f){this.name=f;this.callback=[];this.onceCallback=[];this.asyncTimeout=null};d.prototype.publish=function(j){if(c(this.name)){return this}var g=this;a(this.name);var f=this.callback;for(var h=0;h<f.length;h++){f[h](j)}b();this.callback=this.callback.filter(function(l){var k=g.onceCallback.indexOf(l);if(k!=-1){g.onceCallback.splice(k,1)}return k==-1});return this};d.prototype.publishAsync=function(j){var g=this;var h=this.asyncTimeout;var f=this.callback;var k=setTimeout(function(){for(var l=0;l<f.length;l++){f[l](j)}h=null;this.callback=g.callback.filter(function(n){var m=g.onceCallback.indexOf(n);if(m!=-1){g.onceCallback.splice(m,1)}return m==-1})},10);clearTimeout(h);this.asyncTimeout=k;return this};d.prototype.subscribe=function(f){if(this.callback.indexOf(f)>=0){return this}this.callback.push(f);return this};d.prototype.subscribeOnce=function(f){this.onceCallback.push(f);this.subscribe(f);return this};d.prototype.unsubscribe=function(f){if(typeof f!=="function"){return}this.callback=this.callback.filter(function(g){return g!==f})};return d})();m2soft.crownix.ChannelManager=(function(){var a=m2soft.crownix.Channel;return{channels:{},getChannel:function(b){if(!this.channels[b]){this.channels[b]=new a(b)}return this.channels[b]},clear:function(){this.channels={}},removeChannel:function(b){if(!this.channels[b]){return}delete this.channels[b]}}})();m2soft.ns("m2soft.crownix.CssBuilder");(function(){var a=function(c,d){this._mapper=[];this.decl=$.extend({},d);this.selector=c};a.prototype.addMapper=function(c){this._mapper.push(c);return this};a.prototype.addDecl=function(c){$.extend(this.decl,c)};a.prototype.toString=function(){var c=[];var e=function(k,j){c.push(k,"{");g(j);c.push("} ")};var g=function(k){for(var j in k){f(j,k[j])}};var f=function(j,l){if(l instanceof Array){for(var k=0;k<l.length;k++){c.push(j,":",h(j,l[k]),";")}}else{c.push(j,":",h(j,l),";")}};var d=this._mapper;var h=function(j,l){for(var k=0;k<d.length;k++){l=d[k](j,l)}return l};e(this.selector,this.decl);return c.join("")};var b=m2soft.crownix.CssBuilder=function(){this.cssList=[]};b.prototype.build=function(){var c=[];var e=this.cssList;for(var d=0;d<e.length;d++){c.push(e[d].toString())}return c.join("")};b.prototype.registerRule=function(c,e){var d=new a(c,e);this.cssList.push(d);return d};b.prototype.attachWithClass=function(c){$("."+c).remove();$('<style class="'+c+'" type="text/css">').text(this.build()).appendTo("head")}})();m2soft.ns("m2soft.crownix.Toolbar");m2soft.ns("m2soft.crownix.Toolbar.Item");m2soft.ns("m2soft.crownix.Toolbar.DropItem");m2soft.ns("m2soft.crownix.Toolbar.ScrollButtonPair");(function(){var a=m2soft.crownix.resource.Icon;var c=m2soft.crownix.ChannelManager;m2soft.crownix.Toolbar.Item=function(f,d,e){this.id=f;this.info=d;this.options=e};m2soft.crownix.Toolbar.Item.prototype={render:function(j){var d=this.info;var h=$("<button>").attr({type:"button",title:d.title}).addClass("crownix-toolbar-button");if(this.options.toolbarNavigator){h.focusin(function(){f.addClass("crownix-toolbar-item-enable-hover")}).focusout(function(){f.removeClass("crownix-toolbar-item-enable-hover")})}var f=$("<li>").attr({id:"crownix-toolbar-"+this.id,title:d.title}).addClass("crownix-toolbar-item");if(!m2soft.crownix.Util.browser.safari){f.addClass("crownix-toolbar-button-zindex")}var g=null;if(d.svg){g=$(d.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false")}else{if(d.img){g=$("<img>").attr("src",d.img)}else{if(d.text){g=$("<div>").text(d.text).addClass("crownix-toolbar-icon-color")}}}var e=null;if(d.separator===true&&!j){e=$("<div>").addClass("crownix-toolbar-separator").css({display:d.visible?"block":"none",})}if(d.visible!==true){f.hide()}if(d.enable===true&&d.visible){f.addClass("crownix-toolbar-item-enable").bind("click tab",d.handler)}else{f.addClass("crownix-toolbar-item-disable").bind("click tab",function(k){k.stopPropagation()})}g.appendTo(h);h.appendTo(f);return[f,e]},hide:function(){$("#crownix-toolbar-"+this.id).hide()},show:function(){$("#crownix-toolbar-"+this.id).show()},getType:function(){return"item"}};m2soft.crownix.Toolbar.DropItem=function(f,d,e){this.id=f;this.info=d;this.options=e};m2soft.crownix.Toolbar.DropItem.prototype={render:function(){var f=this.info;var l=$("<li>").attr({id:"crownix-toolbar-"+this.id,title:this.info.title}).addClass("crownix-toolbar-dropitem").addClass("crownix-toolbar-icon-border");if(m2soft.crownix.Resource.language=="ja"){l.css("width","130px")}if(!m2soft.crownix.Util.browser.safari){l.addClass("crownix-toolbar-button-zindex")}var h=function(s){$('.crownix-toolbar-dropitem[id!="'+$(this).attr("id")+'"]').removeClass("active");$(this).toggleClass("active");$(this).find(".crownix-absolute-100").remove();$("<div>").addClass("crownix-absolute-100").appendTo(this);return false};var e=$("<button>").attr({type:"button",title:this.info.title}).addClass("crownix-toolbar-button");if(this.options.toolbarNavigator){e.focusin(function(){l.addClass("crownix-toolbar-item-enable-hover")}).focusout(function(){l.removeClass("crownix-toolbar-item-enable-hover")})}var q=null;if(f.text){q=$("<div>").addClass("crownix-toolbar-icon-color");e.appendTo(q).text(this.info.text);$("<div>").addClass("crownix-absolute-100").appendTo(e)}var g=null;if(f.svg){g=e.appendTo(l);$(f.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false").appendTo(g)}else{if(f.img){g=e.appendTo(l);$("<img/>").attr("src",f.img).appendTo(g)}}var r=$("<ul>").addClass("dropdown");for(var n in f.items){var j=f.items[n];var d=$("<li>").attr("id","crownix-toolbar-"+n).appendTo(r);var k=$("<button>").attr({type:"button",title:j.title}).addClass("crownix-toolbar-button").appendTo(d);if(this.options.toolbarNavigator){k.focusin(function(){$(this).addClass("crownix-toolbar-dropitem-enable-focus")}).focusout(function(){$(this).removeClass("crownix-toolbar-dropitem-enable-focus")})}if(j.text){k.text(j.text);k.attr("title",j.text)}if(j.svg){$(j.svg).prependTo(k).attr("focusable","false")}else{if(j.img){$("<img/>").attr("src",j.img).prependTo(k)}}if(j.visible!==true){d.css("display","none")}if(j.enable===true&&j.visible){d.bind("click tab",j.handler)}else{d.bind("click tab",function(s){s.stopPropagation()})}}var m=null;if(f.separator===true){m=$("<div>").addClass("crownix-toolbar-separator").css({display:f.visible?"block":"none",})}if(f.visible!==true){l.hide()}if(f.enable===true&&f.visible){l.addClass("crownix-toolbar-dropitem-enable").bind("click tab",h)}else{l.addClass("crownix-toolbar-dropitem-disable").bind("click tab",function(s){s.stopPropagation()})}l.append(q,g,r);return[l,m]},hide:function(){$("#crownix-toolbar-"+this.id).hide()},show:function(){$("#crownix-toolbar-"+this.id).show()},getType:function(){return"drop-item"}};var b=null;m2soft.crownix.Toolbar.ScrollButtonPair=function(g,d){this.toolbarDirection=g;this.toolbarScroll=null;this.toolbarDom=d;this.isToolbarHide=false;var f=this;if(!b){b=function e(h){f.isToolbarHide=h.isHide}}c.getChannel("toolbar:changeToolbarState").subscribe(b)};m2soft.crownix.Toolbar.ScrollButtonPair.prototype={injectToolbarScroll:function(d){this.toolbarScroll=d},isToolbarVertical:function(){return this.toolbarDirection=="left"||this.toolbarDirection=="right"},renderLHS:function(){var f=function(j){var g=j.data.that;if(g.isToolbarVertical()){var h=g.toolbarScroll.y+g.toolbarDom.height()*2/3;if(h>0){g.toolbarScroll.scrollTo(0,0,1000)}else{g.toolbarScroll.scrollTo(0,h,1000)}}else{var k=g.toolbarScroll.x+g.toolbarDom.width()*2/3;if(k>0){g.toolbarScroll.scrollTo(0,0,1000)}else{g.toolbarScroll.scrollTo(k,0,1000)}}};var d={};var e=$(a.LEFT_ITEM_MARK);switch(this.toolbarDirection){case"top":d={left:"0px",top:"0px"};e=$(a.LEFT_ITEM_MARK);break;case"bottom":d={left:"0px",bottom:"0px",top:"auto"};e=$(a.LEFT_ITEM_MARK);break;case"right":d={right:"0px",top:"0px"};e=$(a.TOP_ITEM_MARK);break;case"left":d={left:"0px",top:"0px"};e=$(a.TOP_ITEM_MARK);break}e.attr("class","crownix-toolbar-icon-svg");return $("<span>").addClass("crownix-toolbar-mark crownix-toolbar-gradient crownix-toolbar-mark-left").css(d).append('<span class="crownix-helper"></span>').append(e).bind("click",{that:this},f)},renderRHS:function(){var f=function(j){var g=j.data.that;if(g.isToolbarVertical()){var h=g.toolbarScroll.y-g.toolbarDom.height()*2/3;if(h<g.toolbarScroll.maxScrollY){g.toolbarScroll.scrollTo(0,g.toolbarScroll.maxScrollY,1000)}else{g.toolbarScroll.scrollTo(0,h,1000)}}else{var k=g.toolbarScroll.x-g.toolbarDom.width()*2/3;if(k<g.toolbarScroll.maxScrollX){g.toolbarScroll.scrollTo(g.toolbarScroll.maxScrollX,0,1000)}else{g.toolbarScroll.scrollTo(k,0,1000)}}};var d={};var e=null;switch(this.toolbarDirection){case"top":d={right:"0px",top:"0px"};e=$(a.RIGHT_ITEM_MARK);break;case"bottom":d={right:"0px",bottom:"0px",top:"auto"};e=$(a.RIGHT_ITEM_MARK);break;case"right":d={right:"0px",bottom:"0px",top:"auto"};e=$(a.BOTTOM_ITEM_MARK);break;case"left":d={left:"0px",bottom:"0px",top:"auto"};e=$(a.BOTTOM_ITEM_MARK);break}e.attr("class","crownix-toolbar-icon-svg");return $("<span>").addClass("crownix-toolbar-mark crownix-toolbar-gradient crownix-toolbar-mark-right").css(d).append('<span class="crownix-helper"></span>').append(e).bind("click",{that:this},f)},render:function(){var e=this.renderLHS();var d=this.renderRHS();var f=m2soft.crownix.State.Toolbar.get("isFloating");if(f){e.addClass("floating-toolbar");d.addClass("floating-toolbar")}return[e,d]},hide:function(){$(".crownix-toolbar-mark-left, .crownix-toolbar-mark-right").hide()},show:function(){$(".crownix-toolbar-mark-left, .crownix-toolbar-mark-right").show()},refresh:function(){var d=$(".crownix-toolbar-mark-left");var e=$(".crownix-toolbar-mark-right");if(this.isToolbarHide||!this.toolbarScroll){d.hide();e.hide();return}var f=this.isToolbarVertical()?this.toolbarScroll.y:this.toolbarScroll.x;var g=this.isToolbarVertical()?this.toolbarScroll.maxScrollY:this.toolbarScroll.maxScrollX;if(f===0){d.hide()}else{d.show()}if(f===g){e.hide()}else{e.show()}},}})();m2soft.ns("m2soft.crownix.State");m2soft.ns("m2soft.crownix.State.Toolbar");(function(){var d=m2soft.crownix.ChannelManager;var b=m2soft.crownix.Resource;var a=m2soft.crownix.resource.Icon;var f={Normal:m2soft.crownix.Toolbar.Item,Drop:m2soft.crownix.Toolbar.DropItem};var c={isHide:false,isFloating:false,direction:"top",theme:null,scale:1,items:{close:{type:f.Normal,svg:a.CLOSE_OVERLAY,visible:false,enable:true,separator:true,},first:{type:f.Normal,svg:a.FIRST_PAGE,visible:true,enable:true,},prev:{type:f.Normal,svg:a.PREV_PAGE,visible:true,enable:true,},next:{type:f.Normal,svg:a.NEXT_PAGE,visible:true,enable:true,},last:{type:f.Normal,svg:a.LAST_PAGE,visible:true,enable:true,separator:true,},move:{type:f.Normal,svg:a.MOVE_PAGE,visible:true,enable:true,separator:true,},prevDoc:{type:f.Normal,svg:a.PREV_DOC,visible:false,enable:true,},nextDoc:{type:f.Normal,svg:a.NEXT_DOC,visible:false,enable:true,separator:true,},editor:{type:f.Normal,svg:a.EDITOR,visible:false,enable:true,separator:true},zoomin:{type:f.Normal,svg:a.ZOOM_IN,visible:true,enable:true,},zoomout:{type:f.Normal,svg:a.ZOOM_OUT,visible:true,enable:true,},ratio:{type:f.Drop,text:"100%",visible:true,enable:true,items:{"25":{type:f.Normal,text:"25%",visible:true,enable:true,},"50":{type:f.Normal,text:"50%",visible:true,enable:true,},"75":{type:f.Normal,text:"75%",visible:true,enable:true,},"100":{type:f.Normal,text:"100%",visible:true,enable:true,},"125":{type:f.Normal,text:"125%",visible:true,enable:true,},"150":{type:f.Normal,text:"150%",visible:true,enable:true,},"200":{type:f.Normal,text:"200%",visible:true,enable:true,},"250":{type:f.Normal,text:"250%",visible:true,enable:true,},width:{type:f.Normal,visible:true,enable:true,},height:{type:f.Normal,visible:true,enable:true,}},separator:true,},save:{type:f.Drop,svg:a.SAVE,visible:true,enable:true,items:{pdf:{type:f.Normal,text:"PDF",svg:a.PDF,visible:true,enable:true,},doc:{type:f.Normal,text:"DOC",svg:a.DOC,visible:true,enable:true,},xls:{type:f.Normal,text:"XLS",svg:a.XLS,visible:true,enable:true,},ppt:{type:f.Normal,text:"PPT",svg:a.PPT,visible:true,enable:true,},hwp:{type:f.Normal,text:"HWP",svg:a.HWP,visible:true,enable:true,},txt:{type:f.Normal,text:"TXT",svg:a.TXT,visible:false,enable:true,},cell:{type:f.Normal,text:"CELL",svg:a.CELL,visible:false,enable:true,},brl:{type:f.Normal,text:"BRL",svg:a.BRL,visible:false,enable:true},csv:{type:f.Normal,text:"CSV",svg:a.CSV,visible:false,enable:true}},},storage:{type:f.Drop,svg:a.STORAGE,visible:false,enable:true,items:{"storage-mml":{type:f.Normal,visible:true,enable:true,},"storage-formdata":{type:f.Normal,visible:false,enable:true,}},separator:true,},print:{type:f.Normal,svg:a.PRINT,visible:false,enable:true,},cloud_print:{type:f.Normal,svg:a.CLOUD_PRINT,visible:false,},print_pdf:{type:f.Normal,svg:a.PRINT_PDF,visible:true,enable:true,separator:true,},search:{type:f.Normal,svg:a.SEARCH,visible:true,enable:true,},inquery:{type:f.Normal,svg:a.INQUERY,visible:true,enable:true,separator:true,},cancel:{type:f.Normal,svg:a.CANCEL,visible:true,enable:true,},share:{type:f.Normal,svg:a.SHARE_CONNECT,visible:true,enable:true,},guide:{type:f.Normal,svg:a.ENABLE_GUIDE,visible:false,enable:true,}},customItems:{}};var e=function(k,l){var m=l;if(m[k]){return m[k]}else{for(var g in m){var h=m[g]["items"];if(!h){continue}else{var j=e(k,h);if(j){return j}}}}};m2soft.crownix.State.Toolbar={get:function(h){var j=h.split(".");var k=c;for(var g=0;g<j.length;g++){k=k[j[g]];if(!k){return k}}return k},set:function(h,g){$.extend(true,c,h);if(!g){d.getChannel("toolbar:changeToolbarState").publishAsync(c)}},refresh:function(){d.getChannel("toolbar:changeToolbarState").publishAsync(c)},addToolbarItem:function(g){if(c.items[g.id]!==undefined){throw Error("[Crownix Viewer] could not add item (duplicated id: "+g.id+")")}g.type=f.Normal;g.visible=true;g.enable=true;c.customItems[g.id]=g},showToolbarItem:function(k){for(var h=0,g=k.length;h<g;h++){var j=e(k[h],c.items);if(j){j.visible=true}j=e(k[h],c.customItems);if(j){j.visible=true}}this.enableToolbarItem(k)},hideToolbarItem:function(k){for(var h=0,g=k.length;h<g;h++){var j=e(k[h],c.items);if(j){j.visible=false}j=e(k[h],c.customItems);if(j){j.visible=false}}this.disableToolbarItem(k)},enableToolbarItem:function(k){for(var h=0,g=k.length;h<g;h++){var j=e(k[h],c.items);if(j){j.enable=true}j=e(k[h],c.customItems);if(j){j.enable=true}}},disableToolbarItem:function(k){for(var h=0,g=k.length;h<g;h++){var j=e(k[h],c.items);if(j){j.enable=false}j=e(k[h],c.customItems);if(j){j.enable=false}}},toggleShareButton:function(k){var j=e("share",c.items);var g=$("#crownix-toolbar-share");var h=$('button[title="'+j.title+'"]');h.children().remove();if(k){g.attr("title",b.get("do_disconnect"));h.attr("title",b.get("do_disconnect"));j.title=b.get("do_disconnect");j.svg=a.SHARE_DISCONNECT}else{g.attr("title",b.get("do_share"));h.attr("title",b.get("do_share"));j.title=b.get("do_share");j.svg=a.SHARE_CONNECT}$(j.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false").css("display","none").appendTo(h).fadeIn(500)},toggleGuideButton:function(j){var k=e("guide",c.items);var g=$("#crownix-toolbar-guide");var h=$('button[title="'+k.title+'"]');h.children().remove();if(j){g.attr("title",b.get("disable_guide"));h.attr("title",b.get("disable_guide"));k.title=b.get("disable_guide");k.svg=a.DISABLE_GUIDE}else{g.attr("title",b.get("enable_guide"));h.attr("title",b.get("enable_guide"));k.title=b.get("enable_guide");k.svg=a.ENABLE_GUIDE}$(k.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false").css("display","none").appendTo(h).fadeIn(500)},state:c,}})();m2soft.ns("m2soft.crownix.Message");m2soft.crownix.Message.log=(function(){return function(a){if(!!window.console&&!!(window.console.log)){window.console.log(a)}}})();m2soft.crownix.Message.error=(function(){return function(a){if(!!window.console&&!!(window.console.error)){window.console.error(a)}}})();m2soft.crownix.Message.progress=(function(){var a="data:image/gif;base64,R0lGODlhIAAgAPMAAN7e3lxcXMHBwZ+fn7m5uaqqqnd3d4eHh8nJydDQ0Lu7u2tra11dXQAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQACgABACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQACgACACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkEAAoAAwAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkEAAoABAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAAKAAUALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAAKAAYALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQACgAHACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAAKAAgALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAAKAAkALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQACgAKACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkEAAoACwAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA==";var b='<div class="ers_progress"><div class="ers_progress_content"></div><img src="'+a+'"/></div>';return{show:function(d,c,e){c=c||"Loading";if($(d).find(".ers_progress").length>0){return}$(b).find(".ers_progress_content").text(c).end().appendTo(d).overlayMessageBox({load:true,closeOnClick:false,closeOnEsc:false,fixed:false,scrollArrangeDisable:true,mask:{color:"#000",loadSpeed:200,opacity:0.2,maskId:"progress_mask",viewer_id:d},onClose:function(){$("#progress_mask").remove();$(this).remove()},top:"center",oneInstance:false}).fadeIn(100,e)},hide:function(c){if($(c).find(".ers_progress").overlayMessageBox().close){$(c).find(".ers_progress").overlayMessageBox().close()}$(c).find(".ers_progress").remove();$(c).find("#progress_mask").remove()}}})();m2soft.ns("m2soft.crownix.Window");m2soft.crownix.Window=(function(){var c=m2soft.crownix.Resource;var d=m2soft.crownix.Constant;var e=m2soft.crownix.ChannelManager;var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC";var g=30;var f={"box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box",};var b;var h=function(l,k,j){this.setting=$.extend({isOverlay:false,movable:false,scrollable:0,buttonType:[],isRelative:false,useResizeHandler:true,width:"94%",height:"94%",contentWidth:null,contentHeight:null,align:"center",left:null,top:null,isAppending:false,onClose:function(){},onOk:function(){},onCancel:function(){},},j);this.title="New Window";this.content=k;this.footerHeight=0;this.windowFrame=null;this.resizeHandler=null;if(typeof l==="string"){this.title=l}};h.prototype={constructor:m2soft.crownix.Window,getWindowFrame:function(k,j){var l=$('<div id="crownix-window-frame">').addClass("crownix-window-frame").css({display:"none","z-index":d.WINDOW_Z_INDEX,"margin-left":window.pageXOffset,"margin-top":window.pageYOffset,});if(this.setting.contentWidth==null){l.css("width",this.setting.width)}if(this.setting.contentHeight==null){l.css("height",this.setting.height)}if(j){l.css(j)}return l},getWindowHeader:function(){var l=$("<div>").addClass("crownix-window-header").addClass("crownix-toolbar-gradient");var k=$("<span>").addClass("crownix-window-title").addClass("crownix-toolbar-icon-color").text(this.title);var j=null;if(this.setting.buttonType.indexOf("close")>=0){j=$("<span>").addClass("crownix-window-close").bind("click",$.proxy(function(){this.close.call(this);this.setting.sendEvent&&this.setting.sendEvent("layer-close")},this)).append($("<img>").attr("src",a))}return l.append(k,j)},getWindowBody:function(){var j={"overflow-y":"hidden","overflow-x":"hidden",};if(this.setting.scrollable==1||this.setting.scrollable==3){j["overflow-x"]="auto"}if(this.setting.scrollable==2||this.setting.scrollable==3){j["overflow-y"]="auto"}return $("<div>").addClass("crownix-window-body").css(f).css(j).css({width:this.setting.contentWidth||"100%",height:this.setting.contentHeight||null,}).append(this.content.css(f))},getWindowFooter:function(){var j=[];var k=$("<div>").addClass("crownix-window-footer").addClass("crownix-toolbar-gradient").css("text-align","right");if(this.setting.buttonType.indexOf("ok")>=0){j.push(this.buttonFactory.getOkButton(this,this.setting.onOk))}if(this.setting.buttonType.indexOf("cancel")>=0){j.push(this.buttonFactory.getCancelButton(this,this.setting.onCancel))}if(j.length>0){k.append(j);return k}else{return undefined}},show:function(j,m){j=j||{};var l=j.parent||"body";var k=j.css;if(this.setting.isOverlay&&!this.setting.isAppending){this.overlay=$("<div>").addClass("crownix-overlay").css({"z-index":d.WINDOW_OVERLAY_Z_INDEX,}).prependTo(l);if(l!=="body"){this.overlay.css("position","absolute")}l=this.overlay}if(this.setting.isAppending){this.overlay=$("<div>").addClass("crownix-overlay").appendTo(l);l=this.overlay}this.windowFrame=this.getWindowFrame(l,k);var q=this.getWindowHeader();var r=this.getWindowBody();var n=this.getWindowFooter();l.append(this.windowFrame.append(q,r,n));if(this.setting.useResizeHandler){this.setResizeHandler(l)}e.getChannel("window:afterMount").publishAsync();if(this.setting.movable){this.moveHandler.setMoveHandler(q,this.windowFrame)}this.windowFrame.fadeIn(500,function(){if(typeof m=="function"){m()}})},setResizeHandler:function(k){var m=this;this.windowFrame.css({top:this.setting.top,left:this.setting.left,});var q=this.windowFrame.find(".crownix-window-header");var s=this.windowFrame.find(".crownix-window-body");var n=this.windowFrame.find(".crownix-window-footer");var l=null;var r=0;var j=0;this.resizeHandler=function(){if(r>0){clearTimeout(r)}r=setTimeout($.proxy(function(){if(this.title==c.get("submit_preview_title")){if(j==0){$(".crownix-preview-item").each(function(){j+=$(this).width()})}if($(".crownix-window-footer").width()<(j+68)){$(".crownix-window-footer").height(95);m.footerHeight=100}else{$(".crownix-window-footer").height(50);m.footerHeight=50}}this.setting.onBeforeResize&&this.setting.onBeforeResize.call(this);var A=k=="body"?$(window).width():$(k).width();var w=k=="body"?$(window).height():$(k).height();var z=this.windowFrame.outerWidth();var t=this.windowFrame.outerHeight();if(this.setting.left==null||this.setting.top==null){if(!l){l={};l.width=this.windowFrame.outerWidth();l.height=this.windowFrame.outerHeight()}l.top=(w-t)/2;l.left=(A-z)/2}else{if(!l){l=this.windowFrame.position();l.width=this.windowFrame.outerWidth();l.height=this.windowFrame.outerHeight()}if(this.setting.isRelative){l=$.extend(l,{top:this.setting.top,left:this.setting.left})}}var u=$.extend({},l);if(u.top<0){u.top=0}if(u.left<0){u.left=0}if(u.top+u.height>w){u.height=w-u.top}if(u.left+u.width>A){u.width=A-u.left}this.windowFrame.css(u);s.add(s.find("div:first")).css({width:u.width,height:u.height-n.outerHeight()-q.outerHeight(),})},this),this.title==c.get("submit_preview_title")?0:100)};this.resizeHandler();$(window).on("resize",$.proxy(this.resizeHandler,this))},setFooterHeight:function(j){this.footerHeight=j},close:function(j){if(this.resizeHandler){$(window).off("resize",this.resizeHandler)}if(this.windowFrame){this.windowFrame.fadeOut(500,function(){$(this).remove()})}if(this.setting.isOverlay||this.setting.isAppending){this.overlay.fadeOut(500,function(){$(this).remove()})}if(this.setting.movable){this.moveHandler.deleteMoveHandler()}this.setting.onClose()},buttonFactory:{getOkButton:function(k,j){return $("<button>").text("Ok").addClass("crownix-pen-button").text(c.get("ok_button_text")).css({margin:"2px 5px",width:"80px",height:"34px",background:"#2d94ff"}).bind("click",function(){var l=j();k.setting.sendEvent("layer-onOk");if(l===undefined||l){k.close.apply(k);k.setting.sendEvent("layer-close")}})},getCancelButton:function(j,k){return $("<button>").text("Cancel").addClass("crownix-pen-button").text(c.get("cancel_button_text")).css({margin:"2px 5px",width:"80px",height:"34px",background:"#d2d2d2"}).bind("click",function(){var l=k();j.setting.sendEvent("layer-onCancel");if(l===undefined||l){j.close.apply(j);j.setting.sendEvent("layer-close")}})}},moveHandler:{setMoveHandler:function(k,j){k.data("isMoving",false);k.on("mousedown",{$handle:k},this.mousedown);$(window).on("mouseup",{$handle:k},this.mouseup);$(window).on("mousemove",{$handle:k,$window:j},this.mousemove)},deleteMoveHandler:function(){$(window).off("mouseup",this.mouseup);$(window).off("mousemove",this.mousemove)},mousedown:function(j){var k=j.data.$handle;k.data({isMoving:true,prevX:j.pageX,prevY:j.pageY,})},mouseup:function(j){var k=j.data.$handle;k.data("isMoving",false)},mousemove:function(q){var r=q.data.$window;var s=q.data.$handle;var n=s.data("isMoving");var m=parseFloat(r.css("top"));var l=parseFloat(r.css("left"));if(n){var k=q.pageX-s.data("prevX");var j=q.pageY-s.data("prevY");r.css({top:m+j,left:l+k});s.data({prevX:q.pageX,prevY:q.pageY,})}}},getHeaderHeight:function(){return g}};return h}());m2soft.ns("m2soft.crownix.DateParser");(function(){var h={en:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:"AM",pm:"PM",},ko:{dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월","1","2","3","4","5","6","7","8","9","10","11","12"],am:"오전",pm:"오후",},ja:{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日","日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月","1","2","3","4","5","6","7","8","9","10","11","12"],am:"午前",pm:"午後",},"zh-CN":{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","周日","周一","周二","周三","周四","周五","周六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],am:"上午",pm:"下午",},};function f(m){return(m<0||m>9?"":"0")+m}function g(q,r,m){var n=d(q,r,m);if(n==0){return false}return true}function c(t,u,r,s,m){var q=d(u,t,m);var n=d(s,r,m);if(q==0||n==0){return -1}else{if(q>n){return 1}}return 0}function k(Y,ac,V,n,Z,r){V=m2soft.crownix.Resource.language;Y=Y+"";var F=n==1||n==2||n==3||n==4;var C="";var P=0;var ab="";var w="";var B=ac.getYear()+"";var z=ac.getMonth()+1;var aa=ac.getDate();var G=ac.getDay();var D=ac.getHours();var S=ac.getMinutes();var J=ac.getSeconds();var N,O,t,L,ad,u,X,W,T,I,af,D,ae,A,q,U;var Q=new Object();if(B.length<4){B=""+(B-0+1900)}if(F&&!r&&V=="ja"){B=b(B,z,aa,n);Q.y=Q.yyyy=Q.yy=f(B.val)}else{Q.y=""+B;Q.yyyy=B;Q.yy=B.substring(2,4)}Q.M=z;Q.MM=f(z);Q.MMMM=h[V].monthNames[z-1];Q.MMM=h[V].monthNames[z+11];Q.d=aa;Q.dd=f(aa);Q.dddd=h[V].dayNames[G];Q.ddd=h[V].dayNames[G+7];Q.H=D;Q.HH=f(D);if(D==0){Q.h=12}else{if(D>12){Q.h=D-12}else{Q.h=D}}Q.hh=f(Q.h);if(D>11){Q.K=D-12}else{Q.K=D}Q.k=D+1;Q.KK=f(Q.K);Q.kk=f(Q.k);if(D>11){Q.tt=h[V].pm;Q.t=h[V].pm}else{Q.tt=h[V].am;Q.t=h[V].am}Q.m=S;Q.mm=f(S);Q.s=J;Q.ss=f(J);while(P<Y.length){ab=Y.charAt(P);w="";while((Y.charAt(P)==ab)&&(P<Y.length)){w+=Y.charAt(P++)}if(Q[w]!=null){if(Z=="1"){if(w=="dd"){w="d"}if(w=="MM"){w="M"}if(w=="HH"){w="H"}if(w=="hh"){w="h"}if(w=="mm"){w="m"}if(w=="ss"){w="s"}}C=C+Q[w]}else{C=C+w}}return(F&&!r&&V=="ja"?B.japanYear:"")+((n==3||n==4)&&C.indexOf("01年")!=-1?C.replace("01年","元年"):C)}function j(q){var n="1234567890";for(var m=0;m<q.length;m++){if(n.indexOf(q.charAt(m))==-1){return false}}return true}function e(t,r,s,q){for(var m=q;m>=s;m--){var n=t.substring(r,r+m);if(n.length<s){return null}if(j(n)){return n}}return null}function d(K,U,H,q,n,M,r){if(typeof q==="undefined"){q=new Date()}H=m2soft.crownix.Resource.language;U=U+"";K=K+"";var T=0;var D=0;var O="";var u="";var S="";var z,w;var B=q.getFullYear();var Q=q.getMonth()+1;var P=1;var s=q.getHours();var J=q.getMinutes();var G=q.getSeconds();var C="";var N;var A=n==1||n==2||n==3||n==4;if(!r&&H=="ja"){if(n==1||n==3){N=U.substring(0,2);U=U.substring(2,U.length)}else{if(n==2||n==4){N=U.substring(0,1);U=U.substring(1,U.length)}}}while(D<K.length){O=K.charAt(D);u="";while((K.charAt(D)==O)&&(D<K.length)){u+=K.charAt(D++)}if(M=="1"){if(u=="dd"){u="d"}if(u=="MM"){u="M"}if(u=="HH"){u="H"}if(u=="hh"){u="h"}if(u=="mm"){u="m"}if(u=="ss"){u="s"}}if(u=="yyyy"||u=="yy"){if(u=="yyyy"){z=4;w=4}if(u=="yy"||(A&&!r&&H=="ja")){z=2;w=2}B=(n==3||n==4)&&U.indexOf("元年")!=-1?e(U.replace("元年","1年"),T,z-1,w-1):e(U,T,z,w);if(B==null){return 0}T+=B.length;if(B.length==2||B.length==1){if(B>70){B=1900+(B-0)}else{B=2000+(B-0)}}B=A&&!r&&H=="ja"?l(B,N,n):B}else{if(u=="MMM"||u=="MMMM"){Q=0;for(var I=0;I<h[H].monthNames.length;I++){var t=h[H].monthNames[I];if(U.substring(T,T+t.length).toLowerCase()==t.toLowerCase()){if(I==12&&j(U.substring(T,T+t.length+1))){continue}if((u=="MMM"&&I>11)||u=="MMMM"){Q=I+1;if(Q>12){Q-=12}T+=t.length;break}}}if((Q<1)||(Q>12)){return 0}}else{if(u=="dddd"||u=="ddd"){for(var I=0;I<h[H].dayNames.length;I++){var F=h[H].dayNames[I];if(U.substring(T,T+F.length).toLowerCase()==F.toLowerCase()){T+=F.length;break}}}else{if(u=="MM"||u=="M"){Q=e(U,T,u.length,2);if(Q==null||(Q<1)||(Q>12)){return 0}T+=Q.length}else{if(u=="dd"||u=="d"){P=e(U,T,u.length,2);if(P==null||(P<1)||(P>31)){return 0}T+=P.length}else{if(u=="hh"||u=="h"){s=e(U,T,u.length,2);if(s==null||(s<1)||(s>12)){return 0}T+=s.length}else{if(u=="HH"||u=="H"){s=e(U,T,u.length,2);if(s==null||(s<0)||(s>23)){return 0}T+=s.length}else{if(u=="mm"||u=="m"){J=e(U,T,u.length,2);if(J==null||(J<0)||(J>59)){return 0}T+=J.length}else{if(u=="ss"||u=="s"){G=e(U,T,u.length,2);if(G==null||(G<0)||(G>59)){return 0}T+=G.length}else{if(u=="tt"||u=="t"){var E=h[H].am;var L=h[H].pm;if(U.substring(T,T+E.length).toLowerCase()==E.toLowerCase()){C="AM";T+=E.length}else{if(U.substring(T,T+L.length).toLowerCase()==L.toLowerCase()){C="PM";T+=L.length}else{return 0}}}else{if(U.substring(T,T+u.length)!=u){return 0}else{T+=u.length}}}}}}}}}}}}if(T!=U.length){return 0}if(Q==2){if(((B%4==0)&&(B%100!=0))||(B%400==0)){if(P>29){return 0}}else{if(P>28){return 0}}}if((Q==4)||(Q==6)||(Q==9)||(Q==11)){if(P>30){return 0}}if(s<12&&C=="PM"){s=s-0+12}else{if(s>11&&C=="AM"){s-=12}}var m=new Date(B,Q-1,P,s,J,G);return m.getTime()}function a(u){var s=(arguments.length==2)?arguments[1]:false;generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d");monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d");dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");var n=new Array("generalFormats",s?"dateFirst":"monthFirst",s?"monthFirst":"dateFirst");var t=null;for(var r=0;r<n.length;r++){var m=window[n[r]];for(var q=0;q<m.length;q++){t=d(u,m[q]);if(t!=0){return new Date(t)}}}return null}function b(r,s,m,q){var n="";r=parseInt(r),s=parseInt(s),m=parseInt(m);if(r>2019||(r==2019&&s>5)||(r==2019&&s==5&&m>=1)){n=q==1||q==3?"令和":"R";r-=2018}else{if(r>1989||(r==1989&&s>1)||(r==1989&&s==1&&m>=8)){n=q==1||q==3?"平成":"H";r-=1988}else{if(r>1926||(r==1926&&s>12)||(r==1926&&s==12&&m>=25)){n=q==1||q==3?"昭和":"S";r-=1925}else{if(r>1912||(r==1912&&s>7)||(r==1912&&s==7&&m>=30)){n=q==1||q==3?"大正":"T";r-=1911}else{if(r>1868||(r==1868&&s>1)||(r==1868&&s==1&&m>=1)){n=q==1||q==3?"明治":"M";r-=1867}}}}}return{japanYear:n,val:r}}function l(q,m,n){if(n==1||n==3){if(m=="令和"){return q+=18}else{if(m=="平成"){return q-=12}else{if(m=="昭和"){return q-=75}else{if(m=="大正"){return q-=89}else{if(m=="明治"){return q-=133}}}}}}else{if(m=="R"){return q+=18}else{if(m=="H"){return q-=12}else{if(m=="S"){return q-=75}else{if(m=="T"){return q-=89}else{if(m=="M"){return q-=133}}}}}}}m2soft.crownix.DateParser.formatDate=k;m2soft.crownix.DateParser.getDateFromFormat=d;m2soft.crownix.DateParser.isDate=g}());m2soft.ns("m2soft.crownix.Util");m2soft.ns("m2soft.crownix.Map");m2soft.crownix.Util.hasTouch=function(){return("ontouchstart" in window)};m2soft.crownix.Util.isSupportSVG=function(){return(!!(window.SVGAngle)||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))};m2soft.crownix.Util.isSupportWebCrypto=function(){return !!(window.crypto&&window.crypto.subtle&&atob&&btoa&&Uint8Array)};m2soft.crownix.Util.base64={toArray:function(e){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a=/[^A-Za-z0-9\+\/\=]/g;if(a.exec(e)){alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var b=[];var d=0;do{var j=c.indexOf(e.charAt(d++));var h=c.indexOf(e.charAt(d++));var g=c.indexOf(e.charAt(d++));var f=c.indexOf(e.charAt(d++));b.push((j<<2)|(h>>4));if(g!=64){b.push(((h&15)<<4)|(g>>2))}if(f!=64){b.push(((g&3)<<6)|f)}}while(d<e.length);return b},decode:function(b){var d=this.toArray(b);var a="";for(var c=0;c<d.length;c++){a+=String.fromCharCode(d[c])}return unescape(a)},utf8Decode:function(a){var h=this.toArray(a);var e="";var f=[];var b=0;for(var d=0;d<h.length;d++){var g=h[d];if(b==0){if((g&128)==0){b=1}else{if((g&224)==192){b=2}else{if((g&240)==224){b=3}else{b=1}}}}b--;f.push(g);if(b==0){switch(f.length){case 0:break;case 1:e+=String.fromCharCode(f[0]);break;case 2:e+=String.fromCharCode((f[0]&31)<<6|(f[1]&63));break;case 3:e+=String.fromCharCode((f[0]&15)<<12|(f[1]&63)<<6|(f[2]&63));break}f=[]}}return unescape(e)},isImage:function(a){var b=/data:image\/([a-zA-Z]*);base64,([^\"]*)/;return !!(b.exec(a))},toBlob:function(b,c){if(!Blob||!Uint8Array){console.log("window.Blob을 지원하지 않는 브라우저 입니다.");return null}var a=new Uint8Array(this.toArray(b));var d=c||"";return new Blob([a],{type:d})}};m2soft.crownix.Util.getUrlVars=function(){var d=[],c;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d};m2soft.crownix.Util.getUrlVar=function(a){return decodeURIComponent(m2soft.crownix.Util.getUrlVars()[a])};m2soft.crownix.Util.isArray=function(a){return a&&typeof a==="object"&&typeof a.length==="number"&&typeof a.splice==="function"&&!(a.propertyIsEnumerable("length"))};m2soft.crownix.Util.escapeXmlEntities=function(b){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","[":"&#x5B;","]":"&#x5D;"};return b.replace(/[&<>"'\/]/g,function(c){return a[c]})};m2soft.crownix.Util.browser=(function(){var s=navigator.userAgent,l=navigator.standalone,k=true,d=/edge/i.test(s),q=/(msie|trident)/i.test(s),n=/chrome|crios/i.test(s),f=/phantom/i.test(s),g=/safari/i.test(s)&&!n&&!f,m=/touchpad/i.test(s),B=/android/i.test(s),u=/opera/i.test(s)||/opr\//i.test(s),e=/firefox|FxiOS/i.test(s),j=/gecko\//i.test(s),c=/seamonkey\//i.test(s),z=/version\/(\d+(\.\d+)?)/i,b=/firefox|FxiOS\/(\d+(\.\d+)?)/i,h=(/iPad|iPhone|iPod/.test(navigator.platform)||(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1))&&!window.MSStream,r,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(s);function w(){if(j){r={name:"Gecko",gecko:k,mozilla:k,version:s.match(b)[1],mobile:B||h};if(e){r.name="Firefox";r.firefox=k}return r}if(d){return{name:"Edge",edge:s.match(/edge/i)?s.match(/edge\/(\d+(\.\d+)?)/i)[1]:undefined}}if(q){return{name:"Internet Explorer",msie:k,version:document.documentMode?document.documentMode:s.match(/(msie |rv:)(\d+(\.\d+)?)/i)[2],trident:s.match(/trident/i)?s.match(/trident\/(\d+(\.\d+)?)/i)[2]:undefined}}if(u){return{name:"Opera",opera:k,webkit:s.match(/AppleWebKit/i),version:s.match(z)?s.match(z)[1]:s.match(/opr\/(\d+(\.\d+)?)/i)[1],mobile:B||h}}if(B){return{name:"Android",webkit:k,android:k,mobile:k,samsung:s.match(/samsung/i)?k:!k,version:s.match(/Android\s([0-9\.]*)/)[1],chrome:n?{name:"Chrome",webkit:k,version:s.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:undefined}}if(h){r={name:"iOS",webkit:k,mobile:k,ios:k,uiwebview:(k&&!l&&!g),chrome:n?{name:"Chrome",webkit:k,version:s.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:undefined,firefox:e?{name:"Firefox",firefox:k}:undefined};if(z.test(s)){r.version=s.match(z)[1]}return r}if(n){return{name:"Chrome",webkit:k,chrome:k,version:s.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}}if(f){return{name:"PhantomJS",webkit:k,phantom:k,version:s.match(/phantomjs\/(\d+(\.\d+)+)/i)[1]}}if(m){return{name:"TouchPad",webkit:k,touchpad:k,version:s.match(/touchpad\/(\d+(\.\d+)?)/i)[1]}}if(g){return{name:"Safari",webkit:k,safari:k,version:s.match(z)[1]}}if(c){return{name:"SeaMonkey",seamonkey:k,version:s.match(/seamonkey\/(\d+(\.\d+)?)/i)[1]}}return{}}var A=w();if((A.msie&&A.version>=8)||(A.chrome&&A.version>=10)||(A.firefox&&A.version>=4)||(A.safari&&A.version>=5)||(A.opera&&A.version>=10)){A.a=k}else{if((A.msie&&A.version<8)||(A.chrome&&A.version<10)||(A.firefox&&A.version<4)||(A.safari&&A.version<5)||(A.opera&&A.version<10)){A.c=k}else{A.x=k}}return A})();m2soft.crownix.Util.os=(function(){var b=navigator.userAgent;function a(){if(b.indexOf("NT 7.0")!=-1){return{name:"Windows 7",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("NT 6.0")!=-1){return{name:"Windows Vista/Server 2008",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("NT 5.2")!=-1){return{name:"Windows Server 2003",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("NT 5.1")!=-1||b.indexOf("XP")!=-1){return{name:"Windows XP",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("NT 5.0")!=-1||b.indexOf("2000")!=-1){return{name:"Windows 2000",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("NT")!=-1){return{name:"Windows NT",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("9x 4.90")!=-1||b.indexOf("ME")!=-1){return{name:"Windows Me",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("98")!=-1){return{name:"Windows 98",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("95")!=-1){return{name:"Windows 95",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("Win16")!=-1){return{name:"Windows 3.x",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("Windows")!=-1){return{name:"Windows",windows:true,openbsd:false,sunos:false,linux:false,macos:false}}else{if(b.indexOf("OpenBSD")!=-1){return{name:"Open BSD",windows:false,openbsd:true,sunos:false,linux:false,macos:false}}else{if(b.indexOf("SunOS")!=-1){return{name:"Sun OS",windows:false,openbsd:false,sunos:true,linux:false,macos:false}}else{if(b.indexOf("Linux")!=-1||b.indexOf("X11")!=-1){return{name:"Linux",windows:false,openbsd:false,sunos:false,linux:true,macos:false}}else{if(b.indexOf("Macintosh")!=-1||b.indexOf("Mac_PowerPC")!=-1){return{name:"Mac OS",windows:false,openbsd:false,sunos:false,linux:false,macos:true}}else{if(b.indexOf("iPhone")!=-1||b.indexOf("iPad")!=-1){return{name:"iOS",majorVersion:b.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],windows:false,openbsd:false,sunos:false,linux:false,macos:false}}else{return""}}}}}}}}}}}}}}}}}return a()})();m2soft.crownix.Util.getAcrobatInfo=function(){var e=function(f){try{return new ActiveXObject(f)}catch(g){}};var b=function(f){for(key in navigator.plugins){var g=navigator.plugins[key];if(g.name==f){return g}}};var c=function(){return this.plugin=this.plugin||function(){if(m2soft.crownix.Util.browser.msie){return e("AcroPDF.PDF")||e("PDF.PdfCtrl")}else{return b("Adobe Acrobat")||b("Chrome PDF Viewer")||b("WebKit built-in PDF")}}()};var d=function(){return !!c()};var a=function(){try{var h=c();if(m2soft.crownix.Util.browser.msie){var f=h.GetVersions().split(",");var g=f[0].split("=");return parseFloat(g[1])}if(h.version){return parseInt(h.version)}return h.name}catch(j){return null}};return{isInstalled:d(),version:a()}};m2soft.crownix.Util.formatPageNumber=function(e,d){var c=d.currentPage,b=d.totalPage;var a=function(k,j){var h=k.split("");var g=false;for(var f=0;f<h.length;f++){if(g||j.length-1>=f&&(j[j.length-1-f]=="＃"||j[j.length-1-f]=="＄")){if(j.length-1==f){g=true}h[h.length-1-f]=String.fromCharCode(k.charCodeAt(h.length-1-f)+65248)}}return h.join("")};e=e.replace(/(#|＃)+/g,function(g){var f=g;var j=f.length-1;var h=b.toString();while(h.length<g.length){h="0"+h}h=a(h,f);return h});e=e.replace(/(\$|＄)+/g,function(g){var f=g;var j=f.length-1;var h=c.toString();while(h.length<g.length){h="0"+h}h=a(h,f);return h});return e};m2soft.crownix.Map=function(){var a=new Object();this.put=function(b,c){a[b]=c};this.get=function(b){return a[b]};this.containsKey=function(b){return b in a};this.containsValue=function(b){for(var c in a){if(a[c]==b){return true}}return false};this.isEmpty=function(b){return(this.size()==0)};this.clear=function(){for(var b in a){delete a[b]}};this.remove=function(b){delete a[b]};this.keys=function(){var b=new Array();for(var c in a){b.push(c)}return b};this.values=function(){var b=new Array();for(var c in a){b.push(a[c])}return b};this.size=function(){var b=0;for(var c in a){b++}return b};this.toString=function(){var b=[];for(var c in a){b.push(c+"="+a[c])}return b.join("\n")};this.toObject=function(){var b={};for(var c in a){b[c]=a[c]}return b}};m2soft.ns("m2soft.crownix.Util.StopWatch");m2soft.crownix.Util.StopWatch=function(){var c=0,a=0,b=0,d=0;this.start=function(){c=a=Date.now();b=d=0};this.stop=function(){var e=Date.now();b=e-c;d=e-a};this.lab=function(){var e=Date.now();d=e-a;b=e-c;a=e};this.getElapsedTimeMillis=function(){return b};this.getLabTimeMillis=function(){return d};this.toString=function(){return"elapsedTime="+b}};m2soft.ns("m2soft.crownix.util.Converter");m2soft.crownix.util.Converter={xml2json:function(b,a){var c=new X2JS(a);return c.xml_str2json(b)},json2xml:function(b,a){var c=new X2JS(a);return c.json2xml_str(b)}};m2soft.ns("m2soft.crownix.util.SingleTone");m2soft.crownix.util.SingleTone=function(a){var b;var d=function(){if(b===undefined){var f=function(){};f.prototype=a.prototype;var e=new f();var c=a.apply(e,Array.prototype.slice.call(arguments));b=(typeof c==="object")?c:e}return b};d.getInstance=function(){return d.apply(null,Array.prototype.slice.call(arguments))};d.dispose=function(){b=undefined};return d};m2soft.ns("m2soft.crownix.util.DateUtil");m2soft.crownix.util.DateUtil.convertDateFormat=function(f,c,h,d,a,e){var g=m2soft.crownix.DateParser.getDateFromFormat(c,f,undefined,undefined,d,a,d&&e?false:true);if(g===0){return""}var b=new Date(g);return m2soft.crownix.DateParser.formatDate(h,b,undefined,d,a,d&&e?true:false)};m2soft.crownix.Util.deserialize=function(a){var j={};if(!a){return j}var e=a.split("&");for(var c=0,d=e.length;c<d;c++){var b=e[c];var g=b.indexOf("=");if(g!=-1){var h=decodeURI(b.substring(0,g));var f=decodeURI(b.substring(g+1));j[h]=f}}return j};m2soft.crownix.Util.ASCENDING_COMPARATOR=function(a,b){if(a<b){return -1}else{if(a>b){return 1}else{return 0}}};m2soft.crownix.Util.DESCENDING_COMPARATOR=function(a,b){if(a>b){return -1}else{if(a<b){return 1}else{return 0}}};m2soft.crownix.Util.toFixed=function(b,a){return parseFloat(b.toFixed(a))};m2soft.crownix.Util.adjustFontsize=function(j,c){var g={min:0,max:20,limitSize:5};c=$.extend(true,g,c);var e=j.find("span"),a=j.find("svg"),k=j.width(),h=e.width(),d=parseFloat(e.css("font-size")),l=a.length>0?a.outerWidth():0,b,f;b=Math.min(Math.max(c.min,(k-l)/h*d),c.max);j.css("white-space","nowrap");e.css({"font-size":b,"vertical-align":"middle"});f=e.outerWidth()/(k-l);if(f>1){b=Math.min(Math.max(c.min,b/f),c.max)}e.css("font-size",(b<c.limitSize&&a.length>0)?0:b)};m2soft.ns("m2soft.crownix.util.NumberUtil");m2soft.crownix.util.NumberUtil=(function(){var c,d,h={numberFormat:undefined,currencyFormat:undefined};var g=function(l,k,j){this.format=l;this.checkZero=k;this.checkNoZero=j;m2soft.crownix.util.NumberUtil.setLocaleFormat()};var a=function(t,m,k){var q=t.toString().split("."),u=m-(k||0),j,s,n,l="";if(q.length===2){j=Math.min(Math.max(q[1].length,u),m);l=q[1].substring(0,j)}else{j=u}for(var r=l.length;r<j;r++){l=l.concat("0")}if(!isNaN(q[0])){q[0]=q[0].replace(/(^0+)/,"")||"0"}if(l){n=q[0]+"."+l}else{n=q[0]}if(k>m-j){s=new RegExp("\\.?0{1,"+(k-(m-j))+"}$");n=n.replace(s,"")}return n};var e=function(t,s,q,z,n){var r=true,j=false,u,k,l,m="";if(t===null||!t){return t}if(t.indexOf("+")>-1){r=true;t=t.replace(/\+/g,"")}else{if(t.indexOf("-")>-1){r=false;t=t.replace(/\-/g,"")}}if(n&&n=="1"){if(!Number(t)){return""}}if(s.indexOf("[.]")>-1){j=true;s=s.replace("[.]",".")}u=t.toString().split(".")[0];k=s.split(".")[1];l=s.indexOf(q);if(k){if(k.indexOf("[")>-1){k=k.replace("]","");k=k.split("[");m=a(t,(k[0].length+k[1].length),k[1].length)}else{m=a(t,k.length)}u=m.split(".")[0];if(m.indexOf(".")>-1){m="."+m.split(".")[1]}else{m=""}if(j&&Number(m.slice(1))===0){m=""}}else{u=a(t,null)}if(l>-1){u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+q)}if(s.indexOf(".")===0){u=""}if(z&&z=="1"&&m.indexOf(".")!=-1){m=m.substring(m.indexOf(".")+1,m.length);while(m&&m.lastIndexOf("0")==m.length-1){m=m.substring(0,m.length-1)}m=(m?".":"")+m}return(r?"":"-")+u+m};var f=function(j){var m=j,k=/[^0-9&&^\.&&\-&&\+]/gi;if(typeof m==="number"){m=m.toString()}if(m.indexOf(".")!=m.lastIndexOf(".")){var l=m.split(".");m=l[0]+"."+l[1]}m=m.replace(k,"");return m};var b=function(q){var j,n,m,r,l,k;if(q.toLowerCase().search("(default number format)")!=-1){q=q.toLowerCase().replace("(default number format)",h.numberFormat)}else{if(q.toLowerCase().search("(default currency format)")!=-1){q=q.toLowerCase().replace("(default currency format)",h.currencyFormat)}}j=q.indexOf("#");n=q.lastIndexOf("#")+1;m=q.length;r=q.substring(0,j);l=q.substring(j,n);k=q.substring(n,m);return{front:r,middle:l,end:k}};g.prototype={formatNumber:function(l){var j,k;l=f(l);j=b(this.format);if(j.middle.search("[']")!=-1){k=e(l,j.middle,"'",this.checkZero,this.checkNoZero)}else{if(j.middle.search("[*]")!=-1){k=e(l,j.middle,"*",this.checkZero,this.checkNoZero)}else{k=e(l,j.middle,",",this.checkZero,this.checkNoZero)}}return j.front+k+j.end},unformatNumber:function(j){return f(j)},setNumberFormat:function(j){if(!h.numberFormat){h.numberFormat=j}},getNumberFormat:function(){return h.numberFormat},setCurrencyFormat:function(j){if(!h.currencyFormat){h.currencyFormat=j}},getCurrencyFormat:function(){return h.currencyFormat}};return g})();m2soft.crownix.util.NumberUtil.setLocaleFormat=function(b,d){var c,a,e=b||m2soft.crownix.Resource.language;if(e=="ja"){c="¥ #,###";a="#,###[.]###"}else{if(e=="zh-CN"||e=="zh"){c="¥ #,###[.]##";a="#,###[.]###"}else{if(e=="en"){c="$ #,###[.]##";a="#,###[.]###"}else{c="₩ #,###";a="#,###[.]###"}}}this.prototype.setCurrencyFormat(d!==undefined&&d.currencyFormat!==undefined?d.currencyFormat:c);this.prototype.setNumberFormat(d!==undefined&&d.numberFormat!==undefined?d.numberFormat:a)};m2soft.ns("m2soft.crownix.util.Color");m2soft.crownix.util.Color={hexToRgb:function(c,e,d){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(c==="none"){return[0,0,0,0]}if(a===null){throw Error("[Crownix Viewer] Invalid Color Value("+c+")")}if(typeof e!=="number"){e=0}if(typeof d!=="number"){d=1}var b=[parseInt(a[1],16)+e,parseInt(a[2],16)+e,parseInt(a[3],16)+e];if(d!=1){b.push(d)}return b},rgbToHex:function(b){for(var c=0,a=b.length;c<a;c++){if(b[c]<0){b[c]=0}if(b[c]>255){b[c]=255}}return"#"+b[0].toString(16)+b[1].toString(16)+b[2].toString(16)},toRgbString:function(a){if(a.length==4){return"rgba("+a.join(",")+")"}else{return"rgb("+a.join(",")+")"}},toRgbArray:function(b){var a=b.replace(/[^%,.\d]/g,"").split(",");a.forEach(function(e,d,c){if(e.indexOf("%")>-1){e=Math.round(parseFloat(e)*2.55)}e=parseInt(e,10).toString(16);if(e.length===1){e="0"+e}c[d]=e});return a}};m2soft.ns("m2soft.crownix.Util.ActionEvents");m2soft.crownix.Util.ActionEvents=(function(){return window.navigator.pointerEnabled||window.PointerEvent?{start:"pointerdown",move:"pointermove",end:"pointerup",out:"pointerout",over:"pointerover"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",out:"MSPointerout",over:"MSPointerover"}:{start:"mousedown",move:"mousemove",end:"mouseup",out:"mouseout",over:"mouseover"}}());m2soft.crownix.Util.sha256=function(t){var l=8;var q=0;function j(s,z){var w=(s&65535)+(z&65535);var u=(s>>16)+(z>>16)+(w>>16);return(u<<16)|(w&65535)}function e(u,s){return(u>>>s)|(u<<(32-s))}function f(u,s){return(u>>>s)}function a(s,w,u){return((s&w)^((~s)&u))}function d(s,w,u){return((s&w)^(s&u)^(w&u))}function g(s){return(e(s,2)^e(s,13)^e(s,22))}function b(s){return(e(s,6)^e(s,11)^e(s,25))}function r(s){return(e(s,7)^e(s,18)^f(s,3))}function k(s){return(e(s,17)^e(s,19)^f(s,10))}function c(u,w){var L=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);var z=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);var s=new Array(64);var N,M,J,I,G,E,D,C,B,A;var H,F;u[w>>5]|=128<<(24-w%32);u[((w+64>>9)<<4)+15]=w;for(var B=0;B<u.length;B+=16){N=z[0];M=z[1];J=z[2];I=z[3];G=z[4];E=z[5];D=z[6];C=z[7];for(var A=0;A<64;A++){if(A<16){s[A]=u[A+B]}else{s[A]=j(j(j(k(s[A-2]),s[A-7]),r(s[A-15])),s[A-16])}H=j(j(j(j(C,b(G)),a(G,E,D)),L[A]),s[A]);F=j(g(N),d(N,M,J));C=D;D=E;E=G;G=j(I,H);I=J;J=M;M=N;N=j(H,F)}z[0]=j(N,z[0]);z[1]=j(M,z[1]);z[2]=j(J,z[2]);z[3]=j(I,z[3]);z[4]=j(G,z[4]);z[5]=j(E,z[5]);z[6]=j(D,z[6]);z[7]=j(C,z[7])}return z}function h(z){var w=Array();var s=(1<<l)-1;for(var u=0;u<z.length*l;u+=l){w[u>>5]|=(z.charCodeAt(u/l)&s)<<(24-u%32)}return w}function n(u){u=u.replace(/\r\n/g,"\n");var s="";for(var z=0;z<u.length;z++){var w=u.charCodeAt(z);if(w<128){s+=String.fromCharCode(w)}else{if((w>127)&&(w<2048)){s+=String.fromCharCode((w>>6)|192);s+=String.fromCharCode((w&63)|128)}else{s+=String.fromCharCode((w>>12)|224);s+=String.fromCharCode(((w>>6)&63)|128);s+=String.fromCharCode((w&63)|128)}}}return s}function m(w){var u=q?"0123456789ABCDEF":"0123456789abcdef";var z="";for(var s=0;s<w.length*4;s++){z+=u.charAt((w[s>>2]>>((3-s%4)*8+4))&15)+u.charAt((w[s>>2]>>((3-s%4)*8))&15)}return z}t=n(t);return m(c(h(t),t.length*l))};m2soft.crownix.Util.isCloudServer=function(){var a=m2soft.crownix.Ajax.xApiKey;return(a&&typeof a==="string")};m2soft.crownix.Util.string={ltrim:function(a){var d=" ";var c=a.length;var e=0;for(var b=0;b<c;b++){if(a[b]===d){e++}else{break}}return a.substring(e,c)},rtrim:function(a){var d=" ";var c=a.length;var e=c;for(var b=c-1;b>-1;b--){if(a[b]===d){e--}else{break}}return a.substring(0,e)}};m2soft.crownix.Util.wildcardRegExp=function(a){a=a.split(/\*+/).map(function(b){return b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}).join(".*");return new RegExp("^"+a+"$")};m2soft.crownix.Util.uuid=function(){var b="",c;for(var a=0;a<32;a++){c=Math.random()*16|0;if(a==8||a==12||a==16||a==20){b+="-"}b+=(a==12?4:(a==16?(c&3|8):c)).toString(16)}return b};m2soft.crownix.Util.extend=function(){var q={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};var g=({}).hasOwnProperty;var m=function(t){if(t==null){return t+""}return typeof t==="object"||typeof t==="function"?q[toString.call(t)]||"object":typeof t};var e=function(t){return t!=null&&t==t.window};var r=function(w){var t;if(!w||m(w)!=="object"||w.nodeType||e(w)){return false}try{if(w.constructor&&!g.call(w,"constructor")&&!g.call(w.constructor.prototype,"isPrototypeOf")){return false}}catch(u){return false}for(t in w){}return t===undefined||g.call(w,t)};var h=Array.isArray||function(t){return m(t)==="array"};var a,k,c,b,s,l,j=arguments[0]||{},f=1,d=arguments.length,n=false;if(typeof j==="boolean"){n=j;j=arguments[f]||{};f++}if(typeof j!=="object"){j={}}for(;f<d;f++){if((s=arguments[f])!=null){for(b in s){a=j[b];c=s[b];if(j===c){continue}if(n&&c&&(r(c)||(k=h(c)))){if(k){k=false;l=a&&h(a)?a:[]}else{l=a&&r(a)?a:{}}j[b]=this.extend(n,l,c)}else{if(c!==undefined){j[b]=c}}}}}return j};m2soft.crownix.Util.REGEXP_EMAIL=new RegExp(/^[-A-Za-z0-9_]+[-A-Za-z0-9_.]*[@]{1}[-A-Za-z0-9_]+[-A-Za-z0-9_.]*[.]{1}[A-Za-z]{1,5}$/);m2soft.crownix.Util.REGEXP_URL=new RegExp(/^(file|gopher|news|nntp|telnet|https?|ftps?|sftp):\/\/([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/);m2soft.crownix.Util.REGEXP_TEL=new RegExp(/^(\+?\d{1,3}\s)?\d{1,3}((\s|\-){1})?\d{2,4}((\s|\-){1})?\d{2,4}((\s|\-){1})?(\d{2,4})?((\s|\-){1})?(\d{2,4})?$/);m2soft.crownix.Util.REGEXP_NUMBER=new RegExp(/^[0-9]*$/);m2soft.crownix.Util.changeScrollbar=function(b,g,f,e,d){var h=$(".iScrollHorizontalScrollbar");h.each(function(){if($(this).parents(".crownix-tab-content").length){return}$(this).css({height:b,visibility:"hidden"})});var a=$(".iScrollVerticalScrollbar");a.each(function(){if($(this).parents(".crownix-tab-content").length){return}$(this).css({width:g,visibility:"hidden"})});var c=$(".iScrollHorizontalScrollbar .iScrollIndicator, .iScrollVerticalScrollbar .iScrollIndicator");c.each(function(){if($(this).parents(".crownix-tab-content").length){return}$(this).css({visibility:"visible",background:f,"border-radius":e+"px"})})};m2soft.crownix.Util.changeScrollbarToTarget=function(g,b,f,e,d,c){var h,a;h=g.siblings(".iScrollHorizontalScrollbar").css({height:b});a=g.siblings(".iScrollVerticalScrollbar").css({width:f});h.find(".iScrollIndicator").css({background:e,"border-radius":d+"px"});a.find(".iScrollIndicator").css({background:e,"border-radius":d+"px"})};$.extend({objectSize:function(c){var b=0;for(var a in c){if(c.hasOwnProperty(a)){b++}}return b}});m2soft.crownix.Util.Promise={};m2soft.crownix.Util.Promise.DeferChain={timingDefer:$.Deferred().resolve(),toResolve:function(){this.timingDefer=this.timingDefer.pipe(null,function(){return $.Deferred().resolve()})},push:function(b,a){this.toResolve();this.timingDefer=this.timingDefer.pipe(function(){return b(a)});return this.timingDefer}};(function(c){c.crownixtools=c.crownixtools||{version:"@VERSION"};c.crownixtools.overlay={addEffect:function(e,f,g){b[e]=[f,g]},conf:{position:"absolute",close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!m2soft.crownix.Util.browser.msie||m2soft.crownix.Util.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var d=[],b={};c.crownixtools.overlay.addEffect("default",function(h,g){var f=this.getConf(),e=c(window);if(!f.fixed&&f.position!="relative"&&!f.scrollArrangeDisable){h.top+=e.scrollTop();h.left+=e.scrollLeft()}h.position=f.fixed?"fixed":f.position;this.getOverlay().css(h).fadeIn(f.speed,g)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)});function a(h,n){var r=this,f=h.add(r),q=c(n.mask.viewer_id==document?window:(n.mask.viewer_id)),l,k,j,e=c.crownixtools.expose&&(n.mask||n.expose),m=Math.random().toString().slice(10);if(e){if(typeof e=="string"){e={color:e}}e.closeOnClick=e.closeOnEsc=false}var g=n.target||h.attr("rel");k=g?c(g):null||h;if(!k.length){throw"Could not find Overlay: "+g}if(h&&h.index(k)==-1){h.click(function(s){r.load(s);return s.preventDefault()})}c.extend(r,{load:function(A){if(r.isOpened()){return r}var u=b[n.effect];if(!u){throw'Overlay: cannot find effect : "'+n.effect+'"'}if(n.oneInstance){c.each(d,function(){this.close(A)})}A=A||c.Event();A.type="onBeforeLoad";f.trigger(A);if(A.isDefaultPrevented()){return r}j=true;if(e){c(k).expose(e)}var z=n.top,w=n.left,s=k.outerWidth({margin:true}),t=k.outerHeight({margin:true});if(typeof z=="string"){z=z=="center"?Math.max((q.height()-t)/2,0):parseInt(z,10)/100*q.height()}if(w=="center"){w=Math.max((q.width()-s)/2,0)}u[0].call(r,{top:z,left:w},function(){if(j){A.type="onLoad";f.trigger(A)}});if(e&&n.closeOnClick){c.mask.getMask().one("click",r.close)}if(n.closeOnClick){c(document).on("click."+m,function(B){if(!c(B.target).parents(k).length){r.close(B)}})}if(n.closeOnEsc){c(document).on("keydown."+m,function(B){if(B.keyCode==27){r.close(B)}})}return r},close:function(s){if(!r.isOpened()){return r}s=s||c.Event();s.type="onBeforeClose";f.trigger(s);if(s.isDefaultPrevented()){return}j=false;b[n.effect][1].call(r,function(){s.type="onClose";f.trigger(s)});c(document).off("click."+m+" keydown."+m);if(e){c.mask.close(e)}return r},getOverlay:function(){return k},getTrigger:function(){return h},getClosers:function(){return l},isOpened:function(){return j},getConf:function(){return n}});c.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(t,s){if(c.isFunction(n[s])){c(r).on(s,n[s])}r[s]=function(u){if(u){c(r).on(s,u)}return r}});l=k.find(n.close||".close");if(!l.length&&!n.close){l=c('<a class="close"></a>');k.prepend(l)}l.click(function(s){r.close(s)});if(n.load){r.load()}}c.fn.overlayMessageBox=function(e){var f=this.data("overlay");if(f){return f}if(c.isFunction(e)){e={onBeforeLoad:e}}e=c.extend(true,{},c.crownixtools.overlay.conf,e);this.each(function(){f=new a(c(this),e);d.push(f);c(this).data("overlay",f)});return e.api?f:this}})(jQuery);(function(h){h.crownixtools=h.crownixtools||{version:"@VERSION"};var e;e=h.crownixtools.expose={conf:{viewer_id:document,maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:true,closeOnEsc:true,zIndex:10000,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function g(j){if(j){return j.call(h.mask)}}var b={},f,d={},c,a;h.mask={load:function(j,k){if(typeof j=="string"){j={color:j}}j=j||c;c=j=h.extend(h.extend({},e.conf),j);if(d[j.maskId]){return this}b[j.maskId]=h("#"+j.maskId);if(!b[j.maskId].length){b[j.maskId]=h("<div/>").attr("id",j.maskId);h("body").append(b[j.maskId]);h(j.viewer_id==document?"body":(j.viewer_id)).append(b[j.maskId])}b[j.maskId].css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none",opacity:j.startOpacity,zIndex:j.zIndex});if(j.color){b[j.maskId].css("backgroundColor",j.color)}if(g(j.onBeforeLoad)===false){return this}if(j.closeOnEsc){h(document).on("keydown.mask",function(l){if(l.keyCode==27){h.mask.close(l)}})}if(j.closeOnClick){b[j.maskId].on("click.mask",function(l){h.mask.close(l)})}if(k&&k.length){a=k.css("z-index");h.each(k,function(){var l=h(this);if(!/relative|absolute|fixed/i.test(l.css("position"))){l.css("position","relative")}});f=k.css({zIndex:Math.max(j.zIndex+1,a=="auto"?0:a)})}b[j.maskId].css({display:"block"}).fadeTo(j.loadSpeed,j.opacity,function(){g(j.onLoad);d[j.maskId]=false});d[j.maskId]=true;return this},close:function(j){if(d[j.maskId]){if(g(c.onBeforeClose)===false){return this}b[j.maskId].fadeOut(c.closeSpeed,function(){g(c.onClose);if(f){}d[j.maskId]=false});h(document).off("keydown.mask");b[j.maskId].off("click.mask");h(window).off("resize.mask")}return this},getMask:function(){var j=h.extend(h.extend({},e.conf),c);return b[j.maskId]},isLoaded:function(j){var k=h.extend(h.extend({},e.conf),c);return j?d[k.maskId]=="full":d[k.maskId]},getConf:function(){return c},getExposed:function(){return f}};h.fn.mask=function(j){h.mask.load(j);return this};h.fn.expose=function(j){h.mask.load(j,this);return this}})(jQuery);m2soft.ns("m2soft.crownix.util.Unit");m2soft.crownix.util.Unit={dpi:undefined,detectDPI:function(){if(this.dpi===undefined){var a=$("<div>").css({width:"1in",height:"1in",display:"none"}).appendTo("body");this.dpi=a.width();a.remove();if(window.console){console.log("[Crownix Viewer] detect "+this.dpi+" device DPI.");console.log("[Crownix Viewer] detect "+window.devicePixelRatio+" device pixel ratio.")}}},inToPx:function(a){this.detectDPI();return a*this.dpi},pxToIn:function(a){this.detectDPI();return a/this.dpi},ptToPx:function(a){this.detectDPI();return a/72*this.dpi},pxToPt:function(a){this.detectDPI();return a/this.dpi*72}};m2soft.ns("m2soft.crownix.AnimationFrame");m2soft.crownix.AnimationFrame=function(b){var d=10;var j=this;j.renderTask=b;var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(l){return window.setTimeout(l,1000/60)};var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(l){window.clearTimeout(l)};var g=null;var a=function(){g=h(c)};var k=function(){if(g){e(g);g=null}};var f=function(){if(j.renderTask.hasNext()){a()}else{j.renderTask.onTaskDone();k()}};var c=function(){var l=Date.now()+d;while(j.renderTask.hasNext()){j.renderTask.fetchAndExecute();if(Date.now()>l){break}}f()};j.start=a;j.cancel=k};m2soft.ns("m2soft.crownix.PageRenderer");m2soft.crownix.PageRenderer=function(d){var j={INIT:-1,RENDERING:0,DONE:1,PAUSE:2};var k={LOW:-1,HIGH:1};var c=this;var m={};var a=null;var e=function(q){var B=m2soft.crownix.AnimationFrame;var w=this;var t=[];var s=[];var q=q;var u=0;var r=0;var A=function(D,C){t.push(D);s.push(C);r++};var z=function(){t[u].call(null,s[u]);t[u]=null;s[u]=null;u++};w.taskID=q;w.priority=k.HIGH;w.animationFrame=new B(w);w.add=A;w.fetchAndExecute=z;w.state=j.INIT;w.size=function(){return r};w.hasNext=function(){return u<=(r-1)};w.start=function(){if(w.state!==j.RENDERING){w.state=j.RENDERING;w.animationFrame.start()}};w.clear=function(){t=[];s=[];u=0;r=0;w.state=j.DONE};w.cancel=function(){w.state=j.PAUSE;w.animationFrame.cancel()};w.onTaskDone=function(){w.clear();c.taskIndex++;w.state=j.DONE;delete m[q];if(c.hasNext()){a=c.getNextTask();c.start()}else{c.clear()}}};var f=function(r){var q;if(r===j.DONE){q="DONE"}else{if(r===j.INIT){q="INIT"}else{if(r===j.RENDERING){q="RENDERING"}}}return q};var g=function(r){var q=[];var u=Object.keys(r);for(var s=0,t=u.length;s<t;s++){q.push(r[u[s]])}q.sort(function(z,w){return z.taskID-w.taskID});return q};var h=function(q){var r={};q.map(function(s,t){r[s.taskID]=s});return r};var b=function(){if(a!==null&&(a.state===j.INIT||a.state===j.PAUSE)){a.start()}};var n=function(){if(a!==null){a.cancel()}};var l=function(){n();c.clear()};c.prepare=function(q){q.map(function(t,s){var r=m[t];if(r===undefined){m[t]=r=new e(t)}});if(a===null){a=g(m)[0]}};c.hasNext=function(){return(g(m).length)>0};c.getNextTask=function(){return g(m)[0]};c.clear=function(){var s=Object.keys(m);for(var q=0,r=s.length;q<r;q++){delete m[s[q]]}a=null};c.getRenderTask=function(q){if(m[q]===undefined){c.prepare([q])}return m[q]};c.start=b;c.pause=n;c.cancel=l};m2soft.ns("m2soft.crownix.DocumentScroller");m2soft.crownix.DocumentScroller=function(n,D,s){var e=m2soft.crownix.Constant;var r=m2soft.crownix.ChannelManager;var c=m2soft.crownix.Util;var h=m2soft.crownix.Resource;var d={BOTTOM:-1,TOP:1};var M=200;var b=n.options.scrollOptions.pageMargin;var g="."+e.PAGE_CLASS;var N=15;var l=c.isSupportSVG();var O;var G;var z=this;var D=D;var Q;var S=function(aa,ac,Z){var ad=document.createElement("div");var ab=ad.style;ab.width=ac+"px";ab.height=Z+"px";ab.margin="auto";if(aa>1){ab["padding-top"]=n.options.scrollOptions.pageMargin+"px"}ad.setAttribute("class",e.PAGE_CLASS);ad.setAttribute("no",aa);ad.appendChild(K());return ad};var H=function(Z){return z.scroller.querySelector(g+'[no="'+Z+'"]')};var C=function(){return Array.prototype.slice.call(z.scroller.querySelectorAll(g))};var a=function(ae){var aa=$(ae);var Z=parseInt(ae.style.width);var ad=parseInt(ae.style.height);aa.attr("loading-state","loading");var ac=$("<canvas>").attr({id:e.CANVAS_ID,width:Z,height:ad}).css({position:"absolute","z-index":1,width:Math.floor(Z),height:Math.floor(ad)});var ab=$("<div>").attr("id",e.TEXT_ID).addClass("crownix-text").css({position:"absolute",width:Z,height:ad,"z-index":2});var af=$("<div>").addClass("crownix-search-mark").css({position:"absolute",top:0,left:0,width:Z,height:ad,"pointer-events":"none"}).appendTo(ab);j(ae);ac.appendTo(aa);ab.appendTo(aa);if(n.license.isAllowedFeature("Note")&&n.options.enableNote&&l){$("<div>").attr("id",e.NOTE_ID).addClass(e.NOTE_CLASS).css({position:"absolute",display:"block",width:Z,height:ad,"z-index":3}).appendTo(aa)}if(n.options.formField.readonly){$("<div>").attr("id",e.PREVENTER_ID).css({position:"absolute",width:Z,height:ad,"z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo(aa)}$(K()).addClass("transparent").appendTo(aa);r.getChannel("toolbar:changeToolbarState").subscribeOnce(function(ai){var aj=ai.theme;var ag=parseFloat(aj.pageBorderWidth);var ah=aj.pageBorderWidth.substr(ag.toString().length);if(ag>1){aa.css({width:Z+ag*2+ah,height:ad+ag*2+ah});n.scroll.refresh()}});r.getChannel("viewer:createPageDom").publish()};var F=function(){return $(".m2soft-crownix-page-frame[loading-state=loading], .m2soft-crownix-page-frame[loading-state=done]")};var Y=function(){return F().length};var u=function(aa){var ah=F();var ag;var af=q(O);var ac=af.top;var ai;if(!aa&&ah.length<=N){return}if(ah.length>0){n.pageRenderer.cancel();if(aa){ah.each(function(){var ak=this;var aj=parseInt(ak.getAttribute("no"));if(n.options.enableNote){n.noteManager.removeNoteElement(aj)}j(ak);ak.appendChild(K())})}else{var Z=ah.length-N;if(Q===d.TOP){for(var ad=ah.length-1;ad>ah.length-1-Z;ad--){var ab=ah[ad];var ae=parseInt(ab.getAttribute("no"));if(n.options.enableNote){n.noteManager.removeNoteElement(ae)}j(ab);ab.appendChild(K())}}else{for(var ad=0;ad<Z;ad++){var ab=ah[ad];var ae=parseInt(ab.getAttribute("no"));if(n.options.enableNote){n.noteManager.removeNoteElement(ae)}j(ab);ab.appendChild(K())}}}}};var P=function(Z){if(Z){u(Z)}var aa=E().filter(function(ab){return ab.getAttribute("loading-state")!=="done"&&ab.getAttribute("loading-state")!=="loading"}).map(function(ab){return parseInt(ab.getAttribute("no"))});B(aa)};var B=function(Z){if(Z.length>0){n.pageRenderer.prepare(Z);Z.map(function(aa){var ac=H(aa);var ab=n.pageRenderer.getRenderTask(aa);if(ab.size()===0){ab.add(a,ac);ab.add(n.stateLess?D:s,aa)}});n.pageRenderer.start()}else{r.getChannel("tabOrder:movePage").publish()}};var j=function(Z){while(Z.hasChildNodes()){Z.removeChild(Z.firstChild)}$(Z).off();Z.removeAttribute("loading-state")};var k=function(aa,ab,Z){var ac=new S(aa,ab,Z);z.scroller.appendChild(ac);t(ab,Z);n.scroll&&n.scroll.refresh();if(A(ac)){B([aa])}};var w=function(){return C().filter(function(Z){return Z.style.display!=="none"}).map(function(Z){return parseFloat(Z.style.width)}).reduce(function(aa,Z){return Math.max(aa,Z)},-1)};var T=function(){return C().length};var L=function(){return C().filter(function(Z){return Z.style.display!=="none"}).length};var K=function(){var Z=document.createElement("div");Z.setAttribute("class","crownix-page-loading");return Z};var U=function(){var Z=document.createElement("div");var aa=Z.style;Z.setAttribute("id","m2soft-document-scroller");aa.position="relative";aa.padding=n.options.scrollOptions.pageMargin+"px";$(Z).prependTo(O);z.scroller=Z};var W=function(){O=document.getElementById(e.CONTAINER_ID);U()};var t=function(ae,aa){var Z=z.scroller;var ab=parseFloat(ae)||0;var af=parseFloat(aa)||0;var ad=parseFloat(Z.style.width);var ag=parseFloat(Z.style.height);function ac(){var ai;var ah=n.options.defaultZoom;if(ah){if(!isNaN(ah)){ai=ah}else{if(ah.toUpperCase()=="WIDTH"){ai=f()}else{if(ah.toUpperCase()=="HEIGHT"){ai=m()}}}}else{ai=Math.min(1,f())}if(n.scroll.scale==ai){P()}else{n.scroll.zoom(ai,$(O).width()/2,$(O).height()/2,0)}}if(isNaN(ad)){Z.style.width=ab+"px";ac()}if(isNaN(ag)){Z.style.height=(af)+"px";return}if(ae>ad){Z.style.width=ab+"px";ac()}Z.style.height=(ag+(Math.round(af*100)/100)+b)+"px"};var f=function(){var aa=q(O).width;var Z=parseFloat(z.scroller.style.width);var ab=e.CONTAINER_PADDING*2*aa/Z;return(aa-ab)/Z};var m=function(){var Z=H(z.getCurrentPageNumber());var ab=parseFloat(Z.style.height);var aa=q(O).height;var ac=e.CONTAINER_PADDING*2*aa/ab;return(aa-ac)/ab};var X=function(){var Z=z.getDisplayPageNumber();var aa=L();if(aa==1){n.toolbar.disableToolbarItem(["next","last","move"])}else{if(Z==1){n.toolbar.disableToolbarItem(["first","prev"]);n.toolbar.enableToolbarItem(["next","last"])}else{if(Z==aa){n.toolbar.disableToolbarItem(["next","last"]);n.toolbar.enableToolbarItem(["first","prev"])}else{n.toolbar.enableToolbarItem(["first","prev","next","last"])}}}};var q=function(Z){var aa;if(Z.getBoundingClientRect){aa=Z.getBoundingClientRect()}else{if(Z.getClientRects){aa=Z.getClientRects()[0]}}return aa};var A=function(ad){var af=q(ad),Z=q(O),ab=Z.height,ac=Z.top,aa=Math.floor(af.top),ae=parseInt(af.height);return(aa<ac&&(aa+ae)>ac)||(aa>=ac&&(aa+ae)<=ab)||(aa>=ac&&aa<=ab)};var E=function(){var ac=[];var ad=document.querySelectorAll("."+e.PAGE_CLASS);var ae=q(O);var aa=ae.height;var ag;var af;var ab;var Z=ae.top;var ah;for(ab=0;ab<ad.length;ab++){ag=ad[ab];af=q(ag);ah=af.top-Z;if(A(ag)){ac.push(ag)}if(ah+af.height>aa){break}}return ac};var V=function(Z){Q=Z>0?d.TOP:d.BOTTOM};var I=function(){return Q};var J=function(Z){var aa=H(Z);return(aa!==null)&&aa.getAttribute("loading-state")==="done"};z.scrollToPage=function(Z,aa){n.scroll.scrollToElement(H(Z),M);n.currentPage=Z;if(aa){setTimeout(aa,M+10)}};z.getCurrentPageNumber=function(){return parseInt($(E()[0]).attr("no"))};z.getDisplayPageNumber=function(){return n.report.getDestPageNum(z.getCurrentPageNumber())};z.removePage=function(aa){var Z;var ab=0;aa.filter(function(ac){return H(ac).style.display!=="none"}).map(function(ac){Z=H(ac);ab+=parseFloat(Z.style.height);if(ac>1){ab+=b}Z.style.display="none"});z.scroller.style.width=w()+"px";z.scroller.style.height=(parseFloat(z.scroller.style.height)-ab)+"px";n.scroll.refresh();n.dialog.pagenum(z.getDisplayPageNumber(),n.totalPage,false);P();X()};z.restorePage=function(ab){var Z;var aa=0;ab.filter(function(ac){return H(ac).style.display==="none"}).map(function(ac){Z=H(ac);aa+=parseFloat(Z.style.height);if(ac>1){aa+=b}Z.style.display="block"});z.scroller.style.width=w()+"px";z.scroller.style.height=(parseFloat(z.scroller.style.height)+aa)+"px";n.scroll.refresh();n.dialog.pagenum(z.getDisplayPageNumber(),n.totalPage,false);P();X()};z.SCROLL_DIRECT=d;z.SCROLL_DURATION=M;z.updateScrollDirect=V;z.getScrollDirect=I;z.prepare=W;z.refreshSize=t;z.getElementRect=q;z.findVisiblePageArray=E;z.getWidthFitRatio=f;z.getHeightFitRatio=m;z.insertPageFrame=k;z.getPageFrame=H;z.drawVisiblePages=P;z.getLoadedPages=F;z.getLoadedPageCount=Y;z.clearLoadedPages=u;z.getWidthFitRatio=f;z.resetToolbarItems=X;z.getTotalPage=T;z.getVisibleTotalPage=L;z.isVisiblePage=A;z.isLoaded=J};m2soft.ns("m2soft.crownix.Layout");(function(){var z=m2soft.crownix.Layout;var n=m2soft.crownix.CssBuilder;var k=m2soft.crownix.ChannelManager;var m=m2soft.crownix.State.Toolbar;var c=m2soft.crownix.Util;var M=c.browser.msie&&c.browser.version<9;var d=m2soft.crownix.Constant;var l=m2soft.crownix.util.Color;var F={toolbarColor:"#777777",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#D0D0D0",pageBorderWidth:"1px",pageBorderColor:"#E0E0E0",signButtonColor:"#1E77FC"};var u={toolbarColor:"#E0E0E0",toolbarIconColor:"#4D4D4D",toolbarEffectColor:"#333333",toolbarWidth:"44px",containerColor:"#F0F0F0",pageBorderWidth:"1px",pageBorderColor:"#E0E0E0",signButtonColor:"#1E77FC"};var s={toolbarColor:"#141414",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#F5F5F5",toolbarWidth:"44px",containerColor:"#3F3F3F",pageBorderWidth:"1px",pageBorderColor:"#2F2F2F",signButtonColor:"#1E77FC"};var B={toolbarColor:"#185C91",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#6D88B7",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#0C4CA3"};var w={toolbarColor:"#E17E4C",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#B8886F",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#E8590C"};var h={toolbarColor:"#48B7A7",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#6FB8AD",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#32B7AF"};var G={toolbarColor:"#D26A8B",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#B86F87",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#E43587"};var H={toolbarColor:"#76BB51",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#8AB86F",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#018E6B"};var f={toolbarColor:"#4AABD7",toolbarIconColor:"#FFFFFF",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#6FA1B8",pageBorderWidth:"1px",pageBorderColor:"#7F7F7F",signButtonColor:"#00A3E2"};var J={toolbarColor:"none",toolbarIconColor:"#222222",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#D0D0D0",pageBorderColor:"#E0E0E0",pageBorderWidth:"1px",signButtonColor:"#1E77FC"};var a=F;var D=function(){var Q=m.get("direction");return Q=="left"||Q=="right"};var N=function(Q){if(Q.toolbarColor==null||Q.toolbarIconColor==null||Q.toolbarEffectColor==null||Q.toolbarWidth==null||Q.containerColor==null||Q.pageBorderColor==null||Q.pageBorderWidth==null){throw Error("[Crownix Viewer] null properties in theme is not allowed")}};var r=function(S){var U=S[0],T=S[1],Q=S[2];return Math.sqrt(U*U*0.241+T*T*0.691+Q*Q*0.068)};var e={background:["%TOP_COLOR%","-moz-linear-gradient(top, %TOP_COLOR% 0%, %BOTTOM_COLOR% 100%);","-webkit-gradient(linear, left top, left bottom, color-stop(0%,%TOP_COLOR%), color-stop(100%,%BOTTOM_COLOR%));","-webkit-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","-o-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","-ms-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","linear-gradient(to bottom, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);"],filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="%IE9_TOP_COLOR%", endColorstr="%IE9_BOTTOM_COLOR%",GradientType=0 );'};var L={border:"1px solid %BORDER_COLOR% !important;","box-shadow":"inset 0 0 7px %SHADOW_COLOR%;"};var E={border:"%BORDER_WIDTH% solid %BORDER_COLOR%","box-shadow":"%H_SHADOW% %V_SHADOW% %BLUR% %SHADOW_COLOR%"};var j=function(Q,S){Q.registerRule(".crownix-toolbar-gradient",e).addMapper(function(T,W){var V=l.hexToRgb(S.toolbarColor,0);var U=l.hexToRgb(S.toolbarColor,20);W=W.replace(/%TOP_COLOR%/g,l.toRgbString(V)).replace(/%BOTTOM_COLOR%/g,l.toRgbString(U));if(S.toolbarColor==="none"){W=W.replace(/%IE9_TOP_COLOR%/g,"#00FFFFFF").replace(/%IE9_BOTTOM_COLOR%/g,"#00FFFFFF")}else{W=W.replace(/%IE9_TOP_COLOR%/g,l.rgbToHex(V)).replace(/%IE9_BOTTOM_COLOR%/g,l.rgbToHex(U))}return W});if(S.toolbarColor=="none"){Q.registerRule("#crownix-toolbar",{"border-bottom":"0px"})}};var g=function(Q,S){Q.registerRule(".crownix-container-gradient",e).addMapper(function(T,W){var V=l.hexToRgb(S.containerColor,40);var U=l.hexToRgb(S.containerColor);W=W.replace(/%TOP_COLOR%/g,l.toRgbString(V)).replace(/%BOTTOM_COLOR%/g,l.toRgbString(U));if(S.containerColor==="none"){W=W.replace(/%IE9_TOP_COLOR%/g,"#00FFFFFF").replace(/%IE9_BOTTOM_COLOR%/g,"#00FFFFFF")}else{W=W.replace(/%IE9_TOP_COLOR%/g,l.rgbToHex(V)).replace(/%IE9_BOTTOM_COLOR%/g,S.containerColor)}return W})};var q=function(Q,S){Q.registerRule(".crownix-toolbar-dropitem-enable:after",{content:'"";',width:"0;",height:"0;",position:"absolute;",right:"5px;",top:"50%;","margin-top":"-3px;","border-width":"9px 6px 0 6px;","border-style":"solid;","border-color":S.toolbarIconColor+" transparent"});Q.registerRule(".crownix-toolbar-icon-color",{color:S.toolbarIconColor,stroke:S.toolbarIconColor,fill:S.toolbarIconColor});Q.registerRule(".crownix-toolbar-separator",{"border-left":"1px solid "+l.toRgbString(l.hexToRgb(S.toolbarIconColor,0,0.3)),"border-top":"1px solid "+l.toRgbString(l.hexToRgb(S.toolbarIconColor,0,0.3))});Q.registerRule(".crownix-toolbar-icon-border",{border:"1px solid "+l.toRgbString(l.hexToRgb(S.toolbarIconColor,0,0.3))});Q.registerRule(".crownix-toolbar-icon-svg",{stroke:S.toolbarIconColor,fill:S.toolbarIconColor})};var P=function(Q,S){var T=function(V,W){return W.replace(/%BORDER_COLOR%/g,l.toRgbString(l.hexToRgb(S.toolbarEffectColor,0,0.8))).replace(/%SHADOW_COLOR%/g,l.toRgbString(l.hexToRgb(S.toolbarEffectColor,0,0.8)))};var U=function(V,W){return W.replace(/%BORDER_COLOR%/g,l.toRgbString(l.hexToRgb(S.toolbarEffectColor,0,0.5))).replace(/%SHADOW_COLOR%/g,l.toRgbString(l.hexToRgb(S.toolbarEffectColor,0,0.3)))};Q.registerRule(".crownix-toolbar-item-enable:hover",L).addMapper(T);Q.registerRule(".crownix-toolbar-item-enable-hover",L).addMapper(T);Q.registerRule(".crownix-toolbar-dropitem-enable:hover",L).addMapper(T);Q.registerRule(".crownix-toolbar-dropitem-enable-hover",L).addMapper(T);Q.registerRule(".crownix-toolbar-item-enable:active",L).addMapper(U);Q.registerRule(".crownix-toolbar-dropitem-enable:active",L).addMapper(U)};var C=function(Q,S){Q.registerRule(".crownix-page",E).addMapper(function(T,U){U=U.replace(/%BORDER_COLOR%/,l.toRgbString(l.hexToRgb(S.pageBorderColor))).replace(/%SHADOW_COLOR%/g,l.toRgbString(l.hexToRgb(S.pageBorderColor,-50)));if(parseFloat(S.pageBorderWidth)===0){U=U.replace(/%BORDER_WIDTH%/g,"0px").replace(/%H_SHADOW%/g,"0px").replace(/%V_SHADOW%/g,"0px").replace(/%BLUR%/g,"0px")}else{U=U.replace(/%BORDER_WIDTH%/g,S.pageBorderWidth).replace(/%H_SHADOW%/g,"2px").replace(/%V_SHADOW%/g,"2px").replace(/%BLUR%/g,"5px")}return U});if(S.pageBorderWidth!="1px"){Q.registerRule("#"+d.TEXT_ID,{margin:S.pageBorderWidth||"0px"})}};var O=function(ad,W){var Z=m.get("direction");var Q=m.get("isFloating");var S=m.get("scale");var V=64;var ac=parseFloat(W.toolbarWidth);var ab=W.toolbarWidth.substr(ac.toString().length);ac=Math.max(64,ac);ad.registerRule("#crownix-toolbar",{width:ac+ab,height:"100%",padding:"10px 0px",position:"absolute"});if(!Q){var X={};X[Z]=(ac*S)+ab;ad.registerRule("#m2soft-crownix-container",X)}var U=13;var Y=function(ag){return ag-U*2};var T=function(ag){return ac/V*ag};ad.registerRule(".crownix-toolbar-item",{width:Y(ac)+ab,height:Y(ac)+ab,margin:"5px 13px","margin-top":T(5)+ab,"margin-bottom":T(5)+ab});var aa=55;ad.registerRule(".crownix-toolbar-dropitem",{width:T(aa)+ab+" !important",height:Y(ac)+ab+" !important","padding-bottom":T(15)+"px !important",margin:T(5)+ab});var af=T(20);ad.registerRule("#crownix-toolbar",{"font-size":af+ab});var ae=T(20);ad.registerRule(".crownix-toolbar-dropitem div",{"line-height":Y(ac)-T(9)+"px"});ad.registerRule(".crownix-toolbar-dropitem-enable:after",{"border-width":T(9)+ab+" "+T(6)+ab+" 0px "+T(6)+ab,"margin-top":-T(3)+ab,"margin-left":-T(6)+"px",left:"50%",bottom:"3px",top:"auto"});ad.registerRule(".crownix-toolbar-dropitem-enable.active:after",{"border-width":" 0px "+T(6)+ab+" "+T(9)+ab+" "+T(6)+ab,"margin-top":-T(3)+ab,top:"auto",left:"50%",bottom:"3px"});ad.registerRule(".crownix-toolbar-icon-svg",{stroke:W.toolbarIconColor,fill:W.toolbarIconColor,display:"block",margin:"auto"});ad.registerRule(".crownix-toolbar-separator",{margin:"0px 21px",width:T(32)+ab,"margin-left":T(16)+ab,height:"0px"});ad.registerRule(".crownix-toolbar-mark",{width:ac+ab,margin:"0px 0px",height:"auto"});ad.registerRule(".crownix-toolbar-mark .crownix-helper",{width:"100%",height:"0px",display:"inline-block",align:"center","float":"left"});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button",{"font-size":T(15)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{left:Z=="left"?ac+15+"px":"auto",right:Z=="right"?ac+15+"px":"auto",top:"0px",width:T(100)+"px"});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button img",{width:T(24)+ab,height:T(24)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button svg",{width:T(24)+ab,height:T(24)+ab});ad.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:before",{top:"14px",left:Z=="left"?"-10px":"100%","border-width":Z=="left"?"8px 8px 8px 0px":"8px 0px 8px 8px","border-color":"transparent rgba(0,0,0,0.1)"});ad.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:after",{top:"16px",left:Z=="left"?"-6px":"100%","border-width":Z=="left"?"6px 6px 6px 0px":"6px 0px 6px 6px","border-color":"transparent #fff"})};var b=function(ad,W){var Z=m.get("direction");var Q=m.get("isFloating");var S=m.get("scale");var V=parseFloat(a.toolbarWidth);var ac=parseFloat(W.toolbarWidth);var ab=W.toolbarWidth.substr(ac.toString().length);ac=Math.max(44,ac);ad.registerRule("#crownix-toolbar",{height:ac+ab});if(!Q){var X={};X[Z]=(ac*S)+ab;ad.registerRule("#m2soft-crownix-container",X)}var U=5;var Y=function(af){return af-U*2};var T=function(af){return ac/V*af};ad.registerRule(".crownix-toolbar-item",{width:Y(ac)+ab,height:Y(ac)+ab,"margin-left":T(U)+ab});var aa=100;ad.registerRule(".crownix-toolbar-dropitem",{width:T(aa)+ab,height:Y(ac)+ab,"margin-left":T(U)+ab});var ae=T(20);ad.registerRule("#crownix-toolbar",{"font-size":Y(ae+ae/2)+ab});ad.registerRule(".crownix-toolbar-dropitem div",{"margin-top":T(U)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable:after",{"border-width":T(9)+ab+" "+T(6)+ab+" 0px "+T(6)+ab,"margin-top":-T(3)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable.active:after",{"border-width":" 0px "+T(6)+ab+" "+T(9)+ab+" "+T(6)+ab,"margin-top":-T(3)+ab});ad.registerRule(".crownix-toolbar-separator",{height:T(20)+ab,"margin-top":T(12)+ab});ad.registerRule(".crownix-toolbar-mark",{height:ac+ab});ad.registerRule(".crownix-toolbar-mark .crownix-helper",{height:"100%",display:"inline-block","vertical-align":"middle"});ad.registerRule(".crownix-toolbar-mark .crownix-helper svg",{width:T(15)+ab,height:T(32)+ab,"vertical-align":"middle"});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button",{"font-size":T(15)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{top:Y(ac)+11+ab});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button img",{width:T(24)+ab,height:T(24)+ab});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button svg",{width:T(24)+ab,height:T(24)+ab});if(Z=="bottom"){ad.registerRule("#crownix-toolbar",{position:"absolute"});ad.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{top:"auto",bottom:ac+10+"px",width:T(100)+"px"})}ad.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:before",{top:"100%","border-width":"8px 8px 0px 8px"});ad.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:after",{top:"100%","border-width":"6px 0px 6px 6px"})};var K=function(Q,T){var S=function(W,V,U){W=W.replace(/%TOP_COLOR%/g,l.toRgbString(V)).replace(/%BOTTOM_COLOR%/g,l.toRgbString(U));if(T.toolbarColor==="none"){W=W.replace(/%IE9_TOP_COLOR%/g,"#00FFFFFF").replace(/%IE9_BOTTOM_COLOR%/g,"#00FFFFFF")}else{W=W.replace(/%IE9_TOP_COLOR%/g,l.rgbToHex(V)).replace(/%IE9_BOTTOM_COLOR%/g,l.rgbToHex(U))}return W};Q.registerRule(".crownix-slide",e).addMapper(function(U,V){if(U=="filter"&&c.browser.msie&&c.browser.version<11){return}return S(V,l.hexToRgb(T.toolbarColor,40,0.8),l.hexToRgb(T.toolbarColor,60,0.8))});Q.registerRule(".crownix-tab-background",e).addMapper(function(U,V){return S(V,l.hexToRgb(T.toolbarColor,0),l.hexToRgb(T.toolbarColor,20))});Q.registerRule(".crownix-slide-toggle",e).addMapper(function(U,V){if(U=="filter"&&c.browser.msie&&c.browser.version<11){return}return S(V,l.hexToRgb(T.toolbarColor,0,0.8),l.hexToRgb(T.toolbarColor,20,0.8))});Q.registerRule(".crownix-tab",{color:T.toolbarIconColor});Q.registerRule(".crownix-left-arrow:before, .crownix-right-arrow:before",{"border-color":T.toolbarIconColor})};var A=function(Q,T){var S=function(W,V,U){W=W.replace(/%TOP_COLOR%/g,l.toRgbString(V)).replace(/%BOTTOM_COLOR%/g,l.toRgbString(U));if(T.toolbarColor==="none"){W=W.replace(/%IE9_TOP_COLOR%/g,"#00FFFFFF").replace(/%IE9_BOTTOM_COLOR%/g,"#00FFFFFF")}else{W=W.replace(/%IE9_TOP_COLOR%/g,l.rgbToHex(V)).replace(/%IE9_BOTTOM_COLOR%/g,l.rgbToHex(U))}return W};Q.registerRule(".crownix-field-dialog-countingBar",{background:T.signButtonColor});Q.registerRule(".crownix-field-dialog-progress",e).addMapper(function(U,V){return S(V,l.hexToRgb(T.toolbarColor,120),l.hexToRgb(T.toolbarColor,80))})};var I=function(Q,S){Q.registerRule(".crownix-confirm-background",{background:S.signButtonColor});Q.registerRule(".crownix-refresh-icon-color",{fill:S.signButtonColor});Q.registerRule(".crownix-pen-button-color",{color:S.signButtonColor,fill:S.signButtonColor,"border-color":S.signButtonColor})};var t=function(U){var T={},S,Q=new n();U=$.extend({},a,U);N(U);z.currentTheme=U;j(Q,U);g(Q,U);q(Q,U);P(Q,U);C(Q,U);K(Q,U);A(Q,U);I(Q,U);if(D()){O(Q,U)}else{b(Q,U)}Q.attachWithClass("crownix-theme")};m.set({theme:a},true);z.initialize=function(){k.getChannel("viewer:createPageDom").subscribe(m.refresh);k.getChannel("toolbar:changeToolbarState").subscribe(function(Q){z.setTheme(Q.theme)})};z.setTheme=function(Q){if(typeof Q==="string"){Q=Q.toUpperCase();if(Q==="GRAY"){Q=F}else{if(Q==="WHITE"){Q=u}else{if(Q==="BLACK"){Q=s}else{if(Q==="BLUE"){Q=B}else{if(Q==="ORANGE"){Q=w}else{if(Q==="MINT"){Q=h}else{if(Q==="PINK"){Q=G}else{if(Q==="GREEN"){Q=H}else{if(Q==="SKYBLUE"){Q=f}else{if(Q==="TRANSPARENT"){Q=J}else{Q=m.get("theme")}}}}}}}}}}}else{if(!Q){Q=m.get("theme")}}t(Q);m.set({theme:Q},true);k.getChannel("theme:changeTheme").publish()}})();m2soft.ns("m2soft.crownix.License");m2soft.crownix.License=(function(){var b=m2soft.crownix.Util;var a=function(){this.feature={}};a.prototype.init=function(d){var c=this;$(b.base64.decode(d)).filter("feature").find("item").each(function(){var e=$(this);c.feature[e.attr("type")]=e.attr("allow")==="1"});$(b.base64.decode(d)).filter("server").find("item").each(function(){var e=$(this);if(e.attr("type")=="ShareServer(7)"&&e.attr("allow")==="1"){c.feature.ShareServer=true}})};a.prototype.isAllowedFeature=function(c){return this.feature[c]};return a})();m2soft.ns("m2soft.crownix.Toolbar");m2soft.crownix.Toolbar=(function(){var m=m2soft.crownix.Resource;var h=m2soft.crownix.resource.Icon;var d=m2soft.crownix.Util;var r=m2soft.crownix.ChannelManager;var f=m2soft.crownix.Constant;var L=m2soft.crownix.Toolbar.ScrollButtonPair;var s=m2soft.crownix.State.Toolbar;var t=m2soft.crownix.CssBuilder;var O;var G;var k;var Q;var N;var P;var F;var C;var z;var D=1;var H;var n;var A;var K=[];var c=function(){var S=s.get("direction");return S=="left"||S=="right"};var u=function(){var S=45;N.children().each(function(){if($(this).css("display")!="none"){if(c()){S+=$(this).outerHeight()+parseFloat($(this).css("margin-top"))+parseFloat($(this).css("margin-bottom"))}else{S+=$(this).outerWidth()+parseFloat($(this).css("margin-right"))+parseFloat($(this).css("margin-left"))}}});if(c()){N.css("height",S+"px")}else{N.css("width",S+"px")}};var j=function(){var S={items:{close:{title:m.get("close_overlay"),handler:function(){$(".crownix-close-button").click()},},first:{title:m.get("first_page"),handler:function(){G.moveFirstPage()},},prev:{title:m.get("pre_page"),handler:function(){G.prevPage()},},next:{title:m.get("next_page"),handler:function(){G.nextPage()},},last:{title:m.get("last_page"),handler:function(){G.moveLastPage()},},move:{title:m.get("move_page"),mirroring:true,handler:function(){G.showMovePageDialog()},},prevDoc:{title:m.get("prev_doc"),handler:function(){G.prevDoc()},},nextDoc:{title:m.get("next_doc"),handler:function(){G.nextDoc()},},editor:{title:m.get("editor"),handler:function(){G.addEditorPage()}},zoomin:{title:m.get("zoom_in"),handler:function(){var T=G.zoomIn();$("#crownix-toolbar #crownix-toolbar-ratio div button").text(Math.round(T*100)+"%")},},zoomout:{title:m.get("zoom_out"),handler:function(){var T=G.zoomOut();$("#crownix-toolbar #crownix-toolbar-ratio div button").text(Math.round(T*100)+"%")},},ratio:{title:m.get("ratio"),items:{"25":{handler:function(){G.zoom(0.25);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"50":{handler:function(){G.zoom(0.5);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"75":{handler:function(){G.zoom(0.75);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"100":{handler:function(){G.zoom(1);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"125":{handler:function(){G.zoom(1.25);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"150":{handler:function(){G.zoom(1.5);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"200":{handler:function(){G.zoom(2);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},"250":{handler:function(){G.zoom(2.5);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},},width:{text:m.get("fit_width"),handler:function(){var T=k.getWidthFitRatio();G.zoom(T);setTimeout(function(){$("#crownix-toolbar #crownix-toolbar-ratio div button").html(h.FIT_WIDTH);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},0)},},height:{text:m.get("fit_height"),handler:function(){var T=k.getHeightFitRatio();G.zoom(T);setTimeout(function(){$("#crownix-toolbar #crownix-toolbar-ratio div button").html(h.FIT_HEIGHT);$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},0)},},},},save:{title:m.get("save"),items:{pdf:{title:m.get("save_pdf"),handler:function(){G.downloadFile("pdf")},},doc:{title:m.get("save_word"),handler:function(){G.downloadFile("doc")},},xls:{title:m.get("save_excel"),handler:function(){G.downloadFile("xls")},},ppt:{title:m.get("save_ppt"),handler:function(){G.downloadFile("ppt")},},hwp:{title:m.get("save_hwp"),handler:function(){G.downloadFile("hwp")},},txt:{title:m.get("save_txt"),handler:function(){G.downloadFile("txt")},},cell:{title:m.get("save_cell"),handler:function(){G.downloadFile("cell")}},brl:{title:m.get("save_brl"),handler:function(){G.downloadFile("brl")}},csv:{title:m.get("save_csv"),handler:function(){G.downloadFile("csv")},}},},storage:{title:m.get("storage_report"),mirroring:true,items:{"storage-mml":{text:m.get("storage_report"),title:m.get("storage_report"),handler:function(){G.showMMLStorageDialog()},},"storage-formdata":{text:m.get("storage_formdata"),title:m.get("storage_formdata"),handler:function(){G.showFormDataStorageDialog()},},},},print:{title:m.get("print"),handler:function(){G.print({isServerSide:false,})},},cloud_print:{title:m.get("cloud_print"),handler:function(T){G.cloudPrint({gadget:A})}},print_pdf:{title:m.get("print_pdf"),handler:function(){G.print({isServerSide:true,})},},search:{title:m.get("search"),mirroring:true,handler:function(){n.search.open()},},inquery:{title:m.get("inquery"),handler:function(){G.showInqueryDialog()},},cancel:{title:m.get("cancel_report"),handler:function(){G.cancel()},},share:{title:m.get("do_share"),mirroring:true,visible:!!k.share,handler:function(){if(H){G.shareDisconnect()}else{G.showShareDialog()}},},guide:{title:"guide",visible:false,handler:function(){var T=m2soft.crownix.GuideManager.getInstance(n);var U=T.isEnabled;if(U){T.close()}else{T.show()}}}},};s.set(S,true);D=k.scale;if(isNaN(D)){D=1}else{if(D<0.5){D=0.5}else{if(D>2){D=2}}}s.set({scale:D},true);if(d.browser.mobile){I(["print","print_pdf"])}if(m2soft.crownix.Resource.language!=="ko"){I(["hwp"])}};function E(W){var T=new t();var S=s.get("theme.toolbarWidth");if(W=="top"||W=="bottom"){z=Math.max(44,parseFloat(S))}else{if(W=="left"||W=="right"){z=Math.max(64,parseFloat(S))}}z=z*D;var V=S.substr(z.toString().length);var U=W=="right"||W=="left"?32:22;z=Math.max(U,z);if(W=="top"){T.registerRule(".crownix-dock#crownix-toolbar",{top:"0px"})}else{if(W=="bottom"){T.registerRule(".crownix-dock#crownix-toolbar",{bottom:"0px",top:"auto"})}else{if(W=="left"){T.registerRule(".crownix-dock#crownix-toolbar",{left:"0px"})}else{if(W=="right"){T.registerRule(".crownix-dock#crownix-toolbar",{right:"0px"})}}}}T.registerRule(".crownix-dock#m2soft-crownix-container",{top:W=="top"?z+"px":"0px",left:W=="left"?z+"px":"0px",right:W=="right"?z+"px":"0px",bottom:W=="bottom"?z+"px":"0px",width:W=="right"||W=="left"?"auto":null,});T.attachWithClass("crownix-dock-theme")}function B(){var S=$("<div>").addClass("crownix-toolbar-warp");var aa=s.get("direction");var V=s.get("isFloating");var Y=aa=="top"?"":"crownix-dock";var ab=$("<div>").attr("id","crownix-toolbar").addClass("crownix-toolbar-gradient "+Y);$("#"+f.CONTAINER_ID).addClass(Y);var U=$("<ul>").attr("id","crownix-toolbar-menu");D!=1&&S.css("zoom",D);var ac,X;var Z=s.get("items");for(var T in Z){ac=Z[T];X=new ac.type(T,ac,{toolbarNavigator:k.enableToolbarNavigator&&!n.isFormEditMode});if(ac.mirroring&&window.external&&typeof window.external.IsSubProcess!=="undefined"){continue}U.append(X.render())}var W="crownix-toolbar-separator";U.find("."+W).each(function(){var ad=$(this);var ae=function(){return $(this).css("display")!=="none"};var ag=ad.prevAll().filter(ae).first();var af=ad.nextAll().filter(ae).first();if(ag.length==0||af.length==0||ag.hasClass(W)||af.hasClass(W)){$(this).hide()}if(ag.length!=0&&af.length!=0&&!ag.hasClass(W)&&!af.hasClass(W)){$(this).show()}});C=new L(aa,ab);$(Q).css("overflow","hidden");if(V){ab.addClass("floating-toolbar");$("#"+f.CONTAINER_ID).addClass("floating-toolbar");b();r.getChannel("toolbar:changeContainer").publishAsync()}else{ab.removeClass("floating-toolbar");$("#"+f.CONTAINER_ID).removeClass("floating-toolbar");b();r.getChannel("toolbar:changeContainer").publishAsync()}E(aa);S.append(ab.append(U),C.render());s.get("isHide")&&ab.hide();return S}function M(){var V,W;var Y=$("#crownix-toolbar-menu");var S=Y.children("li:visible");var T=s.get("customItems");for(var Z in T){V=T[Z];W=new V.type(Z,V,{toolbarNavigator:k.enableToolbarNavigator&&!n.isFormEditMode});if(V.index<0){Y.prepend(W.render())}else{if(isNaN(V.index)||V.index>S.length){Y.append(W.render())}else{$(S.get(V.index-1)).before(W.render())}}S=Y.children("li:visible")}u();if(P){P.destroy()}O.find(".crownix-toolbar-item-enable, .crownix-toolbar-separator").css("opacity","0.9");var U=O.get(0);if(!U){return}var X={useTransition:true,scrollX:true,interactiveScrollbars:true,click:d.hasTouch()||(d.browser.mobile&&!(/Android /.test(window.navigator.appVersion)&&!(/Chrome\/\d/.test(window.navigator.appVersion)))),disableMouse:(n.options&&n.options.mirroring.enable)?false:true,HWCompositing:true};if(d.browser.android||d.browser.ios){X.disablePointer=true;X.disableTouch=false}P=new IScroll(U,X);P.on("refresh",function(){C.refresh()});P.on("scrollEnd",function(){C.refresh()});P.on("resize",function(){b()});O.find(".crownix-toolbar-item-enable, .crownix-toolbar-separator").css("opacity","");C.injectToolbarScroll(P);C.refresh();if(!A&&typeof cloudprint!=="undefined"){A=new cloudprint.Gadget()}}function b(){if(!O){return}u();O.show();s.get("isHide")&&O.hide();C.refresh();P.refresh();r.getChannel("notetoolbar:relocation").publishAsync()}function J(S){s.addToolbarItem(S)}function g(S){s.showToolbarItem(S)}function I(S){s.hideToolbarItem(S)}function q(S){s.enableToolbarItem(S)}function a(S){s.disableToolbarItem(S)}function l(){var S=s.get("items");var T=[];for(var U in S){T.push(U)}s.disableToolbarItem(T)}function w(S){H=S;s.toggleShareButton(H)}var e=function(U,V,T,S){G=V;k=T;n=S;Q=U;F=null;w(false);j();r.getChannel("toolbar:changeToolbar").subscribe(this.render);r.getChannel("toolbar:changeToolbar").publishAsync();r.getChannel("toolbar:changeToolbarState").subscribe(b);r.getChannel("theme:changeTheme").subscribe(b);$(Q).bind("click tab",function(W){$(".crownix-toolbar-dropitem").removeClass("active")})};e.prototype={render:function(){var S=B();N=S.find("#crownix-toolbar-menu");O=S.find("#crownix-toolbar");if(F){F.replaceWith(S)}else{$(Q).append(S)}F=S;M()},dockToolbar:function(T){var S=["top","right","bottom","left"];if(S.indexOf(T)<0){return}s.set({direction:T});r.getChannel("toolbar:changeToolbar").publishAsync();r.getChannel("toolbar:changeContainer").publishAsync()},hideToolbar:function(){s.set({isHide:true})},showToolbar:function(){s.set({isHide:false})},floatToolbar:function(){s.set({isFloating:true});r.getChannel("toolbar:changeToolbar").publishAsync();this.hideToolbar()},toggle:function(){if(this.isFloatingToolbar()){if(this.isHideToolbar()){this.showToolbar()}else{this.hideToolbar()}}},stickToolbar:function(){s.set({isFloating:false});r.getChannel("toolbar:changeToolbar").publishAsync();this.showToolbar()},isHideToolbar:function(){return s.get("isHide")},isFloatingToolbar:function(){return s.get("isFloating")},getDirection:function(){return s.get("direction")},getWidth:function(){return z},setRatioText:function(S){s.state.items.ratio.text=S;$("#crownix-toolbar #crownix-toolbar-ratio div button").text(S)},addToolbarItem:function(S){J(S)},hideToolbarItem:function(S){I(S);r.getChannel("toolbar:changeToolbar").publishAsync()},showToolbarItem:function(S){g(S);r.getChannel("toolbar:changeToolbar").publishAsync()},disableToolbarItem:function(U){var T=this;var S=U.filter(function(V){return T.isEnableItem(V)});if(S.length>0){a(U);r.getChannel("toolbar:changeToolbar").publishAsync()}},enableToolbarItem:function(U){var T=this;var S=U.filter(function(V){return !T.isEnableItem(V)});if(S.length>0){q(S);r.getChannel("toolbar:changeToolbar").publishAsync()}},disableAllItems:function(){l();r.getChannel("toolbar:changeToolbar").publishAsync()},toggleShareButton:function(S){w(S)},getHeight:function(){return O.outerHeight()*D},getToolbarItemInfo:function(){var T=s.state.items;var S=s.state.customItems;var V=$.extend({},T,S);var X=[];var U;for(var W in T){if(T[W].visible){X.push(W)}}for(var W in S){U=S[W].index;if(U<0){X.unshift(W)}else{if(isNaN(U)||(U>$(N.children("li:visible")).length)){X.push(W)}else{X.splice(U-1,0,W)}}}return{items:V,menu:X}},isEnableItem:function(V){var T=s.state.items;var S=S=s.state.customItems;var U=T[V]||S[V];return U&&U.enable},disable:function(){var T=this.getToolbarItemInfo().items;K=[];for(var S in T){if(this.isEnableItem(S)){K.push(S)}}a(K);r.getChannel("toolbar:changeToolbar").publish()},enable:function(){q(K);r.getChannel("toolbar:changeToolbar").publish()},beforeToolbar:function(S){$(S).before($(".crownix-toolbar-warp"))},afterToolbar:function(S){$(S).after($(".crownix-toolbar-warp"))},refreshToolbar:b,};return e})();m2soft.ns("m2soft.crownix.Ajax");m2soft.crownix.Ajax=function(){var q=m2soft.crownix.Util;var n=m2soft.crownix.Message;var k=m2soft.crownix.Resource;var f=q.browser.msie&&q.browser.version==8;var e=q.browser.msie&&q.browser.version==9;var l=f?new XDomainRequest():new XMLHttpRequest();var d="POST";var m=true;var j={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};var c;var r=30*1000;var h;var g=false;var b=m2soft.crownix.Ajax.debug;if(q.isCloudServer()){j["x-api-key"]=m2soft.crownix.Ajax.xApiKey}j=q.extend({},m2soft.crownix.Ajax.requestHeader,j);if("withCredentials" in l&&m2soft.crownix.Ajax.withCredentials){l.withCredentials=true}var a=function(s){if((window.FormData&&(s instanceof window.FormData))||j["crownix-formdata-encoding"]){return s}var t=[];for(var u in s){t.push(encodeURIComponent(u)+"="+encodeURIComponent(s[u]))}return t.join("&")};this.setHandler=function(s){c=s};this.invoke=function(u,A,t){if(typeof u!="string"){throw new Error("invalid url: "+u)}if(typeof A=="object"){A=a(A)}g=false;if(b){n.log("[Ajax] url="+u);n.log("[Ajax] parmeters="+A);n.log("[Ajax] method="+d);n.log("[Ajax] async="+m)}if(f){l.onload=function(){c.done(l)}}else{var s=null;var z=300;l.onreadystatechange=function(){var F=l.readyState;var C;var G;var E;if(F===1){if(b){n.log("[Ajax][State 1] OPEND")}if(!h){h=setTimeout(function(){g=true;l.abort("connect timeout");if(typeof c.timeout=="function"){c.timeout("connet timeout")}},r)}}else{if(F===2){clearTimeout(h);if(b){n.log("[Ajax][State 2] HEADER_RECEIVED")}}else{if(F===3){clearTimeout(h);if(b){if(q.browser.msie&&q.browser.version<10){n.log("[Ajax][State 3] LOADING")}else{n.log("[Ajax][State 3] LOADING (status: "+l.status+", statusText: "+l.statusText+")")}}if(typeof c.load=="function"){var D=q.browser.msie&&q.browser.version<10;if(D){return}if(!s){s=setTimeout(function(){c.load(l);clearTimeout(s);s=null},z)}}}else{if(F===4){clearTimeout(h);clearTimeout(s);if(g){return}C=l.status;G=l.statusText;E=l.responseType==="blob"?l.response:l.responseText;if(b){n.log("[Ajax][State 4] DONE (status: "+C+", statusText: "+G+", data length: "+E.length+")")}if(C>=200&&C<300||C===304){if(typeof c.done=="function"){c.done(l)}}else{if(!g){c.error(l)}}}}}}}}try{l.open(d,(d==="GET")?(u+"?"+A):u,m);if(t){l.responseType=t}}catch(B){n.log("[Crownix][Ajax] "+B.toString());if(e){c.error(l,k.get("cross_origin_ie9_error"))}else{c.error(l)}return}if(!f){for(var w in j){if(w==="Content-Type"&&j[w]===null){continue}l.setRequestHeader(w,j[w])}}l.send((d==="GET")?null:A)};this.setMethod=function(s){if(s==="GET"||s==="POST"){d=s}};this.getMethod=function(){return d};this.setAsync=function(s){if(typeof sync=="boolean"){m=s}};this.getAsync=function(){return m};this.abort=function(){g=true;if(typeof c.abort=="function"){c.abort()}l.abort()};this.getResponseHeader=function(s){if(f){return null}else{return l.getResponseHeader(s)}};this.setRequestHeader=function(s,t){j[s]=t};this.setConnectTimeout=function(s){r=s*1000}};m2soft.ns("m2soft.crownix.Font");m2soft.crownix.Font=(function(){var f="arial,'URW Gothic L',sans-serif";var e="Georgia,'Century Schoolbook L',serif";var d;var j;var k={FAIL:0,SUCESS:1};var b;var l=function(w,u,n,m){var s=navigator.userAgent.toLowerCase();var t=s.indexOf("android")>-1;var r=!t?'local("'+w+'"),':"";if(n[w]){w=n[w]}if(m.fontUrl){u=m.fontUrl}else{u=u.replace("service","font")}var q='url("'+u+"/"+w+'.woff") format("woff"), url("'+u+"/"+w+'.ttf") format("truetype")';return r+q};var a=function(q,t,s,n,m){var u=$("<style/>").attr("type","text/css").attr("id",q);var r="@font-face {font-family:'"+q+"';src:"+l(t,s,n,m)+"}";if($("#"+q).length==0){u.text(r);u.appendTo("head")}};var h=function(m,q){var n="BEiwyaY";var r={position:"absolute",top:"-999px",left:"-999px","font-size":"300px",width:"auto",height:"auto","line-height":"normal",margin:0,padding:0,"font-variant":"normal","font-family":"'"+m+"',"+q};var s=$("<span>").text(n).css(r).appendTo("body");return s};var c=function(){return(new Date()).getTime()};var g=function(r,q,n,m){this.fontFamily=m2soft.crownix.Constant.FONT_FAMILY_PREFIX+r;this.fontName=r;this.fontUrl=q;this.fontMap=(typeof n=="object")?n:{};this.fontOption=(typeof m=="object")?m:{};this.requestedFontA=h(this.fontFamily,f);this.requestedFontB=h(this.fontFamily,e);this.originalSizeA=this.requestedFontA.width();this.originalSizeB=this.requestedFontB.width();this.loaded=false;d=50;j=m.loadTimeout;b=m.debug};g.prototype={fontFamily:"",fontName:"",originalSizeA:0,originalSizeB:0,requestedFontA:null,requestedFontB:null,load:function(){a(this.fontFamily,this.fontName,this.fontUrl,this.fontMap,this.fontOption);this.check()},finish:function(n,m){clearInterval(n);if(b){var q=[];var r=m.loaded;q.push("["+this.fontName+"]: ");if(r){q.push("loaded")}else{q.push("fail (");q.push(m.cause);q.push(")")}console.log(q.join(""))}this.loaded=true;this.requestedFontA&&this.requestedFontA.remove();this.requestedFontB&&this.requestedFontB.remove();this.onLoad&&this.onLoad()},check:function(){var t=0;var q=this;var s=c();var n=q.requestedFontA.width();var m=q.requestedFontB.width();if(n==m){this.finish(null,{loaded:k.SUCESS});return}var r=setInterval(function(){var w=q.requestedFontA.width();var u=q.requestedFontB.width();if((w!=q.originalSizeA||u!=q.originalSizeB)&&(w==u)){q.finish(r,{loaded:k.SUCESS})}else{if((c()-s)>=j){q.finish(r,{loaded:k.FAIL,cause:"load timeout"})}}},d)}};return g})();m2soft.ns("m2soft.crownix.FontLoader");m2soft.crownix.FontLoader=function(c){var b=m2soft.crownix.Constant;var a=this;a.fontNameList=[];a.fontObjects={};a.fontURL=c.reportingServerURL;a.fontMap=c.webFontMap;a.fontOption={loadTimeout:3000,showLoadingMessage:false,debug:false};a.fontOption=$.extend(true,a.fontOption,c.webFontOption);a.viewerID=c.viewerId;a.debug=a.fontOption.debug;a.message=null;a.onFirstPageDraw=null;a.firstPageFontCount=undefined;a.showMessage=function(){if(a.fontOption.showLoadingMessage===true){var d=new m2soft.crownix.FormDialog("#"+m2soft.crownix.Constant.CONTAINER_ID);if(a.message){a.message=null}a.message=d.message(m2soft.crownix.Resource.get("font_loading"),"",false,"top-right")}};a.hideMessage=function(){var d=a;if(d.message){d.message.fadeOut(2000,function(){d.message.remove();m2soft.crownix.Message.progress.hide(d.viewerID);d.message=null})}};a.load=function(j,h){var e=a.debug;var g=a;if(g.fontObjects[j]===undefined){g.fontObjects[j]=[]}if(g.fontNameList.indexOf(h)<0){g.fontNameList.push(h);var f=function(){if(g.firstPageFontCount&&g.isFinished("1",g.firstPageFontCount)){if(g.onFirstPageDraw){g.hideMessage();e&&console.log("%c[Crownix-FontLoader] All loaded. redrawPage();","color:green");if(c.options.scrollOptions.useInfiniteScroll){g.onFirstPageDraw()}else{var n=$("#m2soft-crownix-text");var m=n.children();n.off("DOMSubtreeModified");for(var l=0;l<m.length;l++){$(m[l]).trigger("onFontLoadComplete")}var k=$("#"+b.CANVAS_ID);m2soft.crownix.Forgery.detect(n,k[0],c.isFormEditMode)}}}e&&console.log('[Crownix-FontLoader] "'+h+'".onLoad();')};var d=new m2soft.crownix.Font(h,g.fontURL,g.fontMap,g.fontOption);g.fontObjects[j].push(d);if(j=="1"){d.onLoad=f}d.load()}else{e&&console.log('[Crownix-FontLoader] "'+h+'" is duplicated')}e&&console.log('[Crownix-FontLoader] "'+h+'".load();')};a.isFinished=function(f,d){if(typeof f==="Number"){f=Number(f).toString()}var h=a.fontObjects[f];var g=true;if(h.length<d){return false}for(var e=0;e<h.length;e++){if(h[e].loaded===false){g=false;break}}return g};a.getFontList=function(d){if(typeof d==="Number"){d=Number(d).toString()}return a.fontObjects[d]||[]}};m2soft.ns("m2soft.crownix.ImageLoader");m2soft.crownix.ImageLoader=function(d){var h=m2soft.crownix.Util;var g=[];var e;var f=0;var j=false;var d=$.extend(true,{},d);var a=function(){if(j){return}this.finished=true;for(var l=0,k=g.length;l<k;l++){if(!g[l].isLoaded()){return}}j=true;setTimeout(e)};var c=function(k){var l;var m=k;this.load=function(){l=new Image();l.onload=l.onabort=l.onerror=a;l.src=m};this.getImage=function(){return l};this.isLoaded=function(){return l&&l.finished}};var b=function(l){var k=l;this.load=function(){if(k.finished){a.call(k)}else{k.onload=k.onabort=k.onerror=a}};this.getImage=function(){return k};this.isLoaded=function(){return k&&k.finished}};this.loadImage=function(s,n,m){e=m;var l=function(u){var w;var z=$(u);var t=z.attr("id");if(t){w=new b(n[t])}else{w=new c(z.attr("dt"))}g.push(w)};var r=function(z){var w=z.tagName&&z.tagName.toUpperCase();if(w==="IM"){l(z)}else{if(w==="CL"||w==="LY"){return}}var u=$(z).children();if(u.length>0){for(var t=0,A=u.length;t<A;t++){r(u[t])}}};if(s instanceof Array){s.map(l)}else{r(s)}for(var q=0,k=g.length;q<k;q++){g[q].load()}if(g.length==0){if(d.asyncOnAllLoad===true){setTimeout(function(){e()},0)}else{e()}}};this.nextImage=function(){return g[f++].getImage()}};m2soft.ns("m2soft.crownix.Canvas");m2soft.crownix.Canvas=function(e,q){var K=m2soft.crownix.util.Unit;var d=e;var c=d.getContext("2d");var F=q;var B=(typeof c.setLineDash==="function");var H=0;var E=1;var D=2;var z=3;var t=4;var N=[2,2];var A=[2,2];var u=[10,2,2,2];var h=[10,2,2,2,2,2];var w,C,b,f,M;var s=0,k,r=1,g=0;var J={pattern1:function(O,P){img=document.createElement("canvas");img.width=1;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(0,-0.5);imgCtx.lineTo(0,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern2:function(O,P){img=document.createElement("canvas");img.width=8;img.height=1;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(-0.5,0);imgCtx.lineTo(0.5,0);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern3:function(O,P){img=document.createElement("canvas");img.width=8;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(4.5,-0.5);imgCtx.lineTo(-0.5,4.5);imgCtx.moveTo(8.5,3.5);imgCtx.lineTo(3.5,8.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern4:function(O,P){img=document.createElement("canvas");img.width=8;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(4.5,4.5);imgCtx.lineTo(-0.5,-0.5);imgCtx.moveTo(8.5,8.5);imgCtx.lineTo(3.5,3.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern5:function(O,P){img=document.createElement("canvas");img.width=8;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(0.5,9);imgCtx.lineTo(0.5,0.5);imgCtx.lineTo(9,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern6:function(O,P){img=document.createElement("canvas");img.width=8;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(-1,-1);imgCtx.lineTo(9,9);imgCtx.moveTo(-1,9);imgCtx.lineTo(9,-1);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern7:function(O,P){img=document.createElement("canvas");img.width=8;img.height=8;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(4.5,-0.5);imgCtx.lineTo(4.5,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern8:function(O,P){img=document.createElement("canvas");img.width=4;img.height=4;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(0.5,-0.5);imgCtx.lineTo(0.5,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern9:function(O,P){img=document.createElement("canvas");img.width=4;img.height=2;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(3.5,-0.5);imgCtx.lineTo(3.5,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")},pattern10:function(O,P){img=document.createElement("canvas");img.width=2;img.height=2;imgCtx=img.getContext("2d");imgCtx.strokeStyle=O||"#000";imgCtx.strokeWidth=1;imgCtx.moveTo(0.5,-0.5);imgCtx.lineTo(0.5,0.5);imgCtx.stroke();return c.createPattern(img,"repeat")}};var l=function(P,O,S,Q){c.lineCap="butt";c.beginPath();c.moveTo(P,O);c.lineTo(S,Q)};var a=function(V,S,ac,ab,O,Z){var W=V,Q=S,aa=0,U=true,X=0,P=Math.atan2(ab-S,ac-V);var Y=V<ac;var T=S<ab;c.lineCap="round";c.beginPath();c.moveTo(V,S);while(Y?ac>W:ac<W||T?ab>Q:ab<Q){X=Z[aa]*O;W=Y?Math.min(W+(Math.cos(P)*X),ac):Math.max(W+(Math.cos(P)*X),ac);Q=T?Math.min(Q+(Math.sin(P)*X),ab):Math.max(Q+(Math.sin(P)*X),ab);if(U){c.lineTo(W,Q)}else{c.moveTo(W,Q)}aa=(aa+1)%Z.length;U=!U}c.closePath()};var n=function(Q,S){c.beginPath();c.moveTo(Q[0][0],Q[0][1]);for(var P=1,O=Q.length;P<O;P++){c.lineTo(Q[P][0],Q[P][1])}if(S){c.closePath()}};var j=function(Z,X,P,S){var W=S.ap,Y=S.lc,T=S.wd,O=S.at,Q=S.as,V=(1+T/5)*8*Q,U=O==1?V/Math.sqrt(3):V/3;if(T==0||W==0){return}c.save();c.translate(Z,X);c.rotate(P);c.lineJoin="miter";c.globalAlpha=1;c.strokeStyle=Y;c.lineWidth=T;if(B){c.setLineDash([])}c.beginPath();if(W==1||W==2||W==3){c.moveTo(V,-U);c.lineTo(0,0);c.lineTo(V,U);c.lineCap="round";c.stroke()}else{c.moveTo(0,0);c.lineTo(V,-U);c.lineTo(V,U);c.lineTo(0,0);c.closePath();if(W==4||W==5||W==6){c.fillStyle="#FFFFFF"}else{c.fillStyle=c.strokeStyle}c.fill();c.stroke()}c.restore()};var I=function(Q,P){if(!Q){return}var T=Q.fc;var O=Q.pt;var S=Q.al;c.save();c.fillStyle=T;c.globalCompositeOperation="source-over";c.globalAlpha=S;c.fill();if(O!==0){c.globalAlpha="1";c.fillStyle=J["pattern"+O](P.lc);c.fill()}c.restore()};var m=function(Q){if(!Q){return}var W=Q.lc;var P=Q.wd;var V=Q.al;if(P==0){return}var U=[];var T=[];c.save();if(B){if(Q.st==E){U=N}else{if(Q.st==D){U=A}else{if(Q.st==z){U=u}else{if(Q.st==t){U=h}}}}for(var S=0,O=U.length;S<O;S++){T[S]=U[S]*P}c.setLineDash(T)}c.lineCap="round";c.lineJoin="round";c.strokeStyle=W;c.lineWidth=P;c.globalAlpha=V;c.stroke();c.restore()};this.setClip=function(O){if(O==="1"){c.save();c.clip()}else{if(O==="2"){c.restore()}}};this.drawLine=function(U,T,Q,P,O){if(B){l(U,T,Q,P)}else{if(O.st==H){l(U,T,Q,P)}else{if(O.st==E){a(U,T,Q,P,O.wd,N)}else{if(O.st==D){a(U,T,Q,P,O.wd,A)}else{if(O.st==z){a(U,T,Q,P,O.wd,u)}else{if(O.st==t){a(U,T,Q,P,O.wd,h)}else{l(U,T,Q,P)}}}}}}m(O);var S=O.ap;if(S==1||S==3||S==4||S==6||S==7||S==9){j(U,T,Math.atan2(T-P,U-Q)+Math.PI,O)}if(S==2||S==3||S==5||S==6||S==8||S==9){j(Q,P,Math.atan2(P-T,Q-U)+Math.PI,O)}};this.drawScribble=function(Q,T){var V,U;var P=[];c.beginPath();c.moveTo(T[0][0],T[0][1]);for(var S=0,O=T.length-1;S<O;S++){V=T[S];U=T[S+1];P[0]=(V[0]+U[0])/2;P[1]=(V[1]+U[1])/2;if(S==0){c.lineTo(P[0],P[1])}else{c.quadraticCurveTo(V[0],V[1],P[0],P[1])}if(S==O-1){c.lineTo(U[0],U[1])}}m(Q)};this.drawRect=function(V,U,T,S,Q,X,W,O,P){if(typeof W==="number"&&typeof O==="number"){c.beginPath();c.moveTo(V,U+O);c.lineTo(V,S-O);if(P){if(P&4){c.quadraticCurveTo(V,S,V+W,S)}else{c.lineTo(V,S)}c.lineTo(T-W,S);if(P&8){c.quadraticCurveTo(T,S,T,S-O)}else{c.lineTo(T,S)}c.lineTo(T,U+O);if(P&2){c.quadraticCurveTo(T,U,T-W,U)}else{c.lineTo(T,U)}c.lineTo(V+W,U);if(P&1){c.quadraticCurveTo(V,U,V,U+O)}else{c.lineTo(V,U)}}else{c.quadraticCurveTo(V,S,V+W,S);c.lineTo(T-W,S);c.quadraticCurveTo(T,S,T,S-O);c.lineTo(T,U+O);c.quadraticCurveTo(T,U,T-W,U);c.lineTo(V+W,U);c.quadraticCurveTo(V,U,V,U+O)}c.closePath()}else{c.beginPath();c.moveTo(V,U);c.lineTo(T,U);c.lineTo(T,S);c.lineTo(V,S);c.lineTo(V,U);c.closePath()}I(X,Q);m(Q)};this.drawCylinder=function(X,W,U,S,P,Z,V){var Q;var O=U-X;var Y=S-W;var T=(Y-V)/O;c.save();c.translate(X,W);c.scale(1,T);Q=O/2;c.beginPath();c.arc(Q,Q,Q,0,Math.PI*2,false);c.lineTo(Q*2,(Y/T)-Q);c.arc(Q,(Y/T)-Q,Q,0,Math.PI,false);c.lineTo(0,Q);c.restore();I(Z,P);m(P)};this.drawCurve=function(X,W,U,S,Q,V,P,T,O){c.beginPath();if(typeof T==="number"&&typeof O==="number"){c.moveTo(X,W);c.bezierCurveTo(V,P,T,O,U,S)}else{c.moveTo(X,W);c.quadraticCurveTo(V,P,U,S)}m(Q);var Y=Q.ap;if(Y==1||Y==3||Y==4||Y==6||Y==7||Y==9){j(X,W,Math.atan2(W-P,X-V)+Math.PI,Q)}if(Y==2||Y==3||Y==5||Y==6||Y==8||Y==9){j(U,S,Math.atan2(S-O,U-T)+Math.PI,Q)}};this.drawEllipse=function(V,U,T,S,P,X){var Q;var O=T-V;var W=S-U;c.save();c.translate(V+(O/2),U+(W/2));if(O>W){c.scale(1,W/O);Q=O/2}else{c.scale(O/W,1);Q=W/2}c.beginPath();c.arc(0,0,Q,0,Math.PI*2,false);c.restore();I(X,P);m(P)};this.drawDiamond=function(U,T,Q,P,O,S){c.beginPath();c.moveTo((U+Q)/2,T);c.lineTo(Q,(T+P)/2);c.lineTo((U+Q)/2,P);c.lineTo(U,(T+P)/2);c.lineTo((U+Q)/2,T);c.closePath();I(S,O);m(O)};this.drawParallelogram=function(X,W,T,Q,P,Z,O){O=X+O;var Y=[X,Q];var V=[T+X-O,Q];var U=[T,W];var S=[O,W];c.beginPath();c.moveTo(Y[0],Y[1]);c.lineTo(V[0],V[1]);c.lineTo(U[0],U[1]);c.lineTo(S[0],S[1]);c.lineTo(Y[0],Y[1]);c.closePath();I(Z,P);m(P)};this.drawPolygon=function(O,Q,P){n(P,true);I(Q,O);m(O)};this.drawPolyLine=function(O,P){n(P,false);m(O);var Q=O.ap;if(Q==1||Q==3||Q==4||Q==6||Q==7||Q==9){j(P[0][0],P[0][1],Math.atan2(P[0][1]-P[1][1],P[0][0]-P[1][0])+Math.PI,O)}if(Q==2||Q==3||Q==5||Q==6||Q==8||Q==9){j(P[P.length-1][0],P[P.length-1][1],Math.atan2(P[P.length-1][1]-P[P.length-2][1],P[P.length-1][0]-P[P.length-2][0])+Math.PI,O)}};this.drawHexaheron=function(ab,Z,W,U,P,O,Q,ac){P=ab+P;O=Z+O;var aa=[ab,U];var Y=[ab,O];var X=[ab+W-P,Z];var V=[W,Z];var T=[W,U+Z-O];var S=[P,U];c.beginPath();c.moveTo(aa[0],aa[1]);c.lineTo(Y[0],Y[1]);c.lineTo(X[0],X[1]);c.lineTo(V[0],V[1]);c.lineTo(T[0],T[1]);c.lineTo(S[0],S[1]);c.lineTo(aa[0],aa[1]);c.closePath();I(ac,Q);m(Q);c.beginPath();c.moveTo(S[0],S[1]);c.lineTo(P,O);c.lineTo(V[0],V[1]);c.moveTo(P,O);c.lineTo(Y[0],Y[1]);m(Q)};this.drawImage=function(U,P,O,Q,T,S){if(S=="1"){c.save();c.translate(P,O);c.fillStyle=c.createPattern(U,"repeat");c.fillRect(0,0,Q,T);c.restore()}else{if(U.naturalWidth+U.naturalHeight>0){c.drawImage(U,P,O,Q,T)}}};this.measureText=function(Q,P){if(typeof P==="object"){var O=[P.fontStyle,P.fontWeight,P.fontSize,P.fontFamily];c.font=O.join(" ")}return c.measureText(Q)};var G=function(O){return Math.floor(O)+0.5};var L=function(Z,W,V,X,O){var P=Z.split(""),T,S=W,Y=1;if(c.textAlign==="right"){P=P.reverse();Y=-1;S-=X}else{if(c.textAlign==="center"){S=W-(O-X)/2;c.textAlign="left"}}for(var Q=0,U=P.length;Q<U;Q++){T=P[Q];c.fillText(T,S,V);S+=Y*(c.measureText(T).width+X)}};this.drawText=function(ad,aa,Y,W,U,O){if(!ad||typeof ad!=="string"){return}c.save();var S;if(typeof O==="object"){S=[O.fontStyle,O.fontWeight,O.fontSize,O.fontFamily];c.font=S.join(" ");c.textBaseline=O.textBaseline;c.textAlign=O.textAlign;c.fillStyle=c.strokeStyle=O.fillStyle}var ab=(typeof O.letterSpacing==="number")?O.letterSpacing:0;var P=c.measureText(ad).width+(ab*ad.length);var ac=K.ptToPx(parseFloat(O.fontSize));if(O.adjustFontSize){var V=P/(W-aa);if(V>1){var ae=parseInt(S[2]);S[2]=(ae/V)+"pt";c.font=S.join(" ")}}var Z,X,T,Q;if(O.textAlign==="center"){Z=aa+(W-aa)/2;T=Z-(P-ab)/2}else{if(O.textAlign==="right"){Z=W;T=Z-P}else{Z=T=aa}}if(O.textBaseline==="middle"){X=Y+(U-Y)/2;Q=X-ac/2}else{if(O.textBaseline==="bottom"){X=U;Q=X-ac}else{X=Q=Y}}c.beginPath();c.rect(aa-2,Y-2,W-aa+4,U-Y+4);c.clip();c.closePath();if(O.fontScale&&O.fontScale!=1){c.translate(Z,X);c.scale(O.fontScale,1);T-=Z;Q-=X;Z=X=0}else{if(O.verticalWriting){c.translate(aa+(W-aa)/2,Y);c.rotate(90*Math.PI/180);T-=Z;Q-=X;Z=X=0}}if(O.shade){c.fillStyle=c.strokeStyle="#000000";c.fillRect(G(T),G(Q)-1,G(P)+1,G(ac));c.fillStyle=c.strokeStyle=(O.fillStyle==="#000000")?"#ffffff":O.fillStyle}if(ab!==0){L(ad,Z,X,O.letterSpacing,P)}else{if(O.adjustFontScale){c.fillText(ad,Z,X,W-aa)}else{c.fillText(ad,Z,X)}}if(O.underLine){c.lineWidth=Math.ceil(parseInt(S[2])*0.06);c.beginPath();c.moveTo(T,G(Q+ac));c.lineTo(T+P,G(Q+ac));c.stroke();c.closePath()}if(O.lineThrough){c.lineWidth=Math.ceil(parseInt(S[2])*0.06);c.beginPath();c.moveTo(T,G(Q+ac/2));c.lineTo(T+P,G(Q+ac/2));c.stroke();c.closePath()}c.restore()};this.wrapText=function(W,aa,X,ag,af,ae){var U=aa,T=X,ab=ag-aa,Z=af-X;c.save();if(typeof ae==="object"){var Y=[ae.fontStyle,ae.fontWeight,ae.fontSize,ae.fontFamily];c.font=Y.join(" ");c.fillStyle=c.strokeStyle=ae.fillStyle}var Q=K.ptToPx(parseInt(ae.fontSize,10))*1.2;c.textBaseline="top";c.textAlign="left";c.beginPath();c.rect(aa-1,X-1,ag-aa+1,af-X+1);c.clip();c.closePath();var P=W.split("\n");for(var ad=0,O=P.length;ad<O;ad++){var V=P[ad];var ac=V.length;var S=0;if(ac==0){T+=Q;continue}while(S<ac){var ah=1;while(true){if(S+ah>ac){break}if(c.measureText(V.substring(S,S+ah)).width>ab){ah--;break}else{ah++}}this.drawText(V.substring(S,S+ah),U,T,ag,af,ae);T+=Q;S+=ah}}c.restore()};this.toDataURL=function(O){return d.toDataURL(O)};this.setOffset=function(O){c.translate(O.x,O.y)};this.clear=function(){c.fillStyle="#FFFFFF";c.fillRect(0,0,d.width,d.height)};this.fillRect=function(T,S,Q,P,O){c.fillStyle=O;c.fillRect(T,S,Q-T,P-S)};this.setTransformInfo=function(S,O,Q,P,T){M=S;w=O||1;C=Q||2;b=P||-45;f=T||45};this.initTransform=function(){w=1;s=0;k=0;r=1;g=0};this.setRotateAngle=function(O){s=O};this.resetTransform=function(){c.setTransform(1,0,0,1,0,0)};this.scaleAndRotate=function(S,T,P,X,Z){var W,O,Y,V;var U=d.height/d.width;if(U>1){U=1/U}if(w>S){S=w}else{if(S>C){S=C}}if(T<b){T=b}else{if(T>f+s){T=f}}if(S==undefined){S=r}W=S/r;O=T-g+s;var aa=function(ac){if(T!=undefined){var ab=Math.abs(ac)*Math.PI/180;var ad=Math.max(Math.cos(ab)-(U*Math.sin(ab)),Math.cos(ab)+(1/U*Math.sin(ab)));ad*=Math.max((d.width+Math.abs(d.width/2-Y))/d.width,(d.height+Math.abs(d.height/2-V))/d.height);if(ad>C){return false}if(S!=ad){if((k>ab&&S>ad)||S<=ad){S=ad;W=ad/r}}w=ad;k=ab}return true};var Q=new Image();Q.src=M;Q.onload=function(){var af=O*Math.PI/180;var ac,ab;if(d.width>d.height){ab=d.height;ac=d.height*U}else{ac=d.width;ab=d.width*U}var ad=(d.width-ac)/2;var ae=(d.height-ab)/2;if(s==90){Y=ab-X+ae;V=P-ad;V=V*d.height/ac;Y=Y*d.width/ab}else{if(s==180){Y=d.width-P;V=d.height-X}else{if(s==270){Y=X-ae;V=ac-(P-ad);V=V*d.height/ac;Y=Y*d.width/ab}else{Y=P;V=X}}}if(!aa(T)){return}c.clearRect(-1,-1,d.width+2,d.height+2);c.translate(Y,V);c.rotate(-af);c.scale(W,W);if((s==90||s==270)&&T==0){c.scale(U,U)}c.translate(-Y,-V);c.drawImage(Q,0,0,d.width,d.height);r=S;g=T+s;if(Z&&typeof Z==="function"){Z(S,T)}}}};m2soft.crownix.Canvas.Util={measureAndDrawText:function(b,d,k,h,q,e){var t=d.width;var g=d.height;var w;var u=0;var r=d.getContext("2d");r.clearRect(0,0,t,g);r.save();var f=function(D){var F=$("<span>Hg</span>").css({fontFamily:D});var E=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>');var G=$("<div></div>");G.append(F,E);var C=$("body");C.append(G);try{var B={};E.css({verticalAlign:"baseline"});B.ascent=E.offset().top-F.offset().top;E.css({verticalAlign:"bottom"});B.height=E.offset().top-F.offset().top;B.descent=B.height-B.ascent}finally{G.remove()}return B};if(e.formField.useReportStyleOnSign){var A=function(B){if(go.alterFontMap&&go.alterFontMap[B]){B+='", "'+go.alterFontMap[B]}return B};var s=b.attr("ha");var j=b.attr("va");var l=A((b.attr("fn")?b.attr("fn"):h.get(q.fi)||""));var z='"'+l+'", '+('"'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+l+'"');var n=0;var m=0;w=parseInt(q.pt)/10.3;if(j=="0"){r.textBaseline="top";m=u}else{if(j=="1"){r.textBaseline="middle";m=g/2}else{if(j=="2"){r.textBaseline="bottom";m=g-u}}}if(s=="0"||s=="3"||s=="4"){r.textAlign="left";n=u}else{if(s=="1"){r.textAlign="center";n=(t/2)}else{if(s=="2"){r.textAlign="right";n=t-u}}}r.font=w+"px "+z;r.fillText(k,n,m)}else{w=(g);var z="";if(typeof e.formField.fontWeightOnTextSign==="string"){z=e.formField.fontWeightOnTextSign+" "}z+=w+'px "맑은 고딕"';r.font=z;var c=r.measureText(k).width;var a=f(z);if(t<c){r.scale(t/c,g/(g+a.descent));r.fillText(k,0,g-2)}else{r.scale(1,g/(g+a.descent));r.fillText(k,0,g-2)}}r.restore()}};m2soft.ns("m2soft.crownix.ColorPicker");m2soft.crownix.ColorPicker=(function(){var d=m2soft.crownix.Resource;var k=["000000","808080","C0C0C0","FFFFFF","FFFF00","00FF00","00FFFF","FF00FF","FF0000","008000","0000FF","000080","800000","808000","008080","800080"];var e;var a;var g;var l;var c={width:2,color:"000000",transparency:0,};var j={width:10,color:"FFFF00",transparency:50,};var f={kind:"pen",attribute:c,};var b=function(){var q=function(){if(l==="pen"){c.width=$("#crownix-note-pen-width-slider").val();c.transparency=$("#crownix-note-pen-transparency-slider").val();c.color=$(".color-selected").attr("id");f.kind=l;f.attribute=c}else{j.width=$("#crownix-note-pen-width-slider").val();j.transparency=$("#crownix-note-pen-transparency-slider").val();j.color=$(".color-selected").attr("id");f.kind=l;f.attribute=j}g(f);$("#crownix-note-pen-attribute").fadeOut();a.fadeOut()};var n=function(){$("#crownix-note-pen-attribute").fadeOut();a.fadeOut()};var s=function(A,C){for(var B=0;B<A.length;B++){$("<div>").addClass("colorPicker-swatch").attr("id",A[B]).attr({style:"background-color: #"+A[B]+";"}).appendTo(C)}};a=$("<div>").addClass("crownix-overlay").css({display:"none",position:"absolute","z-index":9,}).appendTo(e);a[0].addEventListener("touchstart",function(A){A.preventDefault()});var z=$("<div>").attr("id","crownix-note-pen-attribute").css("display","none").addClass("crownix-note-pen-attribute").appendTo(e);var r=$("<div>").attr("id","crownix-note-pen-width").appendTo(z);$("<label>",{"for":"crownix-note-pen-width-slider",text:d.get("pen_size")}).appendTo(r);$("<div>").attr("id","crownix-note-pen-width-slider").addClass("pen-slider").appendTo(r);$("<input>",{type:"number",id:"crownix-note-pen-width-val"}).addClass("slider-value").appendTo(r);var t=$("<div>").attr("id","crownix-note-pen-color").appendTo(z);$("<label>",{"for":"colorPicker_palette",text:d.get("color")}).appendTo(t);var w=$("<div>").attr("id","colorPicker_palette").addClass("colorPicker_palette").appendTo(t);s(k,w);var m=$("<div>").attr("id","crownix-note-pen-transparency").appendTo(z);$("<label>",{"for":"crownix-note-pen-transparency-slider",text:d.get("pen_transparency")}).appendTo(m);$("<div>").attr("id","crownix-note-pen-transparency-slider").addClass("pen-slider").appendTo(m);$("<input>",{type:"number",id:"crownix-note-pen-transparency-val"}).addClass("slider-value").appendTo(m);var u=$("<div>").attr("id","crownix-note-pen-button").appendTo(z);$("<button>",{text:d.get("ok_button_text"),value:"ok"}).bind("click",q).appendTo(u);$("<button>",{text:d.get("cancel_button_text"),value:"cancel"}).bind("click",n).appendTo(u);$(".colorPicker-swatch").click(function(){$(".colorPicker-swatch").removeClass("color-selected");$(this).addClass("color-selected")})};var h=function(n,m){e=n;g=m;b()};h.prototype={show:function(r){a.fadeIn();l=r;var q,t,m,n;var u=$("#crownix-note-pen-width-slider");var s=$("#crownix-note-pen-transparency-slider");$("#crownix-note-pen-attribute").fadeIn();if(r==="pen"){q=[1,10];t=c.width;m=c.transparency;n=c.color}else{q=[5,18];t=j.width;m=j.transparency;n=j.color}u.crownixNoUiSlider({range:q,start:t,handles:1,step:1,margin:20,connect:"lower",direction:"rtl",orientation:"vertical",behaviour:"extend-tap",serialization:{to:$("#crownix-note-pen-width-val"),resolution:1,},},true);s.crownixNoUiSlider({range:[0,100],start:m,handles:1,step:1,margin:20,connect:"lower",direction:"rtl",orientation:"vertical",behaviour:"extend-tap",serialization:{to:$("#crownix-note-pen-transparency-val"),resolution:1,},},true);if(r==="pen"){s.removeAttr("disabled");$("#crownix-note-pen-transparency-val").removeAttr("disabled")}else{s.attr("disabled","disabled");$("#crownix-note-pen-transparency-val").attr("disabled","disabled")}$(".colorPicker-swatch").removeClass("color-selected");$("#"+n).addClass("color-selected")},hide:function(){$("#crownix-note-pen-attribute").fadeOut();a.fadeOut()},getPen:function(){return c},getHighlighter:function(){return j},setSelectedTool:function(s,n,m){var r,q;if(n){if(n.width&&(typeof n.width!=="number"||n.width<1||(s==="pen"?10:18)<n.width)){delete n.width}if(n.transparency&&(typeof n.transparency!=="number"||n.transparency<0||100<n.transparency)){delete n.transparency}if(n.color){if(typeof n.color!=="number"||n.color<0||15<n.color){delete n.color}else{n.color=k[n.color]}}q={kind:s,attribute:n}}if(q.kind==="pen"){r=this.getPen()}else{r=this.getHighlighter()}q.attribute=$.extend({},r,q.attribute);if(q.kind==="pen"){c=q.attribute;f.attribute=c}else{j=q.attribute;f.attribute=j}f.kind=q.kind;m(f)}};return h})();m2soft.ns("m2soft.crownix.NoteToolbar");m2soft.crownix.NoteToolbar=(function(){var f=m2soft.crownix.Resource;var a=m2soft.crownix.resource.Icon;var q=m2soft.crownix.Util;var k=m2soft.crownix.ColorPicker;var s=m2soft.crownix.ChannelManager;var m;var b;var l=q.hasTouch()?"touchstart mousedown":"click";var r;var d;var c=true;var j=false;var e=function(K){var I="view_mode";var B="pen";var D="#000000";var E="#FFFF00";m={area:{type:"area",id:"note_area",click:function(Q){Q.preventDefault();Q.stopPropagation();H()},},edit:{type:"mode",svg:a.NORMAL_PEN,id:"edit_mode",title:f.get("edit_mode"),click:function(Q){if(I!=="edit_mode"){Q.preventDefault();Q.stopPropagation();r.setMode("editable");u(Q.data)}},},view:{type:"mode",svg:a.VIEW_MODE,id:"view_mode",title:f.get("view_mode"),click:function(Q){if(I!=="view_mode"){Q.preventDefault();Q.stopPropagation();r.setMode("disable");u(Q.data)}},},hide:{type:"mode",svg:a.HIDE_MODE,title:f.get("hide_mode"),id:"hide_mode",click:function(Q){if(I!=="hide_mode"){Q.preventDefault();Q.stopPropagation();r.setMode("hide");u(Q.data)}},},pen:{type:"attr",svg:a.NORMAL_PEN,id:"pen",title:f.get("note_pen"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();if(G(Q.data)&&!j&&!Q.isAPI){t()}else{M(Q.data);J(Q.data);r.setTool("scribble");Q.data.style&&F.setSelectedTool("pen",Q.data.style,A)}},},highlighter:{type:"attr",svg:a.HIGHLIGHTER_PEN,id:"highlighter",title:f.get("note_highlighter"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();if(G(Q.data)&&!j&&!Q.isAPI){t()}else{M(Q.data);J(Q.data);r.setTool("scribble");Q.data.style&&F.setSelectedTool("highlighter",Q.data.style,A)}},},textNote:{type:"attr",svg:a.TEXT,id:"text",title:f.get("note_text_note"),visible:true,mirroring:true,click:function(Q){Q.preventDefault();Q.stopPropagation();M(Q.data);J(Q.data);r.setTool("text")},},eraser:{type:"attr",svg:a.ERASER,id:"eraser",title:f.get("note_eraser"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();M(Q.data);J(Q.data);r.setTool("eraser")},},eraseAll:{type:"attr",svg:a.ERASE_ALL,id:"eraseAll",title:f.get("note_erase_all"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();if(!r.isLock()){r.clear()}if(d.options.mirroring.enable&&d.options.mirroring.scrollToNote){d.mirroringManager.externalEvent.restoreScroll()}},},undo:{type:"attr",svg:a.UNDO,id:"undo",title:f.get("note_undo"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();if(!r.isLock()){r.undo()}},},redo:{type:"attr",svg:a.REDO,id:"redo",title:f.get("note_redo"),visible:true,click:function(Q){Q.preventDefault();Q.stopPropagation();if(!r.isLock()){r.redo()}},},};var A=function(Q){if(Q.kind==="pen"){D="#"+Q.attribute.color;$(".crownix-icon-pencolor").css("fill",D)}else{if(Q.kind==="highlighter"){E="#"+Q.attribute.color;$(".crownix-icon-highlightercolor").css("fill",E)}}r.setShapeAttribute({stroke:"#"+Q.attribute.color,"stroke-width":Q.attribute.width+"pt","stroke-opacity":(100-Q.attribute.transparency)/100,})};var N;var L;var F=new k(K,A);var O;var C;var w;var z=function(){O=$("<ul>").addClass("crownix-note-mode").appendTo(b);C=$("<ul>").addClass("crownix-note-area").appendTo(b);w=$("<ul>").addClass("crownix-note-attr").appendTo(b);$(".crownix-note-area").attr("title",f.get("view_mode"));for(var Q in m){N=m[Q];if(N.type==="mode"&&N.id!=="view_mode"){L=$("<li>").attr({id:Q,title:N.title}).addClass("crownix-note-icon").addClass("crownix-note-mode-icon").appendTo(O).prepend(N.svg).bind(d.options.mirroring.enable?"mouseup":l,N,N.click)}else{if(N.type==="attr"){if(N.mirroring&&window.external&&typeof window.external.IsSubProcess!=="undefined"){continue}L=$("<li>").attr({id:Q,title:N.title}).addClass("crownix-note-icon").addClass("crownix-note-attr-icon").appendTo(w).prepend(N.svg).bind(d.options.mirroring.enable?"mouseup":l,N,N.click);if(N.id==="pen"){L.addClass("crownix-icon-select")}}else{if(N.type==="area"){C.addClass("crownix-note-icon").addClass("crownix-note-area-icon").prepend(m.view.svg).bind(d.options.mirroring.enable?"mouseup":l,N,N.click)}}}}};var H=function(){if(c){c=false;$(".crownix-note-mode").fadeIn(400);setTimeout(function(){if(I!=="edit_mode"){c=true}$(".crownix-note-mode").fadeOut(400)},3000);if(I==="edit_mode"){$(".crownix-note-attr").fadeIn(400)}}else{c=true;$(".crownix-note-mode").fadeOut(400);if(I==="edit_mode"){$(".crownix-note-attr").fadeOut(400)}}};var u=function(Q){I=Q.id;if(I==="edit_mode"){$(".crownix-note-attr").attr({style:"display: block;"})}else{$(".crownix-note-attr").attr({style:"display: none"})}$(".crownix-note-area > svg").remove();$(".crownix-note-area").prepend(Q.svg);$(".crownix-note-mode > li").remove();if(I){$(".crownix-note-area").attr("title",f.get(I))}for(var S in m){N=m[S];if(N.type==="mode"&&N.id!==Q.id){L=$("<li>").attr({id:S,title:N.title,style:"display: list-item"}).addClass("crownix-note-icon").addClass("crownix-note-mode-icon").appendTo(O).prepend(N.svg).bind(d.options.mirroring.enable?"mouseup":l,N,N.click)}}$(".crownix-icon-pencolor").css("fill",D);$(".crownix-icon-highlightercolor").css("fill",E);P()};var M=function(S){var Q=I!=="edit_mode"?"#edit":".crownix-note-area";m.edit.svg=S.svg;$(Q+" > svg").remove();$(Q).prepend(S.svg);$(".crownix-icon-pencolor").css("fill",D);$(".crownix-icon-highlightercolor").css("fill",E)};var J=function(Q){B=Q.id;$(".crownix-note-attr-icon").each(function(){$(this).removeClass("crownix-icon-select")});$("#"+Q.id).addClass("crownix-icon-select");P()};var P=function(){var Q;if(B==="pen"){Q=F.getPen()}else{if(B==="highlighter"){Q=F.getHighlighter()}else{return}}r.setShapeAttribute({stroke:"#"+Q.color,"stroke-width":Q.width+"pt","stroke-opacity":(100-Q.transparency)/100,})};var G=function(Q){return Q.id===B};var t=function(Q){F.show(B)};if(typeof b!="undefined"){b.remove();H()}b=$("<div>").attr("id","crownix-note-toolbar").addClass("crownix-note-toolbar").appendTo(K);z();n.prototype.disableToolbarItem(["undo","redo","eraseAll"])};var h=function(){var w=10;var u=10;var t=parseInt(d.options.scrollbarOnNote.width);t=Math.max(0,Math.min(50,t));u+=t;if(d.toolbar.getDirection()=="left"){if(!d.toolbar.isFloatingToolbar()||(d.toolbar.isFloatingToolbar()&&!d.toolbar.isHideToolbar())){w+=d.toolbar.getWidth()}}else{if(d.toolbar.getDirection()=="bottom"){if(!d.toolbar.isFloatingToolbar()||(d.toolbar.isFloatingToolbar()&&!d.toolbar.isHideToolbar())){u+=d.toolbar.getWidth()}}}$("#crownix-note-pen-attribute, #crownix-note-toolbar").css({left:w,bottom:u,})};var g=function(){j=true;b.find(".crownix-note-attr").children().each(function(){var t=this.id;if(t=="pen"||t=="highlighter"||t=="textNote"||t=="eraser"){if(m[t].visible){$(".crownix-note-attr > #"+t).click();return false}}});if(!(m.pen.visible||m.highlighter.visible||m.textNote.visible||m.eraser.visible)){$(".crownix-note-attr > #pen").click()}j=false};var n=function(t,u,w){d=w;e(t);r=u;h();s.getChannel("notetoolbar:relocation").subscribe(h)};n.prototype={hideToolbar:function(){b.css("display","none")},showToolbar:function(){b.css("display","block")},hideNoteItem:function(u){for(var t=0;t<u.length;t++){b.find("#"+u[t]).css("display","none");m[u[t]].visible=false}g()},showNoteItem:function(u){for(var t=0;t<u.length;t++){b.find("#"+u[t]).css("display","list-item");m[u[t]].visible=true}g()},disableToolbarItem:function(w){for(var u=0,t=w.length;u<t;u++){if(!m[w[u]]){continue}if(m[w[u]].type==="attr"){b.find("#"+w[u]).removeClass("crownix-note-icon").addClass("crownix-note-icon-disable").off()}}},enableToolbarItem:function(w){for(var u=0,t=w.length;u<t;u++){if(!m[w[u]]){continue}if(m[w[u]].type==="attr"){b.find("#"+w[u]).removeClass("crownix-note-icon-disable").addClass("crownix-note-icon");if(m[w[u]].click){b.find("#"+w[u]).off().on(d.options.mirroring.enable?"mouseup":l,m[w[u]].click)}}}},destroy:function(){b.remove()},relocation:h,click:function(z,t){var w={show:"view",note:"edit",hide:"hide"};if(w[z]){z=w[z]}else{if(z==="text"){z="textNote"}else{if(z==="remove"){z="eraseAll"}}}var u={data:{id:m[z].id,svg:m[z].svg,style:t},preventDefault:function(){},stopPropagation:function(){},isAPI:true};m[z].click(u)}};return n})();m2soft.ns("m2soft.crownix.security.IKE");m2soft.crownix.security.IKE=(function(){var m=m2soft.crownix.Util;var k=m2soft.crownix.Message;var e="";var a={};var h="OPTIONS";var j=function(q){return a[q].secretKey};var d=function(q){return a[q].algorithm};var f=function(q){delete a[q]};var c=function(q){secretKey="";e=q.serverUrl;return b().pipe(n)};var l=function(q){if(typeof q==="string"&&q.toUpperCase()==="POST"){h="POST"}else{h="OPTIONS"}};var b=function(){$.support.cors=true;var q={"crownix-command":0};if(m.isCloudServer()){q["x-api-key"]=m2soft.crownix.Ajax.xApiKey}q=$.extend({},m2soft.crownix.Ajax.requestHeader,q);return $.ajax(e,{type:h,headers:q}).pipe(function(t,z,w){try{var s=JSON.parse(w.responseText);var r=s.algorithm;if(!m.isSupportWebCrypto()||!m.browser.firefox){s.algorithm="seed"}k.log("[Crownix Viewer] encrypt enabled. server["+r+"] client["+s.algorithm+"]");s.rdid=w.getResponseHeader("crownix-rdid")}catch(u){k.log("[Crownix Viewer] response parsing error: "+w.responseText);return $.Deferred().reject(u.message)}if(s.status){return $.Deferred().resolve(s)}else{return $.Deferred().reject(s.message)}})};var n=function(r){var w=new JSEncrypt();w.setPublicKey(r.pubkey);var t=g(128);var s=w.encrypt(t);var u=r.rdid;var q=r.algorithm;var z={"crownix-command":1,"crownix-rdid":u,"crownix-encrypt-algorithm":q,"crownix-encrypt-key":s};a[u]={secretKey:t,algorithm:q};if(m.isCloudServer()){z["x-api-key"]=m2soft.crownix.Ajax.xApiKey}z=$.extend({},m2soft.crownix.Ajax.requestHeader,z);return $.ajax(e,{type:h,headers:z}).pipe(function(B,E,D){try{var A=JSON.parse(D.responseText)}catch(C){k.log("[Crownix Viewer] response parsing error: "+D.responseText);return $.Deferred().reject(C.message)}if(A.status){return $.Deferred().resolve(u)}else{return $.Deferred().reject(A.message)}})};var g=function(s){var r="";for(var q=0;q<s/4;q++){r+=Math.floor(Math.random()*(16)).toString(16)}return r};return{getKey:j,getAlgorithm:d,removeSession:f,request:c,setMethod:l}})();m2soft.ns("m2soft.crownix.security.SEED");m2soft.crownix.security.SEED=(function(){function e(g,f){g=g||{};for(var h in f){if(typeof f[h]==="object"){g[h]=e(g[h],f[h])}else{if(f[h]===null){g[h]=null}else{g[h]=f[h]}}}return g}var a=a||function(A,g){var k={},h=k.lib={},C=h.Base=function(){function l(){}return{extend:function(s){l.prototype=this;var m=new l;s&&m.mixIn(s);m.hasOwnProperty("init")||(m.init=function(){m.$super.init.apply(this,arguments)});m.init.prototype=m;m.$super=this;return m},create:function(){var m=this.extend();m.init.apply(m,arguments);return m},init:function(){},mixIn:function(m){for(var s in m){m.hasOwnProperty(s)&&(this[s]=m[s])}m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),B=h.WordArray=C.extend({init:function(l,m){l=this.words=l||[];this.sigBytes=m!=g?m:4*l.length},toString:function(l){return(l||f).stringify(this)},concat:function(l){var m=this.words,t=l.words,u=this.sigBytes;l=l.sigBytes;this.clamp();if(u%4){for(var s=0;s<l;s++){m[u+s>>>2]|=(t[s>>>2]>>>24-8*(s%4)&255)<<24-8*((u+s)%4)}}else{if(65535<t.length){for(s=0;s<l;s+=4){m[u+s>>>2]=t[s>>>2]}}else{m.push.apply(m,t)}}this.sigBytes+=l;return this},clamp:function(){var l=this.words,m=this.sigBytes;l[m>>>2]&=4294967295<<32-8*(m%4);l.length=A.ceil(m/4)},clone:function(){var l=C.clone.call(this);l.words=this.words.slice(0);return l},random:function(l){for(var m=[],s=0;s<l;s+=4){m.push(4294967296*A.random()|0)}return new B.init(m,l)}}),n=k.enc={},f=n.Hex={stringify:function(l){var m=l.words;l=l.sigBytes;for(var t=[],u=0;u<l;u++){var s=m[u>>>2]>>>24-8*(u%4)&255;t.push((s>>>4).toString(16));t.push((s&15).toString(16))}return t.join("")},parse:function(l){for(var m=l.length,s=[],t=0;t<m;t+=2){s[t>>>3]|=parseInt(l.substr(t,2),16)<<24-4*(t%8)}return new B.init(s,m/2)}},z=n.Latin1={stringify:function(l){var m=l.words;l=l.sigBytes;for(var s=[],t=0;t<l;t++){s.push(String.fromCharCode(m[t>>>2]>>>24-8*(t%4)&255))}return s.join("")},parse:function(l){for(var m=l.length,s=[],t=0;t<m;t++){s[t>>>2]|=(l.charCodeAt(t)&255)<<24-8*(t%4)}return new B.init(s,m)}},q=n.Utf8={stringify:function(l){try{return decodeURIComponent(escape(z.stringify(l)))}catch(m){log(m);throw Error("Malformed UTF-8 data")}},parse:function(l){return z.parse(unescape(encodeURIComponent(l)))}},j=h.BufferedBlockAlgorithm=C.extend({reset:function(){this._data=new B.init;this._nDataBytes=0},_append:function(l){"string"==typeof l&&(l=q.parse(l));this._data.concat(l);this._nDataBytes+=l.sigBytes},_process:function(l){var s=this._data,u=s.words,E=s.sigBytes,t=this.blockSize,m=E/(4*t),m=l?A.ceil(m):A.max((m|0)-this._minBufferSize,0);l=m*t;E=A.min(4*l,E);if(l){for(var D=0;D<l;D+=t){this._doProcessBlock(u,D)}D=u.splice(0,l);s.sigBytes-=E}return new B.init(D,E)},clone:function(){var l=C.clone.call(this);l._data=this._data.clone();return l},_minBufferSize:0});h.Hasher=j.extend({cfg:C.extend(),init:function(l){this.cfg=this.cfg.extend(l);this.reset()},reset:function(){j.reset.call(this);this._doReset()},update:function(l){this._append(l);this._process();return this},finalize:function(l){l&&this._append(l);return this._doFinalize()},blockSize:16,_createHelper:function(l){return function(m,s){return(new l.init(s)).finalize(m)}},_createHmacHelper:function(l){return function(m,s){return(new r.HMAC.init(l,s)).finalize(m)}}});var r=k.algo={};return k}(Math);(function(){var g=a,f=g.lib.WordArray;g.enc.Base64={stringify:function(r){var j=r.words,h=r.sigBytes,n=this._map;r.clamp();r=[];for(var s=0;s<h;s+=3){for(var q=(j[s>>>2]>>>24-8*(s%4)&255)<<16|(j[s+1>>>2]>>>24-8*((s+1)%4)&255)<<8|j[s+2>>>2]>>>24-8*((s+2)%4)&255,k=0;4>k&&s+0.75*k<h;k++){r.push(n.charAt(q>>>6*(3-k)&63))}}if(j=n.charAt(64)){for(;r.length%4;){r.push(j)}}return r.join("")},parse:function(r){var j=r.length,n=this._map,m=n.charAt(64);m&&(m=r.indexOf(m),-1!=m&&(j=m));for(var m=[],u=0,q=0;q<j;q++){if(q%4){if(n.indexOf(r.charAt(q-1))<0||n.indexOf(r.charAt(q))<0){throw"invalid base64"}var k=n.indexOf(r.charAt(q-1))<<2*(q%4),h=n.indexOf(r.charAt(q))>>>6-2*(q%4);m[u>>>2]|=(k|h)<<24-8*(u%4);u++}}return f.create(m,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(r){function g(s,m,l,B,u,A,t){s=s+(m&l|~m&B)+u+t;return(s<<A|s>>>32-A)+m}function j(s,m,l,B,u,A,t){s=s+(m&B|l&~B)+u+t;return(s<<A|s>>>32-A)+m}function h(s,m,l,B,u,A,t){s=s+(m^l^B)+u+t;return(s<<A|s>>>32-A)+m}function z(t,C,s,A,l,B,u){t=t+(s^(C|~A))+l+u;return(t<<B|t>>>32-B)+C}var w=a,k=w.lib,f=k.WordArray,q=k.Hasher,k=w.algo,n=[];(function(){for(var l=0;64>l;l++){n[l]=4294967296*r.abs(r.sin(l+1))|0}})();k=k.MD5=q.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Y,Z){for(var aa=0;16>aa;aa++){var N=Z+aa,S=Y[N];Y[N]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var aa=this._hash.words,N=Y[Z+0],S=Y[Z+1],T=Y[Z+2],P=Y[Z+3],s=Y[Z+4],m=Y[Z+5],K=Y[Z+6],G=Y[Z+7],I=Y[Z+8],l=Y[Z+9],Q=Y[Z+10],O=Y[Z+11],M=Y[Z+12],L=Y[Z+13],J=Y[Z+14],H=Y[Z+15],X=aa[0],W=aa[1],V=aa[2],U=aa[3],X=g(X,W,V,U,N,7,n[0]),U=g(U,X,W,V,S,12,n[1]),V=g(V,U,X,W,T,17,n[2]),W=g(W,V,U,X,P,22,n[3]),X=g(X,W,V,U,s,7,n[4]),U=g(U,X,W,V,m,12,n[5]),V=g(V,U,X,W,K,17,n[6]),W=g(W,V,U,X,G,22,n[7]),X=g(X,W,V,U,I,7,n[8]),U=g(U,X,W,V,l,12,n[9]),V=g(V,U,X,W,Q,17,n[10]),W=g(W,V,U,X,O,22,n[11]),X=g(X,W,V,U,M,7,n[12]),U=g(U,X,W,V,L,12,n[13]),V=g(V,U,X,W,J,17,n[14]),W=g(W,V,U,X,H,22,n[15]),X=j(X,W,V,U,S,5,n[16]),U=j(U,X,W,V,K,9,n[17]),V=j(V,U,X,W,O,14,n[18]),W=j(W,V,U,X,N,20,n[19]),X=j(X,W,V,U,m,5,n[20]),U=j(U,X,W,V,Q,9,n[21]),V=j(V,U,X,W,H,14,n[22]),W=j(W,V,U,X,s,20,n[23]),X=j(X,W,V,U,l,5,n[24]),U=j(U,X,W,V,J,9,n[25]),V=j(V,U,X,W,P,14,n[26]),W=j(W,V,U,X,I,20,n[27]),X=j(X,W,V,U,L,5,n[28]),U=j(U,X,W,V,T,9,n[29]),V=j(V,U,X,W,G,14,n[30]),W=j(W,V,U,X,M,20,n[31]),X=h(X,W,V,U,m,4,n[32]),U=h(U,X,W,V,I,11,n[33]),V=h(V,U,X,W,O,16,n[34]),W=h(W,V,U,X,J,23,n[35]),X=h(X,W,V,U,S,4,n[36]),U=h(U,X,W,V,s,11,n[37]),V=h(V,U,X,W,G,16,n[38]),W=h(W,V,U,X,Q,23,n[39]),X=h(X,W,V,U,L,4,n[40]),U=h(U,X,W,V,N,11,n[41]),V=h(V,U,X,W,P,16,n[42]),W=h(W,V,U,X,K,23,n[43]),X=h(X,W,V,U,l,4,n[44]),U=h(U,X,W,V,M,11,n[45]),V=h(V,U,X,W,H,16,n[46]),W=h(W,V,U,X,T,23,n[47]),X=z(X,W,V,U,N,6,n[48]),U=z(U,X,W,V,G,10,n[49]),V=z(V,U,X,W,J,15,n[50]),W=z(W,V,U,X,m,21,n[51]),X=z(X,W,V,U,M,6,n[52]),U=z(U,X,W,V,P,10,n[53]),V=z(V,U,X,W,Q,15,n[54]),W=z(W,V,U,X,S,21,n[55]),X=z(X,W,V,U,I,6,n[56]),U=z(U,X,W,V,H,10,n[57]),V=z(V,U,X,W,K,15,n[58]),W=z(W,V,U,X,L,21,n[59]),X=z(X,W,V,U,s,6,n[60]),U=z(U,X,W,V,O,10,n[61]),V=z(V,U,X,W,T,15,n[62]),W=z(W,V,U,X,l,21,n[63]);aa[0]=aa[0]+X|0;aa[1]=aa[1]+W|0;aa[2]=aa[2]+V|0;aa[3]=aa[3]+U|0},_doFinalize:function(){var m=this._data,u=m.words,l=8*this._nDataBytes,t=8*m.sigBytes;u[t>>>5]|=128<<24-t%32;var s=r.floor(l/4294967296);u[(t+64>>>9<<4)+15]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;u[(t+64>>>9<<4)+14]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;m.sigBytes=4*(u.length+1);this._process();m=this._hash;u=m.words;for(l=0;4>l;l++){t=u[l],u[l]=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360}return m},clone:function(){var l=q.clone.call(this);l._hash=this._hash.clone();return l}});w.MD5=q._createHelper(k);w.HmacMD5=q._createHmacHelper(k)})(Math);(function(){var h=a,f=h.lib,k=f.Base,g=f.WordArray,f=h.algo,j=f.EvpKDF=k.extend({cfg:k.extend({keySize:4,hasher:f.MD5,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(t,u){for(var n=this.cfg,q=n.hasher.create(),A=g.create(),s=A.words,B=n.keySize,n=n.iterations;s.length<B;){z&&q.update(z);var z=q.update(t).finalize(u);q.reset();for(var l=1;l<n;l++){z=q.finalize(z),q.reset()}A.concat(z)}A.sigBytes=4*B;return A}});h.EvpKDF=function(m,n,l){return j.create(l).compute(m,n)}})();a.lib.Cipher||function(E){var h=a,n=h.lib,j=n.Base,H=n.WordArray,F=n.BufferedBlockAlgorithm,q=h.enc.Base64,g=h.algo.EvpKDF,C=n.Cipher=F.extend({cfg:j.extend(),createEncryptor:function(m,l){return this.create(this._ENC_XFORM_MODE,m,l)},createDecryptor:function(m,l){return this.create(this._DEC_XFORM_MODE,m,l)},init:function(m,l,r){this.cfg=this.cfg.extend(r);this._xformMode=m;this._key=l;this.reset()},reset:function(){F.reset.call(this);this._doReset()},process:function(l){this._append(l);return this._process()},finalize:function(l){l&&this._append(l);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(l){return{encrypt:function(m,s,r){return("string"==typeof s?D:f).encrypt(l,m,s,r)},decrypt:function(m,s,r){return("string"==typeof s?D:f).decrypt(l,m,s,r)}}}}()});n.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var A=h.mode={},k=n.BlockCipherMode=j.extend({createEncryptor:function(m,l){return this.Encryptor.create(m,l)},createDecryptor:function(m,l){return this.Decryptor.create(m,l)},init:function(m,l){this._cipher=m;this._iv=l}}),A=A.CBC=function(){function m(r,w,u){var t=this._iv;t?this._iv=E:t=this._prevBlock;for(var s=0;s<u;s++){r[w+s]^=t[s]}}var l=k.extend();l.Encryptor=l.extend({processBlock:function(r,u){var t=this._cipher,s=t.blockSize;m.call(this,r,u,s);t.encryptBlock(r,u);this._prevBlock=r.slice(u,u+s)}});l.Decryptor=l.extend({processBlock:function(r,w){var u=this._cipher,s=u.blockSize,t=r.slice(w,w+s);u.decryptBlock(r,w);m.call(this,r,w,s);this._prevBlock=t}});return l}(),B=(h.pad={}).Pkcs7={pad:function(m,l){for(var u=4*l,u=u-m.sigBytes%u,t=u<<24|u<<16|u<<8|u,s=[],r=0;r<u;r+=4){s.push(t)}u=H.create(s,u);m.concat(u)},unpad:function(l){l.sigBytes-=l.words[l.sigBytes-1>>>2]&255}};n.BlockCipher=C.extend({cfg:C.cfg.extend({mode:A,padding:B}),reset:function(){C.reset.call(this);var m=this.cfg,l=m.iv,m=m.mode;if(this._xformMode==this._ENC_XFORM_MODE){var r=m.createEncryptor}else{r=m.createDecryptor,this._minBufferSize=1}this._mode=r.call(m,this,l&&l.words)},_doProcessBlock:function(m,l){this._mode.processBlock(m,l)},_doFinalize:function(){var m=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){m.pad(this._data,this.blockSize);var l=this._process(!0)}else{l=this._process(!0),m.unpad(l)}return l},blockSize:4});var z=n.CipherParams=j.extend({init:function(l){this.mixIn(l)},toString:function(l){return(l||this.formatter).stringify(this)}}),A=(h.format={}).OpenSSL={stringify:function(m){var l=m.ciphertext;m=m.salt;return(m?H.create([1398893684,1701076831]).concat(m).concat(l):l).toString(q)},parse:function(l){l=q.parse(l);var r=l.words;if(1398893684==r[0]&&1701076831==r[1]){var m=H.create(r.slice(2,4));r.splice(0,4);l.sigBytes-=16}return z.create({ciphertext:l,salt:m})}},f=n.SerializableCipher=j.extend({cfg:j.extend({format:A}),encrypt:function(l,t,s,r){r=this.cfg.extend(r);var m=l.createEncryptor(s,r);t=m.finalize(t);m=m.cfg;return z.create({ciphertext:t,key:s,iv:m.iv,algorithm:l,mode:m.mode,padding:m.padding,blockSize:l.blockSize,formatter:r.format})},decrypt:function(m,l,s,r){r=this.cfg.extend(r);l=this._parse(l,r.format);return m.createDecryptor(s,r).finalize(l.ciphertext)},_parse:function(m,l){return"string"==typeof m?l.parse(m,this):m}}),h=(h.kdf={}).OpenSSL={execute:function(l,s,r,m){m||(m=H.random(8));l=g.create({keySize:s+r}).compute(l,m);r=H.create(l.words.slice(s),4*r);l.sigBytes=4*s;return z.create({key:l,iv:r,salt:m})}},D=n.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:h}),encrypt:function(m,l,s,r){r=this.cfg.extend(r);s=r.kdf.execute(s,m.keySize,m.ivSize);r.iv=s.iv;m=f.encrypt.call(this,m,l,s.key,r);m.mixIn(s);return m},decrypt:function(m,l,s,r){r=this.cfg.extend(r);l=this._parse(l,r.format);s=r.kdf.execute(s,m.keySize,m.ivSize,l.salt);r.iv=s.iv;return f.decrypt.call(this,m,l,s.key,r)}})}();(function(){function h(l){return g[3][l>>>24&255]^g[2][l>>>16&255]^g[1][l>>>8&255]^g[0][l&255]}var f=a,n=f.lib.BlockCipher,g=[[696885672,92635524,382128852,331600848,340021332,487395612,747413676,621093156,491606364,54739776,403181592,504238620,289493328,1020063996,181060296,591618912,671621160,71581764,536879136,495817116,549511392,583197408,147374280,386339604,629514660,261063564,50529024,994800504,999011256,318968592,314757840,785310444,809529456,210534540,1057960764,680042664,839004720,500027868,919007988,876900468,751624428,361075092,185271048,390550356,474763356,457921368,1032696252,16843008,604250148,470552604,860058480,411603096,268439568,214745292,851636976,432656856,738992172,667411428,843215472,58950528,462132120,297914832,109478532,164217288,541089888,272650320,595829664,734782440,218956044,914797236,512660124,256852812,931640244,441078360,113689284,944271480,646357668,302125584,797942700,365285844,557932896,63161280,881111220,21053760,306336336,1028485500,227377548,134742024,521081628,428446104,0,420024600,67371012,323179344,935850996,566354400,1036907004,910586484,789521196,654779172,813740208,193692552,235799052,730571688,578986656,776888940,327390096,223166796,692674920,1011642492,151585032,168428040,1066382268,802153452,868479984,96846276,126321540,335810580,1053750012,608460900,516870876,772678188,189481800,436867608,101057028,553722144,726360936,642146916,33686016,902164980,310547088,176849544,202113036,864269232,1045328508,281071824,977957496,122110788,377918100,633725412,637936164,8421504,764256684,533713884,562143648,805318704,923218740,781099692,906375732,352653588,570565152,940060728,885321972,663200676,88424772,206323788,25264512,701096424,75792516,394761108,889532724,197903304,248431308,1007431740,826372464,285282576,130532292,160006536,893743476,1003222008,449499864,952692984,344232084,424235352,42107520,80003268,1070593020,155795784,956903736,658989924,12632256,265274316,398971860,948482232,252642060,244220556,37896768,587408160,293704080,743202924,466342872,612671652,872689716,834793968,138952776,46318272,793731948,1024274748,755835180,4210752,1049539260,1041117756,1015853244,29475264,713728680,982168248,240009804,356864340,990589752,483184860,675831912,1062171516,478974108,415813848,172638792,373707348,927429492,545300640,768467436,105267780,897954228,722150184,625303908,986379000,600040416,965325240,830583216,529503132,508449372,969535992,650568420,847426224,822161712,717939432,760045932,525292380,616882404,817950960,231588300,143163528,369496596,973746744,407392344,348442836,574775904,688464168,117900036,855847728,684253416,453710616,84214020,961114488,276861072,709517928,705307176,445289112],[943196208,3894986976,741149985,2753988258,3423588291,3693006546,2956166067,3090712752,2888798115,1612726368,1410680145,3288844227,1141130304,1815039843,1747667811,1478183763,3221472195,1612857954,808649523,3023406513,673777953,2686484640,3760374498,2754054051,3490956243,2417066385,269549841,67503618,471600144,3158084784,875955762,1208699715,3962556387,2282260608,1814842464,2821228704,337053459,3288646848,336987666,4097098992,3221406402,1141196097,3760308705,3558262482,1010765619,1010634033,2349764226,2551744656,673712160,1276005954,4097230578,1010699826,2753922465,4164536817,202181889,3693072339,3625502928,673909539,1680229986,2017086066,606537507,741281571,4029792753,1882342002,1073889858,3558130896,1073824065,3221274816,1882407795,1680295779,2888600736,2282457987,4097296371,2888666529,2147516544,471797523,3356150466,741084192,2821360290,875824176,3490890450,134941443,3962490594,3895052769,1545424209,2484372624,404228112,4164471024,1410811731,2888732322,134744064,3288712641,269681427,3423456705,2215020162,3090778545,4232040435,2084392305,3221340609,808517937,4097164785,2282392194,1747602018,2956034481,3490824657,538968096,3558328275,131586,539099682,67372032,1747470432,1882276209,67569411,3625700307,2619182481,2551810449,1612792161,3158216370,3827746530,1478052177,3692940753,1343308113,2417000592,3692874960,2551876242,2686682019,2821426083,3490758864,2147582337,202313475,1141327683,404359698,3760440291,3962359008,2349698433,3158282163,2484504210,2017151859,1545358416,2686616226,2686550433,1612923747,539165475,1275940161,3356018880,2619248274,2619116688,943327794,202116096,741215778,3090844338,1814974050,2619314067,1478117970,4029858546,2417132178,4029924339,1208568129,2016954480,3423390912,336921873,4164668403,1882210416,1949648241,2084523891,875889969,269484048,197379,1680098400,1814908257,3288778434,1949582448,3558196689,3023340720,3895118562,134809857,1949714034,404293905,4231974642,1073758272,269615634,3760242912,3158150577,67437825,4164602610,65793,4029726960,673843746,1545490002,2821294497,1410745938,1073955651,2214954369,336856080,2282326401,2551942035,2955968688,3827680737,1208502336,2017020273,2484570003,4231843056,471731730,2147648130,539033889,2349632640,404425491,1545555795,1949779827,1410614352,2956100274,471665937,606405921,1276071747,0,1141261890,3962424801,1477986384,1343373906,3895184355,2084458098,3625634514,3356084673,4231908849,808452144,2484438417,1680164193,1010568240,3023472306,3827614944,3090910131,2084326512,202247682,1343242320,943262001,606471714,808583730,2214888576,1747536225,2417197971,876021555,3827812323,606340128,2753856672,3356216259,1343439699,134875650,2215085955,3625568721,1275874368,2147713923,2349830019,3423522498,943393587,1208633922,3023538099],[2712152457,2172913029,3537114822,3553629123,1347687492,287055117,2695638156,556016901,1364991309,1128268611,270014472,303832590,1364201793,4043062476,3267889866,1667244867,539502600,1078199364,538976256,2442927501,3772784832,3806339778,3234334920,320083719,2711889285,2206994319,50332419,1937259339,3015195531,319820547,3536851650,3807129294,1886400576,2156661900,859586319,2695374984,842019330,3520863693,4076091078,1886663748,3773574348,2442401157,50858763,1398019911,1348213836,1398283083,2981903757,16777473,539239428,270277644,1936732995,2425886856,269488128,3234598092,4075827906,3520600521,539765772,3823380423,1919955522,2206204803,2476219275,3520074177,2189690502,3251112393,1616912448,1347424320,2745181059,3823643595,17566989,2998154886,2459704974,1129058127,3014932359,1381505610,3267626694,1886926920,2728666758,303043074,2745970575,3520337349,1633689921,3284140995,2964599940,1094713665,1380979266,1903967565,2173439373,526344,320610063,2442664329,0,286791945,263172,1397756739,4092868551,3789562305,4059839949,1920218694,590098191,589571847,2964336768,2206731147,34344462,2745707403,2728403586,1651256910,2475692931,1095503181,1634216265,1887190092,17303817,34081290,3015458703,3823906767,4092605379,3250849221,2206467975,269751300,4076617422,1617175620,3537641166,573320718,1128794955,303569418,33818118,555753729,1667771211,1650730566,33554946,4059313605,2458915458,2189953674,789516,3014669187,1920745038,3503296704,1920481866,1128531783,2459178630,3789825477,572794374,2155872384,2712415629,3554418639,2711626113,808464384,859059975,2729193102,842282502,286528773,572531202,808990728,4042536132,2745444231,1094976837,1078725708,2172649857,3790088649,2156135556,2475956103,825505029,3284667339,3268153038,809253900,1903178049,286265601,3284404167,2173176201,1903441221,4093131723,3537377994,4042799304,2425623684,1364728137,2189427330,3234071748,4093394895,1095240009,825768201,1667508039,3233808576,3284930511,3553892295,2964863112,51121935,2190216846,1111491138,589308675,2442137985,1617701964,3554155467,2695111812,808727556,4059050433,1078462536,3267363522,1668034383,826031373,556543245,1077936192,2998681230,842808846,2965126284,3250586049,2728929930,2998418058,1112280654,1364464965,859323147,3504086220,1617438792,1937522511,2426150028,3503823048,1112017482,1381242438,1936996167,2694848640,3790351821,1111754310,2981377413,589835019,1633953093,4076354250,3823117251,2981640585,2981114241,2476482447,1381768782,4059576777,3806602950,2997891714,825241857,3806866122,1634479437,1398546255,3773048004,4042272960,3251375565,2156398728,303306246,842545674,1347950664,3503559876,1650467394,556280073,50595591,858796803,3773311176,320346891,17040645,1903704393,2425360512,1650993738,573057546,2459441802],[137377848,3370182696,220277805,2258805798,3485715471,3469925406,2209591347,2293282872,2409868335,1080057888,1162957845,3351495687,1145062404,1331915823,1264805931,1263753243,3284385795,1113743394,53686323,2243015733,153167913,2158010400,3269648418,2275648551,3285438483,2173800465,17895441,100795398,202382364,2360392764,103953462,1262700555,3487820847,2290124808,1281387564,2292230184,118690839,3300967428,101848086,3304125492,3267543042,1161905157,3252805665,3335705622,255015999,221330493,2390920206,2291177496,136325160,1312967694,3337810998,238173246,2241963045,3388078137,218172429,3486768159,3369130008,186853419,1180853286,1249015866,119743527,253963311,3253858353,1114796082,1111638018,3302020116,1094795265,3233857536,1131638835,1197696039,2359340076,2340653067,3354653751,2376182829,2155905024,252910623,3401762826,203435052,2325915690,70267956,3268595730,184748043,3470978094,3387025449,1297177629,2224067604,135272472,3371235384,1196643351,2393025582,134219784,3317810181,51580947,3452029965,2256700422,2310125625,3488873535,1299283005,3250700289,20000817,3320968245,2323810314,1247963178,2175905841,3251752977,2105376,3352548375,33685506,35790882,67109892,1214277672,1097953329,117638151,3419658267,2375130141,2308020249,1096900641,2394078270,3336758310,1230067737,3453082653,1095847953,2156957712,3436239900,2324863002,2208538659,2342758443,3234910224,2172747777,251857935,1195590663,168957978,3286491171,3437292588,2374077453,2410921023,2257753110,1265858619,1280334876,2191695906,2174853153,1130586147,52633635,1296124941,3368077320,2391972894,2358287388,171063354,201329676,237120558,2326968378,1315073070,2408815647,1246910490,3270701106,2190643218,3287543859,1229015049,1215330360,3435187212,85005333,3421763643,1081110576,1165063221,1332968511,87110709,1052688,50528259,1147167780,1298230317,3334652934,1148220468,3318862869,2226172980,3403868202,151062537,1181905974,152115225,3472030782,1077952512,34738194,3235962912,2377235517,83952645,3404920890,16842753,3237015600,170010666,1314020382,2309072937,1179800598,1128480771,2239857669,68162580,2306967561,2341705755,2159063088,3319915557,1212172296,1232173113,2274595863,3438345276,236067870,2189590530,18948129,2357234700,185800731,1330863135,1198748727,1146115092,2192748594,219225117,86058021,1329810447,0,1178747910,3454135341,1213224984,1112690706,3420710955,1316125758,3402815514,3384920073,3455188029,3158064,2240910357,1164010533,204487740,2259858486,3303072804,2343811131,1282440252,235015182,1079005200,154220601,102900774,36843570,2223014916,1231120425,2207485971,120796215,3353601063,69215268,2225120292,3418605579,1129533459,167905290,2273543175,3385972761,1279282188,2206433283,2407762959,3468872718,187906107,1245857802,2276701239]],k=[2654435769,1013904243,2027808486,4055616972,3816266649,3337566003,2380164711,465362127,930724254,1861448508,3722897016,3150826737,2006686179,4013372358,3731777421,3168587547],j=f.algo.SEED=n.extend({_doReset:function(){for(var z=this._key,w=z.words[0],r=z.words[1],t=z.words[2],z=z.words[3],u=[],s=0;16>s;s++){if(u[s]=[],u[s][0]=h(w+t-k[s]),u[s][1]=h(r-z+k[s]),0==s%2){var q=w,w=w>>>8|r<<24,r=r>>>8|q<<24}else{q=t,t=t<<8|z>>>24,z=z<<8|q>>>24}}this._roundKeys=u;this._invRoundKeys=u.slice().reverse()},encryptBlock:function(m,l){this._doCryptBlock(m,l,this._roundKeys)},decryptBlock:function(m,l){this._doCryptBlock(m,l,this._invRoundKeys)},_doCryptBlock:function(B,A,s){for(var u=B.slice(A,A+2),z=B.slice(A+2,A+4),t=[u,z],u=0;16>u;u++){var z=s[u],q=t[0],t=t[1],w=[];w[0]=t[0]^z[0];w[1]=t[1]^z[1];w[1]^=w[0];w[1]=h(w[1]);w[0]+=w[1];w[0]=h(w[0]);w[1]+=w[0];w[1]=h(w[1]);w[0]+=w[1];q[0]^=w[0];q[1]^=w[1];t=[t,q]}t.reverse();B.splice(A,4,t[0][0],t[0][1],t[1][0],t[1][1])},keySize:4,ivSize:4,blockSize:4});f.SEED=n._createHelper(j)})();var c=function(g,f){if(!f){throw"Key must be shared with server before"}this.key=a.enc.Hex.parse(f);this.iv=this.key;this.buffer={sigBytes:0,words:[]};if(g=="encrypt"){e(this,b)}else{if(g=="decrypt"){e(this,d)}}};var b={finalize:function(f){var g=a.SEED.encrypt(f.toString(),this.key,{mode:a.mode.CBC,iv:this.iv,padding:a.pad.Pkcs7});return g.toString()}};var d={offset:0,offset2:0,decryptor:null,getDecryptor:function(){if(!this.decryptor.process){this.decryptor=a.algo.SEED.createDecryptor(this.key,{mode:a.mode.CBC,iv:this.iv,padding:a.pad.Pkcs7})}return this.decryptor},plainTextBuffer:"",failedBuffer:"",process:function(k){var l=128*3/2;this.offset2=Math.floor(k.length/l)*l;var j=a.enc.Base64.parse(k.substring(this.offset,this.offset2));this.offset=this.offset2;var f=this.getDecryptor().process(j);try{var g=f.toString(a.enc.Latin1);this.plainTextBuffer+=decodeURIComponent(escape(this.failedBuffer+g));this.failedBuffer=""}catch(h){this.failedBuffer+=g}return this.plainTextBuffer},finalize:function(h){param=a.enc.Base64.parse(h.substring(this.offset));var g=this.getDecryptor().process(param);var f=this.getDecryptor().finalize();this.plainTextBuffer+=decodeURIComponent(escape(this.failedBuffer+g.toString(a.enc.Latin1)+f.toString(a.enc.Latin1)));return this.plainTextBuffer}};return c});m2soft.ns("m2soft.crownix.WorkerUtil");m2soft.crownix.WorkerUtil=(function(){var c=m2soft.crownix.Util;var a=(function(){var f=(!!window.Worker&&!!window.Blob);if(f){try{var d=new Blob(["function() {};"],{type:"application/javascript"});var g=URL.createObjectURL(d);var j=new Worker(g)}catch(h){f=false;console.log("[WorkerUtil]","can not use web worker.");console.log("[WorkerUtil]","cause by: "+h.name);console.log("[WorkerUtil]",h.message)}finally{if(d){delete d}if(g){g=null}if(j){j.terminate();delete j}}}return f})();var b=function(f,k){if(typeof f.workerFunction!="function"){throw"worker must be function"}k=k===true;var h=function(l){var n=l.workerFunction,e=l.dependency,m=["(function(){"];for(var q in e){if(e.hasOwnProperty(q)){m.push("var ");m.push(q);m.push("=(");m.push(e[q].toString());m.push(")();")}}m.push("(");m.push(n.toString());m.push(")();");m.push("})()");return m};var g=function(l){var e=new Blob(h(l),{type:"application/javascript"});var m=URL.createObjectURL(e);return new Worker(m)};var d=function(e){var l=h(e).join("");return new FakeWorker(l)};if(a&&!k){try{return g(f)}catch(j){return d(f)}}else{return d(f)}};return{isAvailable:function(){return a},getCryptoWorker:function(f,d,e){if(d=="aes"){var g=b(m2soft.crownix.worker.security.AES,true)}else{var g=b(m2soft.crownix.worker.security.SEED)}g.postMessage({method:"create",crypt:f,key:e});return g},getIdentifyWorker:function(){return b(m2soft.crownix.worker.Identity)},makeLocalWorker:function(e,d){return b({workerFunction:e,dependency:d})}}})();m2soft.ns("m2soft.crownix.ExportAgent");m2soft.crownix.ExportAgent=(function(){var g=m2soft.crownix.Resource;var h=m2soft.crownix.Message;var k=m2soft.crownix.Ajax;var a=m2soft.crownix.WorkerUtil;var l=m2soft.crownix.security.IKE;var m=m2soft.crownix.Util;var n=m2soft.crownix.Window;var d;var c=function(r,s){return a.getCryptoWorker("encrypt",r,s)};var j=function(r,s){return a.getCryptoWorker("decrypt",r,s)};var b=function(u,s,t,r){d=u;this.dialog=s;this.toolbar=t;this.options=r};b.prototype["export"]=function(H,B,u,r,N,D,w,s,G,t,F,C){var K=this.dialog;var A=this.toolbar;var J="";var Q="";var O="";A.disableToolbarItem(["save","print","print_pdf","cloud_print"]);var z=K.message(t.notice_message);var I=500;if(d.options.saveMmlToPdf){I=503}if(d.options.saveMmlToExport){I=504}var M;if(typeof C!="string"){M=C;C=undefined}var L={opcode:I,mrd_path:r,mrd_param:N,export_type:u,protocol:C?C:"sync","crownix-client":"html5viewer"};if(w!=null&&w!=""){L.mrd_data=w}if(s.toJson()!=""){L.runtime_param=s.toJson()}if(M&&!M.isEmpty()){L.ext_param=JSON.stringify(M.toObject())}if(d.options.downloadFileName&&N.indexOf("/rpdfprintdialog ")==-1){L.export_name=d.options.downloadFileName+"."+u}if(d.options.download.printFileName&&N.indexOf("/rpdfprintdialog ")>=0){L.export_name=d.options.download.printFileName+"."+u}if(d.options.saveMmlToPdf){L.rdid=d.rdid;L.totalpage=d.totalPage}if(d.options.viewCache&&d.options.exportCache){L.use_cache=true;L.cache_key=d.cacheKey}if(d.encType>3&&(!F||F.isEmptyPrevDocStack())){L.enc_type=d.encType;if(D){L.mrd_plain_param=D}}var E=function(T){var S,U;if(T.indexOf("1|")==0){S=true;U=T.substring(2)}else{S=false;U=T.replace("0|","")}d.emit("server-export",{status:S,message:U,action:H,type:u})};if(this.options.enableSecure){var P=l.request({serverUrl:B}).pipe(function(S){O=S;J=l.getAlgorithm(O);Q=l.getKey(O);return f(L,J,Q)},function(S){h.error(S.stack);K.show("Key exchange error("+S+")");return $.Deferred().reject(S)}).pipe(function(S){return e(B,S,t,K,true,O)}).pipe(function(S){return q(S,J,Q)}).pipe(function(S){E(S);G(S,O)})}else{var P=e(B,L,t,K,false,d.rdid).pipe(function(S,T){E(S);return G(S,T)})}return P.always(function(S){z.fadeOut(2000,function(){h.progress.hide(d.parentId);z.remove();A.enableToolbarItem(["save","print","print_pdf","cloud_print"])});l.removeSession(O);return S}).fail(function(S){E(S)})};b.prototype.downloadFile=function(r,B,t,C,D,s,z){var A=this.dialog;var u={notice_message:B+" "+g.get("export_file"),connect_error:g.get("save_connect_error"),server_error:g.get("save_server_error"),timeout_error:g.get("save_timeout_error")};if(typeof D==="function"){var w=function(I,H){if(I.indexOf("1|")==0){var G=I.split("|");var E=G[0];var F=encodeURIComponent(G[1]);D(r.replace("/service","/download?crownix-client=html5viewer")+"&filename="+F+"&rdid="+H+"&delete="+d.options.download.deleteOnServer)}else{D(g.get("save_error")+"("+I.replace("0|","")+")")}}}else{var w=function(K,H){if(K.indexOf("1|")==0){var G=K.split("|");var E=G[0];var F=encodeURIComponent(G[1]);var J=r.replace("/service","/download?crownix-client=html5viewer")+"&filename="+F+"&rdid="+H;if(m.browser.ios){if(m.browser.uiwebview&&!m.browser.chrome&&!m.browser.firefox){if(window.webkit){window.webkit.messageHandlers.downloadFile.postMessage(J)}else{document.location="crownixWebView://downloadFile?path="+J}}else{var I=document.createElement("a");I.target="_blank";I.href=J;I.dispatchEvent(new MouseEvent("click"))}}else{if(m.browser.android&&window.m2softFormFieldBridge&&window.m2softFormFieldBridge.requestFileDownload){window.m2softFormFieldBridge.requestFileDownload(J,G[1].substring(G[1].lastIndexOf("/")+1))}else{if(d.options.exportMethod==="post"){$("#crownix-download-form input[name=filename]").attr("value",F);$("#crownix-download-form input[name=rdid]").attr("value",H);$("#crownix-download-form").attr("action",J).submit()}else{$("#crownix-download-iframe").attr("src",J+"&delete="+d.options.download.deleteOnServer+"&attatchment=true")}}}}else{A.show(g.get("save_error")+"("+K.replace("0|","")+")")}}}h.progress.show(d.parentId,g.get("save_file"));return this["export"]("save",r,B,t.mrdPath,t.mrdParam,d.mrdPlainParam,t.mrdData,C,w,u,s,z)};b.prototype.showPdfWindow=function(s,B,z,r,A){var u=this.dialog;var w={notice_message:g.get("print_pdf_export"),connect_error:g.get("print_pdf_connect_error"),server_error:g.get("print_pdf_server_error"),timeout_error:g.get("print_pdf_timeout_error")};var t=function(K,D){if(K.indexOf("1|")==0){var F=K.split("|");var G=F[0];var C=encodeURIComponent(F[1]);var J=(d.options.pdfPrintSpoolName?"/"+d.options.pdfPrintSpoolName:"");var L=s.replace("/service",J?("/download"+J+"?"):"/download?")+"crownix-client=html5viewer&filename="+C+"&rdid="+D+"&delete="+d.options.download.printFileDelete+"&attatchment=false";var H=$('<iframe id="crownix-pdf-viewer">').attr("src",L);$("#crownix-pdf-viewer").remove();if(d.options.pdfPrintPreview||m.browser.firefox||(m.os.macos&&m.browser.safari)){H.css({width:"100%",height:"100%"});var I=new n(g.get("print_pdfviewer_title"),H,{isOverlay:true,buttonType:["close"]});I.show()}else{if(m.browser.edge){H.css("visibility","hidden").appendTo("#m2soft-crownix-container")}else{if(m.browser.ios&&(m.browser.uiwebview&&!m.browser.chrome&&!m.browser.firefox)){if(window.webkit){window.webkit.messageHandlers.printpdf.postMessage(L)}else{document.location="crownixWebView://printpdf?path="+L}}else{if(window.m2softFormFieldBridge&&window.m2softFormFieldBridge.requestPrint){var E=F[1].substring(F[1].lastIndexOf("/")+1);E=E.substring(0,E.lastIndexOf("."));window.m2softFormFieldBridge.requestPrint(L,E)}else{H.css("display","none").appendTo("body")}}}}}else{u.show(g.get("print_pdf_error")+"("+K.replace("0|","")+")")}};if(d.encType>3&&(!r||r.isEmptyPrevDocStack())){if(!d.mrdPlainParam){d.mrdPlainParam=""}if(!d.nativeInterface.isInWebView()){d.mrdPlainParam="/rpdfprintdialog "+d.mrdPlainParam}}else{if(!d.nativeInterface.isInWebView()){B.mrdParam="/rpdfprintdialog "+B.mrdParam}}h.progress.show(d.parentId,g.get("print_progress"));return this["export"]("print",s,"pdf",B.mrdPath,B.mrdParam,d.mrdPlainParam,B.mrdData,z,t,w,r,A)};b.prototype.downloadFileDirectUseBlob=function(r,B,u,D,s,z){var A=this.dialog;var C=this.toolbar;var t=new k();var E={};var w={notice_message:B+" "+g.get("export_file")};var F=A.message(w.notice_message);C.disableToolbarItem(["save","print","print_pdf","cloud_print"]);t.setHandler({done:function(H){var G=H.response||H.responseText;var I=decodeURIComponent(H.getResponseHeader("crownix-download-filename"));saveAs(G,I);setTimeout(function(){F.fadeOut(500,function(){F.remove();C.enableToolbarItem(["save","print","print_pdf","cloud_print"])})},1000)},error:function(H,G){if(G){d.dialog.show(G)}else{if(H.status==0){d.dialog.show(g.get("server_connect_error"))}else{d.dialog.show(g.get("request_server_error"))}}},abort:function(){d.dialog.show(g.get("request_abort_error"))},timeout:function(){d.dialog.show(g.get("request_timeout_error"))}});E.opcode=500;E.mrd_path=u.mrdPath;E.mrd_param=u.mrdParam;E.export_type=B;E.protocol="file";E.delete_file=d.options.download.deleteOnServer;E.attachment=true;if(u.mrdData!=null&&u.mrdData!=""){E.mrd_data=u.mrdData}if(D.toJson()!=""){E.runtime_param=D.toJson()}if(z&&!z.isEmpty()){E.ext_Param=JSON.stringify(z.toObject())}if(d.options.downloadFileName){E.export_name=d.options.downloadFileName+"."+B}if(d.encType>3&&(!s||s.isEmptyPrevDocStack())){E.enc_type=d.encType;if(d.mrdPlainParam!=null&&d.mrdPlainParam!=""){E.mrd_plain_param=d.mrdPlainParam}}if(d.options.viewCache&&d.options.exportCache){E.use_cache=true;E.cache_key=d.cacheKey}t.invoke(r,E,"blob")};b.prototype.downloadFileDirect=function(r,C,t,E,s,A){var B=this.dialog;var D=this.toolbar;var w={notice_message:C+" "+g.get("export_file")};D.disableToolbarItem(["save","print","print_pdf","cloud_print"]);var F=B.message(w.notice_message);$("#crownix-pdf-viewer").remove();$("#crownix-protocol-file-form").remove();var z=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer" src="about:blank"></iframe>');var u=$('<form id="crownix-protocol-file-form" target="crownix-pdf-viewer" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="opcode"/><input type="hidden" name="mrd_path"/><input type="hidden" name="mrd_param"/><input type="hidden" name="export_type"/><input type="hidden" name="protocol"/><input type="hidden" name="delete_file"/><input type="hidden" name="attatchment"/><input type="hidden" name="crownix-client" value="html5viewer"/></form>').appendTo("body");if(t.mrdData!=null&&t.mrdData!=""){$('<input type="hidden" name="mrd_data"/>').appendTo(u);$("#crownix-protocol-file-form input[name=mrd_data]").attr("value",t.mrdData)}if(E.toJson()!=""){$('<input type="hidden" name="runtime_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=runtime_param]").attr("value",E.toJson())}if(A&&!A.isEmpty()){$('<input type="hidden" name="ext_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=ext_param]").attr("value",JSON.stringify(A.toObject()))}if(d.options.downloadFileName){$('<input type="hidden" name="export_name"/>').appendTo(u);$("#crownix-protocol-file-form input[name=export_name]").attr("value",d.options.downloadFileName+"."+C)}if(d.encType>3&&(!s||s.isEmptyPrevDocStack())){$('<input type="hidden" name="enc_type"/>').appendTo(u);$("#crownix-protocol-file-form input[name=enc_type]").attr("value",d.encType);if(d.mrdPlainParam!=null&&d.mrdPlainParam!=""){$('<input type="hidden" name="mrd_plain_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=mrd_plain_param]").attr("value",d.mrdPlainParam)}}if(d.options.viewCache&&d.options.exportCache){$('<input type="hidden" name="use_cache"/>').appendTo(u);$("#crownix-protocol-file-form input[name=use_cache]").attr("value","true");$('<input type="hidden" name="cache_key"/>').appendTo(u);$("#crownix-protocol-file-form input[name=cache_key]").attr("value",d.cacheKey)}if(d.options.saveMmlToPdf){$('<input type="hidden" name="rdid"/>').val(d.rdid).appendTo(u);$('<input type="hidden" name="totalpage"/>').val(d.totalPage).appendTo(u)}$("#crownix-protocol-file-form input[name=opcode]").attr("value",d.options.saveMmlToPdf?503:500);$("#crownix-protocol-file-form input[name=mrd_path]").attr("value",t.mrdPath);$("#crownix-protocol-file-form input[name=mrd_param]").attr("value",t.mrdParam);$("#crownix-protocol-file-form input[name=export_type]").attr("value",C);$("#crownix-protocol-file-form input[name=protocol]").attr("value","file");$("#crownix-protocol-file-form input[name=delete_file]").attr("value",d.options.download.deleteOnServer);$("#crownix-protocol-file-form input[name=attatchment]").attr("value",true);u.on("submit",function(G){this.submit();G.preventDefault();setTimeout(function(){F.fadeOut(500,function(){F.remove();D.enableToolbarItem(["save","print","print_pdf","cloud_print"])})},1000)});z.appendTo("body");u.attr({action:r+(d.rdid?"?rdid="+d.rdid:""),target:"crownix-pdf-viewer"}).submit();z.css("display","none")};b.prototype.showPdfWindowDirectUseBlob=function(z,s,D,r,w){var A=this.dialog;var C=this.toolbar;var t=new k();var E={};var u={notice_message:g.get("print_pdf_export")};C.disableToolbarItem(["save","print","print_pdf","cloud_print"]);var F=A.message(u.notice_message);E.opcode=500;E.mrd_path=s.mrdPath;E.mrd_param=s.mrdParam;E.export_type="pdf";E.protocol="file";E.delete_file=d.options.download.printFileDelete;E.attachment=false;if(s.mrdData!=null&&s.mrdData!=""){E.mrd_data=s.mrdData}if(D.toJson()!=""){E.runtime_param=D.toJson()}if(w&&!w.isEmpty()){E.ext_Param=JSON.stringify(w.toObject())}if(d.encType>3&&(!r||r.isEmptyPrevDocStack())){E.enc_type=d.encType;if(d.mrdPlainParam!=null&&d.mrdPlainParam!=""){E.mrd_plain_param="/rpdfprintdialog "+d.mrdPlainParam}}else{E.mrd_param="/rpdfprintdialog "+s.mrdParam}if(d.options.viewCache&&d.options.exportCache){E.use_cache=true;E.cache_key=d.cacheKey}t.setHandler({done:function(K){var G=K.response||K.responseText;var I=window.URL.createObjectURL(G);var J;$("#crownix-pdf-viewer").remove();J=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>');if(m.browser.msie||m.browser.edge){A.show(g.get("unsupported_download_error"));return}else{if(!m.browser.mobile){if(d.options.pdfPrintPreview||m.browser.firefox||(m.os.macos&&m.browser.safari)){J.css({width:"100%",height:"100%"});var H=new n(g.get("print_pdfviewer_title"),J,{isOverlay:true,buttonType:["close"]});H.show()}else{J.appendTo("body").css("display","none")}J=J[0].contentDocument;J.location.href=I}}setTimeout(function(){F.fadeOut(500,function(){F.remove();C.enableToolbarItem(["save","print","print_pdf","cloud_print"])})},1000)},error:function(H,G){if(G){d.dialog.show(G)}else{if(H.status==0){d.dialog.show(g.get("server_connect_error"))}else{d.dialog.show(g.get("request_server_error"))}}},abort:function(){d.dialog.show(g.get("request_abort_error"))},timeout:function(){d.dialog.show(g.get("request_timeout_error"))}});var B=(d.options.pdfPrintSpoolName?"/"+d.options.pdfPrintSpoolName:"");t.invoke(z+B,E,"blob")};b.prototype.showPdfWindowDirect=function(C,t,G,s,B){var D=this.dialog;var F=this.toolbar;var w={notice_message:g.get("print_pdf_export")};F.disableToolbarItem(["save","print","print_pdf","cloud_print"]);h.progress.show(d.parentId,g.get("print_progress"));var H=D.message(w.notice_message);$("#crownix-pdf-viewer").remove();$("#crownix-protocol-file-form").remove();var A=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>');var u=$('<form id="crownix-protocol-file-form" target="crownix-pdf-viewer" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="opcode"/><input type="hidden" name="mrd_path"/><input type="hidden" name="mrd_param"/><input type="hidden" name="export_type"/><input type="hidden" name="protocol"/><input type="hidden" name="delete_file"/><input type="hidden" name="attatchment"/><input type="hidden" name="crownix-client" value="html5viewer"/></form>').appendTo("body");if(t.mrdData!=null&&t.mrdData!=""){$('<input type="hidden" name="mrd_data"/>').appendTo(u);$("#crownix-protocol-file-form input[name=mrd_data]").attr("value",t.mrdData)}if(G.toJson()!=""){$('<input type="hidden" name="runtime_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=runtime_param]").attr("value",G.toJson())}if(B&&!B.isEmpty()){$('<input type="hidden" name="ext_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=ext_param]").attr("value",JSON.stringify(B.toObject()))}var z="";if(d.encType>3&&(!s||s.isEmptyPrevDocStack())){$('<input type="hidden" name="enc_type"/>').appendTo(u);$("#crownix-protocol-file-form input[name=enc_type]").attr("value",d.encType);if(d.mrdPlainParam!=undefined){$('<input type="hidden" name="mrd_plain_param"/>').appendTo(u);$("#crownix-protocol-file-form input[name=mrd_plain_param]").attr("value","/rpdfprintdialog "+d.mrdPlainParam)}}else{z="/rpdfprintdialog "}if(d.options.viewCache&&d.options.exportCache){$('<input type="hidden" name="use_cache"/>').appendTo(u);$("#crownix-protocol-file-form input[name=use_cache]").attr("value","true");$('<input type="hidden" name="cache_key"/>').appendTo(u);$("#crownix-protocol-file-form input[name=cache_key]").attr("value",d.cacheKey)}if(d.options.saveMmlToPdf){$('<input type="hidden" name="rdid"/>').val(d.rdid).appendTo(u);$('<input type="hidden" name="totalpage"/>').val(d.totalPage).appendTo(u)}$("#crownix-protocol-file-form input[name=opcode]").attr("value",d.options.saveMmlToPdf?503:500);$("#crownix-protocol-file-form input[name=mrd_path]").attr("value",t.mrdPath);$("#crownix-protocol-file-form input[name=mrd_param]").attr("value",z+t.mrdParam);$("#crownix-protocol-file-form input[name=export_type]").attr("value","pdf");$("#crownix-protocol-file-form input[name=protocol]").attr("value","file");$("#crownix-protocol-file-form input[name=delete_file]").attr("value",d.options.download.printFileDelete);$("#crownix-protocol-file-form input[name=attatchment]").attr("value",false);u.on("submit",function(I){this.submit();I.preventDefault();if(m.browser.msie){setTimeout(function(){h.progress.hide(d.parentId);H.fadeOut(500,function(){H.remove();F.enableToolbarItem(["save","print","print_pdf","cloud_print"])})},1000)}else{A.load(function(){h.progress.hide(d.parentId);H.fadeOut(1000,function(){H.remove();F.enableToolbarItem(["save","print","print_pdf","cloud_print"])})})}});var r=C+(d.options.pdfPrintSpoolName?"/"+d.options.pdfPrintSpoolName:"")+(d.rdid?"?rdid="+d.rdid:"");if(d.options.pdfPrintPreview||m.browser.firefox||(m.os.macos&&m.browser.safari)){A.css({width:"100%",height:"100%"});var E=new n(g.get("print_pdfviewer_title"),A,{isOverlay:true,buttonType:["close"]});E.show()}else{if(m.browser.edge){A.appendTo($("#m2soft-crownix-container"));A.css("visibility","hidden")}else{A.appendTo("body");A.css("display","none")}}u.attr("action",r).attr("target","crownix-pdf-viewer").submit()};b.prototype.base64URI=function(s,z,w,r){var u={notice_message:g.get("export_file"),connect_error:g.get("server_connect_error"),server_error:g.get("request_server_error"),timeout_error:g.get("request_timeout_error")};var t=function(A){if(A){return A}};return this["export"]("print",s,"pdf",z.mrdPath,z.mrdParam,d.mrdPlainParam,z.mrdData,w,t,u,r,"base64")};var f=function(u,s,t){var w=c(s,t);var r=$.Deferred();w.addEventListener("message",function(A){var B=A.data.method;if(B==="object"){var z=A.data.obj;r.resolve(z);w.terminate()}});w.postMessage({method:"object",obj:u});return r};var e=function(t,A,B,w,s,z){var r=new k();var u=$.Deferred();r.setConnectTimeout(d.options.timeout);r.setHandler({load:function(C){},done:function(C){u.resolve(C.responseText,r.getResponseHeader("crownix-rdid"))},error:function(D){var C;if(status==0){C=B.connect_error}else{C=B.server_error+"("+D.status+")"}w.show(C);u.reject(C)},abort:function(){u.reject(g.get("request_abort_error"))},timeout:function(){w.show(B.timeout_error);u.reject(B.timeout_error)}});if(s&&z){A.rdid=z;r.setRequestHeader("crownix-rdid",z);r.setRequestHeader("crownix-encrypt-type","parameter")}r.invoke(t+(z?"?rdid="+z:""),A);return u};var q=function(r,t,u){var w=j(t,u);var s=$.Deferred();w.addEventListener("message",function(A){var z=A.data.text;var B=A.data.method;if(B==="finalize"){s.resolve(z);w.terminate()}});w.postMessage({method:"finalize",text:r});return s};return b})();m2soft.ns("m2soft.crownix.ParameterBuilder");m2soft.crownix.ParameterBuilder=function(e,b){var d=m2soft.crownix.util.NumberUtil;var c=e,a=b;this.concatMrdPath=function(f){if(typeof f=="string"){return f}else{return f.join("\u0004")}};this.concatMrdParam=function(l,m,h){if(!m){m=""}var g=$.extend({isPrintPdf:false,isPrint:false},h);var n=function(s,u){var B=[];if(s==0){if($.isEmptyObject(l)){B.push(u);B.push(c.formManager.makeNormalFieldDataParam(true))}else{B.push(c.formManager.makeFormParameter(l,u))}}else{B.push(u)}var A=c.report.getDocumentList()[s+1];if(A){if(!g.isPrintPdf&&a("includeNoteInExport")){B.push(c.noteManager.toNoteParameter(A.firstPage,A.lastPage,"export"))}if(g.isPrintPdf&&a("includeNoteInPrint")){B.push(c.noteManager.toNoteParameter(A.firstPage,A.lastPage,"print"))}}if(c.drilldownManager.getDrilldownLength()){B.push(" /rdrilldowninfo ["+c.drilldownManager.toXML()+"]")}if(c.layerManager.getLayerLength()){B.push(c.layerManager.toParam())}if(g.isPrint){B.push(" /rstaticrender")}if(s==0&&!g.isPrintPdf&&c.options.download.partsave!=undefined){if(c.options.download.partsave==0){B.push(" /rpartsavedialog [1] ["+c.currentPage+"]")}else{B.push(" /rpartsavedialog [1] ["+c.options.download.partsave+"]")}}var q=c.report.getRemovedPage();if(s==0&&q.length>0){B.push(" /rsavepageexcept ["+q.join()+"]")}var r=new d();B.push(" /rformcurformat ["+r.getCurrencyFormat().replace("[.]",".")+"]");B.push(" /rformnumformat ["+r.getNumberFormat().replace("[.]",".")+"]");var w=c.formManager.getUniqueObject("fingerprint");if(w){B.push(" /rpdfheader m2softFingerBio["+w.bioSignatureForDocument+"]")}B.push(" /rbrowserlocale ["+m2soft.crownix.Resource.language+"]");if(c.options.useTableOfContents&&c.stateLess&&!!g.isPrintPdf===false){var z=" /rusetableofcontents";if(c.options.useTableOfContents.mergeNode){z+=" [2]"}B.push(z)}if(c.gridManager){B.push(" "+c.gridManager.exportGridParameter())}if(c.cxGridManager){B.push(" "+c.cxGridManager.exportGridParameter())}if(g.option){var t=g.option;if(t.pageLayout){B.push(" /rpagejang ["+t.pageLayout+"]")}if(t.subPage){B.push(" /rprnjangopt")}if(t.duplexPrinting){B.push(" /rpdup ["+t.duplexPrinting+"]")}if(t.xlsPageZoom){B.unshift("/rxlspagezoom ["+t.xlsPageZoom+"] ")}if(t.xlsKeepFormNum){B.unshift("/rxlskeepformopt ["+t.xlsKeepFormNum+"] ")}}return B.join("")};var k="";if(typeof m=="string"){k=n(0,m)}else{var f=[];for(var j=0;j<m.length;j++){f.push(n(j,m[j]))}k=f.join("\u0004")}if(c.editor){k+=(" "+c.editor.toAddPageParameter())}return k}};m2soft.crownix.ParameterBuilder.prototype.addParamByOptions=function(c,d){var b=m2soft.crownix.Resource;if(c.options.useTableOfContents){if(c.stateLess){var e=" /rusetableofcontents";if(c.options.useTableOfContents.mergeNode){e+=" [2]"}c.isAppendReport?(d[0]+=e):(d+=e)}else{window.console.log(b.get("set_statelessmode").replace(/%s/g,b.get("table_of_contents")))}}if(c.options.saveMmlToExport){var e=" /rmmlimport";if(c.isAppendReport){for(var a=0;a<d.length;a++){d[a]+=e}}else{d+=e}}return d};m2soft.ns("m2soft.crownix.worker.Identity");m2soft.crownix.worker.Identity=(function(){var a=function(){addEventListener("message",function(b){postMessage(b.data)})};return{workerFunction:a}})();m2soft.ns("m2soft.crownix.worker.security.SEED");m2soft.crownix.worker.security.SEED=(function(){var a=function(){var c=function(d){if(typeof console!="undefined"){console.log(d)}};c("[Crownix Viewer] use SEED with CryptoJS");var b=null;addEventListener("message",function(k){try{var d=k.data;var l=k.data.method;if(l=="process"){var j=k.data.text;d.text=b.process(j);postMessage(d)}else{if(l=="finalize"){var j=k.data.text;d.text=b.finalize(j);postMessage(d)}else{if(l==="create"){b=new SEED(k.data.crypt,k.data.key)}else{if(l==="object"){var h=k.data.obj;d.obj={};for(var f in h){if(h.hasOwnProperty(f)){d.obj[f]=b.finalize(h[f])}}postMessage(d)}}}}}catch(g){postMessage(d)}})};return{workerFunction:a,dependency:{SEED:m2soft.crownix.security.SEED}}})();m2soft.ns("m2soft.crownix.worker.security.AES");m2soft.crownix.worker.security.AES=(function(){var a=function(){var f=function(s){if(typeof console!="undefined"){console.log(s)}};f("[Crownix Viewer] use AES with WebCrypto");var l=crypto;var d="";var n="";var m=null;var h={name:"AES-CBC",length:128};var c={name:"AES-CBC",iv:null};var r=function(z){var w=(unescape(encodeURIComponent(z)));var s=w.split("");var u=[];for(var t=0;t<s.length;t++){u.push(s[t].charCodeAt(0))}return new Uint8Array(u)};var q=function(w){var u="";for(var t=0;t<w.length;t+=10000){u+=String.fromCharCode.apply(null,w.subarray(t,t+10000))}var s=decodeURIComponent(escape(u));return s};var b=function(s){return btoa(String.fromCharCode.apply(null,s))};var j=function(s){var z=atob(s);var t=z.split("");var w=[];for(var u=0;u<t.length;u++){w.push(t[u].charCodeAt(0))}return new Uint8Array(w)};var g=function(A){var u=new ArrayBuffer(A.length/2);var t=new Uint8Array(u);for(var w=0,s=0,z=A.length;w<z;w+=2,s++){t[s]=parseInt("0x"+A[w]+A[w+1])}return t};var e=function(s){var t=g(s);c.iv=t;return l.subtle.importKey("raw",t.buffer,c,true,["encrypt","decrypt"])};var k=function(s){return l.subtle.exportKey("raw",s)};addEventListener("message",function(B){try{var s=B.data;var C=B.data.method;if(C=="process"){}else{if(C=="finalize"){if(B.data.text){var A=j(B.data.text)}m.then(function(D){l.subtle[n](c,D,A).then(function(E){s.text=q(new Uint8Array(E));postMessage(s)})},function(){postMessage(s)})}else{if(C==="create"){n=B.data.crypt;m=e(B.data.key)}else{if(C==="object"){var z=B.data.obj;var u=[];for(var t in z){if(z.hasOwnProperty(t)){(function(E){var D=m.then(function(F){return l.subtle.encrypt(c,F,r(""+z[E])).then(function(G){s.obj[E]=b(new Uint8Array(G));return Promise.resolve(s.obj[E])})});u.push(D)})(t)}}Promise.all(u).then(function(){postMessage(s)},function(){postMessage(s)})}}}}}catch(w){postMessage(s)}})};return{workerFunction:a,}})();var encCode="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";m2soft.ns("m2soft.crownix.EncEval");m2soft.crownix.EncEval.eval=function(){var C;var type;var fk=["\u0030\x38\u0062","\u0034\x31\u0066","\x38\u0063\x35","\x33\u0064\x37","\u0032\x30\u0037","\u0066\x33\u0030","\x30\u0031\x39","\x62\u0064\x63"];var ek=[49,48,49,98,51,98,100,56];var kk="";for(var i=0;i<8;i++){kk+=fk[i]+String.fromCharCode(ek[i])}var SEED=m2soft.crownix.security.SEED();var seed=new SEED("decrypt",kk);eval(seed.finalize(encCode));encCode=undefined;delete encCode};m2soft.ns("m2soft.crownix.FieldOrder");(function(){var b=m2soft.crownix.TabOrder=function(n,h){var m=m2soft.crownix.Util;var k="tab";var f="guide";var l=0;var j=[];var g=[];var d={};var c=function(t){var s=t.indexOf("-");return(s==-1)?0:parseInt(t.substring(s+1))};var r=function(t){var s=t.indexOf("-");return(s==-1)?t:t.substring(0,t.indexOf("-"))};var q=function(){if(Array.isArray(d.auth)){g=g.filter(function(s){return d.auth.indexOf(s.auth)!=-1})}if(Array.isArray(d.id)){g=g.filter(function(t){for(var s=0;s<d.id.length;s++){if(d.id[s].indexOf("*")!=-1&&m.wildcardRegExp(d.id[s]).test(t.fieldID)){return true}else{if(d.id[s]==t.fieldID){return true}}}return false})}};var e=function(){g=j.slice();q();g.sort(function(A,z){if(A.formID==z.formID&&A.formRepeat>0&&z.formRepeat>0){if(A.page>z.page){return 1}else{if(A.page<z.page){return -1}else{if(A.formRepeat>z.formRepeat){return 1}else{if(A.formRepeat<z.formRepeat){return -1}else{if(A.fieldRepeat>0&&z.fieldRepeat>0&&A.fieldRepeat>z.fieldRepeat){return 1}else{if(A.fieldRepeat>0&&z.fieldRepeat>0&&A.fieldRepeat<z.fieldRepeat){return -1}else{if(A.priority==z.priority){if(n==k||(n==f&&A.type!=="cb"&&A.type!=="cb"&&z.type!=="rb"&&z.type!=="rb")){return 0}if(A.groupIdx>z.groupIdx){return 1}else{if(A.groupIdx<z.groupIdx){return -1}else{return 0}}}else{return A.priority<z.priority?-1:1}}}}}}}}else{if(A.page>z.page){return 1}else{if(A.page<z.page){return -1}else{if(A.fieldRepeat>0&&z.fieldRepeat>0&&A.fieldRepeat>z.fieldRepeat){return 1}else{if(A.fieldRepeat>0&&z.fieldRepeat>0&&A.fieldRepeat<z.fieldRepeat){return -1}else{if(A.priority==z.priority){if(n==k||(n==f&&A.type!=="cb"&&A.type!=="cb"&&z.type!=="rb"&&z.type!=="rb")){return 0}if(A.groupIdx>z.groupIdx){return 1}else{if(A.groupIdx<z.groupIdx){return -1}else{return 0}}}else{return A.priority<z.priority?-1:1}}}}}}});if(n==f){for(var u=0;u<g.length;u++){if(!g[u].groupID||g[u].priority!=-1){continue}var w=[];g.filter(function(z){if(z.type==g[u].type&&z.groupID==g[u].groupID&&z.page==g[u].page){w.push(z)}});if(w.length<2){continue}var t=g.indexOf(w[0]);w.sort(function(z,A){if(z.groupIdx==A.groupIdx){return 0}return z.groupIdx<A.groupIdx?-1:1});for(var s=0;s<w.length;s++){g.splice(g.indexOf(w[s]),1)}for(var s=0;s<w.length;s++){g.splice(t+s,0,w[s])}}}if(n==k&&h.withSign&&!h.formField.skipTabOrder){for(var u=0;u<g.length;u++){if(g[u].type!="sg"||!g[u].withSignId){continue}var w=[];g.filter(function(z){if(z.type==g[u].type&&z.withSignId==g[u].withSignId){w.push(z)}});for(var s=0;s<w.length-1;s++){g.splice(g.indexOf(w[s+1]),1)}}}};this.add=function(s){if(!s||(!s.element.attr("ti")&&n==k)||(!s.element.attr("ig")&&n==f)){return}var u=s.element.attr("fi");var w=s.element.attr("id");var t={id:"crownix_form_field_"+u+"_"+(s.type==="rb"?(s.element.attr("gi")+"_"):"")+w,formID:r(u),fieldID:s.id,formRepeat:c(u),fieldRepeat:c(w),type:s.type,page:s.page,priority:n==k?parseInt(s.element.attr("ti")):parseInt(s.element.attr("ig")),auth:s.element.attr("sa")||"All",inputTitle:s.element.attr("gt")||"",inputContent:s.element.attr("gc")||"",inputType:s.inputType,groupID:s.element.attr("gi"),withSignId:s.element.attr("gwid"),validityMessage:s.validityMessage,groupIdx:parseInt(s.element.attr("sig"))||undefined,required:s.required,element:s.element};if(t.type==="sg"){t.signType=s.element.attr("st")||"0"}if(!j.some(function(z){return z.id==t.id})){j.push(t)}e();if(g.length>1&&g.indexOf(t)!=-1&&g.indexOf(t)<=l){l++}};this.push=function(A,C){var z=A.attr("fi");var t=A.attr("id");var D=A.attr("ty");var s=A.attr("ti");var B=A.attr("hd");var u=A.attr("ed");var F=A.attr("gt"),w=A.attr("gc");if(n==k&&(s==undefined||B==="1"||u!=="1")){return}if(n==f&&F==undefined&&w==undefined||B==="1"){return}var E={id:"crownix_form_field_"+z+"_"+(D==="rb"?(A.attr("gi")+"_"):"")+t,formID:r(z),fieldID:t,formRepeat:c(z),fieldRepeat:c(t),type:D,page:C,priority:n==k?parseInt(s):parseInt(A.attr("ig")),auth:A.attr("sa")||"All"};if(E.type==="sg"){E.signType=A.attr("st")||"0"}E.inputTitle=F||"",E.inputContent=w||"",E.inputType=A.attr("it"),E.groupID=A.attr("gi"),E.withSignId=A.attr("gwid"),E.validityMessage=A.attr("rem"),E.groupIdx=parseInt(A.attr("sig"))||undefined,E.required=A.attr("rq"),E.element=A;if(!j.some(function(G){return G.id==E.id})){j.push(E)}e()};this.remove=function(A,t,z){var u="crownix_form_field_"+A+"_"+(z?z+"_":"")+t;for(var w=0,s=j.length;w<s;w++){if(j[w].id===u){j.splice(w,1);break}}for(var w=0,s=g.length;w<s;w++){if(g[w].id===u){if(l>=w){l--}g.splice(w,1);break}}};this.getNext=function(){if(l==g.length){return null}else{return g[l+1]}};this.getPrev=function(){if(l==0){return null}else{return g[l-1]}};this.getCurr=function(){return g[l]};this.getField=function(u){for(var t=0,s=g.length;t<s;t++){if(g[t].id===u){return g[t]}}};this.setCurr=function(u){for(var t=0,s=g.length;t<s;t++){if(g[t].id===u){l=t;return g[l]}}};this.setPage=function(u){for(var t=0,s=g.length;t<s;t++){if(g[t].page>=u){l=t;break}}};this.exist=function(u){for(var t=0,s=g.length;t<s;t++){if(g[t].id===u){return true}}return false};this.length=function(){return g.length};this.clear=function(){g=[]};this.getGroupFields=function(t){if(!t||t.type=="sg"||!t.groupID){return}var s=[];g.filter(function(u){if(t.groupID==u.groupID&&t.page==u.page){s.push(u)}});return s};this.getOrder=function(){return g};this.getFieldList=function(){return j};this.setFilter=function(s){d=s;e()};this.removeFilter=function(){d={};e()};this.reset=function(){l=0}};var a=function(l){var k=m2soft.crownix.Util;var D=l;var s=l.containerDom;var B=new b("tab",D.options);var h;var d;var J=false;var u=false;var c=D.options.formField.tabCurrentMode;var n=null;var f=false;var r=true;var g;var w;var e=D.scroll;var G=$("<div>").attr("class","crownix-tab-buttons").appendTo(s);var m=function(){if(B.length()==0){D.emit("nomore-prev-tab");return}if(!n&&!B.exist(document.activeElement.id)||D.options.formField.skipTabOrder){t(B.getCurr())}else{var K=B.getPrev();if(K==null){D.emit("nomore-prev-tab")}else{t(K)}}};var q=function(){if(B.length()==0){D.emit("nomore-next-tab");return}if(!n&&!B.exist(document.activeElement.id)||D.options.formField.skipTabOrder){t(B.getCurr())}else{var K=B.getNext();if(K==null){D.emit("nomore-next-tab")}else{t(K)}}};var C=$(m2soft.crownix.resource.Icon.LEFT_ITEM_MARK).attr("class","crownix-toolbar-icon-color crownix-toolbar-gradient crownix-tab-button").on("touchstart click",m).appendTo(G);var z=$(m2soft.crownix.resource.Icon.RIGHT_ITEM_MARK).attr("class","crownix-toolbar-icon-color crownix-toolbar-gradient crownix-tab-button").on("touchstart click",q).appendTo(G);var I=function(N,K,L){clearInterval(h);g.find('[id^="crownix_form_field_"]').removeClass("crownix-formfield-blink");if(g.find('[id="m2soft-crownix-field-wrapper"]').hasClass("invalid-field")){g.find('[id="m2soft-crownix-field-wrapper"]').removeClass("invalid-field")}else{g.find('[id="m2soft-crownix-field-wrapper"]').css({"-webkit-border-radius":"","-moz-border-radius":"","-ms-border-radius":"","border-radius":"","box-shadow":"","-webkit-box-shadow":"","-moz-box-shadow":""})}g.find('label[class*="crownix-radio-boundary"],[class*="crownix-checkbox-boundary"]').removeClass("crownix-formfield-blink");var M=function(){g.find("#"+N+"-canvas").toggleClass("crownix-formfield-blink");g.find("#"+N).toggleClass("crownix-formfield-blink");g.find("label[for="+N+'][class*="crownix-radio-boundary"],label[for='+N+'][class*="crownix-checkbox-boundary"]').toggleClass("crownix-formfield-blink")};M();if(K==="SELECT"||(L&&L.indexOf("crownix_form_field_file")>-1)){return}if(K){h=setInterval(M,500)}};var t=function(L){if(D.options.formField.skipTabOrder){B.reset();L=B.getCurr()}if(!L||u){return}u=true;var K=function(){setTimeout(function(){if(document.getElementById(L.id)===null){m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(K);return}if(D.options.mirroring.enable){D.mirroringManager.unlockField();D.mirroringManager.externalEvent.focusOut();D.mirroringManager.externalEvent.setFocus(L.id);n=L}var O=$("#"+L.id);var N=L.type;if(D.shareManager&&D.shareManager.isConnected()){if(O.hasClass("crownix-auth-lock")||O.hasClass("crownix-field-lock")){E();I(O[0].id,O[0].tagName);n=L}}if(D.mirroringManager&&O.hasClass("crownix-auth-lock")||O.hasClass("crownix-field-lock")){E();I(O[0].id,O[0].tagName);n=L}if(((N=="sg"&&L.signType=="0")||N=="pn")&&D.options.formField.tabShowSignWindow&&!O.hasClass("crownix-auth-lock")&&!O.hasClass("crownix-field-lock")){var M=function(){if(k.browser.mobile){$("#"+L.id).trigger("tap")}else{$("#"+L.id).click()}};setTimeout(function(){if(document.getElementById(L.id)===null){m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(M)}else{M()}},k.browser.mobile?500:0)}else{if(N=="tf"||N=="ta"){if(k.browser.mobile){O.trigger("click")}else{O.focus()}}else{if(N=="sm"||N=="rb"||N=="cb"||N=="co"){O.focus()}else{if(D.options.scrollOptions.useInfiniteScroll){d=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+D.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")}d&&d.focus();if(D.options.mirroring.enable){D.mirroringManager.externalEvent.focusOut()}I(O[0].id)}}w.remove();u=false;A(O)}},0)};if(L.page!=D.currentPage){m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribeOnce(K);f=true;D.viewer.movePage(L.page)}else{K()}B.setCurr(L.id);u=true;w=$("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo(s);if(k.browser.mobile){$(":focus").blur()}n=L;f=false};var A=function(N){if($(N).is("button")){return}N=N.parent();if(N.parent().hasClass("commonFieldHinting")){N=N.parent()}if(N.parents(".crownix-radio-boundary, .crownix-checkbox-boundary").length>0){N=N.parents(".crownix-radio-boundary, .crownix-checkbox-boundary").parent()}var K=s.scrollLeft(),P=s.scrollTop(),O=N.offset(),M=s.offset();var L=N.find("input[class*=hasDatepicker]");if(k.browser.mobile&&!L.length||(O&&(M.left-O.left>0||M.top-O.top>0||M.left+s.outerWidth()-O.left<0||M.top+s.outerHeight()-O.top<0))){setTimeout(function(){if($(".crownix-signature-frame, .crownix-pen-footer").length>0){return}var S=N.position();var Q=-S.left,T=-S.top+45+$(document).scrollTop();if(Q>0){Q=0}else{if(Q<e.maxScrollX){Q=e.maxScrollX}}if(T>0){T=0}else{if(T<e.maxScrollY){T=e.maxScrollY}}e.scrollToKeepCenter(Q,T,0);if(L.length){$.crownixdatepicker.dpDiv.css({left:L.offset().left,top:L.offset().top+L.height()})}},k.browser.mobile?500:0)}};s.on("scroll",function(){var K=s.scrollLeft(),L=s.scrollTop();D.scroll.scrollBy(-K,-L);s.scrollLeft(0);s.scrollTop(0)});var H=function(K){d=k.browser.ios?$('<span tabindex="-1">'):$('<input type="radio">');d.attr("id","crownix_hidden_tab").css({opacity:0,width:0,height:0,}).prependTo(K);if(!k.browser.mobile&&!D.ttsManager){d.focus()}if(f===true){f=false}};var F=function(K){G.show();if(D.options.formField.keepTabButton||!B.exist(K)||B.getPrev()!=null){C.css("visibility","visible")}else{C.css("visibility","hidden")}if(D.options.formField.keepTabButton||!B.exist(K)||B.getNext()!=null){z.css("visibility","visible")}else{z.css("visibility","hidden")}};var E=function(){clearInterval(h);if(g){g.find('[id^="crownix_form_field_"]').removeClass("crownix-formfield-blink");g.find('label[class*="crownix-radio-boundary"],[class*="crownix-checkbox-boundary"]').removeClass("crownix-formfield-blink");g.find(":focus").blur();if(D.options.scrollOptions.useInfiniteScroll){d=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+D.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")}D.ttsManager?D.ttsManager.setFocus():d.focus()}if(c){n=null}if(k.browser.mobile&&!k.browser.ios&&B.length()>0){G.hide()}if(D.shareManager&&D.shareManager.isConnected()){D.shareManager.sendFocusOutField()}if(D.options.mirroring.enable){D.mirroringManager.externalEvent.focusOut()}};var j=function(M){if(!M){return false}var K=false;if(M.type=="tf"||M.type=="ta"){if(M.getValue()&&M.valid){K=true}}else{if(M.type=="cb"){if(M.getSelected()){K=true}}else{if(M.type=="rb"){var L;if(M.gid){L=D.formManager.getField(M.formId,M.gid)}if(M.getSelected()){K=true}else{if(M.gid&&L&&L.selectedId){K=true}}}else{if(M.getValue()){K=true}}}}return K};this.bind=function(M,L,K){clearInterval(h);e=L;g=M;B.setPage(K);H(g);if(!c){n=null}g.on("keydown",function(N){if(D.ttsManager&&N.keyCode===27){E()}if(N.keyCode!=9){return}if(m2soft.crownix.GuideManager.getInstance().isEnabled&&N.keyCode==9){N.stopPropagation();N.preventDefault();return}N.preventDefault();N.stopPropagation();if(!r){return}if(!n&&!B.exist(document.activeElement.id)){t(B.getCurr()?B.getCurr():N.shiftkey?B.getPrev():B.getNext())}else{if(D.options.scrollOptions.useInfiniteScroll){d=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+D.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")}d&&d.focus();if(N.shiftKey){t(B.getPrev())}else{t(B.getNext())}}});g.on("focus",'[id^="crownix_form_field_"][readonly!="readonly"][disabled!="disabled"][fieldtype!=file][class!="crownix-field-warning-message"][class!="crownix-field-warning-box"]',function(N){N.preventDefault();N.stopPropagation();if(D.options.mirroring.enable&&!N.relatedTarget){return}if(N.currentTarget.type===undefined&&D.options.mirroring.enable&&(D.mirroringManager.externalEvent.isSubProcess()||$(N.currentTarget).hasClass("crownix-formfield-blink-lock"))){return}I(document.activeElement.id,document.activeElement.tagName,$(document.activeElement).attr("class"));if(B.exist(document.activeElement.id)){if(D.options.mirroring.enable){D.mirroringManager.externalEvent.setFocus(document.activeElement.id)}n=B.setCurr(document.activeElement.id)}else{if(c){n=null}}if(J&&document.activeElement.tagName!=="SELECT"){A($(N.currentTarget))}if(k.browser.mobile&&!k.browser.ios&&B.length()>0&&D.options.showTabButton){F(document.activeElement.id)}if(D.shareManager&&D.shareManager.isConnected()&&N.currentTarget.type!=="submit"&&N.currentTarget.type!=="file"&&(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"))){if(N.currentTarget.type==="radio"){D.shareManager.sendFocusOnField(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"),document.activeElement.getAttribute("buttonid"))}else{D.shareManager.sendFocusOnField(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"),document.activeElement.name||$(document.activeElement).attr("name"))}}});$(e.scroller).on(m2soft.crownix.Util.ActionEvents.start+" touchstart",function(N){var P=N.originalEvent.target.nodeName;var O=$(N.originalEvent.target).attr("id");if($(N.originalEvent.target).parents(".crownix-textnote-toolbar").length&&$(N.originalEvent.target).parents("#m2soft-crownix-field-wrapper").length){return false}if(O&&(O.indexOf("crownix_form_field")!=-1||O.indexOf("m2soft-crownix-normal-combo")!=-1)||P=="OPTION"){J=true;return}else{J=false}E()});if(D.options.mirroring.enable){$(e.scroller).on(m2soft.crownix.Util.ActionEvents.end,function(N){if(e.moved){E()}})}};this.movePrev=function(){m()};this.moveNext=function(){q()};this.move=function(K){t(B.getField(K))};this.hasPrev=function(){return B.getPrev()!=null};this.hasNext=function(){return B.getNext()!=null};this.exist=function(K){return B.exist(K)};this.length=function(){return B.length()};this.blink=function(L,K){I(L,K)};this.focus=function(K){if(B.exist(K)||!c){if(D.options.mirroring.enable){D.mirroringManager.externalEvent.setFocus(K)}n=B.setCurr(K)}else{if(c){n=null}}I(K);if(k.browser.mobile&&!k.browser.ios&&B.length()>0&&D.options.showTabButton){F(K)}A($("#"+K))};this.focusField=function(K){if(B.exist(K)){n=B.setCurr(K)}A($("#"+K));I(K)};this.blur=function(K){if(K){J=true}else{J=false;E()}};this.focusHiddenTab=function(){if(D.options.scrollOptions.useInfiniteScroll){d=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+D.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")}d&&d.focus();if(D.shareManager&&D.shareManager.isConnected()){D.shareManager.sendFocusOutField()}if(D.options.mirroring.enable){D.mirroringManager.externalEvent.focusOut()}};this.add=function(K){B.add(K)};this.push=function(K,L){B.push(K,L)};this.removeField=function(K){for(var L in K){B.remove(K[L].formId,K[L].fieldId,K[L].groupId)}};this.clear=function(){B.clear()};this.setPreventMove=function(K){u=K};this.enable=function(){r=true};this.disable=function(){r=false};this.scrollToField=function(K){A(K)};this.getFocusField=function(){return n};this.setMovepageFlag=function(K){f=K};this.blinkOff=function(){clearInterval(h)};this.getPreventMove=function(){return u};this.removePreventDom=function(){w&&w.remove()};this.setFilter=function(K){B.setFilter(K)};this.removeFilter=function(){B.removeFilter()};this.reset=function(){n=null;B.reset()};this.redefineSkipTabOrder=function(){var K=$.extend(true,[],B.getFieldList());for(var L=0;L<K.length;L++){var M=D.formManager.getField(K[L].formID+(K[L].formRepeat?"-"+K[L].formRepeat:""),K[L].fieldID);if(M&&Object.keys(M).length){this.skipTabOrder(M)}}};this.skipTabOrder=function(O){if(!D.options.formField.skipTabOrder){return}var N;if(j(O)){if(O.type=="rb"&&O.gid){var M=[];N=D.formManager.getField(O.formId,O.gid);if(N&&N.selectedId){var L=N.buttonList;for(var K in L){M.push({formId:O.formId,fieldId:K,groupId:O.gid})}}this.removeField(M)}else{this.removeField([{formId:O.formId,fieldId:O.id,groupId:O.gid}])}}else{if(!this.exist(O.elementId)&&O.editable=="1"){if(O.type=="rb"&&O.gid){N=D.formManager.getField(O.formId,O.gid);if(N&&!N.selectedId){var L=N.buttonList;for(var K in L){this.add(L[K])}}}else{this.add(O)}}}};this.getCurr=function(){return B.getCurr()};this.moveNextRequiredField=function(O){if(!O){return}var N=D.formManager.getField(O.formID+(O.formRepeat?"-"+O.formRepeat:""),O.fieldID);if(!j(N)){t(B.getField(O.id));return}var K=B.getOrder();var M=O;for(var L=0;L<K.length-1;L++){if(K[L].id===M.id){M=K[L+1];var N=D.formManager.getField(M.formID+(M.formRepeat?"-"+M.formRepeat:""),M.fieldID);if(!j(N)&&M.required==="1"){t(B.getField(M.id));break}}}t(B.getField(O.id))}};m2soft.crownix.FieldOrder=m2soft.crownix.util.SingleTone(a)})();m2soft.ns("m2soft.crownix.GuideManager");(function(){var b=m2soft.crownix.TabOrder,d=m2soft.crownix.Util,a=m2soft.crownix.State.Toolbar;var c=function(e){var k=e;var f=new b("guide");var h,m;var l=function(){return(!d.browser.mobile||$(window).width()>699)};var g=function(){var r=f.getCurr(),t=f.getNext();if(!t){return}if((t.type=="cb"||t.type=="rb")&&(r.groupID==t.groupID)){var n=f.getOrder(),q=n.indexOf(t);for(var s=q;s<n.length;s++){if(r.groupID!=n[s].groupID||!n[s].groupID){return n[s]}}}else{return t}};var j=function(){var r=f.getCurr(),t=f.getPrev();if(!t){return}if((t.type=="cb"||t.type=="rb")&&(r.groupID==t.groupID)){var n=f.getOrder(),q=n.indexOf(t);for(var s=q;s>=0;s--){if(r.groupID!=n[s].groupID||!n[s].groupID){return n[s]}}}else{return t}};this.isEnabled=false;this.push=function(n,q){f.push(n,q)};this.add=function(n){f.add(n)};this.removeField=function(n){for(var q in n){f.remove(n[q].formId,n[q].fieldId,n[q].groupId)}};this.length=function(){return f.length()};this.getCurr=function(){return f.getCurr()};this.next=function(){var n=g();n?f.setCurr(n.id):n;return n};this.back=function(){var n=j();n?f.setCurr(n.id):n;return n};this.exist=function(n){return f.exist(n)};this.hasNext=function(){return g()};this.hasBack=function(){return j()};this.getGroupFields=function(n){return f.getGroupFields(n)};this.validateValue=function(){h&&h.validateValue()};this.getGuideOrder=function(){return f.getOrder()};this.clear=function(){f.clear()};this.getWindow=function(){return l()?h:m};this.show=function(){if(k.options.mirroring.enable&&!k.mirroringManager.externalEvent.isSubProcess()){return}if(!f.length()){return}this.isEnabled=true;if(l()){if(!h){h=new m2soft.crownix.GuideWindow(k)}h.show()}else{if(!m){m=new m2soft.crownix.QuickWindow(k)}m.show()}k.toolbar.enable();k.toolbar.disable();k.toolbar.showToolbarItem(["guide"]);k.toolbar.enableToolbarItem(["guide"]);a.toggleGuideButton(this.isEnabled)};this.close=function(){var n=m2soft.crownix.GuideManager.getInstance();n.isEnabled=false;if(h){h.close()}k.toolbar.enable();if(!n.hasNext()){k.toolbar.disableToolbarItem(["guide"])}a.toggleGuideButton(n.isEnabled)}};m2soft.crownix.GuideManager=m2soft.crownix.util.SingleTone(c)})();m2soft.ns("m2soft.crownix.SignWindow");m2soft.crownix.SignWindow=(function(){var g=m2soft.crownix.Resource;var d=m2soft.crownix.Constant;var b=m2soft.crownix.Util;var E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC";var N=30;var n=45;var A="bottom";var z="center";var q="New Window";var w=false;var S;var U;var r;var e;var u;var D;var P;var B;var M=false;var Q;var T;var h;var J;var H=[],I,L,l,j,k;var C={};var m;var t=undefined;var K=function(){M=false;S.remove();P&&P.remove();window.removeEventListener("orientationchange",F,false);D.removeClass("crownix-formfield-blink");B.enable();if(Q==="bottom"){B.restore()}H=[];h.focusHiddenTab();if(m.textOnCanvas){m.canvasManager.needRedraw=true}if(C.OnClose&&typeof C.OnClose=="function"){C.OnClose()}};var s=function(W,V){inputCanvasArea=$("<div>").attr({id:D[0].id+"-sign"}).css({width:W,height:V,margin:"auto",background:"#FFFFFF"}).appendTo(r);u=new m2soft.crownix.FormField.Sign(D[0].id+"-sign",{width:D.width(),height:D.height(),dpi:D.data("dpi"),lineCount:l,showStrokeMessage:true,showResetButton:true,guideText:j.guideOnSignWindow?I:"",guideTextStyle:L,fixedGuideText:j.guideKeepSignWindow,signature:k.signature,onChangeCanvas:function(X,Y){X.css({left:0,border:"0px"})},onChangeValue:function(X){if(X&&X.lines.length>0){X.drawSignature(D[0],{ratioType:j.fixedSignHeight==0})}else{X.reset(D[0])}O();if(C.OnChangeValue&&typeof C.OnChangeValue=="function"){C.OnChangeValue(X.toData(300,100,{dpi:300}))}}});B.disable()};var f=function(V){var V=$("#m2soft-crownix-container");P=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":d.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(V);P[0].addEventListener("touchstart",function(W){W.preventDefault()});if(w){P.fadeIn(100)}};var G=function(){if(m.cxGridManager){m.cxGridManager.inactive()}var ai=$("#m2soft-crownix-container");var af=ai.width(),al=ai.height(),au,ak;if(j.fixedSignHeight!=0){var ae=Math.min(Math.max(j.fixedSignHeight,1),90);au=b.browser.mobile?af-20:780;ak=Math.floor(al*ae/100)}else{var aw=D.width();var ab=D.height();ak=al*0.5;au=Math.floor(ak*aw/ab);var an=b.browser.mobile?4096:780;var at=Math.min(an,af-20);if(au>at){au=at;ak=Math.floor(au*ab/aw)}}var ap=Math.max(au,130);var ad=ak+N+n;var am=Q==="bottom"?(al-ad)-20:(al-ad)/2;S=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({left:(af-ap)/2,top:am,width:ap+"px",height:ad+"px","z-index":d.WINDOW_Z_INDEX,"user-select":"none"}).prependTo(ai);if(Q==="bottom"){if(m.textOnCanvas){m.canvasManager.needRedraw=false}B.save();B.zoom(1);if(D.parents("#crownix-cxgrid-content").length==0){B.scrollToElementWithFrame(D[0],1000,B.isFloating?0:ad+20)}}U=$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").append(q).appendTo(S);r=$("<div>").addClass("crownix-window-body").css({width:"100%",height:(ad-N-n)+"px",background:"#DADADA"}).appendTo(S);s(au,ak);e=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({"line-height":n-3+"px",display:"inline-block"}).appendTo(S);var Z=$("<div>").attr("class","crownix-signature-button-dom").appendTo(e);var av=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px","max-width":"35%",padding:"0 3px"}).bind("click",function(ax){a();K();ax.preventDefault();ax.stopPropagation()}).on("keydown",function(ay){ay.preventDefault();ay.stopPropagation();var ax=u.getSignature();if(M&&ay.keyCode===9){if($(this).attr("disabled")=="disabled"){return}if(ay.shiftKey){if(h.hasPrev()){a();K();h.movePrev()}}else{if(h.hasNext()){a();K();h.moveNext()}}}}).appendTo(Z);var ao=$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({fill:"#FFFFFF","padding-right":"4px",width:"10%","min-width":"18px","vertical-align":"middle"}).appendTo(av);var ac=$("<span>").text(g.get("ok_button_text")).appendTo(av);H.push(av);var Y=$("<span>").text(g.get("cancel_button_text"));var X=$('<button type="button"></button>').attr("id",d.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").append(Y).css({width:"105px","max-width":"35%","margin-right":0}).bind("click",function(){u.reset();a(true);K()}).prependTo(Z);var aj={max:20};b.adjustFontsize(av,aj);b.adjustFontsize(X,aj);var aq=$("<div>").css({width:"100%",position:"absolute"}).prependTo(e);if(j.keepTabButton||!J.isEnabled&&(h.length()>0&&h.exist(D.attr("id"))&&h.hasPrev())){var W=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({"float":"left",padding:"0 5px"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}a();K();h.movePrev()}).appendTo(aq);var ar=$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px","vertical-align":"middle","fill-opacity":"0.7",margin:"0px -3px 0 0px","vertical-align":"middle"}).appendTo(W);var ah=$("<span>").text(g.get("back")).appendTo(W);b.adjustFontsize(W,aj);H.push(W)}if(j.keepTabButton||!J.isEnabled&&(h.length()>0&&h.exist(D.attr("id"))&&h.hasNext())){var ag=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({"float":"right",padding:"0 5px"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}a();K();h.moveNext()}).appendTo(aq);var V=$("<span>").text(g.get("next")).appendTo(ag);var aa=$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px","vertical-align":"middle",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(ag);b.adjustFontsize(ag,aj);H.push(ag)}S[0].addEventListener("touchmove",function(ay){var ax=$(ay.target);if(ax[0].tagName.toLowerCase()==="canvas"||ax.hasClass("crownix-signature-header")||ax.hasClass("crownix-signature-footer")){ay.preventDefault()}});S.css("visibility","visible").fadeIn(500,function(){av.focus();h.setPreventMove(false);M=true;h.removePreventDom();O()})};var F=function(){if(t){return}w&&P.remove();S.remove();D.removeClass("crownix-formfield-blink");f();t=setTimeout(function(){if(Q==="bottom"){if(D.parents("#crownix-cxgrid-content").length==0){B.scrollToElementWithFrame(D[0],1000,10)}}G();t=undefined},500)};var a=function(W){var V=u.getSignature();if(typeof T==="function"){if(W){T(!W,undefined,V,k)}else{if(V.lines.length==0){V.reset(D[0]);T(W,undefined,undefined,k)}else{var X=V.toData(D.width(),D.height(),{ratioType:j.fixedSignHeight==0,dpi:D.data("dpi")||96});T(!W,X,V,k)}}}};var O=function(){var W=$(".crownix-line-validity-message");for(var V in H){if(W.length>0&&W.css("display")=="block"){H[V].attr("disabled",true).css({opacity:0.4});m2soft.crownix.FieldOrder.getInstance().disable()}else{H[V].attr("disabled",false).css({opacity:1});m2soft.crownix.FieldOrder.getInstance().enable();if(H[V][0].innerText==g.get("ok_button_text")){H[V].focus()}}}};var c=function(V){if(typeof V==="string"){q=V}h=m2soft.crownix.FieldOrder.getInstance();J=m2soft.crownix.GuideManager.getInstance();h.setPreventMove(true)};c.prototype={constructor:m2soft.crownix.SignWindow,show:function(V,ad,Z,ac,aa,Y,W,ab,X){D=V;T=ad;w=Z;B=ac;l=aa;I=Y;L=W;m=ab;j=m.options.formField;Q=j.signatureMethod;k=X;f();setTimeout(function(){G()},b.browser.mobile?500:0);window.addEventListener("orientationchange",F,false)},bind:function(V,W){C[V]=W}};return c}());m2soft.ns("m2soft.crownix.PenWindow");m2soft.crownix.PenWindow=(function(){var g=m2soft.crownix.Resource;var a=m2soft.crownix.Util.ActionEvents;var d=m2soft.crownix.Constant;var b=m2soft.crownix.Util;var n,P,U,h,e,q,G,t,K,w,l,L,B,r,N;var T,D,A,k,j,F,O,f,m;var Q=90,V=60;var J=[];var C={};var z=undefined;var I=function(){if(n.cxGridManager){n.cxGridManager.inactive()}n.noteManager&&m2soft.crownix.NoteToolbar.prototype.hideToolbar();if(!L.isEnabled){n.toolbar.disable()}setTimeout(function(){H();k=$("<div>").css({position:"fixed",left:F.offset().left-$(window).scrollLeft(),top:F.offset().top-$(window).scrollTop(),width:F.width()*P.scale*(w&&!K?t:1),});if(K){k.appendTo("#crownix-window-frame")}else{k.appendTo(D)}$("<div>").attr({id:U[0].id+"-pen",width:F.width()*P.scale*(w&&!K?t:1),height:F.height()*P.scale*(w&&!K?t:1)}).css({position:"relative",width:F.width()*P.scale*(w&&!K?t:1),height:F.height()*P.scale*(w&&!K?t:1),"touch-action":"none"}).appendTo(k);var af=B||r||"";if(f.penLineCountPerText==0){l=0}else{if(f.penLineCountPerText>0){l=af.replace(/\s/g,"").length*f.penLineCountPerText}}U[0].getContext("2d").clearRect(0,0,U[0].width,U[0].height);N.fillStyle=B?"#CCCCCC":N.fillStyle;A=new m2soft.crownix.FormField.Sign(U[0].id+"-pen",{width:U.width(),height:U.height(),dpi:f.penDpi,lineCount:l,showResetButton:false,showStrokeMessage:true,guideText:af,guideTextStyle:N,fixedGuideText:r||false,signature:m,penEventSkipTime:f.penEventSkipTime,onChangeCanvas:function(ap,aq){ap.css({left:0,border:"0px"});$(".crownix-line-validity-message").css({right:2*P.scale+"px",bottom:2*P.scale+"px"})},onChangeValue:function(ap){S();if(C.OnChangeValue&&typeof C.OnChangeValue=="function"){var aq=ap.dpi;ap.dpi=300;C.OnChangeValue(ap.toData(300,100));ap.dpi=aq}}});var al=F.width()*P.scale*(w&&!K?t:1),aa=Math.max(F.width()*P.scale*(w&&!K?t:1),320);j=$("<div>").addClass("crownix-pen-footer").css({visibility:"hidden","line-height":V-3+"px","margin-top":3*P.scale*(w&&!K?t:1),width:aa+"px"}).appendTo(k);var ac=$("<div>").attr("class","crownix-signature-button-dom").appendTo(j);ac.css("left",(al-ac.outerWidth())/2);O=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px",height:"50px","max-width":"25%",padding:"0 3px"}).on("click",function(){u();M()}).on("keydown",s).appendTo(ac);var ak=$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({width:"10%","min-width":"18px",fill:"#FFFFFF","padding-right":"4px","vertical-align":"middle"}).appendTo(O);var ae=$("<span>").text(g.get("ok_button_text")).appendTo(O);J.push(O);var ab=$('<button type="button"></button>').attr("class","crownix-pen-button-color crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"105px",height:"50px","max-width":"35%",padding:"0 3px","margin-right":0}).bind("click",function(ap){A.reset();O.focus()}).prependTo(ac);var ao=$(m2soft.crownix.resource.Icon.SIGN_RESET_ALL).css({width:"10%","min-width":"18px","padding-right":"4px","vertical-align":"middle"}).appendTo(ab);var aj=$("<span>").text(g.get("clear_sign")).appendTo(ab);var Z=$("<span>").text(g.get("cancel_button_text"));var Y=$('<button type="button"></button>').attr("id",d.WINDOW_CLOSE_ID).attr("class","crownix-pen-button-color crownix-signature-button crownix-signature-button-white close-button").append(Z).css({height:"50px",width:"105px","max-width":"25%","margin-right":0}).bind("click",function(ap){u(true);M()}).prependTo(ac);var ai={max:20};b.adjustFontsize(O,ai);b.adjustFontsize(ab,ai);b.adjustFontsize(Y,ai);var am=$("<div>").css({width:aa,"line-height":"35px",position:"absolute",left:al<360?-(aa-al)/2:0}).prependTo(j);if(f.penButtonPosition=="right"){ac.css({"float":"right","text-align":"right",left:al<360?-(aa-al)/2:0});am.css({left:al<360?-(aa-al)/2:0})}if(f.keepTabButton||!L.isEnabled&&(h.length()>0&&h.exist(U.attr("id"))&&h.hasPrev())){var X=$('<button type="button"></button>').attr("class","crownix-pen-button-color crownix-signature-button crownix-signature-tab crownix-signature-button-white").css({"float":"left","border-width":"1px",padding:"0 5px"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}u();M();h.movePrev()}).appendTo(am);var an=$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -3px 0 0px","vertical-align":"middle"}).appendTo(X);var ag=$("<span>").text(g.get("back")).appendTo(X);b.adjustFontsize(X,ai);J.push(X)}if(f.keepTabButton||!L.isEnabled&&(h.length()>0&&h.exist(U.attr("id"))&&h.hasNext())){var ah=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").css({"float":f.penButtonPosition=="right"?"none":"right",padding:"0 5px"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}u();M();h.moveNext()}).appendTo(am);var W=$("<span>").text(g.get("next")).appendTo(ah);var ad=$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(ah);b.adjustFontsize(ah,ai);J.push(ah)}j.css("visibility","visible").fadeIn(200,function(){h.setPreventMove(false);O.focus();T.on(a.start,function(ap){if(O.attr("disabled")=="disabled"){return}u();M()});h.removePreventDom()});k[0].addEventListener("touchmove",function(aq){var ap=$(aq.target);if(ap[0].tagName.toLowerCase()==="canvas"||ap.hasClass("crownix-pen-footer")){aq.preventDefault()}});if(b.browser.mobile&&!b.browser.ios&&h.length()>0&&n.options.showTabButton){$(".crownix-tab-buttons").css("display","none")}},m2soft.crownix.ChannelManager.getChannel("toolbar:changeToolbar").asyncTimeout)};var s=function(W){W.preventDefault();W.stopPropagation();if(!h.getPreventMove()&&W.keyCode===9&&h.length()>0){if(W.shiftKey){if(h.hasPrev()){u();M();h.movePrev()}}else{if(h.hasNext()){u();M();h.moveNext()}}}};var u=function(X){var W=A.getSignature();if(typeof q=="function"){if(r){W.drawSignature(U[0],{guideTextImageData:true})}if(X){q(!X,"",W)}else{if(W.lines.length==0){if(B){W.drawSignature(U[0],{guideTextImageData:true})}q(X)}else{var Y=W.toData(U.width(),U.height(),{ratioType:!X,dpi:f.penDpi});W.drawSignature(U[0],{fixedGuideText:true,ratioType:true});q(!X,Y,W)}}}};var M=function(){T.remove();k.remove();if(!L.isEnabled){n.toolbar.enable()}P.enable();if(L.isEnabled){P.scrollTo(P.saveScrollX,P.saveScrollY);P.zoom(P.saveScale);P.disable()}else{P.restore()}P.options.zoomMax=G;U.removeClass("crownix-formfield-blink");U.removeClass("crownix-pen-blink");h.focusHiddenTab();window.removeEventListener("orientationchange",E,false);n.noteManager&&m2soft.crownix.NoteToolbar.prototype.showToolbar();J=[];if(n.textOnCanvas){n.canvasManager.needRedraw=true}if(b.browser.mobile&&!b.browser.ios&&h.length()>0&&n.options.showTabButton){$(".crownix-tab-buttons").css("display","block")}if(C.OnClose&&typeof C.OnClose=="function"){C.OnClose()}};var E=function(){if(z){return}k.remove();P.enable();P.restore();if(!L.isEnabled){n.toolbar.enable()}z=setTimeout(function(){P.save();I();z=undefined},500)};var H=function(){var aa=P.wrapperWidth*0.8,Z=P.wrapperHeight*0.7,ab,X,ac,W;W=Math.floor(P.wrapperHeight*n.options.formField.fixedPenHeight/100);if(n.options.formField.fixedPenHeight&&(W<Z)){Z=W}ab=Math.min(aa/F.width(),Z/(F.height()+Q/Z*100));P.save();G=P.options.zoomMax;P.options.zoomMax=Math.max(ab,G);var Y=layerY=0;if(w){Y=P.scroller.offsetWidth/2/ab-e.position().left/t-(P.scroller.offsetWidth)/2;layerY=P.scroller.offsetHeight/2/ab-e.position().top/t-(P.scroller.offsetHeight)/2;Y+=(F.position().left-F.offset().left+e.offset().left)/t;layerY+=(F.position().top-F.offset().top+e.offset().top)/t}X=(F.offset().left-e.offset().left+e.position().left)/t+F.width()/2+(w?Y:0);ac=(F.offset().top-e.offset().top+e.position().top)/t+F.height()/2+(w?layerY:0);if(L.isEnabled){P.enable()}if(n.textOnCanvas){n.canvasManager.needRedraw=false}P.zoomAndScrollTo(ab,X,ac);P.disable()};var S=function(){var Y=$(".crownix-line-validity-message");if(Y.length!=0&&J.length!=0){var X=0;for(var W=0;W<Y.length;W++){if($(Y[W]).css("display")=="block"){X++}}for(var W in J){if(X==0){J[W].attr("disabled",false).css({opacity:1});m2soft.crownix.FieldOrder.getInstance().enable();if(J[W][0].innerText==g.get("ok_button_text")){J[W].focus()}}else{J[W].attr("disabled",true).css({opacity:0.4});m2soft.crownix.FieldOrder.getInstance().disable()}}}};var c=function(W){n=W;h=m2soft.crownix.FieldOrder.getInstance();h.setPreventMove(true);L=m2soft.crownix.GuideManager.getInstance(n)};c.prototype={show:function(W,ae,X,af,ad,ab,aa,ac,Y,Z){F=W;P=ad?ad:ae;U=X;e=$("#"+d.TEXT_ID);q=af;K=P.isFloating;w=$(P.scroller).is(".crownix-layer-page");t=K?ad.scale:ae.scale;l=ab;B=aa;r=ac;N=Y;f=n.options.formField;m=Z;U[0].getContext("2d").clearRect(0,0,U.width(),U.height());U.addClass("crownix-pen-blink");D=$("#"+n.containerDom.parent().attr("id"));T=$("<div>").addClass("crownix-pen-overflow");if(K){T.appendTo("#crownix-window-frame")}else{if(L.isEnabled){L.getWindow().guideWindow().parent().after(T)}else{$(".crownix-tab-buttons").after(T)}}I();window.addEventListener("orientationchange",E,false)},bind:function(W,X){C[W]=X}};return c}());m2soft.ns("m2soft.crownix.ImageTransformer");m2soft.crownix.ImageTransformer=function(d,r,C){var f=m2soft.crownix.Util;var g=m2soft.crownix.Util.ActionEvents;var t;var a=32,j=100,n=200,h=-45,m=45,u={ZOOM:1,ROTATE:2};var D,E,q=0;var e,z;var B=d[0].toDataURL();var w=function(M,N){var L=false;var F;var H;var I=M.offset().left;var G=function(O){O.preventDefault();L=true};var J=function(O){O.preventDefault();F=O.originalEvent;if(F.touches){F=F.targetTouches[0]}H=F.pageX-I-a;if(L){var Q,P;if(N==u.ZOOM){Q=((H-D)*(n-j)/(E-D)+100)/100}else{P=(H-D)*(m-h)/(E-D)-45}t.scaleAndRotate(Q,P,C().left,C().top,s)}};var K=function(O){if(L){L=false;F=O.originalEvent;if(F.touches){F=F.changedTouches[0]}H=F.pageX-I-a;var Q,P;if(N==u.ZOOM){Q=((H-D)*(n-j)/(E-D)+100)/100}else{P=(H-D)*(m-h)/(E-D)-45}t.scaleAndRotate(Q,P,C().left,C().top,s)}};this.on=function(){if(f.hasTouch()){M.on("touchstart",G);M.on("touchmove",J);$("body").on("touchend",K)}else{M.on(g.start,G);$("body").on(g.move,J);$("body").on(g.end,K)}};this.off=function(){if(f.hasTouch()){M.off("touchstart",G);M.off("touchmove",J);$("body").off("touchend",K)}else{M.off(g.start,G);$("body").off(g.move,J);$("body").off(g.end,K)}};this.moveZoomHandle=function(O){M.find($(".crownix-slider-handle")).finish().animate({left:(O-100)*(E-D)/(n-j)+a/4},300)};this.moveRotateHandle=function(O){M.find($(".crownix-slider-handle")).finish().animate({left:(O+45)*(E-D)/(m-h)+a/4},300)}};var l=function(){var P={x:0,y:0},O={x:0,y:0},M={x:0,y:0};var K=0;var J=false;var I=r.children(".crownix-crop-window");var F=1;var H=function(Q){if(Q.originalEvent.targetTouches.length>=2){P.x=Q.originalEvent.targetTouches[0].pageX;P.y=Q.originalEvent.targetTouches[0].pageY;O.x=Q.originalEvent.targetTouches[1].pageX;O.y=Q.originalEvent.targetTouches[1].pageY;K=Math.sqrt(Math.pow((P.x-O.x),2)+Math.pow((P.y-O.y),2));M.x=(P.x+O.x)/2-I.offset().left;M.y=(P.y+O.y)/2-I.offset().top;J=true}};var G=function(S){if(J){P.x=S.originalEvent.targetTouches[0].pageX;P.y=S.originalEvent.targetTouches[0].pageY;O.x=S.originalEvent.targetTouches[1].pageX;O.y=S.originalEvent.targetTouches[1].pageY;var Q=Math.sqrt(Math.pow((P.x-O.x),2)+Math.pow((P.y-O.y),2));var T=F*Q/K;console.log(T);if(T<1){t.scaleAndRotate(1-T,undefined,M.x,M.y,L)}else{t.scaleAndRotate(T,undefined,M.x,M.y,L)}K=Q}};var N=function(){if(J){J=false}};var L=function(Q){F=Q};this.on=function(){r.on("touchstart",H);r.on("touchmove",G);r.on("touchend",N)};this.off=function(){r.off("touchstart",H);r.off("touchmove",G);r.off("touchend",N)}};var s=function(G,F){!f.browser.mobile&&e.moveZoomHandle(G*100);F!=undefined&&z.moveRotateHandle(F)};var k=function(){var I=$("<div>").css({position:"absolute",width:r.width(),height:a,}).addClass("crownix-crop-transformBar");var H=$("<div>").css({position:"absolute",left:a,top:0,width:r.width()-2*a,height:a,cursor:"pointer"}).appendTo(I);var F=$("<canvas>").css({position:"absolute",left:0,top:0,width:H.width(),height:H.height(),}).attr({width:H.width(),height:H.height(),}).addClass("crownix-slider-segment").appendTo(H);var G=$("<span>").css({display:"inline-block",position:"absolute",top:a/2,"border-left":a/4+"px solid transparent","border-right":a/4+"px solid transparent","border-bottom":a/2+"px solid rgb(133, 190, 250)"}).addClass("crownix-slider-handle").appendTo(H);D=a/2;E=H.width()-a/2;return{dom:I,bar:F,handle:G}};var A=function(H,Q,L,S,O,J,P){var F=H.getContext("2d"),M=O-S,I=2,G=Q-J*2;var N=function(U,T,W,V){F.lineCap="butt";F.beginPath();F.moveTo(U,T);F.lineTo(W,V)};F.fillStyle="rgb(133, 190, 250)";F.textAlign="center";F.strokeStyle="rgb(133, 190, 250)";for(var K=0;K<=M;K++){if(K==Math.ceil(M/2)||K==0||K==M){F.fillText((S+K).toString()+(P?P:""),K*G/M+J,L/4)}if(K%5==0){N(K*G/M+J,L/4+I,K*G/M+J,L*2/3)}else{N(K*G/M+J,L/4+I,K*G/M+J,L/2)}F.stroke()}};var b=function(){var G=k();var I=G.dom;var F=G.bar;var H=G.handle;I.css({left:r.position().left,top:d.position().top-a}).insertBefore(d);H.css("left",D-a/4);A(G.bar[0],F.width(),F.height(),j,n,a/2,"%");e=new w(I,u.ZOOM);e.on()};var c=function(){var G=k();var I=G.dom;var F=G.bar;var H=G.handle;I.css({left:r.position().left,top:d.position().top+d.height()+2}).insertBefore(d);H.css({left:E/2});A(G.bar[0],F.width(),F.height(),h,m,a/2,"˚");z=new w(I,u.ROTATE);z.on()};this.create=function(){if(f.browser.mobile){var F=new l();F.on()}else{b()}c();t=new m2soft.crownix.Canvas(d[0]);t.setTransformInfo(B)};this.remove=function(){t.resetTransform();$(".crownix-crop-transformBar").remove();z.off();e&&e.off()};this.initTransform=function(){q=0;t.initTransform();t.resetTransform();t.setRotateAngle(q);t.scaleAndRotate(1,0,d.width()/2,d.height()/2,s)};this.rotateQuarter=function(){if(q==0){q=90}else{if(q==90){q=180}else{if(q==180){q=270}else{if(q==270){q=0}}}}t.initTransform();t.resetTransform();t.setRotateAngle(q);t.scaleAndRotate(1,0,d.width()/2,d.height()/2,s)}};m2soft.ns("m2soft.crownix.ImageCrop");m2soft.crownix.ImageCrop=function(j,r,k){var e=m2soft.crownix.Util;var b=m2soft.crownix.Util.ActionEvents;var n;var g;var F;var H;var J;var A;var E;var K;var P;var T;var c;var t;var s;var D;var C;var u;var L=5,q=8,l=2,M=1,G={position:"absolute",background:"rgb(0, 122, 245)",border:L+"px solid white"},m={position:"absolute",background:"rgb(0, 122, 245)",border:L+"px solid black"},B={position:"absolute",background:"rgba(0, 122, 245, 0.5)"};var a=j.width();var d=j.height();var f=j.position().left;var h=j.position().top;var z=-L;var Q=-L;var w=function(){var U=false,ac;var Y,ad,V,ad;var W;var aa,ae;var X=function(af){af.preventDefault();if(af.touches){W=af.targetTouches[0]}else{W=af.originalEvent}if(!$(W.target).children().length){U=true;ac=$(W.target);Y=W.pageX;y1=W.pageY}};var Z=function(ag){ag.preventDefault();if(U){if(ag.touches){W=ag.targetTouches[0]}else{W=ag.originalEvent}V=W.pageX;ad=W.pageY;if(ac[0]!=g[0]){ae=aa=$(ac);if(ac[0]==K[0]||ac[0]==T[0]){aa=H}if(ac[0]==P[0]||ac[0]==c[0]){aa=J}if(ac[0]==K[0]||ac[0]==P[0]){ae=A}if(ac[0]==T[0]||ac[0]==c[0]){ae=E}var af;if(aa[0]==H[0]){af=J.position().left}else{af=a+z}aa.css({left:Math.max(z,Math.min(aa.position().left+V-Y,af)),});if(ae[0]==A[0]){af=E.position().top}else{af=d+Q}ae.css({top:Math.max(Q,Math.min(ae.position().top+ad-y1,af))});g.css({left:H.position().left,top:A.position().top,width:J.position().left-H.position().left,height:E.position().top-A.position().top,})}else{g.css({left:Math.max(z,Math.min(H.position().left+V-Y,z+a-g.width())),top:Math.max(Q,Math.min(A.position().top+ad-y1,Q+d-g.height()))})}I();Y=V;y1=ad}};var ab=function(af){af.preventDefault();if(U){U=false;if(ac[0]!=g[0]&&aa&&ae){aa.insertAfter($(".crownix-crop-line").last());ae.insertAfter($(".crownix-crop-line").last());if(ac[0]!=aa[0]&&ac[0]!=ae[0]){ac.insertAfter($(".crownix-crop-dot").last())}}}};this.on=function(){if(e.hasTouch()){n[0].addEventListener("touchstart",X,false);n[0].addEventListener("touchmove",Z,false);n[0].addEventListener("touchend",ab,false)}else{n.on(b.start,X);$("body").on(b.move,Z);$("body").on(b.end,ab)}};this.off=function(){if(e.hasTouch()){n[0].removeEventListener("touchstart",X,false);n[0].removeEventListener("touchmove",Z,false);n[0].removeEventListener("touchend",ab,false)}else{n.off(b.start,X);$("body").off(b.move,Z);$("body").off(b.end,ab)}}};var O=function(){var V,U;if(k.height()>k.width()){U=Math.min(d,k.height());V=U*k.width()/k.height()}else{V=Math.min(a,k.width());U=V*k.height()/k.width()}g.css({left:-L+(a-V)/2,top:-L+(d-U)/2,width:V,height:U});I()};var I=function(){H.css({left:g.position().left,top:g.position().top,width:l,height:g.height(),});J.css({left:g.position().left+g.width(),top:g.position().top,width:l,height:g.height(),});A.css({left:g.position().left,top:g.position().top,width:g.width(),height:l,});E.css({left:g.position().left,top:g.position().top+g.height(),width:g.width(),height:l,});K.css({left:g.position().left-l*2,top:g.position().top-l*2,width:q,height:q,});P.css({left:g.position().left+g.width()-l*2,top:g.position().top-l*2,width:q,height:q,});T.css({left:g.position().left-l*2,top:g.position().top+g.height()-l*2,width:q,height:q,});c.css({left:g.position().left+g.width()-l*2,top:g.position().top+g.height()-l*2,width:q,height:q,});t.css({left:g.position().left+g.width()/3+L,top:g.position().top+L,width:M,height:g.height()});s.css({left:g.position().left+g.width()*2/3+L,top:g.position().top+L,width:M,height:g.height()});D.css({left:g.position().left+L,top:g.position().top+g.height()/3+L,width:g.width(),height:M});C.css({left:g.position().left+L,top:g.position().top+g.height()*2/3+L,width:g.width(),height:M});F.css({position:"absolute",left:g.position().left+g.width()/2+L,top:g.position().top+g.height()/2+L})};var S=function(){var aa=g.position().top+L,Z=g.position().left+L,W=g.position().top+g.height()+L,X=g.position().left+g.width()+L;var U=j[0].getContext("2d");var Y=j[0].toDataURL("image/png");var V=new Image();U.clearRect(0,0,j[0].width,j[0].height);V.src=Y;V.onload=function(){U.drawImage(V,Z,aa,X-Z,W-aa,0,0,j[0].width,j[0].height)}};var N=function(){n=$("<div>").css({position:"absolute",top:h,left:f,width:a+"px",height:d+"px",opacity:0.5,background:"rgb(0, 0, 0)",overflow:e.browser.mobile?"unset":"hidden"}).addClass("crownix-crop-window").appendTo(r);g=$("<div>").css({position:"absolute",background:"rgb(255, 255, 255)",cursor:"move"}).addClass("crownix-crop-rect").appendTo(n);H=$("<div>").css(G).css({"border-left":L,"border-left-style":"solid",cursor:"e-resize"}).addClass("crownix-crop-left crownix-crop-line").appendTo(n);J=$("<div>").css(G).css({"border-right":L,"border-right-style":"solid",cursor:"e-resize"}).addClass("crownix-crop-right crownix-crop-line").appendTo(n);A=$("<div>").css(G).css({"border-top":L,"border-top-style":"solid",cursor:"n-resize"}).addClass("crownix-crop-top crownix-crop-line").appendTo(n);E=$("<div>").css(G).css({"border-bottom":L,"border-bottom-style":"solid",cursor:"n-resize"}).addClass("crownix-crop-bottom crownix-crop-line").appendTo(n);K=$("<div>").css(m).css("cursor","nw-resize").addClass("crownix-crop-lt crownix-crop-dot").appendTo(n);P=$("<div>").css(m).css("cursor","ne-resize").addClass("crownix-crop-rt crownix-crop-dot").appendTo(n);T=$("<div>").css(m).css("cursor","ne-resize").addClass("crownix-crop-lb crownix-crop-dot").appendTo(n);c=$("<div>").css(m).css("cursor","nw-resize").addClass("crownix-crop-rb crownix-crop-dot").appendTo(n);t=$("<div>").css(B).addClass("crownix-crop-guide_h1").appendTo(n);s=$("<div>").css(B).addClass("crownix-crop-guide_h2").appendTo(n);D=$("<div>").css(B).addClass("crownix-crop-guide_w1").appendTo(n);C=$("<div>").css(B).addClass("crownix-crop-guide_w2").appendTo(n);F=$("<div>").addClass("crownix-crop-center").appendTo(n);O();u=new w();u.on()};this.create=function(){a=j.width();d=j.height();f=j.position().left;h=j.position().top;N()};this.remove=function(){u.off();n.remove()};this.initCrop=function(){a=j.width();d=j.height();z=-L;Q=-L;O()};this.applyCrop=function(){S()};this.rotateQuarter=function(){var W=j.width()-L,U=j.height()-L,V=W/U;if(a>d){a=d*1/V;d=a*W/a*1/V}else{d=a*V;a=d*U/d*V}z=(W-a)/2;Q=(U-d)/2;g.css({left:z,top:Q,width:a-L/2,height:d});I()};this.getCenterPosition=function(){return function(){return{left:F.position().left,top:F.position().top}}};this.getCropWindow=function(){return n}};m2soft.ns("m2soft.crownix.MaskWindow");m2soft.crownix.MaskWindow=(function(){var m=m2soft.crownix.Resource,f=m2soft.crownix.Constant,j=m2soft.crownix.resource.Icon,b=m2soft.crownix.Util;var J=30,aq=44,W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC",q="#ffffff",av="#000000",I=16,M=4,aw=b.browser.mobile?2048:780,ak=50,af={"box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box",},F={MASK:1,CROP:2};var g,ac,e,S,V,ab,u,n;var H;var Y;var ar;var au;var aA;var B;var h;var t;var ap;var az;var X;var G;var C;var K;var L;var am;var al;var N;var ay;var Q;var w;var a;var A;var at;var ah;var d;var ae;var aa=function(aC,aD,aB){return(aC-aD.left)*(aB/aD.width)};var l=function(aC,aD,aB){return(aC-aD.top)*(aB/aD.height)};var P=function(){var aB=N[0].getBoundingClientRect();var aE={width:N[0].width,height:N[0].height};var aC=false;var aD={x:-1,y:-1,};this.mousedown=function(aF){aF.preventDefault();aD.x=aa(aF.pageX,aB,aE.width);aD.y=l(aF.pageY,aB,aE.height);aC=true};this.mousemove=function(aF){if(aC){aF.preventDefault();ay.beginPath();ay.moveTo(aD.x,aD.y);aD.x=aa(aF.pageX,aB,aE.width);aD.y=l(aF.pageY,aB,aE.height);ay.lineTo(aD.x,aD.y);ay.stroke();ay.closePath()}};this.mouseup=function(aF){if(aC){aF.preventDefault();aC=false}};this.updateCanvasInfo=function(aF,aG){aB=aF;aE.width=aG.width;aE.height=aG.height}};var E=function(){var aB=N[0].getBoundingClientRect();var aE={width:N[0].width,height:N[0].height};var aC=false;var aD={x:-1,y:-1,};this.touchstart=function(aG){aG.preventDefault();var aF=aG.touches[0];aD.x=aa(aF.pageX,aB,aE.width);aD.y=l(aF.pageY,aB,aE.height);aC=true};this.touchmove=function(aG){aG.preventDefault();if(aC){var aF=aG.touches[0];ay.beginPath();ay.moveTo(aD.x,aD.y);aD.x=aa(aF.pageX,aB,aE.width);aD.y=l(aF.pageY,aB,aE.height);ay.lineTo(aD.x,aD.y);ay.stroke();ay.closePath()}};this.touchend=function(aF){aF.preventDefault();if(aC){aC=false}};this.updateCanvasInfo=function(aF,aG){aB=aF;aE.width=aG.width;aE.height=aG.height}};var r=function(){t=Y.width();ap=Y.height();var aB=ap*0.5-ak*2;az=g.width;X=g.height;if(b.browser.mobile){G=ap*0.95-J-aq-ak;C=G*(az/X);if(C>t*0.95){C=t*0.95;G=C*(X/az)}}else{G=X>aB?aB:X;C=G*(az/X);K=Math.min(aw,t-20);if(C>K){C=K;G=C*(X/az)}}L=b.browser.mobile?t*0.95:Math.max(C+2,260);am=b.browser.mobile?ap*0.95:G+J+aq+ak*2;al=(ap-am)-20};var ad=function(){var aB=ay.lineWidth;var aF=ay.strokeStyle;var aE=$("<canvas>").attr({width:C,height:G}).css({width:C,height:G});var aC=aE[0].getContext("2d");var aD=ay.getImageData(0,0,C,G);aC.putImageData(aD,0,0);r();au.css({left:(t-L)/2,top:al,width:L+"px",height:am+"px",});B.css("height",(am-J-aq-6)+"px");if(d==F.CROP){at.remove();ah.remove()}$(N[0]).css({top:b.browser.mobile?(B.height()-G)/2-ak/2:(B.height()-G)/2,left:(B.width()-C)/2,width:C,height:G}).attr({width:C,height:G});ax(aE[0]);aB=aB*N[0].width/aE[0].width;ao(aB,aF);Q.updateCanvasInfo(N[0].getBoundingClientRect(),{width:N[0].width,height:N[0].height});if(w){w.updateCanvasInfo(N[0].getBoundingClientRect(),{width:N[0].width,height:N[0].height})}setTimeout(function(){V.scrollToElementWithFrame(e[0],1000,am+20);if(d==F.CROP&&!at.getCropWindow().parent().length){at.create();ah.create();at.initCrop();ah.initTransform()}},500)};var aj=function(){au.remove();ar&&ar.remove();O();window.removeEventListener("resize",ad,false);e.removeClass("crownix-formfield-blink");V.enable();V.restore();n.focusHiddenTab()};var ax=function(aB){ay.clearRect(0,0,N[0].width,N[0].height);ay.drawImage(aB?aB:g,0,0,N[0].width,N[0].height)};var D=function(aC,aB){N=$("<canvas>").css(af).css({border:"1px solid grey",cursor:"crosshair",position:"absolute",top:b.browser.mobile?(B.height()-aB)/2-ak/2:(B.height()-aB)/2,left:(B.width()-aC)/2}).attr({width:aC+"px",height:aB+"px",}).appendTo(B);ay=N[0].getContext("2d");ao();ax();Q=new P();if(b.hasTouch()){w=new E()}T();V.disable()};var k=function(){ar=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":f.WINDOW_OVERLAY_Z_INDEX,}).prependTo(Y);ar[0].addEventListener("touchstart",function(aB){aB.preventDefault()});if(S){ar.fadeIn(100)}};var z=function(aE){var aC=$("<li>").addClass("crownix-mask-item");var aF=(typeof aE.title)==="string"?aE.title:aE.title[0];var aD=(typeof aE.svg==="string"?aE.svg:aE.svg[0]);var aB=$("<button>").attr({type:"button",title:aF,id:"crownix-mask-button-"+aF,}).addClass("crownix-mask-button").on("click tab",aE.handler);if(aE.dir=="right"){aC.css("float","right")}else{aC.css("float","left")}aB.appendTo(aC);$(aD).appendTo(aB);return aC};var s=function(){r();au=$('<div id="crownix-window-frame">').addClass("crownix-window-frame").css({display:"none",left:(t-L)/2,top:al,width:L+"px",height:am+"px","z-index":f.WINDOW_Z_INDEX,background:"#FFFFFF","text-align":"center",}).prependTo(Y);V.save();V.zoom(1);V.scrollToElementWithFrame(e[0],1000,am+20);aA=$("<div>").addClass("crownix-window-header").css(af).appendTo(au);$("<span>").addClass("crownix-window-title").text(m.get("mask_dialog_title")).appendTo(aA);$("<span>").addClass("crownix-window-close").bind("click",aj).append($("<img>").attr("src",W)).appendTo(aA);B=$("<div>").addClass("crownix-window-body").css(af).css({width:"100%",height:(am-J-aq-6)+"px"}).appendTo(au);h=$("<div>").addClass("crownix-window-footer").css({"text-align":"right",overflow:"hidden"}).appendTo(au);U(H);d=F.MASK;au.fadeIn(500,function(){D(C,G)})};var ai=function(aF,aE,aB){var aC=$("#crownix-mask-button-"+aF);var aF=H[aE].title[aB];var aD=H[aE].svg[aB];$(aC).attr({title:aF,id:"crownix-mask-button-"+aF}).children().remove();$(aD).appendTo(aC)};var ag=function(){ao();a&&a.remove()};var U=function(aD){a=$("<ul>").css({"list-style-type":"none",padding:"0px",margin:"0px"}).appendTo(h);for(var aC in aD){var aB=z(aD[aC]);if(aB){aB.addClass("crownix-toast-anim-bottom");aB.appendTo(a)}}};var ao=function(aB,aC){ay.lineWidth=aB||M;ay.strokeStyle=aC||av;ay.lineJoin="round";ay.lineCap="round"};var T=function(){var aB=$("body");N.on("mousedown",Q.mousedown);aB.on("mousemove",Q.mousemove);aB.on("mouseup",Q.mouseup);if(b.hasTouch()){N[0].addEventListener("touchstart",w.touchstart,false);N[0].addEventListener("touchmove",w.touchmove,false);N[0].addEventListener("touchend",w.touchend,false)}};var O=function(){var aB=$("body");N.off("mousedown",Q.mousedown);aB.off("mousemove",Q.mousemove);aB.off("mouseup",Q.mouseup);if(b.hasTouch()){N[0].removeEventListener("touchstart",w.touchstart,false);N[0].removeEventListener("touchmove",w.touchmove,false);N[0].removeEventListener("touchend",w.touchend,false)}};var an=function(){O();N.css("cursor","default");ag();U(A);at=new m2soft.crownix.ImageCrop(N,B,e);at.create();ah=new m2soft.crownix.ImageTransformer(N,B,at.getCenterPosition());ah.create();d=F.CROP};var Z=function(){T();N.css("cursor","crosshair");ag();U(H);at.remove();ah.remove();d=F.MASK};var c=function(aG,aC,aB,aH,aD,aF,aE){g=aG;ac=aC;e=aB;S=aH;V=aD;ab=aF;u=aE;n=m2soft.crownix.FieldOrder.getInstance();ae=m2soft.crownix.GuideManager.getInstance();H={ok:{svg:j.MASK_OK,title:m.get("ok_button_text"),dir:"right",handler:function(){var aI=e[0].getContext("2d");u(aI,N[0],e);aj();ab()}},init:{svg:j.MASK_RESET,title:m.get("refresh_button_text"),dir:"right",handler:function(){ax()}},weight:{svg:[j.MASK_THIN,j.MASK_BOLD],title:[m.get("mask_dialog_thin"),m.get("mask_dialog_bold")],dir:"right",handler:function(aI){ay.lineWidth=ay.lineWidth===M?I:M;ai(H.weight.title[Number(ay.lineWidth===M)],"weight",Number(ay.lineWidth===I))}},color:{svg:[j.MASK_BLACK,j.MASK_WHITE],title:[m.get("mask_dialog_black"),m.get("mask_dialog_white")],dir:"right",handler:function(aI){ay.strokeStyle=ay.strokeStyle===av?q:av;ai(H.color.title[Number(ay.strokeStyle===av)],"color",Number(ay.strokeStyle===q))}},cropMode:{svg:j.CROP_MODE,title:m.get("image_crop_mode"),dir:"left",handler:function(){an()}}};A={applyCrop:{svg:j.MASK_OK,title:m.get("ok_button_text"),dir:"right",handler:function(){at.applyCrop();Z()}},cancel:{svg:j.CROP_CANCEL,title:m.get("cancel_button_text"),dir:"right",handler:function(){at.initCrop();ah.initTransform();Z()}},initCrop:{svg:j.MASK_RESET,title:m.get("refresh_button_text"),dir:"right",handler:function(){at.initCrop();ah.initTransform()}},rotate:{svg:j.ROTATE_90,title:m.get("image_rotate_90"),dir:"left",handler:function(aI){at.rotateQuarter();ah.rotateQuarter()}}}};c.prototype={show:function(){Y=$("#m2soft-crownix-container");if(!ae.isEnabled){k()}s();window.addEventListener("resize",ad,false)},};return c})();m2soft.ns("m2soft.crownix.submit.Preview");m2soft.crownix.submit.Preview=(function(){var h=m2soft.crownix.Resource;var l=m2soft.crownix.Window;var e=m2soft.crownix.resource.Icon;var k=m2soft.crownix.Util;var B;var z;var E;var w;var c;var F=1;var A;var b;var q;var u;var n="crownix-submit-preview-viewer";var r="crownix-submit-preview-canvas";var f="#5874AD";var G=20;var m=function(){var I=A.innerWidth()-2;var H=b.width();var J=G*2*I/H;return(I-J)/H};var D=function(H,I){B=H;u={zoomin:{svg:e.ZOOM_IN,title:h.get("zoom_in"),handler:function(){F+=0.2;if(F>c.options.zoomMax){F=c.options.zoomMax}c.zoom(F,A.width()/2,A.height()/2)},},zoomout:{svg:e.ZOOM_OUT,title:h.get("zoom_out"),handler:function(){F-=0.2;if(F<c.options.zoomMin){F=c.options.zoomMin}c.zoom(F,A.width()/2,A.height()/2)},},submit:{text:h.get("submit_button_text"),title:h.get("submit_button_text"),handler:function(){if(typeof I=="function"){$("#"+this.id).removeClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-item-disable").off();I()}},},cancel:{text:h.get("cancel_button_text"),title:h.get("cancel_button_text"),handler:function(){j();w.close()},},};t()};var g=function(){return $("<div>").attr("id","crownix-toolbar").css({"float":"left",width:"50%",padding:"0px 0px","border-bottom":"0px",})};var C=function(H){return $("<ul>").attr("id","#crownix-toolbar-menu").css({"float":H,padding:"0px 10px",})};var t=function(){A=$("<div>").attr("id",n).addClass("crownix-container-gradient").addClass("crownix-storage-dialog").css({width:"100%",overflow:"hidden","text-align":"center","-moz-border-radius":"0px 0px 0px 0px","-webkit-border-radius":"0px 0px 0px 0px","-ms-border-radius":"0px 0px 0px 0px","-o-border-radius":"0px 0px 0px 0px","order-radius":"0px 0px 0px 0px",});b=$("<div>").attr("id",r).css("padding",G+"px").appendTo(A);q=$("<div>").addClass("crownix-window-footer").css({height:"50px","background-color":"#fff"}).appendTo(A);var M=C("left").appendTo(g().appendTo(q));var I=C("right").appendTo(g().appendTo(q));var J;var H;for(var L in u){J=u[L];H=$("<li>").attr({id:L,title:J.title}).bind("click tab",J.handler).addClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-dropitem").addClass("crownix-preview-item").css({width:"inherit","border-color":f,"min-width":75});if(B.options.submitPreview){if(B.options.submitPreview.scrollEndBtnEnable&&L=="submit"){H.unbind("click tab",J.handler).removeClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-item-disable")}}if(J.svg){H.width(75);H.appendTo(M);$(J.svg).attr("class","crownix-toolbar-icon-svg").css({fill:f,stroke:f,}).appendTo(H)}else{if(J.text){H.appendTo(I);var K=(L=="cancel"&&h.language=="ja")?"100px":"75px";$("<div>").text(J.text).addClass("crownix-toolbar-icon-color").css({color:f,"margin-top":0,"line-height":"32px",width:K}).appendTo(H)}}}};var a=function(){if((B.license.isAllowedFeature("Note")&&B.options.enableNote)&&(B.noteManager.getMode()==="editable"||B.noteManager.getMode()==="disable")){E.setNoteManager(B.noteManager)}};var d=function(){if(B.formManager){E.setFormManager(B.formManager)}};var s=function(){if(!!c){c.destroy()}var I={zoom:true,zoomMin:0.25,zoomMax:2.5,useTransition:true,scrollX:true,scrollY:true,scrollbars:"custom",interactiveScrollbars:true,freeScroll:true,keepCenter:true,tap:k.hasTouch(),doubleTap:k.hasTouch(),mouseWheel:true,click:false,HWCompositing:B.options.enableTranslateZ};if(k.browser.android||k.browser.ios){I.disablePointer=true;I.disableTouch=false}c=new IScroll("#"+n,I);if(B.options.submitPreview){if(B.options.submitPreview.scrollEndBtnEnable){c.on("scrollEnd",function(){if(c.y==c.getMaxScrollY()){q.find("#submit").bind("click tab",u.submit.handler).removeClass("crownix-toolbar-item-disable").addClass("crownix-toolbar-item-enable")}})}}var H=m();if(H<1){F=H;c.zoom(F,A.width()/2,A.height()/2,0)}};var j=function(){var I=$("#crownix-submit-preview-canvas").find("canvas");var J=0;for(var H=0;H<I.length;H++){J+=I[H].height;if(J>Math.abs(c.y)){B.viewer.movePage(H+1);break}}};D.prototype={show:function(H){E=new m2soft.crownix.ImageConverter();d();a();E.convert(B.report,"canvas",function(J){var M=0;var K=0;for(var I in J){var L=$(J[I]);L.css({display:"block",margin:"0px auto 5px auto"});if(L.attr("width")>M){M=L.attr("width")}K+=parseInt(L.attr("height"))}b.css({width:M,height:K}).append(J);w=new l(h.get("submit_preview_title"),A,{isOverlay:true,buttonType:["close"]});w.setFooterHeight(50);w.show({parent:B.parentId},s);q.appendTo($("#crownix-window-frame").css("height","90%"));$("#crownix-window-frame .crownix-window-header").css("background-color","#fff").removeClass("crownix-toolbar-gradient").children(".crownix-window-title").removeClass("crownix-toolbar-icon-color");if(typeof H=="function"){H()}})},close:function(){w.close()},};return D})();m2soft.ns("m2soft.crownix.ChartConverter");m2soft.crownix.ChartConverter=function(){this.convertMml=function(element){var series,options;element.find("CC").children().each(function(){var elementName=this.tagName;var element=$(this);if(elementName=="SR"){series=eval("("+$(this).text()+")")}else{options=eval("("+$(this).text()+")")}});return{series:series,options:options,}}};m2soft.ns("m2soft.crownix.AudioPlayer");m2soft.crownix.AudioPlayer=function(g,h,B,H){var d=m2soft.crownix.resource.Icon;var Q=m2soft.crownix.Ajax;var e=m2soft.crownix.Resource;var c=m2soft.crownix.Util;var O="2.5em";var T="5px";var I=3;var J=8;var M=c.browser.mobile?10:7;var K=3;var n=M+(K/2);var E=false;var P=false;var q;var m;var t=0;var s=false;var D;var b;var f;var z;var u;var l;var w;var A;var G;var N;var a;var F;var j;var S;var k;q=document.createElement("audio");m=document.createElement("source");D=document.createElement("div");b=document.createElement("div");f=document.createElementNS("http://www.w3.org/2000/svg","svg");z=document.createElementNS("http://www.w3.org/2000/svg","line");u=document.createElementNS("http://www.w3.org/2000/svg","line");l=document.createElementNS("http://www.w3.org/2000/svg","circle");w=document.createElement("div");A=document.createElement("span");G=document.createElement("span");N=document.createElement("div");a=document.createElement("button");F=document.createElement("button");j=document.createElement("button");S=document.createElement("button");k=document.createElement("button");q.style.display="none";q.loop=false;h.appendChild(D);q.appendChild(m);f.appendChild(z);f.appendChild(u);f.appendChild(l);b.appendChild(f);w.appendChild(A);w.appendChild(G);N.appendChild(S);N.appendChild(F);N.appendChild(a);N.appendChild(j);N.appendChild(k);D.appendChild(q);D.appendChild(b);D.appendChild(w);D.appendChild(N);D.setAttribute("id","audio-control-container");D.style.width="100%";D.style.height="100%";D.style.textAlign="center";D.style.border="1px solid rgba(85, 102, 85, 0.4)";D.style.display="inline-block";D.className="crownix-audio-control-container";b.style.display="inline-block";b.style.width=D.clientWidth*0.9+"px";b.style.height=D.clientHeight*0.4+"px";b.className="crownix-audio-timeline";f.setAttribute("width","100%");f.setAttribute("height","100%");f.setAttribute("overflow","visible");z.setAttribute("x1","0");z.setAttribute("y1","50%");z.setAttribute("x2","100%");z.setAttribute("y2","50%");z.setAttribute("stroke-width",J);z.setAttribute("stroke","#868686");z.setAttribute("stroke-linecap","round");u.setAttribute("x1","0");u.setAttribute("y1","50%");u.setAttribute("x2","0");u.setAttribute("y2","50%");u.setAttribute("stroke-width",J);u.setAttribute("stroke","#6BEC62");u.setAttribute("stroke-linecap","round");l.setAttribute("cx","0");l.setAttribute("cy","50%");l.setAttribute("r",M);l.setAttribute("style","fill:#565656; stroke-width:"+K+";");l.setAttribute("class","draggable");w.style.display="inline-block";w.style.width=D.clientWidth*0.9+"px";w.style.height=D.clientHeight*0.15+"px";w.style.fontSize="small";w.style.fontFamily="Helvetica";w.style.color="#565656";w.className="crownix-prevent-user-select";A.style["float"]="left";A.innerHTML="0:00";G.style["float"]="right";G.innerHTML="0:00";N.style.display="inline-block";N.style.width=D.clientWidth*0.95+"px";N.style.height=D.clientHeight*0.4+"px";N.style.borderTop="1px solid rgba(85, 102, 85, 0.1)";N.className="crownix-audio-controls";a.style.width="3em";a.style.height="3em";a.style["margin-left"]=T;a.style["margin-left"]=T;a.style["margin-top"]=($(N).height()/2)-($(a).outerHeight()/2)+"px";a.setAttribute("id","play");a.innerHTML=d.PLAY_ICON;a.className="crownix-audio-button-group";F.style.width=O;F.style.height=O;F.style["margin-left"]=T;F.style["margin-left"]=T;F.style["margin-top"]=($(N).height()/2)-($(F).outerHeight()/2)+"px";F.setAttribute("id","rewind");F.innerHTML=d.REWIND_ICON;F.className="crownix-audio-button-group";j.style.width=O;j.style.height=O;j.style["margin-left"]=T;j.style["margin-right"]=T;j.style["margin-top"]=($(N).height()/2)-($(j).outerHeight()/2)+"px";j.setAttribute("id","fast-forward");j.innerHTML=d.FAST_FORWARD_ICON;j.className="crownix-audio-button-group";S.style.width=O;S.style.height=O;S.style["margin-left"]=T;S.style["margin-right"]=T;S.style["margin-top"]=($(N).height()/2)-($(S).outerHeight()/2)+"px";S.style["float"]="left";S.setAttribute("id","volume");S.innerHTML=d.VOLUME_ICON;S.className="crownix-audio-button-group";k.style.width=O;k.style.height=O;k.style["margin-left"]=T;k.style["margin-right"]=T;k.style["margin-top"]=($(N).height()/2)-($(k).outerHeight()/2)+"px";k.style["float"]="right";k.style.visibility="hidden";k.setAttribute("id","download");k.innerHTML=d.DOWNLOAD_ICON;k.className="crownix-audio-button-group";q.ontimeupdate=function(Z){if(!isNaN(t)){var X=q.currentTime;var V;if(X==0||q.duration==0){V=0}else{V=(X/q.duration)*100}u.setAttribute("x2",V+"%");l.setAttribute("cx",V+"%");var aa=Math.floor(X/60);var U=Math.floor(X%60);if(U<10){U="0"+U}A.innerHTML=aa+":"+U;var W=t-X;var Y=Math.floor(W/60);var r=Math.floor(W%60);if(r<10){r="0"+r}G.innerHTML=Y+":"+r}};q.onloadeddata=function(U){t=q.duration;var V=Math.floor(t/60);var r=Math.floor(t%60);if(r<10){r="0"+r}G.innerHTML=V+":"+r};q.onended=function(r){E=false;a.innerHTML=d.PLAY_ICON;q.pause();q.currentTime=0};a.onclick=function(r){if(t===undefined){q.load()}if(E){a.innerHTML=d.PLAY_ICON;q.pause();E=false}else{a.innerHTML=d.PAUSE_ICON;q.play();E=true}};S.onclick=function(r){if(P){S.innerHTML=d.VOLUME_ICON;q.muted=false;P=false}else{S.innerHTML=d.MUTE_ICON;q.muted=true;P=true}};F.onclick=function(U){var r=q.currentTime;if(r>I){q.currentTime=q.currentTime-I}else{q.currentTime=0}};j.onclick=function(U){var r=q.currentTime;if(r+I>t){q.currentTime=t}else{q.currentTime=q.currentTime+I}};z.onclick=function(V){var U=f.width.baseVal.value;var r=(V.offsetX/U);q.currentTime=t*r};u.onclick=function(V){var U=f.width.baseVal.value;var r=(V.offsetX/U);q.currentTime=t*r};z.onmouseover=function(r){z.style.cursor="pointer"};u.onmouseover=function(r){u.style.cursor="pointer"};l.onmouseover=function(r){l.style.cursor="pointer"};var C=function(W){var V=function(Y){var Z=f.getScreenCTM();if(Y.touches){Y=Y.touches[0]}return{x:(Y.clientX-Z.e)/Z.a,y:(Y.clientY-Z.f)/Z.d}};var r=function(Y){if(Y.target.classList&&Y.target.classList.contains("draggable")){s=Y.target;l.setAttribute("r",M+2)}};var U=function(aa){if(s){aa.preventDefault();var ab=V(aa);s.setAttributeNS(null,"cx",ab.x);var Z=f.width.baseVal.value;var Y=(ab.x/Z);q.currentTime=t*Y}};var X=function(Y){s=null;l.setAttribute("r",M)};if(c.browser.mobile){W.addEventListener("touchstart",r);W.addEventListener("touchmove",U);W.addEventListener("touchend",X);W.addEventListener("touchleave",X);W.addEventListener("touchcancel",X)}else{W.addEventListener("mousedown",r);W.addEventListener("mousemove",U);W.addEventListener("mouseup",X);W.addEventListener("mouseleave",X)}};var L=function(V,U){var W="audio/mp4";var X=new Blob([V],{type:W});var r=window.URL&&window.URL.createObjectURL(X);m.setAttribute("src",r);m.setAttribute("type",W);q.load();k.onclick=function(Y){var Z=H+".m4a";if(U&&c.browser.uiwebview&&!c.browser.chrome&&!c.browser.firefox){if(window.webkit){window.webkit.messageHandlers.downloadFile.postMessage(U)}else{document.location="crownixWebView://downloadFile?path="+U}}else{if(window.m2softFormFieldBridge.requestFileDownload&&U){window.m2softFormFieldBridge.requestFileDownload(U,Z)}else{saveAs(X,Z)}}}};this.load=function(X){var aa=new Q();var Z={};var W="blob";var Y=function(ac){var ab=ac.response||ac.responseText;k.style.visibility="visible";L(ab,X)};var U=function(ac,ab){if(messge){g.dialog.show(ab)}else{if(ac.status==0){g.dialog.show(e.get("server_connect_error"))}else{g.dialog.show(e.get("request_server_error"))}}};var V=function(){g.dialog.show(e.get("request_abort_error"))};var r=function(){g.dialog.show(e.get("request_timeout_error"))};aa.setHandler({done:Y,error:U,abort:V,timeout:r});aa.invoke(X,Z,W)};this.loadFile=function(r){L(r)};C(f)};m2soft.ns("m2soft.crownix.Layer");(function(){var k=m2soft.crownix.Resource;var f=m2soft.crownix.Constant;var s=m2soft.crownix.Window;var n=m2soft.crownix.Util;var r=m2soft.crownix.ChannelManager;var a=m2soft.crownix.util.Color;var j=m2soft.crownix.FieldOrder;var e=function(w,z){this.type="layer";this.page=z;this.go=null;this.getMML=null;this.$textDom=$("."+f.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+f.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+f.TEXT_ID):$("#"+f.TEXT_ID);this.reloadInterval=undefined;if(w.attr){this.id=w.attr("id")||null;this.mrdPath=w.attr("mrd")||null;this.mrdParam=w.attr("pa")||null;this.refresh=this.mrdPath!=null?w.attr("au"):0;this.buttonGroup=w.attr("bs")||0;this.displayScroll=w.attr("sc")||0;this.isFloating=w.get(0).tagName.toUpperCase()=="FL";this.mml=this.mrdPath==null?w.prop("outerHTML"):null;this.fid=w.attr("fid")||0;this.lid=w.attr("lid")||0;this.isLoaded=false;this.position={sx:w.attr("sx"),sy:w.attr("sy"),ex:w.attr("ex"),ey:w.attr("ey"),type:w.attr("fp")||0};this.offset={x:0,y:0};this.size={width:parseFloat(this.position.ex)-parseFloat(this.position.sx),height:parseFloat(this.position.ey)-parseFloat(this.position.sy),};this.scroll=null;this.visible=this.isFloating?false:true;this.preventToolbarToggle=false;this.win=null}else{for(var u in w){if(w.hasOwnProperty(u)){this[u]=w[u]}}}};e.serialize=function(u){var w={type:u.type,page:u.page,id:u.id,mrdPath:u.mrdPath,mrdParam:u.mrdParam,refresh:u.refresh,buttonGroup:u.buttonGroup,displayScroll:u.displayScroll,isFloating:u.isFloating,mml:u.mml,fid:u.fid,lid:u.lid,position:u.position,size:u.size,isLoaded:false,visible:u.visible,boundary:u.boundary,};return JSON.stringify(w)};e.deserialize=function(A,z,u){var w=new e(A,A.page);w.injectInfo(z,u);return w};e.getWrapper=function(A){var w=q(A.size.height);var B=q(A.size.width);var z=!A.isFloating;var u={top:q(A.position.sy,z),left:q(A.position.sx,z)};var C=$(".crownix-layer-"+A.id);if(C.length==0||A.go.isPrinting){C=$("<div>").addClass("crownix-layer-"+A.id).css({top:u.top,left:u.left,height:w,width:B,position:"absolute"}).bind("mousedown touchstart",function(D){D.stopPropagation()}).bind("scroll",function(){this.scrollTop=0}).appendTo($("#"+f.TEXT_ID))}return C};e.prototype={show:function(u){if(u){this.onCancel=u.onCancel;this.onOk=u.onOk;this.onClose=u.onClose;this.onBeforeResize=u.onBeforeResize;this.offset=u.offset||{x:0,y:0};this.wrapper=u.wrapper}else{u={}}this.$textDom=(u.textDom&&$(u.textDom))||($("."+f.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+f.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+f.TEXT_ID):$("#"+f.TEXT_ID));if(this.go.isPrinting||this.canShow()){this.visible=true;if(this.refresh>0){this.setAutoReload(this.refresh)}if(this.go.formLayerManager.layerList[this.id]&&!this.isLoaded){this.go.formManager.duplicateFormField(this.go.formLayerManager.layerList[this.id].getFormList())}this.go.formLayerManager.deactivate(this.id);this.go.formLayerManager.activate(this.id);return d(this).pipe(g).pipe(null,this.go.dialog.show)}return $.Deferred().reject()},hide:function(w){if(!w){w={}}this.visible=false;c();this.go.formLayerManager.deactivate(this.id);this.scroll&&this.scroll.destroy();this.scroll=null;var u=(w.textDom&&$(w.textDom))||($("."+f.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+f.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+f.TEXT_ID):$("#"+f.TEXT_ID));u.find(".crownix-layer-"+this.id).remove();h(this);clearInterval(this.reloadInterval);return $.Deferred().resolve()},reload:function(){if(this.mrdPath){this.go.formLayerManager.deactivate(this.id);this.go.formLayerManager.removeFormLayer(this.id);this.isLoaded=false;c();var u=this;if(this.go.currentPage===this.page){return d(this,true).pipe(g).pipe(function(){h(u)})}else{return d(this,true)}}},setAutoReload:function(w){var u=this;clearInterval(this.reloadInterval);this.reloadInterval=setInterval(function(){u.reload()},w*1000)},clearAutoReload:function(){clearInterval(this.reloadInterval)},set:function(u,w){if(!u){return}u=u.toLowerCase();if(u=="mrdpath"){this.mrdPath=w}else{if(u=="mrdparam"){this.mrdParam=w}}},canShow:function(){if(this.go.options.scrollOptions.useInfiniteScroll){var u=this.go.documentScroller.getPageFrame(this.page);return this.$textDom.find(".crownix-layer-"+this.id).length==0&&(this.page==undefined||this.go.documentScroller.isVisiblePage(u))}else{return this.$textDom.find(".crownix-layer-"+this.id).length==0&&(this.page==undefined||this.go.currentPage==this.page)}},toParamForLayerInfo:function(){var u=[];if(this.mrdPath){u.push(this.id);u.push(" [");u.push(n.escapeXmlEntities(this.mrdPath));u.push(String.fromCharCode(5));if(this.mrdParam){u.push(n.escapeXmlEntities(this.mrdParam))}u.push("]")}return u.join("")},injectInfo:function(w,u){this.go=w;this.getMMLwithViewer=u},setBoundary:function(u){this.boundary=u},preload:function(w){var u=this;d(this,false).pipe(function(){var C=u.go;var B=$($.parseXML(u.mml));var z=B.find("PG").length>0?B.find("PG"):B.children();var A=B.find("HEAD").length>0?C.report.parseHead(B.find("HEAD").children()):C.report.getHeadForPage(u.page||1);if(A.formFieldMode&&!u.isLoaded){try{C.formManager.buildFormField(z,u.page,false,undefined,u);if(C.shareManager){C.shareManager.requestFormData()}}catch(D){return defer.reject(D)}}u.isLoaded=true;if(w){w()}})}};function d(C,D){var u=new $.Deferred();if(C.mml&&!D){return u.resolve(C)}var F=C.mrdPath;var B=/^(?:\/|[a-z]+:\/\/)/.test(F);var E="";if(B){E=F}else{var z=Math.max(C.go.mrdPath.lastIndexOf("\\"),C.go.mrdPath.lastIndexOf("/"));var A=((z>=0)?C.go.mrdPath.substring(0,z+1):"");E=A+F}var G=[C.mrdParam,"/ronepgrpt",];if(!C.go.isFormEditMode){G.push("/rformmode [0]")}var H=function(){};var w=function(J){if(J&&J.indexOf("</MML>")<0&&J.indexOf("</DOCUMENT>")<0){var I=J.indexOf("0|");if(I!=-1){u.reject(J.substring(I+2))}else{u.reject(k.get("execute_error"))}return}C.mml=J;u.resolve(C)};C.getMMLwithViewer(E,G.join(" "),"","",H,w,700,true);return u}function q(w,u){return m2soft.crownix.Painter.adjustCoord(w,0,u?null:0)}var t;var c=function(){clearTimeout(t);$("#"+f.TEXT_ID).off("DOMSubtreeModified")};var h=function(z){var u=$("#"+f.TEXT_ID);var w=$("#"+f.CANVAS_ID);if(!z.go.textOnCanvas){t=m2soft.crownix.Forgery.detect(u,w[0],z.go.isFormEditMode)}};function g(Z){if(!Z.visible){return}var N=Z.go;var u=!Z.isFloating;var J=q(Z.size.height);var M=q(Z.size.width);var w=Z.movePage;var P=Z.serverUrl;var aa={top:q(Z.position.sy,u),left:q(Z.position.sx,u)};var z=$.Deferred();var H=$($.parseXML(Z.mml));var I=H.find("PG").length>0?H.find("PG"):H.children();var C=H.find("HEAD").length>0?N.report.parseHead(H.find("HEAD").children()):N.report.getHeadForPage(Z.page||1);var G=b(I,C,0);var A={height:Z.mrdPath?G.bottom-G.top:G.bottom,width:Z.mrdPath?G.right-G.left:G.right,};var O=Math.max(q(A.height),J);var K=Math.max(q(A.width),M);if(Z.isFloating&&!H.find("PG").length>0){O+=s.prototype.getHeaderHeight();K+=s.prototype.getHeaderHeight()}var ab=$("<div>").addClass("crownix-text crownix-text-index").css({height:O,width:K,position:"absolute"});var Y=1,W=0,U=0;if(N.textOnCanvas){Y=N.scroll.scale;W=-(ab.width()/2)*(Y-1);U=-(ab.height()/2)*(Y-1)}var F=$("<canvas>").addClass("crownix-canvas crownix-canvas-index").attr("height",O*Y).attr("width",K*Y).css({position:"absolute",transform:N.textOnCanvas?"translate("+W+"px, "+U+"px) scale("+(1/Y)+")":""});F[0].getContext("2d").scale(Y,Y);$("<div>").addClass("crownix-search-mark-layer crownix-search-mark-"+Z.id).css({height:O,width:K,top:0,left:0,position:"absolute"}).appendTo(ab);var T=new m2soft.crownix.Painter(N,F[0],ab,w,P);if(C.formFieldMode&&!Z.isLoaded){try{N.formManager.buildFormField(I,Z.page,false,undefined,Z);if(N.shareManager){N.shareManager.requestFormData()}}catch(S){return z.reject(S)}}Z.isLoaded=true;c();var B=$("<div>").append(F,ab).addClass("crownix-layer-page").css({height:O,width:K,position:"absolute"});var X=N.report.getHeadForPage(Z.page||1);var V=m(X.faceAttrList[Z.fid]);var Q;if(Z.isFloating){Q={border:0}}else{Q=l(X.lineAttrList[Z.lid])}var E=(Z.wrapper||e.getWrapper(Z)).empty().append(B).css(Q).css(V);E.appendTo(Z.$textDom);Z.scroll&&Z.scroll.destroy();Z.scroll=new IScroll(E.get(0),{zoom:false,bounce:false,scrollbars:true,scrollX:Z.displayScroll==1||Z.displayScroll==3,scrollY:Z.displayScroll==2||Z.displayScroll==3,freeScroll:true,parentScroll:Z.isFloating?null:N.scroll,zoomStart:1,tap:n.hasTouch(),doubleTap:n.hasTouch(),mouseWheel:Z.displayScroll!=0,click:false,fadeScrollbars:true,HWCompositing:N.options.enableTranslateZ});Z.scroll.on("toolbarToggle",function(ac){if(!Z.isFloating&&!Z.preventToolbarToggle){N.toolbar.toggle()}else{Z.preventToolbarToggle=false}});var D=Z.mrdPath?{x:-q(G.left),y:-q(G.top)}:{x:-1,y:-1};if(Z.isFloating){D.x+=s.prototype.getHeaderHeight();D.y+=s.prototype.getHeaderHeight()}var L=Z.isFloating?1:0;Z.setBoundary(G);T.setFormFieldMode(C.formFieldMode);T.drawPage($(I[0]),C,function(){if(N.isFormEditMode){if(N.layerManager.isAllLayerLoaded()){N.formManager.fireLoadCompleteEvent()}N.formManager.bindEvent();if(N.shareManager&&N.shareManager.isConnected()){N.shareManager.initFields()}var ad=n.browser.edge?"click touchstart":"mousedown touchstart";$(".crownix-layer-page").on(ad,function(ah){var aj=ah.target.nodeName;var ai=$(ah.target).attr("id");var ag=$(ah.target).attr("class");var ae=$(ah.target).attr("for");var af=$(ah.target).attr("disabled");if((ai&&(ai.indexOf("crownix_form_field")!=-1)||(ae&&ae.indexOf("crownix_form_field_")!=-1)||(ag==="crownix_form_field_label")||(ag==="crownix_hyperlink"))&&(af!=="disabled")){Z.preventToolbarToggle=true}else{Z.preventToolbarToggle=false}})}if(Z.position.type==2){aa.top+=$("#"+Z.go.layerManager.selectFieldId).parent().offset().top;aa.left+=$("#"+Z.go.layerManager.selectFieldId).parent().offset().left}E.css({top:aa.top,left:aa.left,"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",overflow:"hidden",});if(Z.isFloating){E.detach().css({top:"0px",left:"0px"});var ac=[];if(Z.buttonGroup==1){ac.push("close")}else{if(Z.buttonGroup==2){ac.push("ok","cancel")}}Z.win=new s("",E,{contentWidth:M,contentHeight:J,isRelative:Z.position.type==2,top:Z.position.type==0?null:aa.top,left:Z.position.type==0?null:aa.left,isAppending:true,onOk:Z.onOk,onCancel:Z.onCancel,onClose:function(){Z.onClose&&Z.onClose.call(Z,arguments);Z.hide();N.toolbar.afterToolbar(N.containerDom);N.noteManager&&m2soft.crownix.NoteToolbar.prototype.showToolbar();N.scroll.enable();if(C.formFieldMode){j.getInstance().bind(Z.$textDom,N.scroll,N.currentPage)}},onBeforeResize:Z.onBeforeResize,buttonType:ac,sendEvent:function(ae){N.shareManager&&N.shareManager.sendEvent({type:ae})}});Z.win.show({parent:N.containerDom});r.getChannel("window:afterMount").subscribe($.proxy(function(){this.scroll&&this.scroll.refresh();if(C.formFieldMode&&this.scroll){j.getInstance().bind(ab,this.scroll,Z.page)}},Z));Z.scroll.isFloating=true;N.toolbar.beforeToolbar(N.containerDom);N.noteManager&&m2soft.crownix.NoteToolbar.prototype.hideToolbar();N.slide.closeSlide();N.scroll.disable()}N.formManager.removePreventEvent();h(Z);z.resolve();r.getChannel("viewer:onDrawPage").publish();if(N.search.isCreate()){N.stateLess?N.search.refresh():N.search.refreshMark()}},"d",D,L,true,Z.isFloating?true:false);return z}function b(z,w,A){var u={top:0,left:0,bottom:z.attr("height")||0,right:z.attr("width")||0};var B=m2soft.crownix.Painter;A=A?B.reverseAdjustCoord(A):0;z.find("*").each(function(E){var F=$(this);if(!F.attr("sx")&&!F.attr("le")){return}var D=w.lineAttrList[F.attr("lid")];if(D){D=B.applyPriorityToLineAttr(F,D)}var C=D?B.reverseAdjustCoord(D.wd):0;var G={top:parseInt(F.attr("sy")||F.attr("to")),left:parseInt(F.attr("sx")||F.attr("le")),bottom:parseInt(F.attr("ey")||F.attr("bo"))+C+A,right:parseInt(F.attr("ex")||F.attr("ri"))+C+A};if(G.left<u.left){u.left=G.left}if(G.top<u.top){u.top=G.top}if(G.right>u.right){u.right=G.right}if(G.bottom>u.bottom){u.bottom=G.bottom}});return u}function l(z){var E=z.lc;var A=z.wd;var D=0;var w=1;var B=2;var u=3;var F=4;if(A==0){return{}}var C="solid";if(z.st==w){C="dashed"}else{if(z.st==B||z.st==u||z.st==F){C="dotted"}}return{"border-color":E,"border-width":A,"border-style":C,}}function m(w){var A=w.fc;var z=parseFloat(w.al);if(!A){return{}}var u=a.toRgbString(a.hexToRgb(A,0,z));return{"background-color":u}}m2soft.crownix.Layer=e})();m2soft.ns("m2soft.crownix.LayerGroup");(function(){var c=m2soft.crownix.Constant;var f=m2soft.crownix.Painter;var e=m2soft.crownix.Resource;var b=m2soft.crownix.Layer;var h=m2soft.crownix.Util.Promise.DeferChain;var g=function(r,t){this.type="layerGroup";this.page=t;this.group={};this.$textDom=$("."+c.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+c.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+c.TEXT_ID):$("#"+c.TEXT_ID);if(r.attr){this.visible=true;this.id=r.attr("id");this.selectedLayerId=r.attr("si");this.position={sx:r.attr("sx"),sy:r.attr("sy"),ex:r.attr("ex"),ey:r.attr("ey"),};this.size={width:parseFloat(this.position.ex)-parseFloat(this.position.sx),height:parseFloat(this.position.ey)-parseFloat(this.position.sy),};this.lid=r.attr("lid");this.fid=r.attr("fid");var s=this;r.find("le").each(function(){var w=$(this);w.attr("sx",r.attr("sx"));w.attr("sy",r.attr("sy"));w.attr("ex",r.attr("ex"));w.attr("ey",r.attr("ey"));w.attr("lid",r.attr("lid"));w.attr("fid",r.attr("fid"));var u=new b(w,t);s.add(u)})}else{this.id=r.id;this.selectedLayerId=r.selectedLayerId;this.position=r.position;this.size=r.size;this.visible=r.visible;var s=this;for(var q=0,m=r.group.length;q<m;q++){var n=new b(r.group[q]);n.position=s.position;n.lid=s.lid;n.fid=s.fid;this.add(n)}}};g.serialize=function(r){var n={type:r.type,page:r.page,group:[],id:r.id,selectedLayerId:r.selectedLayerId,position:r.position,lid:r.lid,fid:r.fid,size:r.size,visible:r.visible,};var q=r.group;for(var m in q){n.group.push(b.serialize(q[m]))}return JSON.stringify(n)};g.deserialize=function(t,s,m){var u=new g(t,t.page);for(var q in t.group){var r=JSON.parse(t.group[q]);var n=b.deserialize(r);u.add(n)}u.injectInfo(s,m);return u};g.prototype.add=function k(m){this.group[m.id]=m};g.prototype.injectInfo=function(q,m){this.go=q;for(var n in this.group){this.group[n].injectInfo.call(this.group[n],q,m)}};g.prototype.show=function j(q,n){if(this.visible){if(!q||q==this.selectedLayerId){return $.Deferred().resolve()}}else{this.visible=true}if(!q){q=this.selectedLayerId}if(typeof q=="object"){n=q;q=this.selectedLayerId}else{if(!this.group[q]){throw new Error("[Crownix Viewer] Invalid sublayer ID ( "+q+" )")}}if(!n){n={}}if(!this.go.isPrinting&&(!this.group[q]||!this.canShow())){this.selectedLayerId=q;return $.Deferred().reject()}this.$textDom=(n.textDom&&$(n.textDom))||($("."+c.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+c.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+c.TEXT_ID):$("#"+c.TEXT_ID));a();n.wrapper=b.getWrapper(this);for(var m in this.group){if(m==q){continue}h.push($.proxy(function(){return this.group[m].hide(n)},this))}this.selectedLayerId=q;return h.push($.proxy(function(){return q?this.group[q].show(n):$.Deferred().reject()},this))};g.prototype.hide=function(){this.visible=false;a();if(this.selectedLayerId){this.group[this.selectedLayerId].hide()}var m=(setting.textDom&&$(setting.textDom))||($("."+c.PAGE_CLASS+'[no="'+this.page+'"]').length>0?$("."+c.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+c.TEXT_ID):$("#"+c.TEXT_ID));m.find(".crownix-layer-"+this.id).remove();d(this);return $.Deferred().resolve()};g.prototype.canShow=function(){if(this.go.options.scrollOptions.useInfiniteScroll){var m=this.go.documentScroller.getPageFrame(this.page);return(this.page==undefined||this.go.documentScroller.isVisiblePage(m))}else{return(this.page==undefined||this.go.currentPage==this.page)}},g.prototype.toParamForCardLayer=function(){return this.id+"["+(this.selectedLayerId?this.selectedLayerId:"")+"]"};g.prototype.toParamForLayerInfo=function(){if(this.selectedLayerId){return this.group[this.selectedLayerId].toParamForLayerInfo()}else{return""}};g.prototype.preload=function(m){if(this.selectedLayerId){this.group[this.selectedLayerId].preload(m)}};g.prototype.setAutoReload=function(m){this.group[this.selectedLayerId].setAutoReload(m)};var l;var a=function(){clearTimeout(l);$("#"+c.TEXT_ID).off("DOMSubtreeModified")};var d=function(q){var m=$("#"+c.TEXT_ID);var n=$("#"+c.CANVAS_ID);if(!q.go.textOnCanvas){l=m2soft.crownix.Forgery.detect(m,n[0],q.go.isFormEditMode)}};m2soft.crownix.LayerGroup=g})();m2soft.ns("m2soft.crownix.LayerManager");(function(){var j=m2soft.crownix.Resource;var h=m2soft.crownix.Constant;var d=m2soft.crownix.Layer;var q=m2soft.crownix.LayerGroup;var f=null;var m=null;var k;var a;function r(t,u){this.layerList=[];m=t;f=u}var g=function(){var t=$("<div>").addClass("crownix-overlay").css({display:"block","z-index":h.WINDOW_OVERLAY_Z_INDEX,}).prependTo($("#m2soft-crownix-container"));t[0].addEventListener("touchstart",function(u){u.preventDefault()});return t};r.prototype={getLayer:function b(A){for(var w=0,t=this.layerList.length;w<t;w++){var u=this.layerList[w];if(u.type==="layer"){if(u.id==A){return u}}else{if(u.type==="layerGroup"){if(u.id==A){return u}for(var z in u.group){if(z==A){return u.group[z]}}}}}throw new Error("There is no Layer : "+A)},buildLayer:function(w,t){var z=function(){for(var B in f.layerManager.layerList){var A=f.layerManager.layerList[B];if(A.isFloating){continue}if(A.group){if(A.group[A.selectedLayerId].isLoaded===false){return}}else{if(A.isLoaded===false){return}}}if(k){k.remove()}if(a){a.fadeOut(100,function(){this.remove()})}};var u=this;w.find("CL").each(function(){var B=$(this);var A=u.createLayer(B,t);if(A.go.options.layer.preload){if(!k){k=f.dialog.message(j.get("image_export_disabled_before_done"))}if(!a){a=g()}A.preload(z)}});w.find("LY").each(function(){var B=$(this);var A=u.createLayer(B,t);if(A.go.options.layer.preload){if(!k){k=f.dialog.message(j.get("image_export_disabled_before_done"))}if(!a){a=g()}A.preload(z)}})},exist:function(z){for(var w=0,t=this.layerList.length;w<t;w++){var u=this.layerList[w];if(u.id==z){return true}}return false},getLayerLength:function s(){return this.layerList.length},getLayerListAtPage:function c(z){var u=[];for(var w=0,t=this.layerList.length;w<t;w++){if(this.layerList[w].page==z){u.push(this.layerList[w])}}return u},createLayer:function l(z,A){var u=!!z.group||(z.prop&&z.prop("tagName")=="CL");var t=z.prop&&z.prop("tagName")=="FL";var w=null;if(u){w=n(z,A)}else{if(t){w=e(z)}else{w=e(z,A)}}w.injectInfo(f,m);this.layerList.push(w);return w},"export":function(){var u=[];for(var t in this.layerList){if(this.layerList[t] instanceof d){u.push(d.serialize(this.layerList[t]))}else{if(this.layerList[t] instanceof q){u.push(q.serialize(this.layerList[t]))}}}return JSON.stringify(u)},"import":function(B){var A=JSON.parse(B);this.layerList=[];for(var w=0,t=A.length;w<t;w++){var z=JSON.parse(A[w]);if(z.type=="layer"){var u=d.deserialize(z,f,m);this.layerList.push(u)}else{if(z.type=="layerGroup"){var u=q.deserialize(z,f,m);this.layerList.push(u)}}}},toParam:function(){var t=[];var w=false;for(var u in this.layerList){if(this.layerList[u].type=="layerGroup"){if(!w){w=true;t.push(" /rcardlayer")}t.push(this.layerList[u].toParamForCardLayer())}}w=false;for(var u in this.layerList){if(!this.layerList[u].visible&&!this.layerList[u].isFloating){if(!w){w=true;t.push(" /rhidelayer")}t.push(this.layerList[u].id)}}w=false;for(var u in this.layerList){if(!this.layerList[u].isFloating){if(!w){w=true;t.push(" /rlayerinfo")}t.push(this.layerList[u].toParamForLayerInfo())}}return t.join(" ")},refreshLayer:function(w){var z=this.getLayerListAtPage(w);for(var u=0;u<z.length;u++){var t=z[u];if(t.visible){t.hide();if(t.isFloating&&t.isLoaded){t.win.close()}t.show()}}},rebuildLayer:function(t,D){var C=this.getLayerListAtPage(t),B;for(var A=0,w=C.length;A<w;A++){if((C[A].type=="layer"&&!C[A].isFloating)||(C[A].type=="layer"&&C[A].isFloating&&C[A].visible)){if(!C[A].mml){continue}B=$.parseXML(C[A].mml);if(D.length){f.formManager.buildFormField($(B).find("PG").length?$(B).find("PG"):$(B).children(),t,false,undefined,C[A],true,D)}else{f.formManager.buildFormField($(B).find("PG").length?$(B).find("PG"):$(B).children(),t,false,undefined,C[A],true)}}else{var u=C[A]["group"];for(var z in u){if((u[z].mml&&!C[A].isFloating)||(u[z].mml&&C[A].isFloating&&C[A].visible)){if(!u[z].mml){continue}B=$.parseXML(u[z].mml);if(D.length){f.formManager.buildFormField($(B).find("PG").length?$(B).find("PG"):$(B).children(),t,false,undefined,u[z],true,D)}else{f.formManager.buildFormField($(B).find("PG").length?$(B).find("PG"):$(B).children(),t,false,undefined,u[z],true)}}}}}},clearAutoReload:function(){for(var w=0,t=this.layerList.length;w<t;w++){var u=this.layerList[w];u.clearAutoReload&&u.clearAutoReload()}},getActiveFloatingLayer:function(){for(var t in this.layerList){if(this.layerList[t].visible&&this.layerList[t].isFloating){return this.layerList[t]}}},isAllLayerLoaded:function(){for(var u=0;u<this.layerList.length;u++){if(f.currentPage!=this.layerList[u].page){continue}var t=this.layerList[u];if(t.type=="layerGroup"&&t.selectedLayerId){t=t.group[t.selectedLayerId]}if(t.visible&&!t.isLoaded){return false}}return true}};function n(t,u){return new q(t,u)}function e(t,u){return new d(t,u)}m2soft.crownix.LayerManager=r})();m2soft.ns("m2soft.crownix.LayerWrapper");(function(){var a=m2soft.crownix.LayerGroup;var b=m2soft.crownix.ChannelManager;var c=function(d){var e=d.field;this.$field=$("#"+e.elementId)};m2soft.crownix.LayerWrapper=function(d){this.offset={x:0,y:0};this.hide=function(){return d.hide()};this.show=function(h,f){if(typeof h=="object"&&!f){f=h}if(!f){f={}}b.getChannel("field:trigger").subscribeOnce($.proxy(c,this));var e=this;var g=function(){if(!e.$field){return{x:0,y:0}}var j=e.$field.offset();var k=e.$field.get(0).getBoundingClientRect();return{x:j.left,y:j.top+k.height,}};f.onBeforeResize=function(){if(d.position.type!=2){return}var k=g();var j={top:m2soft.crownix.Painter.adjustCoord(d.position.sy,0,0),left:m2soft.crownix.Painter.adjustCoord(d.position.sx,0,0)};this.windowFrame.css({top:k.y+j.top,left:k.x+j.left})};f.offset=g();if(d instanceof a){return d.show(h,f)}else{return d.show(f)}};this.reload=function(){return d.reload()};this.set=function(e,f){d.set(e,f)}}})();m2soft.ns("m2soft.crownix.LayerManagerWrapper");m2soft.crownix.LayerManagerWrapper=(function(){var a=m2soft.crownix.LayerWrapper;var b=function(c){this.go=c};b.prototype={get:function(c){return new a(this.go.layerManager.getLayer(c))}};return b})();m2soft.ns("m2soft.crownix.BatchSignWindow");(function(){var a=function(m){var j=m2soft.crownix.Resource,e=m2soft.crownix.Util;var Q,E,C,F,s,P,S,K,G,t,h,I,b,T;var N=[],r=[],l=false,O=false,g=false,B={},z=undefined;var f=function(){d();S.css({visibility:"visible",left:(m.containerDom.width()-S.width())/2,top:(m.containerDom.height()-(K.height()+(t?t.height():0)))/2})};var q=function(){G.find("input:checkbox").attr("disabled",false);if(E.required){T.attr("disabled",true)}b.attr("disabled",false);h.css("display","none")};var w=function(){G.find("input:checkbox, button").attr("disabled",true);T.attr("disabled",false);b.attr("disabled",true);h.css("display","block")};var k=function(){if($(this).is(":checked")){l=true}else{l=false}if(l){q()}else{w()}};var n=function(){O=B[Q].isSelected||false;l=B[Q].isAgreement||false;r=B[Q].checkedFieldList||[];D()};var H=function(){var W=false,X=$(this),V=document.getElementById("select_all_checkbox");if(X.is(":checked")){W=true}if(W){r.push(X.data("field"));E.enableMovePage&&X.data("field").page&&m.viewer.movePage(X.data("field").page)}else{r.forEach(function(Z,Y){if(Z==X.data("field")){r.splice(Y,1)}})}if(r.length==N.length){O=true}else{O=false}V.checked=O};var L=function(Y){var W=document.getElementById("select_all_checkbox");r=[];if($(W).is(":checked")){O=true}else{O=false}for(var X=0;X<N.length;X++){var V=document.getElementById(N[X].elementId+"_checkbox");if(O){V.checked=true;r.push(N[X])}else{V.checked=false}}};var c=function(V){return{width:m2soft.crownix.Painter.adjustCoord(V.element.attr("ri"))-m2soft.crownix.Painter.adjustCoord(V.element.attr("le")),height:m2soft.crownix.Painter.adjustCoord(V.element.attr("bo"))-m2soft.crownix.Painter.adjustCoord(V.element.attr("to"))}};var M=function(){var W=F[0].getContext("2d");W.clearRect(0,0,F.width(),F.height());var V=s.getContext("2d");V.clearRect(0,0,s.width,s.height);if(E.required){T.attr("disabled",true)}};var u=function(){for(var aa=0,Z=N.length;aa<Z;aa++){if(N[aa].required=="1"&&r.indexOf(N[aa])==-1&&l){m.dialog.show(j.get("not_check_require"));return}}if(r.length){for(var aa=0,Z=N.length;aa<Z;aa++){var W=$("#"+N[aa].elementId);if(!W.is("canvas")){W=$("<canvas>").css({width:c(N[aa]).width,height:c(N[aa]).height})}if(e.browser.android&&e.browser.chrome){W[0].width++;W[0].width--}if($.inArray(N[aa],r)!=-1&&l){if(m.options.useNativeSign&&window.m2softFormFieldBridge){var aj=W[0].getContext("2d");aj.clearRect(0,0,W.width(),W.height());var ae=s.width/s.height;var ai=W.width()/W.height();if(ai>ae){var V=W.height()*ae;aj.drawImage(s,(W.width()-V)/2,0,W.height()*ae,W.height())}else{var ah=W.width()/ae;aj.drawImage(s,0,(W.height()-ah)/2,W.width(),W.width()/ae)}N[aa].value=s.toDataURL("image/png")}else{var X=I.getSignature(),ab=(m.options.formField.fixedSignHeight!=0||N[aa].withSignId)?false:true,af=X.toData(W.width(),W.height(),{ratioType:ab,dpi:N[aa].dpi||96});if(X.lines.length>0){N[aa].setValue({signature:X})}}N[aa].determineEffect()}else{N[aa].setValue("")}m.formManager.modified(N[aa]);if(E.enableMovePage){var ad=m.formManager.getSignGroup(Q).getsignList();for(var Y=0;Y<ad.length;Y++){if(ad[Y].elementId==N[aa].elementId){if(N[aa].signature){ad[Y].signature=N[aa].signature}ad[Y].value=N[aa].value}}}else{N[aa].value=N[aa].value}var ag=N[aa].formId,ac=N[aa].id,af=N[aa].value;if(m.shareManager&&m.shareManager.isConnected()){m.shareManager.sendFormField({formId:ag,fieldId:ac,value:af})}if(m.options.mirroring.enable){m.mirroringManager.externalEvent.setValue(ag,ac,af)}}}D()};var U=function(){S=$("<div>").css("z-index",10002).addClass("crownix-batch-group-sign").appendTo(m.containerDom.parent());K=$("<div>").addClass("crownix-group-sign crownix-group-sign-enable").appendTo(S);$("<div>").addClass("crownix-group-sign-close").on("click",n).appendTo(K);$("<div>").addClass("crownix-group-sign-message").appendTo(K);var ag=$("<div>").appendTo($(".crownix-group-sign-message"));var ah=$("<input>",{type:"checkbox",id:"crownix-group-sign_checkbox"}).on("click",k).appendTo(ag);$("<label>",{text:E.agreeMessage||j.get("agree_group_sign"),id:"crownix-group-sign_label"}).attr("for","crownix-group-sign_checkbox").appendTo(ag);var ab=new IScroll(".crownix-group-sign-message",{scrollY:true,scrollX:false,scrollbars:true,interactiveScrollbars:true,mouseWheel:true,fadeScrollbars:true});t=$("<div>").addClass("crownix-group-sign-wrapper crownix-group-sign").css("top",K.outerHeight()).appendTo(S);G=$("<div>").addClass("crownix-group-sign-area").appendTo(t);var Y=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(G);var af=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(G);var W=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(G);$("<label>",{text:j.get("required_sign")}).appendTo(af);$("<label>",{text:j.get("tts_select")}).appendTo(W);d();var al=$("<div>").appendTo(Y);$("<label>").attr("for","select_all_checkbox").text(j.get("select_all")).appendTo(al);var ai=$("<input>",{type:"checkbox",id:"select_all_checkbox"}).attr({disabled:"disabled",checked:O}).on("click",L).prependTo(al);var ac=m.formManager.getFormList();for(var ak in ac){if(ac[ak].isSubmitted){continue}var an=ac[ak].fieldList;for(var ae in an){var V=an[ae];if(V.type=="sg"&&V.groupSignId&&V.groupSignId==Q){if(V.editable!="1"||V.commonHidden==="1"){continue}var ad=V.elementId?V.elementId:(V.formId+V.id);if(!C){if(!V.elementId||!$("#"+ad).length){C=$("<canvas>").css({width:c(V).width,height:c(V).height})}else{C=$("#"+ad)}C.data("dpi",V.dpi)}var aj;if(V.required=="1"){aj=$("<div>").appendTo(af)}else{aj=$("<div>").appendTo(W)}var aa=false;if(r&&r.indexOf(V)!=-1){aa=true}else{if(V.signature||V.value){r.push(V);aa=true}}$("<label>").attr("for",ad+"_checkbox").text(V.title?V.title:V.id).appendTo(aj);$("<span>").text(V.page&&V.page+"page").data("page",V.page).appendTo(aj);$("<input>",{type:"checkbox",id:ad+"_checkbox"}).attr({disabled:"disabled",checked:aa}).data("field",V).on("click",H).prependTo(aj);N.push(V)}}}if(!C){D();m.dialog.show(j.get("not_group_signId").replace("%s",Q));return}if(af.children().length==1){af.remove()}if(W.children().length==1){W.remove()}var am=$("<div>").attr({id:"crownix-batch-sign-dom"}).css({width:S.width()*0.9,height:S.width()*$(C).height()/$(C).width()*0.9,margin:"auto","margin-top":10}).appendTo(G);var X=$("<div>").addClass("crownix-group-sign crownix-group-sign-buttons").appendTo(G);b=$("<button>").addClass("crownix-group-sign").text(j.get("refresh_button_text")).attr("disabled","disabled").appendTo(X);T=$("<button>").addClass("crownix-group-sign crownix-group-sign-apply").text(j.get("ok_button_text")).on("click",u).appendTo(X);new IScroll(".crownix-group-sign-wrapper",{scrollY:true,scrollX:false,scrollbars:true,interactiveScrollbars:true,mouseWheel:true});f();if(m.options.useNativeSign&&window.m2softFormFieldBridge){b.on("click",M);F=$("<canvas>").attr({width:am.width(),height:am.height()}).appendTo(am);s=A(C);F.on("touchend",function(){var ar=$(C);var aq=ar.width();var ao=ar.height();var ap=ar.data("dpi");window.m2softFormFieldBridge.toSign(aq,ao,parseInt(ap)||96)})}else{var Z=E.signOption||{};delete Z.onChangeValue;delete Z.onChangeCanvas;Z.showResetButton=false;Z.onChangeValue=function(ao){if(!ao.lineCheck||(E.required&&ao.lines.length==0)){T.attr("disabled",true)}else{T.attr("disabled",false)}};I=new m2soft.crownix.FormField.Sign("crownix-batch-sign-dom",Z);b.on("click",I.reset)}h=$("<div>").css({position:"absolute",width:S.width()*0.9,height:S.width()*$(C).height()/$(C).width()*0.9,background:"#c3c3c3",margin:"auto"}).appendTo(am);am[0].addEventListener("touchmove",function(ao){ao.stopPropagation()});if(l){ah.attr("checked",true);q()}if(r.length==N.length){O=true}else{O=false}ai[0].checked=O};var D=function(){B[Q].isSelected=O;B[Q].isAgreement=l;B[Q].checkedFieldList=r;P.remove();S.remove();N=[];r=[];C="";l=false;isSeleted=false;P=undefined;$(s).remove();window.removeEventListener("orientationchange",J);window.removeEventListener("resize",f)};var J=function(){if(z){return}S.remove();N=[];C="";z=setTimeout(function(){U();if(l){q();K.find("input").prop("checked",true)}else{w()}z=undefined},500)};var A=function(V){s=document.createElement("canvas");s.width=V.data("dpi")?V.width()*V.data("dpi")/96:V.width();s.height=V.data("dpi")?V.height()*V.data("dpi")/96:V.height();return s};var d=function(){if(e.browser.msie){return}var V=window.screen,Y=V.width,W=window.devicePixelRatio||1,X=false;if(W==2){Y=window.innerWidth;if(Y<700){X=true}}else{if(Y==768||(Y>480&&Y<1025)){X=true}}if(X){if(!S.hasClass("crownix-group-sign-media-width")){S.addClass("crownix-group-sign-media-width")}if(!t.hasClass("crownix-group-sign-media-height")){t.addClass("crownix-group-sign-media-height")}}else{S.removeClass("crownix-group-sign-media-width");t.removeClass("crownix-group-sign-media-height")}};this.show=function(W,X){if(m.license.isAllowedFeature("FormField")&&m.isFormEditMode){if(!P){Q=W;E=X||{};m.slide.closeSlide();var V=$("#"+m.containerDom.parent().attr("id"));P=$("<div>").css("z-index",10001).addClass("crownix-overlay");P.appendTo(V);if(B[Q]){r=B[Q].checkedFieldList;l=B[Q].isAgreement;O=B[Q].isSelected}else{B[Q]={}}r=r.filter(function(Y){return(Y.signature&&Y.signature.lines.length>0)||Y.value});U();window.addEventListener("orientationchange",J);window.addEventListener("resize",f)}}else{m.dialog.show(j.get("unsupported_feature_without_formedit_mode"))}};this.setValue=function(V){if(!P||!P.parent().length){m.dialog.show(j.get("no_group_sign_window"));return false}M();if(V!=null){var W=new Image();W.src=V;W.onload=function(){var Y=F[0].getContext("2d");Y.drawImage(W,0,0,F.width(),F.height());var X=s.getContext("2d");X.drawImage(W,0,0,s.width,s.height);if(E.required){T.attr("disabled",false)}}}}};m2soft.crownix.BatchSignWindow=m2soft.crownix.util.SingleTone(a)})();m2soft.ns("m2soft.crownix.FormDialog");(function(){m2soft.crownix.FormDialog=function(parentId){var R=m2soft.crownix.Resource,Util=m2soft.crownix.Util,ChannelManager=m2soft.crownix.ChannelManager;var loading="data:image/gif;base64,R0lGODlhEAAQAPIAAGdnZ////4qKitbW1v///8PDw7CwsKenpyH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQACgABACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkEAAoAAgAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkEAAoAAwAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkEAAoABAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQACgAFACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQACgAGACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAAKAAcALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==";var input,activedId,pageNumber,keepPagenumFlag,eventName;var pageTimeout,toolbarWidth,isToolbarHiding,isToolbarFloating,toolbarDirection;var frame,wrapper,messageDom,messageScroll,messageText;var scroll;var options;var DEFAULT_OPTIONS={type:"alert",title:"",time:5,cancel:R.get("cancel_button_text"),ok:R.get("ok_button_text"),input:"",autoFocus:true,enableClose:false,outsideClose:true,switchConfirmButton:false,position:"center",textAlign:"unset",cancelHandler:undefined,okHandler:undefined,closeHandler:undefined,returnFocus:true};var closeDialog=function(e){var overlay=$(".crownix-field-dialog-overlay");var data={isClose:false,frame:undefined,callback:undefined};if($(e.target).hasClass("crownix-confirm-background-disable")){return}data=$.extend(true,{},data,e.data);var frame=data.frame||$(".crownix-field-dialog-frame"),frameLength=data.frame?$(".crownix-field-dialog-frame").length:frame.length;if(data.isClose){$(frame[frameLength-1]).attr("enabled",true)}if(eval($(frame[frameLength-1]).attr("enabled"))!=true&&e.currentTarget==overlay[0]){return}if(frameLength>1){frameLength=data.frame?1:frameLength;$(frame[frameLength-1]).remove()}else{if(!Util.browser.msie||Util.browser.version>9){$(frame[frameLength-1]).addClass("crownix-field-dialog-close-anim")}overlay.remove();if(options.returnFocus){$("#"+activedId).focus()}$(document).off("keyup.dialog")}if(typeof data.callback=="function"){data.callback()}return false};var controlAnimation=function(e){if(e.originalEvent.animationName=="crownix_countingBar"){closeDialog(e)}if(e.originalEvent.animationName=="crownix-closeFrame"){$(e.data.overlay).remove()}};var createAlert=function(message){makeFrame();makeTitle(options.title);makeContents(message);makeButtons("alert");adjustDialog(frame,messageDom,messageText)};var createConfirm=function(message){makeFrame();makeTitle(options.title);makeContents(message);if(options.input){var inputDom=$("<div>").addClass("aInput");if(typeof options.input=="string"){input=$('<input type="'+options.input+'" class="aTextbox" min="1" t="aTextbox" />')}else{input=$('<input type="text" class="aTextbox" t="aTextbox" />')}inputDom.css({width:"100%","text-align":"center",padding:"15px 10px 0 0"}).appendTo(messageText);input.appendTo(inputDom)}var buttons=makeButtons("confirm");frame.keydown(function(e){if($(".crownix-field-dialog-overlay").is(":visible")){e.stopPropagation();if(e.keyCode==13){buttons.ok.click()}if(e.keyCode==27&&buttons.cancel){buttons.cancel.click()}}});adjustDialog(frame,messageDom,messageText);if(options.autoFocus&&$(".aTextbox").length>0){$(".aTextbox").focus()}};var createToast=function(message){makeFrame();if(options.outsideClose){frame.attr("enabled",true)}makeTitle(options.title);makeContents(message);var progressBar=$("<div>").addClass("crownix-field-dialog-progress").appendTo(frame);var countingBar=$("<div>").addClass("crownix-field-dialog-countingBar").css({"animation-duration":Number(options.time)+"s","-webkit-animation-duration":Number(options.time)+"s","-moz-animation-duration":Number(options.time)+"s","-o-animation-duration":Number(options.time)+"s"}).appendTo(progressBar);if(options.position=="top"){frame.addClass("crownix-toast-anim-top")}else{if(options.position=="bottom"){frame.addClass("crownix-toast-anim-bottom")}else{frame.addClass("crownix-field-dialog-create")}}if(Util.browser.msie&&Util.browser.version<=9){progressBar.css("display","none");if(Number(options.time)&&Number(options.time)!=""){var toastFunc=function(opt,frame){setTimeout(function(){closeDialog({data:{isClose:true,frame:frame}})},Number(opt.time)*1000)};toastFunc(options,frame)}}adjustDialog(frame,messageDom,messageText)};var makeFrame=function(){wrapper=$("<div>").css({display:"table-cell","vertical-align":"middle","text-align":"center"});frame=$("<div>").addClass("crownix-field-dialog-frame").addClass("crownix-field-dialog-create").addClass("crownix-field-dialog-toast").appendTo(wrapper)};var makeTitle=function(titleString){if(titleString){var title=$("<div>").addClass("crownix-field-dialog-title").appendTo(frame);$("<span>").text(titleString).appendTo(title)}};var makeContents=function(message){messageDom=$("<div>").addClass("crownix-field-dialog-message").appendTo(frame);messageScroll=$("<div>").addClass("crownix-field-dialog-message-scroll").appendTo(messageDom);messageText=$("<div>").html(message).addClass("crownix-field-dialog-message-text").css("text-align",(options.textAlign==="unset"?"left":options.textAlign)).appendTo(messageScroll);if(typeof options.body==="function"){options.body(messageText)}};var makeButtons=function(type){var buttonGroup=$("<div>").addClass("crownix-field-dialog-button-group").appendTo(frame);var okCallback=function(){if(typeof options.inputHandler=="function"){if(type==="alert"){options.inputHandler()}else{var inputText=options.input&&input.length>0?input.val():"";if(options.input){options.inputHandler(inputText)}else{options.inputHandler(true)}}}if(typeof options.okHandler=="function"){options.okHandler()}};var okButton=$("<button>").attr("id","crownix-dialog-button-ok").text(options.ok).addClass("button confirm crownix-confirm-background").css("width","100%").on(eventName,{callback:okCallback},closeDialog).appendTo(buttonGroup);var cancelButton;if(type==="confirm"){okButton.css("width","");var cancelCallback=function(){if(typeof options.inputHandler=="function"){options.inputHandler(false)}if(typeof options.cancelHandler=="function"){options.cancelHandler()}};cancelButton=$("<button>").attr("id","crownix-dialog-button-cancel").text(options.cancel).addClass("button cancel").on(eventName,{callback:cancelCallback},closeDialog);if(options.switchConfirmButton){cancelButton.appendTo(buttonGroup)}else{cancelButton.prependTo(buttonGroup)}}if(options.enableClose){$("<button>").addClass("crownix-field-dialog-close").on(eventName,{callback:options.closeHandler},closeDialog).appendTo(frame)}return{ok:okButton,cancel:cancelButton}};var adjustDialog=function(frame,messageDom,messageText){var overlay=$(".crownix-field-dialog-overlay");if(overlay&&overlay.length==0){overlay=$("<div>").addClass("crownix-field-dialog-overlay").css({display:"table"}).on(eventName,closeDialog);$(document).on("keyup.dialog",function(event){var key=event.keyCode||event.charCode;if(key==27){var frames=$(".crownix-field-dialog-frame"),lastFrame=$(frames[frames.length-1]);if(eval(lastFrame.attr("enabled"))!=true&&lastFrame.hasClass("crownix-field-dialog-toast")){return}event.data={frame:lastFrame,isClose:true};closeDialog(event)}})}wrapper.appendTo(overlay);$(parentId).parent().append(overlay);resizeMessageDomHeight();frame.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",{frame:frame,isClose:true},controlAnimation);adjustDialogVerticalPosition()};var resizeMessageDomHeight=function(){messageDom.css("height",Math.min($(window).height()*0.3,messageText.outerHeight()))};var adjustDialogVerticalPosition=function(){if(options.position=="top"){wrapper.css({"vertical-align":"top","padding-top":"3%"})}else{if(options.position=="bottom"){wrapper.css({"vertical-align":"bottom","padding-bottom":"3%"})}}if(Util.browser.msie&&Util.browser.version<9){$(".crownix-field-dialog-message-scroll").css("overflow-y","auto")}else{if(!scroll&&$(window).height()*0.3<messageText.outerHeight()){scroll=new IScroll(".crownix-field-dialog-message-scroll",{zoom:false,scrollX:false,scrollY:true,scrollbars:"custom",interactiveScrollbars:true,freeScroll:true,keepCenter:true,mouseWheel:true,click:true});scroll.refresh();scroll.scrollTo(scroll.x,scroll.maxScrollY,0)}else{if(scroll){scroll.refresh();scroll.scrollTo(scroll.x,scroll.maxScrollY,0)}}}};var updateToolbarState=function(data){toolbarWidth=data.isHide?0:(parseFloat(data.theme.toolbarWidth)*data.scale);isToolbarFloating=data.isFloating;toolbarDirection=data.direction;isToolbarHiding=data.isHide;if(isToolbarFloating){ChannelManager.getChannel("dialog:updateDialog").publish()}};var resize=function(){resizeMessageDomHeight();adjustDialogVerticalPosition()};if(!pageNumber){pageNumber=$('<div class="crownix-dialog-message-pagenum"><img src="'+loading+'" /><span></span></div>')}$('<div class="crownix-dialog-message">').append(pageNumber).appendTo(parentId);if(m2soft.crownix.Util.browser.msie&&m2soft.crownix.Util.browser.version<9){pageNumber.parent().css({top:"60px"})}ChannelManager.getChannel("toolbar:changeToolbarState").subscribe(updateToolbarState);this.show=function(message,options_){eventName=Util.browser.mobile?"touchstart":"click";if(message=="RESOURCE_NOT_FOUND"){if(options_&&options_.inputHandler){options_.input?options_.inputHandler(false):options_.inputHandler(true)}return}options=$.extend(true,{},DEFAULT_OPTIONS,options_);if(document&&document.activeElement){activedId=document.activeElement.id;$("#"+activedId).blur()}if(options&&options.type&&(options.type.toLowerCase()=="confirm"||options.type.toLowerCase()=="confirmation")){createConfirm(message)}else{if(options&&options.type&&options.type.toLowerCase()=="toast"){createToast(message)}else{createAlert(message)}}};this.close=function(){closeDialog({data:{isClose:true}})};this.message=function(string,time,isOverlay,position){var default_top_margin=15;var default_right_margin=25;var msg=$('<div class="crownix-dialog-message">').css("right","15px").appendTo(parentId);var msgText=$('<div class="crownix-dialog-message-text"><span>'+string+"</span>").appendTo(msg);var Util=m2soft.crownix.Util;if(!(Util.browser.msie&&Util.browser.version==7)){msgText.prepend('<img src="'+loading+'" />')}if(position!==undefined){var topStyle={top:"15px"};var leftStyle={left:0};var bottomStyle={top:"calc(100% + "+(-$(".crownix-dialog-message-text").outerHeight()-15)+"px)"};var horizontalCenterStyle={left:"calc(50% + "+(-$(".crownix-dialog-message-text").outerWidth()/2-parseInt($(".crownix-dialog-message-text").css("margin-left"),10))+"px)"};var verticalCentnerStyle={top:"calc(50% + "+(-$(".crownix-dialog-message-text").outerHeight()/2)+"px)"};switch(position.toLowerCase()){case"top-left":case"left-top":msg.css(topStyle).css(leftStyle);break;case"top":msg.css(topStyle).css(horizontalCenterStyle);break;case"top-right":case"right-top":msg.css(topStyle);break;case"left":msg.css(verticalCentnerStyle).css(leftStyle);break;case"center":msg.css(verticalCentnerStyle).css(horizontalCenterStyle);break;case"right":msg.css(verticalCentnerStyle);break;case"bottom-left":case"left-bottom":msg.css(bottomStyle).css(leftStyle);break;case"bottom":msg.css(bottomStyle).css(horizontalCenterStyle);break;case"bottom-right":case"right-bottom":msg.css(bottomStyle);break}}if(isOverlay===true){msg.wrap($('<div class="crownix-overlay-absolute">'));msg=$(".crownix-overlay-absolute");default_top_margin=0}if(isToolbarFloating){var pos=isToolbarHiding?0:toolbarWidth;if(toolbarDirection==="top"){msg.css({top:pos+default_top_margin+"px"})}else{if(toolbarDirection==="right"){msg.css({right:pos+default_right_margin+"px"})}}}if(typeof time==="number"){setTimeout(function(){msg.fadeOut(500,function(){msg.remove()})},time)}return msg};this.pagenum=function(currentPage,totalPage,loading){pageNumber.css("display","inline-block").find("span").text(currentPage+" / "+totalPage);if(loading===true){pageNumber.find("img").css("display","inline-block")}else{if(loading===false){pageNumber.find("img").css("display","none")}}ChannelManager.getChannel("dialog:updateDialog").subscribe(function(){var default_top_margin=15;var default_left_margin=15;pageNumber.parent().css({top:default_top_margin+"px"});if(isToolbarFloating){if(toolbarDirection=="top"){if(!isToolbarHiding){pageNumber.parent().css({top:toolbarWidth+default_top_margin+"px"})}else{pageNumber.parent().css({top:default_top_margin+"px"})}}else{if(toolbarDirection=="left"){if(!isToolbarHiding){pageNumber.parent().css({left:toolbarWidth+default_left_margin+"px"})}else{pageNumber.parent().css({left:""})}}}}else{if(toolbarDirection=="top"){pageNumber.parent().css({top:toolbarWidth+default_top_margin+"px"})}else{if(toolbarDirection=="left"){pageNumber.parent().css({left:toolbarWidth+default_left_margin+"px"})}}}});if(keepPagenumFlag!=2){clearTimeout(pageTimeout);pageTimeout=setTimeout(function(){pageNumber.css("display","none")},3000)}};this.keepPageNum=function(flag){keepPagenumFlag=flag};this.enableOkButton=function(){$("#crownix-dialog-button-ok").removeClass("crownix-confirm-background-disable").addClass("crownix-confirm-background")};this.disableOkButton=function(){$("#crownix-dialog-button-ok").addClass("crownix-confirm-background-disable").removeClass("crownix-confirm-background")};this.resize=function(){resize()}}})();m2soft.ns("m2soft.crownix.Field");m2soft.crownix.Field=(function(){var R=m2soft.crownix.Resource;var Util=m2soft.crownix.Util;var ChannelManager=m2soft.crownix.ChannelManager;var FormDialog=m2soft.crownix.FormDialog;var Constructor=function(element,page){this.type=element.attr("ty")||"";this.formId=element.attr("fi");this.id=element.attr("id");this.value="";this.page=page||0;this.required=element.attr("rq")||"1";this.editable=element.attr("ed")||"1";this.index=0;this.ignore=false;this.drilldownId=null;this.layerId=null;this.reset_=function(){this.value=this.originalValue;this.editable=this.originalEditable};this.reset=this.reset_;this.excludeOnFormData=element.attr("ee")||"0";this.excludeSubmit=element.attr("eb")||"0";this.commonHidden=element.attr("ch")||"0";this.outputAuthority=element.attr("dps")||"All"};Constructor.clone=function(obj){if(obj.tagName){return}var clonedObj=new Constructor({attr:function(){}});for(var id in obj){var attr=obj[id];if(attr instanceof Constructor){clonedObj[id]=Constructor.clone(obj[id])}else{if(attr instanceof Array){clonedObj[id]=[];for(var i in attr){clonedObj[id].push(attr[i])}}else{if(attr instanceof Function||(window.File&&attr instanceof window.File)){clonedObj[id]=attr}else{if(attr instanceof Object){clonedObj[id]={};if(id==="buttonList"){for(var i in attr){clonedObj[id][i]=Constructor.clone(attr[i])}}else{clonedObj[id]=attr}if(id==="eventList"){clonedObj[id]=attr}}else{clonedObj[id]=attr}}}}}return clonedObj};Constructor.prototype={toData:function(){return{id:this.id,value:this.value,type:this.type,page:this.page}},validate:function(value){if(!value){value=this.value}if(this.required=="1"&&!value&&this.commonHidden==="0"){return false}else{return true}},getEventHandler:function(name){return(this.eventHandler&&this.eventHandler[name])||null},setEventHandler:function(name,handler){if(!this.eventHandler){this.eventHandler={}}this.eventHandler[name]=handler},getEventList:function(){var ret=[];if(this.eventList){for(var eventName in this.eventList){ret.push(eventName)}}return ret},getEvent:function(name){return(this.eventList&&this.eventList[name])||null},setEvent:function(element){if(!this.eventList){this.eventList={}}var evc=element.attr("evc");if(evc){this.eventList.change=evc}var click=element.attr("click");if(click){this.eventList.click=click}var evi=element.attr("evi");if(evi){this.eventList.evinput=evi}var efi=element.attr("efi");if(efi){this.eventList.evfcin=efi}var efo=element.attr("efo");if(efo){this.eventList.evfcout=efo}},setElementId:function(elementId){this.elementId=elementId},setIndex:function(index){if(index==null){index=0}this.index=parseInt(index)},getValue:function(){return null},setValue:function(value){},getLabel:function(){return null},setLabel:function(value){},getEditable:function(){return null},setEditable:function(value){},getRequired:function(){return this.required==="1"},setRequired:function(value,reqColor){if(!!value){this.required="1";this.showRequiredMark(reqColor)}else{this.required="0";this.hideRequiredMark()}this.determineEffect()},getSelected:function(){return null},setSelected:function(value){},getIgnore:function(){return this.ignore},setIgnore:function(ignore){this.ignore=ignore},trigger:function(eventName,formWrapper,viewer,layerManagerWrapper,dialog){var encodedScript=this.getEvent(eventName);if(!encodedScript){return}var eventHandler=this.getEventHandler(eventName);if(!eventHandler){eventHandler=this.bindEvent(encodedScript,eventName)}eventHandler(formWrapper,this.index,viewer,layerManagerWrapper,dialog);ChannelManager.getChannel("field:trigger").publish({field:this})},bindEvent:function(encodedScript,eventName){var eventHandler=this.decodeFormFieldScriptFunction(encodedScript);this.setEventHandler(eventName,eventHandler);return eventHandler},decodeFormFieldScriptFunction:function(encodedScript){var planeScript=Util.base64.utf8Decode(encodedScript);eval('var func = function(form, index, viewer, layer, dialog) { "use strict"; '+planeScript+"}");return func},showRequiredMark:function(color,wrapper){if(color&&this.required=="1"){var reqDom=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper").children(".requiredFieldHinting");if(reqDom.length!=0){reqDom.show()}else{if(!wrapper){wrapper=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper")}reqDom=$(document.createElement("div")).css({"border-color":color+" transparent"}).attr("id","crownix_form_field_hintingbox").addClass("requiredFieldHinting").appendTo(wrapper)}}return reqDom},hideRequiredMark:function(){var reqDom=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper").children(".requiredFieldHinting");if(reqDom.length!=0){reqDom.hide()}return reqDom},determineEffect:function(){var fieldEffector=m2soft.crownix.FieldEffector.getInstance();fieldEffector.determineEffect(this)},showEffect:function(){var fieldEffector=m2soft.crownix.FieldEffector.getInstance();fieldEffector.show(this)},hideEffect:function(){var fieldEffector=m2soft.crownix.FieldEffector.getInstance();fieldEffector.hide(this)},show:function(){if(this.element.attr("hd")=="1"){return}var wrapper=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");if(wrapper){if(wrapper.parents("#crownix-cxgrid-td")[0]){return}wrapper.show()}var placeholderBox=$('[formId="'+this.formId+'"][for="'+this.elementId+'"]');if(placeholderBox[0]){placeholderBox.show()}this.commonHidden="0";var fieldOrder=m2soft.crownix.FieldOrder.getInstance();if(!fieldOrder.exist(this.elementId)){fieldOrder.add(this)}var guideOrder=m2soft.crownix.GuideManager.getInstance();if(!guideOrder.exist(this.elementId)){guideOrder.add(this)}},hide:function(){var wrapper=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");if(wrapper){if(wrapper.parents("#crownix-cxgrid-td")[0]){return}wrapper.hide()}var placeholderBox=$('[formId="'+this.formId+'"][for="'+this.elementId+'"]');if(placeholderBox[0]){placeholderBox.hide()}this.commonHidden="1";var fieldOrder=m2soft.crownix.FieldOrder.getInstance(),guideOrder=m2soft.crownix.GuideManager.getInstance();if(this.type=="rb"){fieldOrder.removeField([{formId:this.formId,fieldId:this.id,groupId:this.gid}]);guideOrder.removeField([{formId:this.formId,fieldId:this.id,groupId:this.gid}])}else{fieldOrder.removeField([{formId:this.formId,fieldId:this.id}]);guideOrder.removeField([{formId:this.formId,fieldId:this.id}])}},getOriginalCommonHidden:function(){return this.element.attr("ch")||"0"}};return Constructor})();m2soft.ns("m2soft.crownix.Field.CheckBox");m2soft.crownix.Field.CheckBox=(function(){var a=m2soft.crownix.Field;var b=function(c,d){a.call(this,c,d);this.originalValue=this.value=c.attr("se")||"0";this.originalEditable=this.editable;this.setEvent(c);this.originalLabel=this.label=c.attr("lb");this.title=c.attr("tt")||this.id;this.size=c.attr("sz")||16;this.tickScale=c.attr("ts")||"100";this.removeBox=c.attr("rb")||"0";this.element=c};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.reset=function(){this.reset_();this.label=this.originalLabel};b.prototype.validate=function(c){if(!c){c=this.value}if(this.required=="1"&&c=="0"&&this.commonHidden==="0"){return false}else{return true}};b.prototype.getLabel=function(){return this.label};b.prototype.setLabel=function(c){this.label=c;$("[for="+this.elementId+"] [class=crownix_form_field_label]").text(c)};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(d){var c=$("[id="+this.elementId+"]");this.editable=(!!d)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!c.hasClass("crownix-field-lock")&&!c.hasClass("crownix-auth-lock"))){c.attr("disabled",this.editable==0)}if(this.editable==="0"){if(this.removeBox!=="1"){c.siblings(".crownix-css-checkborder, .crownix-css-selector").addClass("crownix-formfield-disable")}}else{c.siblings(".crownix-css-checkborder, .crownix-css-selector").removeClass("crownix-formfield-disable")}this.determineEffect()};b.prototype.getSelected=function(){return this.value==="1"};b.prototype.setSelected=function(d){var c=$("[id="+this.elementId+"]");if(!!d){this.value="1";c.val("1");c.prop("checked",true);c.siblings(".crownix-css-checkmark").css("visibility","visible")}else{this.value="0";c.val("0");c.prop("checked",false);c.siblings(".crownix-css-checkmark").css("visibility","hidden")}this.determineEffect()};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);this.element.attr("idx",d);var e=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("label[for="+this.elementId+"]").attr({"for":e});$("#"+this.elementId).attr({id:e,name:c});this.setElementId(e);this.index=d}};return b})();m2soft.ns("m2soft.crownix.Field.ComboBox");m2soft.crownix.Field.ComboBox=(function(){var a=m2soft.crownix.Field;var b=function(f,h){a.call(this,f,h);this.originalEditable=this.editable;this.selectedIndex=-1;this.setEvent(f);this.displayValues=[];this.actualValues=[];this.isChangeList=false;var e=f.attr("sv");var g=f.children("item");for(var c=0;c<g.length;c++){var d=g[c].getAttribute("sd");var j=g[c].getAttribute("ad");this.displayValues.push(d);this.actualValues.push(j);if(e===d){this.originalSelectedIndex=this.selectedIndex=c;this.originalValue=this.value=j}}this.element=f;this.title=f.attr("tt")||this.id};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.reset=function(){this.reset_();this.selectedIndex=this.originalSelectedIndex};b.prototype.validate=function(c){if(!c){c=this.value}if(this.required=="1"&&this.commonHidden==="0"){return !!c}else{return true}};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(d){var e=$("[id="+this.elementId+"]");var c=this.actualValues.indexOf(d);if(c!=-1||d===""){e.children("option").prop("selected",false);e.children('[value="'+d+'"]').prop("selected",true);this.value=d;this.selectedIndex=c}this.determineEffect()};b.prototype.setValueByIndex=function(c,d,g){var f=$("#"+this.elementId);var e=this.actualValues[c];if(c==-1){e=""}f.children("option").prop("selected",false);f.children('[value="'+e+'"]').prop("selected",true);this.value=e;this.selectedIndex=c;this.determineEffect()};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(c){var d=$("#"+this.elementId);this.editable=(!!c)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!d.hasClass("crownix-field-lock")&&!d.hasClass("crownix-auth-lock"))){d.attr("disabled",this.editable==="0")}this.determineEffect()};b.prototype.getDisplayValue=function(){return this.displayValues[this.selectedIndex]};b.prototype.setComboList=function(f,c){this.displayValues=f;this.actualValues=c;this.selectedIndex=-1;this.value="";var e=$("#"+this.elementId);e.find("option").remove();e.append($("<option>"));for(var d=0;d<f.length;d++){e.append($("<option>",{value:c[d],text:f[d]}))}this.isChangeList=true};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);this.element.attr("idx",d);var e=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("#"+this.elementId).attr({id:e,name:c});this.setElementId(e);this.index=d}};return b})();m2soft.ns("m2soft.crownix.Field.RadioButton");m2soft.crownix.Field.RadioButton=(function(){var a=m2soft.crownix.Field;var b=m2soft.crownix.Resource;var c=function(d,e){a.call(this,d,e);this.gid=d.attr("gi");this.originalValue=this.value=d.attr("vl");this.selected=(d.attr("se")=="1")?true:false;this.originalEditable=this.editable;this.invalid=false;this.originalLabel=this.label=d.attr("lb");this.setEvent(d);this.size=d.attr("sz")||16;this.element=d;this.tickScale=d.attr("ts")||"100";this.removeBox=d.attr("rb")||"0";this.shape=d.attr("sp")||"rb"};c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.reset=function(){this.reset_();this.label=this.originalLabel};c.prototype.getValue=function(){return this.value};c.prototype.setValue=function(e,d){if(d.selectedId===this.id){d.value=e}this.value=e;$("[id="+this.elementId+"]").attr("value",e)};c.prototype.getLabel=function(){return this.label};c.prototype.setLabel=function(d){this.label=d;$("[for="+this.elementId+"] [class=crownix_form_field_label]").text(d)};c.prototype.getEditable=function(){return this.editable==="1"};c.prototype.setEditable=function(e){var d=$("[id="+this.elementId+"]");this.editable=(!!e)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!d.hasClass("crownix-field-lock")&&!d.hasClass("crownix-auth-lock"))){d.attr("disabled",this.editable==0)}if(this.editable==="0"){d.siblings(".crownix-radio-outer, .crownix-css-selector").addClass("crownix-formfield-disable")}else{d.siblings(".crownix-radio-outer, .crownix-css-selector").removeClass("crownix-formfield-disable")}this.determineEffect()};c.prototype.getSelected=function(){return this.selected};c.prototype.setSelected=function(f,e){var d=$("[id="+this.elementId+"]");if(!!f){f="1";e.select(this.id)}else{f="0";e.unselect(this.id)}d.prop("checked",f==="1");e.determineEffect()};c.prototype.changeRepeatedIndex=function(e){if(this.id.indexOf("-")>=0){var d=this.id.substring(0,this.id.indexOf("-")+1)+e;var f="crownix_form_field_"+this.formId+"_"+this.gid+"_"+d;$("label[for="+this.elementId+"]").attr({"for":f}).removeClass().addClass(this.gid);$("#"+this.elementId).attr({id:f,name:this.formId+"_"+this.gid,buttonId:d});this.setElementId(f);this.index=e;this.id=d;this.element.attr("id",d);this.element.attr("idx",e)}};return c})();m2soft.ns("m2soft.crownix.Field.RadioGroup");m2soft.crownix.Field.RadioGroup=(function(){var a=m2soft.crownix.Field;var b=m2soft.crownix.Resource;var c=function(d,e){a.call(this,d,e);this.type="rg";this.id=d.attr("gi");this.selectedId="";this.originalRequired=this.required;this.originalEditable=this.editable;this.invalid=false;this.buttonList={};this.title=d.attr("tt")||this.id};c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.reset=function(){this.reset_();this.selectedId=this.originalSelectedId};c.prototype.initRadiogroup=function(){this.required=this.originalRequired;this.editable=this.originalEditable;this.selectedId=this.originalSelectedId};c.prototype.putButton=function(e,f,g){var d=this.buttonList;if(d[e.id]&&!g){if(f){return}else{throw new Error(b.get("form_duplicated_id_error")+"("+this.id+"."+e.id+")")}}if(e.selected){this.originalSelectedId=this.selectedId=e.id;this.originalValue=this.value=e.value}d[e.id]=e};c.prototype.isSelected=function(d){return this.selectedId==d};c.prototype.validate=function(){if(this.required=="1"&&this.selectedId===""&&this.commonHidden==="0"){return false}else{return true}};c.prototype.select=function(g){var e=this.buttonList;for(var f in e){e[f].selected=false;$("[id="+e[f].elementId+"]").prop("checked",false).siblings(".crownix-css-checkmark").css("visibility","hidden")}var d=e[g];if(d){d.selected=true;this.selectedId=d.id;this.value=d.value;$("[id="+d.elementId+"]").siblings(".crownix-css-checkmark").css("visibility","visible").prop("checked",true)}};c.prototype.unselect=function(e){var d=this.buttonList;var f=d[e];if(f){f.selected=false;if(this.selectedId===f.id){this.selectedId="";this.value="";$("[id="+f.elementId+"]").siblings(".crownix-css-checkmark").css("visibility","hidden").prop("checked",false)}}};c.prototype.getValue=function(){return this.selectedId?this.buttonList[this.selectedId].getValue():""};c.prototype.setValue=function(e){var d;for(buttonId in this.buttonList){if(this.buttonList[buttonId].value===e){d=this.buttonList[buttonId];break}}if(d){this.value=e;this.selectedId=d.id;d.setSelected(true,this)}};c.prototype.getEditable=function(){return this.editable==="1"};c.prototype.setEditable=function(f){this.editable=(!!f)?"1":"0";for(var e in this.buttonList){var d=this.buttonList[e];d.setEditable(this.editable==="1")}};c.prototype.getRequired=function(){return this.required==="1"};c.prototype.setRequired=function(e,d){this.required=(!!e)?"1":"0";for(var f in this.buttonList){this.buttonList[f].setRequired(e,d)}};c.prototype.changeFieldId=function(e,d){this.buttonList[d]=this.buttonList[e];delete this.buttonList[e]};c.prototype.changeRepeatedIndex=function(f){if(this.id.indexOf("-")>=0){var d=this.id.substring(0,this.id.indexOf("-")+1)+f;var e=this.buttonList[this.selectedId];$(".crownix-radio-inner-"+this.formId+"-"+this.id).removeClass("crownix-radio-inner-"+this.formId+"-"+this.id).addClass("crownix-radio-inner-"+this.formId+"-"+d);for(var g in this.buttonList){this.buttonList[g].gid=d;this.buttonList[g].changeRepeatedIndex(f);this.changeFieldId(g,this.buttonList[g].id)}if(e){this.selectedId=e.id}this.id=d;this.index=f;this.title=d}};c.prototype.show=function(){this.commonHidden="0";for(var d in this.buttonList){this.buttonList[d].show()}};c.prototype.hide=function(){this.commonHidden="1";for(var d in this.buttonList){this.buttonList[d].hide()}};c.prototype.getOriginalCommonHidden=function(){for(var d in this.buttonList){return this.buttonList[d].element.attr("ch")||"0"}};return c})();m2soft.ns("m2soft.crownix.Field.Signature");m2soft.crownix.Field.Signature=(function(){var a=m2soft.crownix.Field;var c=m2soft.crownix.Util;var b=function(f,g,h,e,d){a.call(this,f,g);this.originalValue=this.value=f.attr("dt")||"";this.originalEditable=this.editable;this.setEvent(f);this.placeHolder=null;this.element=f;this.signType=f.attr("st")||"0";this.title=f.attr("tt")||this.id;this.withSignId=f.attr("gwid");this.groupSignId=f.attr("gi");this.dpi=f.attr("dpi");this.options=d;this.fontList=h;this.textAttr=e;this.signature=null;this.fontStyle={}};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.toData=function(){var d;if(this.value){d=this.value.split(",")[1]||""}return{id:this.id,value:d,type:this.type,page:this.page}};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(k){var e=this.signType=="1"?$("#"+this.elementId+"-canvas")[0]:$("#"+this.elementId)[0];var m,f,h;var d=(m2soft.crownix.Painter.adjustCoord(this.element.attr("ri"))-1)-(m2soft.crownix.Painter.adjustCoord(this.element.attr("le"))+2);var l=(m2soft.crownix.Painter.adjustCoord(this.element.attr("bo"))-1)-(m2soft.crownix.Painter.adjustCoord(this.element.attr("to"))+2);if(!k){if(e){m=e.getContext("2d");m.clearRect(0,0,e.width,e.height);f=new m2soft.crownix.FormField.Signature({},{width:d,height:l,guideText:this.element.attr("ph"),guideTextStyle:this.fontStyle});f.drawSignature(e,{guideTextImageData:true})}this.value=k;this.signature=null}else{if(typeof k=="object"){if(!e){e=$('<canvas class="temp">').attr({width:d,height:l}).appendTo("body");e=e[0]}var f=new m2soft.crownix.FormField.Signature(k.signature,{width:d,height:l,maxLineWidth:8});if(k.drawType!=undefined){h=k.drawType}else{if(k.signature.ratioType!=undefined){h=k.signature.ratioType}else{if(this.withSignId){h=false}else{h=true}}}f.drawSignature(e,{ratioType:h});signValue=f.toData(d,l,{ratioType:h,dpi:this.dpi||96});this.signature=f;this.value=signValue;if($(e).hasClass("temp")){$(e).remove()}}else{if(typeof k=="string"){if(c.base64.isImage(k)){var g=new Image();var j=this;g.onload=function(){if(e){m=e.getContext("2d");m.clearRect(0,0,e.width,e.height);setTimeout(function(){var n=function(){var r=g.width/g.height;var t=e.width/e.height;if(t>r){var s=e.height*r;m.drawImage(g,(e.width-s)/2,0,e.height*r,e.height)}else{var q=e.width/r;m.drawImage(g,0,(e.height-q)/2,e.width,e.width/r)}};if(g.width!=e.width||g.height!=e.height){n()}else{m.drawImage(g,0,0,e.width,e.height)}if(j.signType=="1"&&j.placeHolder){j.placeHolder.hide()}},0)}};g.src=j.value=k;j.signature=null}else{if(!e){e=$('<canvas class="temp">').attr({width:d,height:l}).appendTo("body");e=e[0]}m2soft.crownix.Canvas.Util.measureAndDrawText(this.element,e,k,this.fontList,this.textAttr,this.options);this.value=e.toDataURL("image/png");this.signature=null;if($(e).hasClass("temp")){$(e).remove()}}}}}this.determineEffect()};b.prototype.getSignature=function(){return{signature:this.signature,value:this.value}};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(e){var d=$("[id="+this.elementId+"-canvas]")||$("[id="+this.elementId+"]");this.editable=(!!e)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!d.hasClass("crownix-field-lock")&&!d.hasClass("crownix-auth-lock"))){d.attr("disabled",this.editable==="0")}this.determineEffect()};b.prototype.changeRepeatedIndex=function(e){if(this.id.indexOf("-")>=0){var d=this.id.substring(0,this.id.indexOf("-")+1)+e;this.id=d;this.element.attr("id",d);this.element.attr("idx",e);var f=this.elementId.substring(0,this.elementId.indexOf("-")+1)+e;$("#"+this.elementId).attr({id:f,name:d});this.setElementId(f);this.index=e}};b.prototype.validate=function(d){if(!d){d=(this.value||this.signature)}return(this.required=="0"||this.commonHidden==="1"||!!d)};return b})();m2soft.ns("m2soft.crownix.Field.SignatureGroup");m2soft.crownix.Field.SignatureGroup=(function(){var c;var a,b={};var d=function(g,f,e){this.id=g;a=f;c=e};d.prototype={setValue:function(h,g){if(!g){for(var e=0,f=a.length;e<f;e++){if(e===0){a[e].setValue(h)}else{if(typeof h=="object"){a[e].setValue(a[0].getSignature())}else{a[e].setValue(a[0].value)}}}}b[this.id]=h},getValue:function(){for(var e in b){if(this.id==e&&b[e]){return b[e]}}},getGroupInfo:function(){return{dpi:a[0].dpi,width:m2soft.crownix.Painter.adjustCoord(a[0].element.attr("ri"))-m2soft.crownix.Painter.adjustCoord(a[0].element.attr("le")),height:m2soft.crownix.Painter.adjustCoord(a[0].element.attr("bo"))-m2soft.crownix.Painter.adjustCoord(a[0].element.attr("to")),lineCount:parseInt(a[0].element.attr("sn"))||0}},getsignList:function(){return a}};return d})();m2soft.ns("m2soft.crownix.Field.FingerPrintSignature");m2soft.crownix.Field.FingerPrintSignature=(function(){var b=m2soft.crownix.Field.Signature;var c=m2soft.crownix.resource.Icon;var e;var d;var a=function(j,g,k,h){this.bioInfo=j;this.template=g;this.signedTemplate=k;this.templateHashCode=h||null};var f=function(g,h,k){e=k;d=e.options.fingerScan;b.call(this,g,h);if(this.signType==="1"){this.ratio=g.attr("ra")||0}this.bioSignatureForDocument="";this.signatureSaveRequest={documentId:"",deviceId:"",documentHashCode:null,signedDocumentHashCode:null,signatures:{}};if(d){this.highQuality=d.highQuality===undefined?true:d.highQuality;if(d.documentId){this.documentId=d.documentId}else{var j=e.isAppendReport?e.mrdPath[0]:e.mrdPath;if(j.indexOf("/")>-1){j=j.substring(j.lastIndexOf("/")+1)}this.documentId=j.substring(0,j.lastIndexOf("."))}this.serverUrl=d.serverUrl;this.image=d.image||c.FINGERPRINT_AUTHENTICATION_STAMP}this.setBioSignatureForDocument=function(m){if(typeof m!=="object"){return}var l=this.signatureSaveRequest;this.bioSignatureForDocument=m.bioSignatureForDocument;l.documentId=m.documentId;l.deviceId=m.deviceId;l.documentHashCode=m.documentHashCode||null;l.signedDocumentHashCode=m.signedDocumentHashCode||null;l.signatures[this.id]=new a(m.bioInfo,m.template,m.signedTemplate,m.templateHashCode);this.setValue(this.image);e.formManager.trigger("change",this.formId,this.id)};this.validate=function(m){if(!m){var l=this.signatureSaveRequest;m=this.value&&this.bioSignatureForDocument&&l.documentId&&l.deviceId&&l.signatures[this.id]}if(this.required=="1"&&this.commonHidden==="0"){return !!m}else{return true}};this.buildParam=function(l){l.serverUrl=this.serverUrl;l.documentId=this.documentId;l.signatureSaveRequest=JSON.stringify(this.signatureSaveRequest)};if(window.fingerPrintInterface&&d){window.fingerPrintInterface.init(m2soft.crownix.Resource.language,this.documentId,this.highQuality)}};f.prototype=Object.create(b.prototype);f.prototype.constructor=f;return f})();m2soft.ns("m2soft.crownix.Field.TextArea");m2soft.crownix.Field.TextArea=(function(){var a=m2soft.crownix.Field;var b=function(c,d){a.call(this,c,d);this.originalValue=this.value=c.text();this.originalEditable=this.editable;this.regExpression=c.attr("re");this.validityMessage=c.attr("rem");this.referenceId=c.attr("rfi");this.limitiedLineLength=c.attr("ll");this.setEvent(c);this.disableColor=(c.attr("nc")?(c.attr("nc")!=="0"):true);this.element=c;this.valid=true;this.title=c.attr("tt")||this.id;this.style={}};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.validateRegEx=function(e){if(!e){e=this.value}if(this.regExpression){var d=new RegExp(this.regExpression);var c=$("#crownix_form_field_"+this.formId+"_"+this.id+"_warning");if(e==""||d.test(e)||this.commonHidden==="1"){c.hide();this.valid=true}else{c.show();this.valid=false}}};b.prototype.spreadToShareField=function(d,c,f){if(this.referenceId&&c[this.referenceId].commonHidden!=="1"){c[this.referenceId].spreadToShareField(d,c,f);return}if(this.id!=d.id){this.value=d.value;this.validateRegEx();$("#crownix_form_field_"+ +f+"_"+this.id).val(d.value)}for(var e in c){if(c[e].referenceId==this.id){if(c[e].id==d.id||c[e].commonHidden==="1"){continue}c[e].setValue(d.value);c[e].validateRegEx();c[e].determineEffect()}}};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(c){this.value=c;$("[id="+this.elementId+"]").val(c);this.validateRegEx();this.determineEffect()};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(c){var d=$("[id="+this.elementId+"]");this.editable=(!!c)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!d.hasClass("crownix-field-lock")&&!d.hasClass("crownix-auth-lock"))){d.attr({readonly:this.editable==="0"})}this.determineEffect()};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var e=this.id;var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);var f=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("#"+this.elementId).attr({id:f,name:c});$("#crownix_form_field_"+this.formId+"_"+e+"_warning").attr("id","crownix_form_field_"+this.formId+"_"+c+"_warning");this.setElementId(f);this.index=d}};return b})();m2soft.ns("m2soft.crownix.Field.TextField");m2soft.crownix.Field.TextField=(function(){var b=m2soft.crownix.Field;var a=m2soft.crownix.util.DateUtil;var d=m2soft.crownix.util.NumberUtil;var c=function(e,f){b.call(this,e,f);this.value=this.originalValue=this.value=e.text();this.originalEditable=this.editable;this.regExpression=e.attr("re");this.validityMessage=e.attr("rem");this.referenceId=e.attr("rfi");this.password=e.attr("pw");this.inputType=e.attr("it")||"text";this.realDateFormat=e.attr("df")||"yyyy-MM-dd";this.displayDateFormat=e.attr("dfv")||"yyyy-MM-dd";this.disableColor=(e.attr("nc")?(e.attr("nc")!=="0"):true);this.numberFormat=e.attr("ft");this.checkZero=e.attr("cz");this.checkNoZero=e.attr("cnz");this.japanYear=parseInt(e.attr("jy"))+(e.attr("gn")==="1"?2:0);this.setEvent(e);this.element=e;this.valid=true;this.title=e.attr("tt")||this.id;this.style={}};c.prototype=Object.create(b.prototype);c.prototype.constructor=c;c.prototype.validateRegEx=function(g){if(!g){g=this.value}if(this.regExpression){var f=new RegExp(this.regExpression);var e=$("#crownix_form_field_"+this.formId+"_"+this.id+"_warning");if(g==""||f.test(g)||this.commonHidden==="1"){e.hide();this.valid=true}else{e.show();this.valid=false}}};c.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}};c.prototype.spreadToShareField=function(f,e,h){if(this.referenceId&&e[this.referenceId].commonHidden!=="1"){e[this.referenceId].spreadToShareField(f,e,h);return}if(this.id!=f.id){this.value=f.value;this.validateRegEx();$("#crownix_form_field_"+h+"_"+this.id).val(f.value)}for(var g in e){if(e[g].referenceId==this.id){if(e[g].id==f.id||e[g].commonHidden==="1"){continue}e[g].setValue(f.value);e[g].validateRegEx();e[g].determineEffect()}}};c.prototype.getValue=function(){return this.value};c.prototype.setValue=function(f){this.value=f;var e;if(this.inputType==="date"){e=a.convertDateFormat(f,this.realDateFormat,this.displayDateFormat,this.japanYear,this.checkZero)}else{if((this.inputType==="text"||this.inputType==="number"||this.inputType==="tel")&&this.numberFormat){e=new d(this.numberFormat,this.checkZero,this.checkNoZero).formatNumber(f.toString())}else{e=f}}$("[id="+this.elementId+"]").val(e);this.validateRegEx();this.determineEffect()};c.prototype.getEditable=function(){return this.editable==="1"};c.prototype.setEditable=function(e){var f=$("#"+this.elementId);this.editable=(!!e)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!f.hasClass("crownix-field-lock")&&!f.hasClass("crownix-auth-lock"))){f.attr({readonly:this.editable==="0"})}this.determineEffect()};c.prototype.changeRepeatedIndex=function(f){if(this.id.indexOf("-")>=0){var g=this.id;var e=this.id.substring(0,this.id.indexOf("-")+1)+f;this.id=e;this.element.attr("id",e);var h=this.elementId.substring(0,this.elementId.indexOf("-")+1)+f;$("#"+this.elementId).attr({id:h,name:e});$("#crownix_form_field_"+this.formId+"_"+g+"_warning").attr("id","crownix_form_field_"+this.formId+"_"+e+"_warning");this.setElementId(h);this.index=f}};return c})();m2soft.crownix.Field.Picture=(function(){var a=m2soft.crownix.Field;var b=function(c,d){a.call(this,c,d);this.originalValue=this.value=c.attr("dt")||"";this.originalEditable=this.editable;this.setEvent(c);this.ratio=c.attr("ra")||0;this.placeHolder=null;this.element=c;this.title=c.attr("tt")||this.id;this.idCardCapture=c.attr("idc")||"0"};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.toData=function(){var c;if(this.value){c=this.value.split(",")[1]||""}return{id:this.id,value:c,type:this.type,page:this.page}};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(f){var d=$("[id="+this.elementId+"-canvas]")[0];var c;if(!f){if(d){c=d.getContext("2d");c.clearRect(0,0,d.width,d.height);this.placeHolder&&this.placeHolder.show()}this.value="";this.determineEffect()}else{if(typeof f=="string"){var g=new Image();var e=this;g.onload=function(){if(d){c=d.getContext("2d");c.clearRect(0,0,d.width,d.height);if(e.ratio==1){var l=g.width/g.height;var j=d.width/d.height;if(l>j){var n=d.height*(j/l);var h=(d.height-n)/2;c.drawImage(g,0,h,d.width,n)}else{var m=d.width*(l/j);var k=(d.width-m)/2;c.drawImage(g,k,0,m,d.height)}}else{if(e.ratio==2){c.drawImage(g,0,0)}else{c.drawImage(g,0,0,d.width,d.height)}}e.placeHolder&&e.placeHolder.hide()}e.determineEffect();$("#crownix_form_field_"+e.formId+"_"+e.element[0].id).trigger("change")};e.value=g.src=f}}};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(d){var c=$("#"+this.elementId+"-canvas");this.editable=(!!d)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!c.hasClass("crownix-field-lock")&&!c.hasClass("crownix-auth-lock"))){c.attr("disabled",this.editable==="0")}this.determineEffect()};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var e=this.id;var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);var f=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("#"+this.elementId).attr({id:f,name:c});$("#crownix_form_field_"+this.formId+"_"+e+"-canvas").attr({id:"crownix_form_field_"+this.formId+"_"+c+"-canvas",name:c});this.setElementId(f);this.index=d}};return b})();m2soft.crownix.Field.Submit=(function(){var g=m2soft.crownix.Resource;var m=m2soft.crownix.security.IKE;var w=m2soft.crownix.WorkerUtil;var c=m2soft.crownix.Constant;var a=m2soft.crownix.Message;var j=m2soft.crownix.Util;var k;var r;var e;var h;var d;var q;var l=false;var n=function(A,z,E,D,B,F,C){this.type="sm";this.id=A.attr("id");this.url=A.attr("su");this.datasource=A.attr("ds");this.service=A.attr("sc");this.editable=A.attr("ed")||"1";this.target=A.attr("sf");this.formId=A.attr("fi");this.mode=A.attr("rf")||"0";this.csvfileName=A.attr("cfn")||undefined;this.isFloating=C;this.mrdPath=D;this.mrdParam=B;this.mrdData=F;this.builder=z;this.title=A.attr("tt")||this.id;d=E;q=d.enableSecure;k=m2soft.crownix.FieldOrder.getInstance()};var t=function(A,B){var z;try{z=window.pako.gzip(A);if(B&&B.to==="string"){z=String.fromCharCode.apply(null,z)}l=true}catch(C){C&&console.log(C.message);l=false;z=A}return z};var b=function(){return Object.keys(h).length>0};var s=function(C,D,A,B){var E=w.getCryptoWorker(C,A,B);var z=$.Deferred();E.addEventListener("message",function(F){if(F.data.method==="finalize"){z.resolve(F.data.text);E.terminate()}});E.postMessage({method:"finalize",text:D,});return z};var u=function(z,E,G,A,F){var D=new m2soft.crownix.Ajax();var I=$.Deferred();D.setConnectTimeout(G);D.setHandler({done:function(J){I.resolve(J.responseText)},error:function(K,J){if(J){I.reject({status:false,code:"error",message:J,timestamp:undefined})}else{if(K.status==0){I.reject({status:false,code:"error",message:g.get("server_connect_error"),timestamp:undefined})}else{I.reject({status:false,code:"error",message:g.get("request_server_error"),timestamp:undefined})}}},abort:function(){I.reject({status:false,code:"abort",message:g.get("request_abort_error"),timestamp:undefined})},timeout:function(){I.reject({status:false,code:"timeout",message:g.get("request_timeout_error"),timestamp:undefined})},});D.setRequestHeader("crownix-version",c.INFO_TALK_PROTOCOL_VERSION);if(q){D.setRequestHeader("crownix-encrypt-type","content");D.setRequestHeader("crownix-rdid",A)}if(F){D.setRequestHeader("crownix-data-hash",F)}if(l){if(typeof E==="string"){D.setRequestHeader("crownix-formdata-encoding","gzip; charset=UTF-8")}else{D.setRequestHeader("crownix-formdata-encoding","gzip")}}if(b()){var C=new FormData();C.append("request",E);for(var B in h){C.append(B,h[B])}D.setRequestHeader("Content-Type",null);D.invoke(z,C)}else{var H=d.infotalk.contentType;if(H&&typeof H==="string"){D.setRequestHeader("Content-Type",H)}D.invoke(z,E)}return I};var f=function(D,A){var C={};if(!this.target){C=D}else{if(this.target.indexOf(",")>=0){var E=this.target.split(",");for(var z in E){if(A[E[z]].isRepeated){for(var B in D){if(B.indexOf(E[z]+"-")>=0){C[B]=D[B]}}}else{C[E[z]]=D[E[z]]}}}else{if(D[this.formId]&&!D[this.formId].isRepeatForm()){C[this.formId]=D[this.formId]}else{if(D[this.formId]&&D[this.formId].isRepeatForm()&&this.mode=="1"){C[this.formId]=D[this.formId]}else{for(var B in D){if(B.indexOf("-")>=0&&this.target==B.substring(0,B.indexOf("-"))){C[B]=D[B]}}}}}}return C};n.prototype={submit:function(H,J,G,D,F){if(!this.url||!this.service||!this.datasource){J.show(g.get("form_submit_info_leak_error"));return}var E=f.call(this,G,D);var B;if($.isEmptyObject(E)){a.log(g.get("form_submit_not_found_form")+" [form id:"+this.formId+"] [target:"+this.target+"]");J.show(g.get("form_submit_not_found_form"),{inputHandler:function(){k.blur()}});return}var P=F.formManager.validator.onSubmit(E);if(typeof P==="object"&&P.isInvalid===false){e=P.forms;h=P.files;B=P.submitFieldList;B.push({formId:this.formId,fieldId:this.id})}else{if(F.options.mirroring.enable&&F.options.mirroring.syncInvalid){var A=[];for(var N in E){A.push(N)}F.mirroringManager.externalEvent.validate(A)}if(F.shareManager&&F.shareManager.isConnected()){F.shareManager.validate(A)}return}var L=this.mrdPath;var M=this.mrdParam;var C=this.mrdData;var z=function(){var Q={};if(this.service==c.SERVICE_EXPORT_HANDLER||this.service==c.SERVICE_SECUCEN_HANDLER||this.service>=2000){Q={mrd_path:L,mrd_param:M};var X=this.builder();Q.mrd_path=X.concatMrdPath(Q.mrd_path);if(C!=null&&C!=""){Q.mrd_data=X.concatMrdPath(C)}if(F.encType>3){Q.mrd_param=X.concatMrdPath(Q.mrd_param);Q.enc_type=F.encType;Q.mrd_plain_param=X.concatMrdParam(E,F.mrdPlainParam?F.mrdPlainParam:"",{isPrint:true})}else{Q.mrd_param=X.concatMrdParam(E,Q.mrd_param?Q.mrd_param:"",{isPrint:true})}var aa=F.formManager.getUniqueObject("fingerprint");if(aa){aa.buildParam(Q)}Q=$.extend(true,F.submitParameters,Q)}var V={version:c.INFO_TALK_PROTOCOL_VERSION,service:this.service,datasource:this.datasource,forms:e,parameters:Q,csvfilename:this.csvfileName};if(F.options.infotalk.protocol){V.protocol=F.options.infotalk.protocol}var ad=J.message(g.get("submit_formfield"),null,true,F.options.submitMsgPosition);var ac;var Z;var T;var ab;var W;var Y=this;var U=function(ae){try{var af=$.parseJSON(ae);if(af.status===true){if(!d.formField.editAfterSubmit){for(var ah in E){G[ah].unbindEvent();G[ah].disableEdit();G[ah].isSubmitted=true}Y.disableEdit();if(Y.mode==="0"){F.formManager.batchSubmitted=true}}else{k.removeField(B)}}else{af.code="infotalk server error"}S(af)}catch(ag){a.log(ag.stack);S({status:false,code:"invalid protocol",message:g.get("invalid_protocol"),timestamp:undefined})}};var S=function(ae){if(ae.status===true){if(!F.options.noMessageOfSubmitSuccess){J.show(g.get("submit_formfield_insert_ok"))}}else{if(!F.options.noMessageOfSubmitFail){J.show(ae.message)}}k.blur();ad.fadeOut(500,function(){ad.remove()});H(ae,E);if(r){r.close()}};if(q){ac=m.request({serverUrl:this.url}).pipe(function(ae){Z=m.getAlgorithm(ae);T=ae;ab=m.getKey(ae);V.rdid=ae;V=JSON.stringify(V).split("\\u0004").join("\u0004");if(F.options.infotalk.dataVerification){W=j.sha256(V)}if(d.infotalk.compressRequest){V=t(V,{to:"string"})}return s("encrypt",V,Z,ab)},function(ae){return $.Deferred().reject({status:false,code:"security error",message:ae,timestamp:undefined})}).pipe(function(ae){return u(Y.url,ae,F.options.infotalk.timeout,T,W)},function(ae){S(ae)}).pipe(function(ae){return s("decrypt",ae,Z,ab)}).pipe(function(ae){U(ae)})}else{V=JSON.stringify(V).split("\\u0004").join("\u0004");if(F.options.infotalk.dataVerification){W=j.sha256(V)}if(d.infotalk.compressRequest&&!b()){V=t(V)}ac=u(this.url,V,F.options.infotalk.timeout,null,W).pipe(function(ae){U(ae)},function(ae){S(ae)})}};var K=function(){var Q=this;if(F.options.showSubmitConfirm.show){J.show(F.options.showSubmitConfirm.message||g.get("submit_confirm_message"),{type:"confirm",title:F.options.showSubmitConfirm.title,ok:F.options.showSubmitConfirm.textYes,cancel:F.options.showSubmitConfirm.textNo,inputHandler:function(S){if(S){z.call(Q)}}})}else{z.call(Q)}};if(F.options.submitPreview&&!this.target){var O=J.message(g.get("print_submit_preview"));var I=this;setTimeout(function(){r=new m2soft.crownix.submit.Preview(F,function(){if(F.shareManager&&F.shareManager.isConnected()){F.shareManager.submitRequest(I.formId,I.id,I.target,function(){K.call(I)})}else{K.call(I)}});r.show(function(){O.remove()})},0)}else{var I=this;if(F.shareManager&&F.shareManager.isConnected()){F.shareManager.submitRequest(I.formId,I.id,I.target,function(){K.call(I)})}else{K.call(I)}}},disableEdit:function(){this.editable="0";$("[formid="+this.formId+"][fieldid="+this.id+"]").removeClass("crownix-dialog-button-action").attr("disabled",true).off()},};return n})();m2soft.ns("m2soft.crownix.Field.File");m2soft.crownix.Field.File=(function(){var a=m2soft.crownix.Field;var b=m2soft.crownix.FieldOrder;var c=function(d,e){a.call(this,d,e);this.file=null;this.value=d.attr("vl")||"";this.required=d.attr("rq")||"0";this.placeHolder=d.attr("ph")||"";this.drilldownId;this.element=d;this.setEvent(d);this.setFileName;this.editableMode;this.readonlyMode;this.title=d.attr("tt")||this.id};c.prototype=Object.create(a.prototype);c.prototype.constructor=c;c.prototype.validate=function(d){if(!d){d=this.file&&this.file.size>0}if(this.required=="1"&&this.commonHidden==="0"){return !!d}else{return true}};c.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}};c.prototype.getValue=function(){return this.value};c.prototype.getEditable=function(){return this.editable==="1"};c.prototype.setEditable=function(d){this.editable=(!!d)?"1":"0";this.editable==="1"?this.editableMode&&this.editableMode():this.readonlyMode&&this.readonlyMode();this.determineEffect()};c.prototype.changeRepeatedIndex=function(e){if(this.id.indexOf("-")>=0){var d=this.id.substring(0,this.id.indexOf("-")+1)+e;var f=this.id;this.id=d;this.element.attr("id",d);this.element.attr("idx",e);var g=this.elementId.substring(0,this.elementId.indexOf("-")+1)+e;$("#crownix_form_field_file_label_"+this.formId+"_"+f).attr({id:"crownix_form_field_file_label_"+this.formId+"_"+d,"for":"crownix_form_field_input_file_"+this.formId+"_"+d,name:d});var g=this.elementId.substring(0,this.elementId.indexOf("-")+1)+e;$("#crownix_form_field_input_file_"+this.formId+"_"+f).attr({id:"crownix_form_field_input_file_"+this.formId+"_"+d,name:d});$("#crownix_form_field_file_name_"+f).attr({id:"crownix_form_field_file_name_"+d});$("#crownix_form_field_file_name_text_"+f).attr({id:"crownix_form_field_file_name_text_"+d});$("#"+this.elementId).attr({id:g,name:d});this.setElementId(g);this.index=e}};return c})();m2soft.ns("m2soft.crownix.Field.Pen");m2soft.crownix.Field.Pen=(function(){var a=m2soft.crownix.Field;var b=function(c,d){a.call(this,c,d);this.originalValue=this.value=c.attr("dt")||"";this.originalEditable=this.editable;this.setEvent(c);this.placeHolder=null;this.element=c;this.title=c.attr("tt")||this.id;this.backgroundText=c.attr("bt")||"";this.signature=null;this.fontStyle={}};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.toData=function(){var c;if(this.value){c=this.value.split(",")[1]||""}return{id:this.id,value:c,type:this.type,page:this.page}};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(k){var f=$("[id="+this.elementId+"-canvas]").not(".crownix-guide-canvas")[0]||$("[id="+this.elementId+"]")[0];var e,d;var g=(m2soft.crownix.Painter.adjustCoord(this.element.attr("ri"))-1)-(m2soft.crownix.Painter.adjustCoord(this.element.attr("le"))+2);var c=(m2soft.crownix.Painter.adjustCoord(this.element.attr("bo"))-1)-(m2soft.crownix.Painter.adjustCoord(this.element.attr("to"))+2);if(!k){if(f){e=f.getContext("2d");e.clearRect(0,0,f.width,f.height);d=new m2soft.crownix.FormField.Signature({},{width:g,height:c,guideText:this.element.attr("ph")||this.backgroundText,guideTextStyle:this.fontStyle});d.drawSignature(f,{guideTextImageData:true})}this.value=k;this.signature=null}else{if(typeof k=="object"){if(!f){f=$('<canvas class="temp">').attr({width:g,height:c}).appendTo("body");f=f[0]}d=new m2soft.crownix.FormField.Signature(k.signature,{width:g,height:c,fixedGuideText:this.backgroundText?true:false,guideText:this.element.attr("ph")||this.backgroundText,guideTextStyle:this.fontStyle,maxLineWidth:8});d.drawSignature(f,{fixedGuideText:true,ratioType:true});signValue=d.toData(g,c,{ratioType:true,dpi:k.signature.dpi||96});this.signature=d;this.value=signValue;if($(f).hasClass("temp")){$(f).remove()}}else{if(typeof k=="string"){var j=new Image();var h=this;j.onload=function(){if(f){e=f.getContext("2d");e.clearRect(0,0,f.width,f.height);d=new m2soft.crownix.FormField.Signature({},{width:g,height:c,guideText:h.backgroundText,guideTextStyle:h.fontStyle});d.drawSignature(f,{guideTextImageData:true});setTimeout(function(){e.drawImage(j,0,0,f.width,f.height)},0)}};j.src=h.value=k;h.signature=null}}}this.determineEffect()};b.prototype.getSignature=function(){return{signature:this.signature,value:this.value}};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(d){var c=$("[id="+this.elementId+"-canvas]")||$("[id="+this.elementId+"]");this.editable=(!!d)?"1":"0";if(this.editable==="0"||(this.editable==="1"&&!c.hasClass("crownix-field-lock")&&!c.hasClass("crownix-auth-lock"))){c.attr("disabled",this.editable==="0")}this.determineEffect()};b.prototype.getBackgroundText=function(){return this.backgroundText};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);this.element.attr("idx",d);var e=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("#"+this.elementId).attr({id:e,name:c});this.setElementId(e);this.index=d}};b.prototype.validate=function(c){if(!c){c=(this.value||this.signature)}return(this.required=="0"||this.commonHidden==="1"||!!c)};return b})();m2soft.ns("m2soft.crownix.Field.Recorder");m2soft.crownix.Field.Recorder=(function(){var a=m2soft.crownix.Field;var b=function(c,d){a.call(this,c,d);this.file=null;this.value=c.attr("vl")||"";this.required=c.attr("rq")||"0";this.title=c.attr("tt")||this.id;this.bitRate=parseInt((c.attr("br")||"128"),10);this.sampleRate=parseInt((c.attr("sr")||"22050"),10);this.recordTime=parseInt((c.attr("tm")||"30"),10);this.drilldownId;this.element=c;this.setEvent(c)};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.validate=function(c){if(!c){c=this.file&&this.file.size>0}if(this.required=="1"&&this.commonHidden==="0"){return !!c}else{return true}};b.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}};b.prototype.getValue=function(){return this.value};b.prototype.getEditable=function(){return this.editable==="1"};b.prototype.setEditable=function(c){if(this.editable!=c){this.editable=(!!c)?"1":"0"}var d=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");if(c){d.removeClass("crownix-formfield-disable")}else{d.addClass("crownix-formfield-disable")}this.determineEffect()};b.prototype.isAttached=function(){return(this.file!==null)};b.prototype.changeRepeatedIndex=function(d){if(this.id.indexOf("-")>=0){var c=this.id.substring(0,this.id.indexOf("-")+1)+d;this.id=c;this.element.attr("id",c);var e=this.elementId.substring(0,this.elementId.indexOf("-")+1)+d;$("#"+this.elementId).attr({id:e,name:c});this.setElementId(e);this.index=d}};return b})();m2soft.ns("m2soft.crownix.Form");m2soft.crownix.Form=(function(){var R=m2soft.crownix.Resource;var Util=m2soft.crownix.Util;var Message=m2soft.crownix.Message;var TextField=m2soft.crownix.Field.TextField;var TextArea=m2soft.crownix.Field.TextArea;var CheckBox=m2soft.crownix.Field.CheckBox;var ComboBox=m2soft.crownix.Field.ComboBox;var RadioGroup=m2soft.crownix.Field.RadioGroup;var RadioButton=m2soft.crownix.Field.RadioButton;var Signature=m2soft.crownix.Field.Signature;var Picture=m2soft.crownix.Field.Picture;var File=m2soft.crownix.Field.File;var Pen=m2soft.crownix.Field.Pen;var Recorder=m2soft.crownix.Field.Recorder;var Converter=m2soft.crownix.util.Converter;var DateUtil=m2soft.crownix.util.DateUtil;var FormDialog=m2soft.crownix.FormDialog;var Constant=m2soft.crownix.Constant;var Constructor=function(formId,go,param){this.formId=formId;this.go=go;this.eventNameList=[];this.fieldList={};if(!param){param={}}this.commonFieldHint={type:param.commonFieldHintingType,color:param.commonFieldHintingColor,displayType:param.commonFieldHintingDisplayType};this.requiredFieldHint={color:param.requiredFieldHintingColor};this.eventList={};var evt=param.formLoadComplete;if(evt){this.eventList.formLoadComplete=evt}this.formLoadComplete=false;this.isSubmitted=false;this.isRepeated=param.isRepeated};var decodeFormFieldScriptFunction=function(encodedScript){var planeScript=Util.base64.utf8Decode(encodedScript);eval('var func = function(form, viewer, layer, dialog) { "use strict"; '+planeScript+"}");return func};Constructor.prototype={disableEdit:function(){$(":not(button)[formId="+this.formId+"]").add($("label").has("[formId="+this.formId+"]")).off().attr("disabled",true).bind("touchstart mousedown focus",function(e){e.preventDefault()});for(var id in this.fieldList){this.fieldList[id].setEditable(false)}},putField:function(element,pagenum,allowDuplicate,drilldownId,isInitForm,layer){var fieldId=element.attr("id");var type=element.attr("ty");var index=element.attr("idx");var field=null;if(this.fieldList[fieldId]&&!isInitForm){if(allowDuplicate){return}else{throw new Error(R.get("form_duplicated_id_error")+"("+element.attr("fi")+"."+fieldId+")")}}var self=this;var getElementId=function(element,type){if(type==="rb"){return"crownix_form_field_"+element.attr("fi")+"_"+element.attr("gi")+"_"+element.attr("id")}else{return"crownix_form_field_"+element.attr("fi")+"_"+element.attr("id")}};var init=function(field){field.setIndex(index);field.elementId=getElementId(element,type);var fieldEventList=field.getEventList();for(var i in fieldEventList){var eventName=fieldEventList[i];if(self.eventNameList.indexOf(eventName)<0){self.eventNameList.push(eventName)}}};if(type==="tf"){field=new TextField(element,pagenum)}else{if(type==="ta"){field=new TextArea(element,pagenum)}else{if(type==="cb"){field=new CheckBox(element,pagenum)}else{if(type==="co"){field=new ComboBox(element,pagenum)}else{if(type==="sg"){if(element.attr("st")==="2"){if(this.go.formManager.getUniqueObject("fingerprint")&&!isInitForm){throw new Error(R.get("fingerprint_sign_duplicated"))}else{field=new m2soft.crownix.Field.FingerPrintSignature(element,pagenum,this.go);this.go.formManager.addUniqueObject("fingerprint",field)}}else{var head=this.go.report.getHeadForPage(pagenum||this.go.currentPage);var fontList=head.fontList;var textAttr=head.textAttrList[element.attr("tid")];field=new Signature(element,pagenum,fontList,textAttr,this.go.options)}}else{if(type==="im"){field=new Picture(element,pagenum)}else{if(type==="rb"){fieldId=element.attr("gi");field=this.fieldList[fieldId];if(!field){field=new RadioGroup(element,pagenum)}if(isInitForm){field.initRadiogroup()}var button=new RadioButton(element,pagenum);init(button);field.putButton(button,allowDuplicate,isInitForm)}else{if(type==="fl"){field=new File(element,pagenum)}else{if(type==="pn"){field=new Pen(element,pagenum)}else{if(type==="rec"){field=new Recorder(element,pagenum)}}}}}}}}}}if(field){field.drilldownId=drilldownId;init(field);this.fieldList[fieldId]=field;if(layer){field.layerId=layer.id}if(this.isSubmitted){field.setEditable(false);field.setRequired(false)}}},removeField:function(fieldId){if(this.fieldList[fieldId]){delete this.fieldList[fieldId];return true}else{for(var fieldName in this.fieldList){var field=this.fieldList[fieldName];if(field.type==="rg"){if(field.buttonList[fieldId]){delete field.buttonList[fieldId];return true}}}}return false},getField:function(fieldId){var field=this.fieldList[fieldId];if(field){return field}else{for(var fieldName in this.fieldList){field=this.fieldList[fieldName];if(field.type==="rg"){var radio=field.buttonList[fieldId];if(radio){return radio}}}}},getFields:function(){return this.fieldList},getFieldsWithRadioBtns:function(){var list={};for(var id in this.fieldList){var field=this.fieldList[id];list[id]=field;if(field.type=="rg"){for(var btnId in field.buttonList){list[btnId]=field.buttonList[btnId]}}}return list},makeFormDataParameter:function(){var buf=[];for(var id in this.fieldList){var field=this.fieldList[id];buf.push(this.formId+"."+field.id);buf.push("[");if(field.type==="sg"||field.type==="im"||field.type==="pn"){buf.push("<*BASE64_DATA*>");if(field.value){buf.push(field.value.split(",")[1])}}else{if(field.type==="co"){buf.push(field.isChangeList?field.getDisplayValue():field.value)}else{if(field.value){buf.push(field.value)}}}buf.push("] ")}return buf.join("")},makeFormInfoParameter:function(){var buf=[];var list=this.getFieldsWithRadioBtns();for(var id in list){var field=list[id];var separator=String.fromCharCode(5);buf.push(this.formId+"."+field.id);buf.push("[");if(typeof field.required==="string"){buf.push(field.required)}buf.push(separator);if(typeof field.editable==="string"){buf.push(field.editable)}buf.push(separator);if(typeof field.commonHidden==="string"){if(this.go.options.mirroring.enable&&(field.outputAuthority==="Host"||field.outputAuthority==="Client")&&field.commonHidden==="1"){buf.push(field.getOriginalCommonHidden())}else{buf.push(field.commonHidden)}}buf.push(separator);if(typeof field.label==="string"){buf.push(field.label)}if(field.type==="co"){buf.push(field.getDisplayValue())}buf.push(separator);if(typeof field.value==="string"&&field.type==="rb"){buf.push(field.value)}if((field.type==="tf"||field.type==="ta")&&field.style){buf.push(separator);buf.push(field.style.bold);buf.push(separator);buf.push(field.style.italic);buf.push(separator);buf.push(field.style.underline);buf.push(separator);buf.push(field.style.cancelLine);buf.push(separator);buf.push(field.style.color)}buf.push("] ")}return buf.join("")},getHintingColor:function(fieldId){if(!this.commonFieldHint||!this.commonFieldHint.type){return""}var field=this.getField(fieldId);if(typeof field!="undefined"&&this.commonFieldHint.type.indexOf(field.type)>=0){return{color:this.commonFieldHint.color,displayType:this.commonFieldHint.displayType}}return""},getRequiredHintingColor:function(fieldId){if(!this.requiredFieldHint.color){return""}return this.requiredFieldHint.color},"export":function(checkValid){var container={id:this.formId,fields:{field:[],}};var item;var list=this.getFieldsWithRadioBtns();var field;var excludeOnFormData=this.go.options.formField.excludeOnFormData;for(var fieldId in list){field=list[fieldId];if(excludeOnFormData&&(field.excludeOnFormData==="1")){continue}item={id:fieldId,value:{__cdata:field.value},type:field.type,label:{__cdata:field.label},editable:field.editable,required:field.required,commonHidden:field.commonHidden};if(field.type==="co"){item.selectedIndex=field.selectedIndex;item.displayValues=field.displayValues;item.actualValues=field.actualValues}else{if(field.type==="rg"){item.selectedId=field.selectedId}else{if(field.type==="rb"){item.gid=field.gid}}}if(field.type==="fl"&&!(this.go.shareManager&&this.go.shareManager.isConnected())){item.value="";item.file=null}if(field.type==="rec"){item.value="";item.file=null}if(field.type=="sg"||field.type=="pn"){if(field.signature){item.signature=JSON.stringify(field.signature);item.value=""}}container.fields.field.push(item)}return container},"import":function(container,version){var id;var field;var fieldList=container.fields.field;for(var i in this.fieldList){field=this.fieldList[i];field.reset()}for(var i=0;i<fieldList.length;i++){field=fieldList[i];id=field.id;if(!this.fieldList[id]){if(field.type==="rb"&&field.gid){var radioGroup=this.fieldList[field.gid];if(radioGroup&&radioGroup.buttonList[id]){radioGroup.buttonList[id].commonHidden=field.commonHidden||"0"}}continue}if(field.type==="cb"){if(field.value.__cdata==="1"||field.value.__cdata===true){this.fieldList[id].setSelected(true)}else{this.fieldList[id].setSelected(false)}}else{if(field.type==="fl"){this.fieldList[id].value=field.value.__cdata;this.fieldList[id].setFileName&&this.fieldList[id].setFileName(field.value.__cdata)}else{this.fieldList[id].setValue(field.value.__cdata||"")}}if(this.fieldList[id].value){this.fieldList[id].determineEffect()}if(field.editable==="1"){this.fieldList[id].setEditable(true)}else{this.fieldList[id].setEditable(false)}if(field.required==="1"){this.fieldList[id].setRequired(true,this.getRequiredHintingColor(id))}else{this.fieldList[id].setRequired(false)}var outputAuthority=this.fieldList[id].outputAuthority;if(this.go.options.mirroring.enable&&this.go.mirroringManager&&outputAuthority!=="All"){var isSubProcess=this.go.mirroringManager.externalEvent.isSubProcess();if((isSubProcess&&outputAuthority!=="Client")||(!isSubProcess&&outputAuthority!=="Host")){this.fieldList[id].hide()}else{if(this.fieldList[id].element&&this.fieldList[id].element.attr("ch")!=="1"){this.fieldList[id].show()}}}else{if(field.commonHidden==="1"){this.fieldList[id].hide()}else{this.fieldList[id].show()}}this.fieldList[id].label=field.label.__cdata;if(field.type==="co"){this.fieldList[id].setComboList(field.displayValues,field.actualValues);this.fieldList[id].setValueByIndex(field.selectedIndex,this.go,this.formId)}else{if((version==="1.0"&&field.type==="rb")||((version==="1.1"||version==="1.2")&&field.type==="rg")){this.fieldList[id].select(field.selectedId,this.formId,this.go)}}if((field.type==="tf"||field.type==="ta")&&field.value.__cdata!==""){this.fieldList[id].validateRegEx()}if(field.type==="sg"||field.type==="pn"){if(field.signature){this.fieldList[id].setValue({signature:JSON.parse(field.signature)})}if(field.value&&field.value.__cdata){this.fieldList[id].setValue(field.value.__cdata)}}}},union:function(form){var sourceFieldList=form.getFields();var targetFieldList=this.fieldList;$.each(sourceFieldList,function(id,field){if(targetFieldList[id]&&field.type==="rg"){$.each(field.buttonList,function(radioId,field){if(targetFieldList[id].buttonList[radioId]){throw new Error(R.get("form_duplicated_id_error")+"("+radioId+")")}targetFieldList[id].buttonList[radioId]=m2soft.crownix.Field.clone(field)})}else{if(targetFieldList[id]){throw new Error(R.get("form_duplicated_id_error")+"("+id+")")}targetFieldList[id]=m2soft.crownix.Field.clone(field)}})},complement:function(form){var sourceFieldList=form.getFields();var targetFieldList=this.fieldList;var targetBtnList={};for(var fieldId in sourceFieldList){if(sourceFieldList[fieldId].type=="rg"){for(var btnId in sourceFieldList[fieldId].buttonList){targetBtnList[btnId]=sourceFieldList[fieldId].buttonList[btnId]}}}$.each(sourceFieldList,function(id,field){if(targetFieldList[id]){if(targetFieldList[id].type=="rg"){$.each(targetBtnList,function(radioId,field){if(targetFieldList[id].buttonList[radioId]){delete targetFieldList[id].buttonList[radioId]}});if($.objectSize(targetFieldList[id].buttonList)==0){delete targetFieldList[id]}}else{delete targetFieldList[id]}}})},clone:function(){var form=new Constructor(this.formId,this.dialog,this.movePage,{});for(var attr in this){if(this.hasOwnProperty(attr)){if(attr=="fieldList"){form[attr]={};for(var id in this[attr]){var field=this[attr][id];form[attr][id]=m2soft.crownix.Field.clone(field)}}else{form[attr]=this[attr]}}}return form},unbindEvent:function(){$("#"+Constant.CONTAINER_ID).parent().off(".formfield","[formId="+this.formId+"]")},bindEvent:function(formWrapper,viewer,layerManagerWrapper){this.unbindEvent();if(!this.isSubmitted){for(var i in this.eventNameList){var eventName=this.eventNameList[i];if(Util.browser.mobile&&eventName=="click"){eventName="tap "+eventName}var self=this;$("#"+Constant.CONTAINER_ID).parent().on(eventName+".formfield","[formId="+this.formId+"]",function(evt){try{var target=$(evt.target);var fieldId=target.attr("buttonId")||target.attr("name");var field=self.getField(fieldId);var eventType=evt.type;if(!field){return}var fieldType=field.type;if((fieldType=="im"||fieldType=="sg"||fieldType=="pn"||fieldType=="co")&&eventType=="tap"){eventType="click"}if(eventType=="click"&&(self.go.options.mirroring.enable&&(field.element.attr("sa")=="Host"&&self.go.mirroringManager.externalEvent.isSubProcess()||field.element.attr("sa")=="Client"&&!self.go.mirroringManager.externalEvent.isSubProcess()&&(fieldType!=="sg"&&fieldType=="tf"&&fieldType=="ta"&&fieldType!=="pn")))||(self.go.shareManager&&self.go.shareManager.isConnected()&&(field.element.attr("sa")=="Host"&&!self.go.shareManager.isHost()||field.element.attr("sa")=="Client"&&self.go.shareManager.isHost()))){return}if((eventType=="click"||eventType=="focusin")&&field.editable=="0"){return}if(self.go.options.mirroring.enable){self.go.mirroringManager.externalEvent.sendEvent(self.formId,fieldId,eventType)}self.go.layerManager.selectFieldId=field.elementId;field.trigger(eventType,formWrapper,viewer,layerManagerWrapper,self.go.dialog);if(self.go.shareManager){self.go.shareManager.sendEvent({formId:self.formId,fieldId:fieldId,type:eventType})}}catch(e){Message.error(e.stack);self.go.dialog.show(R.get("formfield_event_error")+"<br>(fieldId:"+field.id+")")}})}}},onLoadComplete:function(formWrapper,viewer,layerManagerWrapper){if(!this.formLoadComplete){try{var loadCompleteEvent=this.eventList.formLoadComplete;if(loadCompleteEvent){var eventHandler=decodeFormFieldScriptFunction(loadCompleteEvent);eventHandler(formWrapper,viewer,layerManagerWrapper,this.go.dialog)}}catch(e){Message.error(e.stack);this.go.dialog.show(R.get("formfield_event_error")+"<br>(formId:"+this.formId+")")}this.removePreventEvent()}},removePreventEvent:function(){$("#m2soft-crownix-text *, .crownix-layer-page *").off(".prevent");this.formLoadComplete=true},isRepeatForm:function(){return this.isRepeated},resetLoadingState:function(){this.formLoadComplete=false},isLoadingComplete:function(){return this.formLoadComplete},setFiles:function(files){var fieldList=this.fieldList;var field;for(var fieldId in fieldList){field=fieldList[fieldId];if(field.excludeSubmit==="1"){continue}if((field.type==="fl"||field.type==="rec")&&field.file&&field.file.size>0){files[this.formId+"."+fieldId]=field.file}}},changeFieldId:function(oldId,newId){this.fieldList[newId]=this.fieldList[oldId];delete this.fieldList[oldId]}};return Constructor})();m2soft.ns("m2soft.crownix.FormLayerManager");m2soft.crownix.FormLayerManager=(function(){var b=m2soft.crownix.ChannelManager;var a=function(d,e){this.layerId=d;this.formList={};this.submitList={};this.activated=false;this.isFloating=!!e};a.prototype={addForm:function(d){var e=d.formId;this.formList[e]=d},addSubmit:function(e){var d=e.id;this.submitList[d]=e},activate:function(){this.activated=true;b.getChannel("formlayer:activate").publish({formList:this.getFormList()})},deactivate:function(){this.activated=false;b.getChannel("formlayer:deactivate").publish({formList:this.getFormList()})},getFormList:function(){return this.formList},getForm:function(d){return this.formList[d]},exist:function(d){return !!this.formList[d]},existSubmit:function(d){return !!this.submitList[d]},"export":function(){var e={layerId:this.layerId,formList:{},activated:this.activated,};for(var d in this.formList){e.formList[d]=this.formList[d]["export"]()}return e},"import":function(e){this.layerId=e.layerId;this.activated=e.activated;for(var d in this.formList){if(!this.formList[d]){continue}this.formList[d]["import"](e.formList[d])}}};var c=function(){this.layerList={}};c.prototype={exist:function(d,e){return !!this.layerList[d]&&!!this.layerList[d].exist(e)},isFloating:function(){for(var d in this.layerList){var e=this.layerList[d];if(e.isFloating&&e.activated){return true}}return false},add:function(d,e,f){if(!this.layerList[d]){this.layerList[d]=new a(d,f)}this.layerList[d].addForm(e)},addSubmit:function(d,e,f){if(!this.layerList[d]){this.layerList[d]=new a(d,f)}this.layerList[d].addSubmit(e)},getFormFieldIdList:function(e){var f={};for(var d in this.layerList){if(e&&!this.layerList[d].isFloating){continue}var g=this.layerList[d].getFormList();for(var h in g){if(f[h]===undefined){f[h]=Object.keys(g[h].fieldList)}}}return f},getFormListFromSubmit:function(e){var f={};for(var d in this.layerList){if(this.layerList[d].existSubmit(e)){var g=this.layerList[d].getFormList();for(var h in g){if(f[h]===undefined){f[h]=Object.keys(g[h].fieldList)}}}}return f},activate:function(d){if(this.layerList[d]){this.layerList[d].activate()}},deactivate:function(d){if(this.layerList[d]){this.layerList[d].deactivate()}},getForm:function(d,e){if(!this.exist(d,e)){return null}return this.layerList[d].getForm(e)},removeFormLayer:function(d){if(this.layerList[d]){delete this.layerList[d]}},"export":function(){var e={layer:[]};for(var d in this.layerList){e.layer.push(this.layerList[d]["export"]())}return e},"import":function(e){for(var d in e.layer){if(!this.layerList[d]){continue}this.layerList[d]["import"](e.layer[d])}},};return c})();m2soft.ns("m2soft.crownix.FormWrapper");m2soft.crownix.FormWrapper=function(a,c){var b=a,d=c;this.getId=function(){return d};this.get=function(f,e){f=(typeof e==="number")?f+"-"+e:f;return b.getFieldWrapper(d,f)};this.getList=function(e){if(e.indexOf("*")!=-1){return b.getFieldWildcardList(d,e)}else{return b.getFieldWrapperList(d,e)}};this.initFormData=b.initFormData;this.showGroupSign=b.showGroupSign;this.getSignGroup=function(e){return b.getSignGroup(e)}};m2soft.ns("m2soft.crownix.FieldWrapper");m2soft.crownix.FieldWrapper=function(j,b,c){var g=b,h=j,a=c,d=a.formManager,f=a.drilldownManager,e=m2soft.crownix.GuideManager.getInstance();EVENT_NAME_MAP={OnChange:"change",change:"change",OnClick:"click",click:"click",onInput:"evinput",input:"evinput",focusout:"evfcout",onfocusout:"evfcout"};this.getId=function(){return g.id};this.getType=function(){return g.type};this.getValue=function(){return g.getValue()};this.setValue=function(l){if(l==null&&g.type!="sg"&&g.type!="pn"){return}var k;if(g.type=="rb"){k=d.getField(h,g.gid)}if(g.type=="sg"&&g.signType==="2"&&!a.options.mirroring.enable){g.setBioSignatureForDocument(l)}else{if(g.type=="sg"||g.type=="pn"){if(l==null){l=""}else{if(typeof l==="object"&&l.signature==null){l=l.value}else{if(typeof l==="string"){l=l.toString()}}}g.setValue(l);if(g.type=="sg"){a.formManager.getSignGroup(g.groupSignId).setValue(l,true)}}else{g.setValue(l==null?"":l.toString(),k)}}if(g.type==="tf"||g.type==="ta"){g.spreadToShareField(g,d.getFields(h),h)}a.formManager.modified(g)};this.getSignature=function(){if(g.type!="sg"&&g.type!="pn"){return}return g.getSignature()};this.getLabel=function(){return g.getLabel()};this.setLabel=function(s){if(s==null){return}g.setLabel(s.toString());var k=$("#"+g.elementId).parents(".crownix-quick-field");if(k.length>0){var q=g.type=="rb"?g.gid+" crownix-quick-radiobutton":g.id+" crownix-quick-checkbox",l=$("[for="+g.elementId+'][class="'+q+'"]'),n=l.find(".crownix-quick-labelspan"),r=l.find(".crownix_form_field_label").text(),m=!r?"40px":l.attr("line-height");if(r){if(l.width()>k.width()/2){l.css("margin-right","0px")}else{l.css("margin-right",$(k).outerWidth()/2-$(l).outerWidth()-10)}}if(!m){m=l.height()+"px"}n.css("line-height",m)}};this.getEditable=function(){return g.getEditable()};this.setEditable=function(q){g.setEditable(q);var k=function(t,s){var r=m2soft.crownix.FieldOrder.getInstance();if(!!s&&!r.exist(t.elementId)){r.add(t)}else{if(!s){if(r.getFocusField()){if(t.elementId===r.getFocusField().id){r.setPreventMove(false)}else{r.focus(r.getFocusField().id)}if(t.type=="rb"){r.removeField([{formId:t.formId,fieldId:t.id,groupId:t.gid}])}else{r.removeField([{formId:t.formId,fieldId:t.id}])}}else{if(t.type=="rb"){r.removeField([{formId:t.formId,fieldId:t.id,groupId:t.gid}])}else{r.removeField([{formId:t.formId,fieldId:t.id}])}}}}};var l=function(r){if(r.type!="cb"&&r.type!="rb"&&r.type!="fl"&&r.type!="tf"&&r.type!="ta"||r.disableColor){var s=$("[id="+r.elementId+"]").parents("#m2soft-crownix-field-wrapper");if(r.type=="sg"||r.type=="pn"){if(q){s.removeClass("crownix-formfield-disable-guide")}else{s.addClass("crownix-formfield-disable-guide")}}else{if(q){s.removeClass("crownix-formfield-disable")}else{s.addClass("crownix-formfield-disable")}}m2soft.crownix.ChannelManager.getChannel("field:changeState").publish({field:r})}};if(g.type=="rg"){for(var n in g.buttonList){var m=g.buttonList[n];k(m,q);l(m)}}else{k(g,q);l(g)}};this.getRequired=function(){return g.getRequired()};this.setRequired=function(m){var l=d.getRequiredHintingColor(h,b.id)||"";if(g.type=="rb"){btnGroupField=d.getField(h,g.gid);btnGroupField.setRequired(m,l)}else{g.setRequired(m,l)}var k;if(g.type=="ta"||g.type=="tf"){k=$("#"+g.elementId+"-quick").parents(".crownix-quick-wrapper").find(".crownix-quick-required")}else{k=$("#"+g.elementId).parents(".crownix-quick-wrapper").find(".crownix-quick-required")}if(m&&k){k.css("display","inline-block");if(!window.m2softFormFieldBridge.toAudioRecord&&g.type=="rec"){k.css("display","none")}}else{k.css("display","none")}};this.getSelected=function(){return g.getSelected()};this.setSelected=function(m,k){var l;if(g.type=="rb"){l=d.getField(h,g.gid)}g.setSelected(m,l);a.formManager.modified(g)};this.getTitle=function(){return g.title};this.getPage=function(){return g.page};this.expandDrilldown=function(k){return f.open(h+"."+b.id,k)};this.collapseDrilldown=function(){return f.close(h+"."+b.id)};this.getDrilldownInfo=function(){return f.getDrilldownInfo(h+"."+b.id)};this.isDrilldownOpened=function(){return f.isOpened(h+"."+b.id)};this.setComboList=function(l,k){g.setComboList(l,k)};this.trigger=function(k){g.trigger(EVENT_NAME_MAP[k],d.getFormWrapper(h));if(a.options.mirroring.enable){a.mirroringManager.externalEvent.sendEvent(h,g.id,EVENT_NAME_MAP[k])}};this.show=function(){if(a.options.mirroring.enable&&g.outputAuthority!="All"){return}if(g.type=="rb"){return}g.show();if(a.search.isCreate()){a.search.refresh()}if(a.formManager.validator){a.formManager.validator.createInvalidList()}};this.hide=function(){if(a.options.mirroring.enable&&g.outputAuthority!="All"){return}if(g.type=="rb"){return}g.hide();if(a.search.isCreate()){a.search.refresh()}if(a.formManager.validator){a.formManager.validator.createInvalidList()}}};m2soft.ns("m2soft.crownix.FieldEffector");(function(){var a=m2soft.crownix.ChannelManager;var b=function(s){var q=s,C=undefined,n=[],f=undefined,h=undefined,l=document.getElementById(m2soft.crownix.Constant.CONTAINER_ID),t=q.options.formField.effect,j=t.blinkSpeed,e=[];if(t.type){for(var u=0;u<t.fieldType.length;u++){var c=t.fieldType[u];switch(c){case"text":e.push("tf");e.push("ta");break;case"check":e.push("cb");break;case"combo":e.push("co");break;case"radio":e.push("rb");break;case"picture":e.push("im");break;case"signature":e.push("sg");break;case"pen":e.push("pn");break;case"file":e.push("fl");break;case"record":e.push("rec")}}}var w=function(){if(!f||f.length==0){return}f.toggleClass("hideHinting");for(var D=0;D<n.length;D++){var E=n[D];if(!E||!E.field||!E.field.hintingBox){continue}if(E.field.hintingBox.hasClass("hideHinting")){E.field.hintingBox.css(E.hideStyle)}else{E.field.hintingBox.css(E.style)}}};var d=function(){l=document.getElementById(m2soft.crownix.Constant.CONTAINER_ID);A();var E=q.formManager.getFormList();for(var F in E){var D=q.formManager.getFields(F);for(var G in D){z(D[G])}}if(q.options.formField.effect.blinkSpeed>0){r()}};var r=function(){if(j>0){h=setInterval(w,j/2)}};var A=function(){h=clearInterval(h);if(!f||f.length==0){return}f.removeClass("hideHinting");for(var D=0;D<n.length;D++){var E=n[D];if(!E||!E.field||!E.field.hintingBox){continue}E.field.determineEffect()}};var m=function(E){for(var D=0;D<n.length;D++){target=n[D];if(target.field==E){return target}}};var k=function(D){return(t.fieldType.indexOf("all")>-1||e.indexOf(D.type)>-1)};var B=function(F){if(!F||!F.hintingBox||!F.hintingBox[0]||!l.contains(F.hintingBox[0])){return}if(t.type&&!k(F)){return}var E=m(F);if(!E){E={field:F};var D=q.formManager.getHintingColor(F.formId,F.id);if(D.displayType==="1"){E.style={border:"1px dashed "+D.color};E.orgStyle={border:F.hintingBox.css("border")};E.hideStyle={border:"1px dashed rgba(0, 0, 0, 0)"}}else{E.style={background:D.color};E.orgStyle={background:F.hintingBox.css("background")};E.hideStyle={background:"transparent"}}n.push(E)}j=q.options.formField.effect.blinkSpeed;if(j<=0){j=0}else{if(j>0&&j<500){j=500}else{if(j>3000){j=3000}}}if(j>0){F.hintingBox.css("transition","border "+(j/2000)+"s, background "+(j/2000)+"s")}F.hintingBox.addClass("blinkTarget");if(f&&f.hasClass("hideHinting")){F.hintingBox.addClass("hideHinting");F.hintingBox.css(E.hideStyle)}else{F.hintingBox.removeClass("hideHinting");F.hintingBox.css(E.style)}f=$(".blinkTarget")};var g=function(E){if(!E||!E.hintingBox||!E.hintingBox[0]||!l.contains(E.hintingBox[0])){return}var D=m(E);if(!D){return}n.splice(n.indexOf(D),1);D.field.hintingBox.css(D.orgStyle);D.field.hintingBox.removeClass("blinkTarget");f=$(".blinkTarget")};var z=function(F){if(F.type==="rg"){for(var D in F.buttonList){z(F.buttonList[D])}}else{if(q.options.formField.effect.requiredOnly&&!F.getRequired()){g(F)}else{if(!F.getEditable()){g(F)}else{if(q.options.formField.effect.fixed){B(F)}else{if(F.type==="sg"){if(!F.value||(F.signature&&F.signature.lines.length==0)){B(F)}else{g(F)}}else{if(F.type==="rb"){var E=q.formManager.getField(F.formId,F.gid);if(F.selected||E.selectedId!==""){g(F)}else{B(F)}}else{if(!F.value||F.value===""||F.value==="0"){B(F)}else{g(F)}}}}}}}};this.start=function(){if(!C){C=a.getChannel("viewer:onDrawPage").subscribe(d)}d()};this.stop=function(){if(C){C.unsubscribe(d);C=null}A()};this.show=function(D){B(D)};this.hide=function(D){g(D)};this.determineEffect=function(D){z(D)};this.isSupportType=function(D){return k(D)}};m2soft.crownix.FieldEffector=m2soft.crownix.util.SingleTone(b)}());m2soft.ns("m2soft.crownix.FieldList");m2soft.crownix.FieldList=function(b){var e=["tf","ta","sg","pn","im","co"],d=["cb","rb"],a=["cb","rb"],c="[CrownixSmartForm][Warn] could not %func% for %id% field (type: %type%)";this.setValue=function(f){b.forEach(function(g){if(e.indexOf(g.getType())==-1){console.log(c.replace("%func%","setValue").replace("%id%",g.getId()).replace("%type%",g.getType()));return}g.setValue(f)})};this.setLabel=function(f){b.forEach(function(g){if(d.indexOf(g.getType())==-1){console.log(c.replace("%func%","setLabel").replace("%id%",g.getId()).replace("%type%",g.getType()));return}g.setLabel(f)})};this.setSelected=function(f){b.forEach(function(g){if(a.indexOf(g.getType())==-1){console.log(c.replace("%func%","setSelected").replace("%id%",g.getId()).replace("%type%",g.getType()));return}g.setSelected(f)})};this.setEditable=function(f){b.forEach(function(g){g.setEditable(f)})};this.setRequired=function(f){b.forEach(function(g){g.setRequired(f)})};this.show=function(){b.forEach(function(f){f.show()})};this.hide=function(){b.forEach(function(f){f.hide()})};this.each=function(f){if(typeof f!=="function"){return}b.forEach(function(h,g){f(h,g)})};this.length=b.length};m2soft.ns("m2soft.crownix.Validator");m2soft.crownix.Validator=(function(){var e=m2soft.crownix.Resource;var l=m2soft.crownix.Painter;var z=m2soft.crownix.FieldOrder;var f=m2soft.crownix.Util;var n=m2soft.crownix.ChannelManager;var w;var t;var A={};var d;var q;var B;var c=false;var j=function(C){w=C;t=new u()};var b=function(){d={};A={};A.invalidCount=0};var m=function(D,E){var C=Object.keys(D);return(E>=C.length)?C[C.length-1]:C[E]};var k=function(E,C){var D=w.formManager.getField(E,C);return D?D.title:null};var u=function(){var K;var D;var J=function(T,N,S){var M=[];for(var O in S){var U=S[O];var Q=N[U];var P=Q.type;if((P==="tf"||P==="ta")&&Q.valid===false){continue}if(P==="rg"){M.push("."+U+" > div > span > [formid="+T+"]")}else{if(P==="cb"){M.push("."+U+" > div")}else{M.push("[formid="+T+'][name="'+U+'"]')}}}return M.join(",")};var F=function(M){M.css({"-webkit-border-radius":"5px","-moz-border-radius":"5px","-ms-border-radius":"5px","border-radius":"5px","box-shadow":"0 0 1px 3px "+w.options.formField.effect.invalidColor,"-webkit-box-shadow":"0 0 1px 3px "+w.options.formField.effect.invalidColor,"-moz-box-shadow":"0 0 1px 3px "+w.options.formField.effect.invalidColor})};var C=function(O,Q,M){var N=w.report.getPaintCount(O);return function P(){if(N===1){Q(M);n.getChannel("viewer:onDrawPage").unsubscribe(P)}else{N--}}};this.removeBorder=function(){$("#m2soft-crownix-text .invalid-field, .crownix-layer-page .invalid-field").each(function(){if(!w.options.formField.effect.invalidColor){$(this).removeClass("invalid-field")}else{F($(this))}})};this.setBorder=function(M){$(M).each(function(){var N=$(this).parents("#m2soft-crownix-field-wrapper");if(!w.options.formField.effect.invalidColor){N.addClass("invalid-field")}else{F(N)}})};this.highlighting=function(V){var T=w.formLayerManager.isFloating();var ad=m(d,0);var S;var U=[];var M=[];var X="";var W=true;var P=true;if(!ad){this.removeBorder()}else{S=d[ad][m(d[ad],0)];for(var ah in S){var ag=A[ah];var ai=S[ah];var aa=[];var af=[];if(ag.message&&X.length===0){X=ag.message}if(ag.isValidRegExp===false&&W===true){W=false}for(var ab in ai){var N=w.formManager.getField(ah,ab);if(ag.invalid.indexOf(ab)>-1&&P&&N.type!=="fl"){P=false}ag.valid.indexOf(ab)>-1?aa.push(ab):af.push(ab)}if(aa.length>0){var ac=J(ah,ai,aa);if(ac.length>0){U.push(ac)}}if(af.length>0){var ac=J(ah,ai,af);if(ac.length>0){M.push(ac)}}}U=U.join(",");M=M.join(",")}this.setBorder(U);if(af&&af.length>0){var O=S[m(S,0)];var ae=O[m(O,0)];var Z=ae.elementId;var Y=this;var Q=function(){Y.setBorder(M);var al;var ak=Number.MAX_VALUE;var an=[];M.split(",").forEach(function(aq){var ap=$(aq).parents("#m2soft-crownix-field-wrapper");var ao=false;ap.each(function(){var ar=$(this).offset().top;if(ar<ak){ak=ar;al=$(this)[0];ao=true}});if(ao){B=ap}});if(!W){an.push(e.get("validate_invalid_regex"))}else{an.push(e.get(P&&X?X:"submit_fail_not_filled_required_form"))}if(w.options.showInvalid&&!T){an.push("<br/>");an.push(e.get("validate_invalid_count").replace("%d",A.invalidCount))}var am=function(){if(al){var ao;if(T){ao=w.layerManager.getLayer(ad).scroll;ao.refresh()}else{ao=w.scroll}ao.scrollToElement(al)}if(w.options.showInvalid&&!T){Y.makeTreeDom();w.slide.openSlide(D)}};if(w.options.textToSpeech.enable&&al){an=[e.get("not_filled_required_form").replace("%s",$(al).attr("title"))];m2soft.crownix.NativeInterface.textToSpeech(an.join(""));for(var aj=0;aj<B.length;aj++){if(w.options.formField.effect.type=="fill"){$(B[aj]).css({"box-shadow":"0 0 1px 3px "+w.options.textToSpeech.focusColor,"-webkit-box-shadow":"0 0 1px 3px "+w.options.textToSpeech.focusColor,"-moz-box-shadow":"0 0 1px 3px "+w.options.textToSpeech.focusColor})}else{$(B[aj]).css("background-color",w.options.textToSpeech.focusColor)}}}if(w.options.formField.showValidationAlert&&!c){c=true;w.dialog.show(an.join(""),{inputHandler:am,okHandler:function(){c=false}})}else{am()}};if(V){Y.makeTreeDom(V)}else{if(T){this.removeBorder();Q()}else{ad=w.report.getDestPageNum(ad);if(ad!==w.currentPage||w.options.scrollOptions.useInfiniteScroll){n.getChannel("viewer:onDrawPage").subscribe(C(ad,Q))}if(w.options.scrollOptions.useInfiniteScroll){w.documentScroller.scrollToPage(ad,w.documentScroller.drawVisiblePages.bind(null,true))}else{if(ad==w.currentPage){Q()}else{if(w.options.mirroring.enable){w.movePage(ad)}else{w.viewer.movePage(ad)}}}}}}};var L=function(M){var T=M.attr("type");var U=M.attr("formId");var S=M.attr("fieldId");var N=M.attr("inputtype");var P="crownix_form_field_"+U+"_"+S;var Q=function(){if(!(N&&N==="date")){$.crownixdatepicker._hideDatepicker()}};var V=function(){var W=$("#"+P);W.focus();if(T==="fl"){if($(".crownix-formfield-blink").length>0){$(".crownix-formfield-blink").removeClass("crownix-formfield-blink")}$("#"+P).addClass("crownix-formfield-blink")}Q()};var O=function(){var W;if(T==="rg"){W='input[name="'+U+"_"+S+'"]'}else{W="#"+P}if($(".crownix-formfield-blink").length>0){$(".crownix-formfield-blink").removeClass("crownix-formfield-blink")}Q();t.removeBorder();t.setBorder(W);z.getInstance().blinkOff();z.getInstance().focusHiddenTab()};if(w.options.mirroring.enable){m2soft.crownix.FieldOrder.getInstance().focus(P);if(!m2soft.crownix.FieldOrder.getInstance().exist(P)){w.mirroringManager.externalEvent.setFocus(P)}}if(T==="tf"||T==="ta"||T==="im"||T==="co"||T==="fl"||T==="cb"){V()}else{if(T==="rg"||T==="sg"||T==="pn"||T==="rec"){O()}}$("#invalid-container .active").removeClass("active");M.addClass("active")};var I=function(P){if(Math.abs(K.distY)>10){return}var N=$(P.target);var M=N.attr("pageno");t.removeBorder();var O=w.options.scrollOptions.useInfiniteScroll?w.documentScroller.getCurrentPageNumber():w.currentPage;if(O!=M){z.getInstance().setMovepageFlag(true);n.getChannel("viewer:onDrawPage").subscribe(C(M,L,N));if(w.options.scrollOptions.useInfiniteScroll){w.documentScroller.scrollToPage(M,w.documentScroller.drawVisiblePages.bind(null,true))}else{w.viewer.movePage(M)}}else{L(N)}if(w.options.slide.closeOnSelect){w.slide.closeSlide()}};var G=function(M){if(!K){K=new IScroll("#"+M,{scrollY:true,scrollX:true,scrollbars:true,freeScroll:true,interactiveScrollbars:true,mouseWheel:true,doubleTap:false,})}else{K.refresh()}};var E=function(M){if(Math.abs(K.distY)>10){return}M.preventDefault();M.stopPropagation();if(!$(M.currentTarget).hasClass("opened")){$(M.currentTarget).addClass("opened");$(M.currentTarget).siblings().addClass("opened")}else{$(M.currentTarget).removeClass("opened");$(M.currentTarget).siblings().removeClass("opened")}if(K){K.refresh()}};var H=function(){$(".invalid-page-inner").empty();for(var N in d){var T=m(d[N],0);var M=d[N][T];var Z=$(".invalid-page");var P;var V;for(var S=0;S<Z.length;S++){if(w.options.validateCheck.group=="title"&&$(Z[S]).attr("type")==T||$(Z[S]).attr("type")==N){P=$(Z[S]).children(".invalid-page-inner");V=$(Z[S]).children(".invalid-page-text");break}}for(var Y in M){var O=M[Y];for(var U in O){var W=O[U];if(w.options.showInvalid&&w.options.showInvalid.mergeNode&&(W.title===P.children("li:last").text())){continue}var X=$('<li class="invalid-title">');var N=w.report.getDestPageNum(W.page);var Q=W.elementId;X.attr("pageno",N);X.attr("formid",Y);X.attr("fieldId",U);X.attr("type",W.type);if(W.inputType){X.attr("inputtype",W.inputType)}X.text(W.title+(typeof w.options.validateCheck=="object"&&w.options.validateCheck.group=="title"?(" ("+N+"p)"):""));X.appendTo(P);X.on("click touchend",I)}}if(V){if(V.attr("format")){V.text(V.attr("format").replace(/{title}/gi,V.attr("title")).replace(/{page}/gi,V.attr("page")).replace(/{errcnt}/gi,P.children().length))}else{V.text(e.get("page_no").replace("%d",N)+(T?" - "+T:""))}}}};this.makeTreeDom=function(ab){var V="invalid-container";var O;if(!$("#invalid-wrapper").length){var N=$("<div>");var aa="invalid-wrapper";N.attr("id",aa);O=$('<div id="'+V+'">');O.appendTo(N);if(!D){D=w.slide.addSlideTab(e.get("validate_tab_title"),N)}}for(var M in d){var U=m(d[M],0);O=$("#"+V);if(O.children('[type="'+(w.options.validateCheck.group=="title"?U:M)+'"]').length){continue}var Y=$('<ul class="invalid-page" type="'+(w.options.validateCheck.group=="title"?U:M)+'" pageNo="'+M+'">');var T;var X=$('<span class="invalid-page-text">');var P=$('<ul class="invalid-page-inner">');if(typeof w.options.validateCheck=="object"&&ab){T=$('<label class="expanded">');T.on("click touchend",E);X.css({"margin-left":"0px","padding-inline-start":"0px","padding-inline-end":"40px",cursor:"pointer"}).attr({format:w.options.validateCheck.format,group:w.options.validateCheck.group,title:U,page:M}).on("click touchend",E);if(w.options.validateCheck.collapsed!==undefined&&!w.options.validateCheck.collapsed){X.addClass("opened");T.addClass("opened");P.addClass("opened")}}else{T=$('<div class="invalid-triangle">');P.addClass("opened")}T.appendTo(Y);X.appendTo(Y);P.attr("pageno",M).appendTo(Y);var W=O.children();if(!W.length){Y.appendTo(O)}else{var S;W.filter(function(ac,ad){if(parseInt(ad.getAttribute("pageNo"))<parseInt(M)){S=ad}});if(!S){Y.insertBefore(W.first())}else{Y.insertAfter(S)}}}H();var Z=$(".invalid-page-inner");for(var Q=0;Q<Z.length;Q++){if(!$(Z[Q]).children().length){$(Z[Q]).parents(".invalid-page").remove()}}G(aa)};this.removeTreeDom=function(){w.slide.removeTab(D);w.slide.closeSlide();K=null;D=null};this.getTabId=function(){return D};this.updateScroll=function(){K&&K.refresh()}};var a=function(F,E){var C=w.formLayerManager.isFloating()?E.layerId:w.report.getDestPageNum(E.page);var D=w.viewer.getDocumentTitle(w.report.findPage(C));if(d[C]===undefined){d[C]={}}if(d[C][D]===undefined){d[C][D]={}}if(d[C][D][F]===undefined){d[C][D][F]={}}d[C][D][F][E.id]=E};var r=function(E){var H=[];var C=[];var F="";var G=true;var L="";var K;for(var D in E){var J=E[D];var I=J.type;if(J===undefined){if(w.options.formField.showValidationAlert){w.dialog.show(e.get("formfield_not_exist"))}return}if(w.report.isRemovedPage(J.page)){continue}if(w.options.formField.skipValidation===true){K=C}else{if(J.validate()){if(I==="tf"||I==="ta"){J.validateRegEx();if(J.valid===false){G=false;K=H}else{K=C}}else{K=C}}else{if(I==="fl"){if(J.file){if(J.file.size===0){L="invalid_attached_file";K=H}}else{if(J.value){L=(w.shareManager&&w.shareManager.isConnected())?"invalid_submit_request":"invalid_attached_file";K=H}else{K=H}}}else{if(I==="rec"){if(J.file){if(J.file.size===0){L="record_no_file";K=H}}else{if(J.value){L=(w.shareManager&&w.shareManager.isConnected())?"invalid_audio_submit_request":"record_no_file";K=H}else{K=H}}}else{K=H}}}}K.push(D)}A.invalidCount+=H.length;return{valid:C,invalid:H,isValidRegExp:G,isInvalid:H.length>0||!G,message:L}};var h=function(J,M,E){var O={forms:[],files:{},submitFieldList:[],isInvalid:false};b();for(var L in J){var C=J[L];var H=C.fieldList;var F=[];A[L]=r(H);if(A[L].isInvalid){O.isInvalid=true}else{C.setFiles(O.files)}for(var I in H){var K=H[I];if(K.ignore){continue}if(A[L].invalid.indexOf(K.id)>-1){a(L,K)}if(E&&K.excludeSubmit=="1"){continue}if(!K.referenceId){F.push(K.toData())}O.submitFieldList.push({formId:L,fieldId:I})}var N=false;for(var G=0,D=O.forms.length;G<D;G++){if(L===O.forms[G].id){O.forms[G].fields=O.forms[G].fields.concat(F);N=true;break}}if(L.indexOf("-")>0){L=L.substring(0,L.indexOf("-"))}if(!N){O.forms.push({id:L,fields:F})}}if((w.options.showInvalid||w.options.validateCheck)&&O.isInvalid===false){t.removeTreeDom()}t.highlighting(M);return O};var g=function(L,E){var G=[];var C=[];var F=true;var K=w.formManager.getFields(L);for(var D in E){var I=K[D];if(I===undefined||w.report.isRemovedPage(I.page)){continue}var J=E[D];(w.options.formField.skipValidation||I.validate(J))?C.push(D):G.push(D)}for(var D in E){var I=K[D];var H=I.type;if(w.report.isRemovedPage(I.page)||w.options.formField.skipValidation){continue}if(H==="tf"||H==="ta"){var J=E[D];I.validateRegEx(J);if(I.valid===false){F=false}}}return{valid:C,invalid:G,isValidRegExp:F,isInvalid:G.length>0||!F}};var s=function(G,E){b();var C=w.formManager.getFields(G);A[G]=g(G,E);for(var D in C){var F=C[D];if(F.ignore){continue}if(A[G].invalid.indexOf(F.id)>-1){a(G,F)}}t.highlighting();return A[G]};j.prototype={validate:function(D){var C;if(D){if(D instanceof Array){var H={};var J=w.formManager.getFormList();for(var G in J){if(D.indexOf(G)!==-1){H[G]=J[G]}}C=H}else{C=D}}else{if(w.formLayerManager.isFloating()){var F=w.formLayerManager.getFormFieldIdList(true);var J=w.formManager.getFormList();var I={};for(var E in F){I[E]=J[E].clone();Object.keys(I[E].fieldList).forEach(function(K){if(F[E].indexOf(K)<0){delete I[E].fieldList[K]}})}C=I}else{C=w.formManager.getFormList()}}return h(C)},onSubmit:function(C){return h(C,false,true)},onExport:function(C){return h(C)},onCxopener:function(D,C){s(D,C);return A[D]},createInvalidList:function(){if(typeof w.options.validateCheck!=="object"&&w.options.validateCheck||w.options.validateCheck.type||(w.options.showInvalid&&t.getTabId())){return h(w.formManager.getFormList(),true)}},toggleSlide:function(C){this.createInvalidList();if(!d||(!w.slide.isSelectedTab(t.getTabId())&&w.slide.isOpen())){return}if(d[C]){w.slide.openSlide(t.getTabId())}},inactiveTitle:function(){if(t&&t.getTabId()){$("#invalid-container .active").removeClass("active")}},toggleInvalidField:function(D){if(w.options.validateCheck||(w.options.showInvalid&&t.getTabId())){clearTimeout(q);q=setTimeout(this.createInvalidList,300)}if(w.options.textToSpeech.enable&&B&&D){for(var C=0;C<B.length;C++){$(B[C]).css("background-color","")}B=null}},updateScroll:function(){if(t&&t.getTabId()){t.updateScroll()}}};return j})();m2soft.ns("m2soft.crownix.FormManager");m2soft.crownix.FormManager=(function(){var w=m2soft.crownix.Form;var O=m2soft.crownix.Field.Submit;var e=m2soft.crownix.Resource;var b=m2soft.crownix.Util;var d=m2soft.crownix.FormWrapper;var J=m2soft.crownix.FieldWrapper;var P=m2soft.crownix.FieldList;var s=m2soft.crownix.FieldOrder;var S=m2soft.crownix.LayerManagerWrapper;var g=m2soft.crownix.ChannelManager;var k=m2soft.crownix.Field.ComboBox;var K=m2soft.crownix.Field.SignatureGroup;var u=m2soft.crownix.GuideManager;var f;var A={};var N={};var q={};var n;var Q;var M;var l;var h;var z;var r;var t;var j=false;var a={};var E=false;var D={};var L=function(T){if(T.indexOf(".")>=0){var U=T.split(".");T=U[1]}return T};var I;var G=function(){I={moveFirstPage:f.viewer.moveFirstPage,moveLastPage:f.viewer.moveLastPage,movePage:f.viewer.movePage,prevPage:f.viewer.prevPage,nextPage:f.viewer.nextPage,hidePage:function(){f.report.removePage(arguments)},showPage:function(){f.report.restorePage(arguments)},expandGrid:function(T){return f.gridManager.expandDepth(T)},nextDepth:function(){return f.gridManager.nextDepth()},prevDepth:function(){return f.gridManager.prevDepth()},scanBarcodes:f.viewer.scanBarcodes,readNfcTag:f.viewer.readNfcTag}};var F=function(T){var U=T.formList;for(var V in U){if(A[V]){A[V].union(U[V])}else{A[V]=U[V].clone()}}};var B=function(T){var U=T.formList;for(var V in U){if(A[V]){A[V].complement(U[V]);if($.isEmptyObject(A[V].fieldList)){delete A[V]}}}};var C=function(T){for(var Z in T){if(A[Z]){var Y=T[Z].getFields();var ab=A[Z].getFields();var V={};for(var X in Y){if(Y[X].type=="rg"){for(var U in Y[X].buttonList){V[U]=Y[X].buttonList[U]}}}for(var X in Y){if(ab[X]){if(ab[X].type=="rg"){var W=ab[X].buttonList;for(var aa in V){if(W[aa]){throw new Error(e.get("form_duplicated_id_error")+"("+aa+")")}}}else{throw new Error(e.get("form_duplicated_id_error")+"("+X+")")}}}}}};var m=function(ah){var aa,ac=f.dialog;var U={target:"all",pageNo:[],formId:[],confirmDialog:true};if(E){return}ah=$.extend(true,{},U,ah);if(ah.target=="form"){if(!ah.formId.length){return ac.show(e.get("not_set_formId"))}for(var X=0,V=ah.formId.length;X<V;X++){var Y=ah.formId[X];if(A[Y]===undefined){return ac.show(e.get("not_exist_form").replace("%s",ah.formId[X]))}else{if(A[Y].isSubmitted){return ac.show(e.get("not_init_formField").replace("%s",ah.formId[X]))}}}ah.pageNo=[];aa=e.get("init_formField").replace("%s",ah.formId)}else{if(ah.target=="page"){if(!ah.pageNo.length){return ac.show(e.get("not_set_pageNo"))}for(var X=0,V=ah.pageNo.length;X<V;X++){var ag=ah.pageNo[X];if(f.totalPage<ag||ag<=0){return ac.show(e.get("not_exist_page").replace("%s",ah.pageNo[X]))}}ah.formId=[];aa=e.get("init_formField").replace("%s",e.get("page_no").replace("%d",ah.pageNo))}else{ah.formId=[];ah.pageNo=[];aa=e.get("init_all")}}for(var ae in A){if(A[ae].isSubmitted){continue}var af=ae;if(A[ae].isRepeated){af=ae.substring(0,ae.indexOf("-"))}if(ah.formId.indexOf(af)!=-1){ah.formId[ah.formId.indexOf(af)]=ae}var W=A[ae].fieldList;for(var ab in W){var ad=W[ab];if(ah.target=="page"){if(ah.pageNo.indexOf(ad.page)!=-1&&ah.formId.indexOf(ae)==-1){ah.formId.push(ae)}else{continue}}if(ah.target=="form"){if(ah.formId.indexOf(ae)!=-1&&ah.pageNo.indexOf(ad.page)==-1){ah.pageNo.push(ad.page)}else{continue}}if(ah.pageNo.indexOf(ad.page)==-1){ah.pageNo.push(ad.page)}if(ah.formId.indexOf(ae)==-1){ah.formId.push(ae)}}}if(ah.target!="page"){var Z=f.formLayerManager.getFormFieldIdList(true);if(!$.isEmptyObject(Z)){for(var T in Z){if(ah.target!="form"&&ah.formId.indexOf(T)==-1){ah.formId.push(T)}if(ah.pageNo.indexOf(undefined)==-1){ah.pageNo.push(undefined)}}}}if(!ah.confirmDialog){if(f.shareManager&&f.shareManager.isConnected()){f.shareManager.sendInitFormField({options:ah})}if(f.options.mirroring.enable){f.mirroringManager.externalEvent.initFormField(ah)}H(ah)}else{ac.show(aa,{type:"confirm",inputHandler:function(ai){if(ai){if(f.shareManager&&f.shareManager.isConnected()){f.shareManager.sendInitFormField({options:ah})}if(f.options.mirroring.enable){f.mirroringManager.externalEvent.initFormField(ah)}H(ah)}}})}};var H=function(U){for(var V=0,T=U.pageNo.length;V<T;V++){var W=f.report.getPage(U.pageNo[V]);f.layerManager.rebuildLayer(U.pageNo[V],U.formId);f.drilldownManager.rebuildDrilldown(U.pageNo[V],U.formId);f.formManager.isLoadComplete=false;if(U.target!="page"){f.formManager.buildFormField($(W),U.pageNo[V],undefined,undefined,undefined,true,U.formId)}else{f.formManager.buildFormField($(W),U.pageNo[V],undefined,undefined,undefined,true)}if(U.pageNo[V]==undefined){f.layerManager.refreshLayer(U.pageNo[V])}}f.redrawPage();for(var V=0,T=U.formId.length;V<T;V++){if(U.target=="page"||U.target=="form"){A[U.formId[V]].removePreventEvent()}else{A[U.formId[V]].onLoadComplete(f.formManager.getFormWrapper(U.formId[V]),I,new S(f))}}};var c=function(V,U,T){f=T;M=f.dialog;Q=f.viewer.movePage;l=f.mrdPath;h=f.mrdParam;z=f.mrdData;r=V;A={};N={};q={};t=U;G();this.validator=new m2soft.crownix.Validator(T);g.getChannel("formlayer:activate").subscribe(F);g.getChannel("formlayer:deactivate").subscribe(B)};c.prototype={submit:function(X){var Z=$(X.currentTarget).attr("formid");var W=$(X.currentTarget).attr("fieldid");var aa=A;var Y=Z+"."+W;var V=q[Y];var ab;if(V.isFloating){var U=f.formLayerManager.getFormListFromSubmit(V.id);aa={};for(var T in U){aa[T]=A[T].clone();Object.keys(aa[T].fieldList).forEach(function(ac){if(U[T].indexOf(ac)<0){delete aa[T].fieldList[ac]}})}}if(V.mode=="0"){ab=Object.keys(aa).length>1?null:this.getFormWrapper(Object.keys(aa)[0])}else{if(V.mode=="1"){ab=V.target.indexOf(",")>=0?null:this.getFormWrapper(V.target)}}f.emit("before-submit",ab);V.submit(r,M,aa,N,f)},addFormAttr:function(U){var T=U.id;if(T&&!N[T]){N[T]=U}},validateForm:function(U,T){return this.validator.onCxopener(U,T)},buildFormField:function(ac,ab,af,Z,aa,ai,U){var ae=this.isLoadComplete;var ah=this;var T=function(ak,aj){if(aj){return f.formLayerManager.getForm(aj,ak)}else{return A[ak]}};var V=function(ap,ak,al,ao){var aj;if(ap.indexOf("-")>0){var an=ap.substring(0,ap.indexOf("-"));aj=N[an];aj.isRepeated=true}else{aj=N[ap];aj.isRepeated=false}var am=new w(ap,f,aj);if(ah.batchSubmitted){am.isSubmitted=true}if(ak&&!f.formLayerManager.exist(ak,ap)){f.formLayerManager.add(ak,am,ao);if(al){if(f.formLayerManager.layerList[ak]){C(f.formLayerManager.layerList[ak].getFormList())}f.formLayerManager.activate(ak)}}else{A[ap]=am}return am};var X=[];var ag=function(aj){if(X.indexOf(aj)<0){X.push(aj)}};var W=function(){for(var aj in X){if(X[aj]){C(f.formLayerManager.layerList[X[aj]].getFormList())}f.formLayerManager.activate(X[aj])}};var ad=function(){var ao=$(this);var au=ao.attr("ty");var ax=ao.attr("fi");if(U!==undefined&&U.indexOf(ax)===-1){return}if(au=="co"&&ao.attr("ct")&&ao.attr("ct")!="0"){return}var ak=ao.closest("CL");var av=null;var aw=null;var am=aa&&aa.isFloating;if(ak.length>0){var al=ao.closest("LE");var aq=al.attr("id");av=!ai&&aq;ak.attr("si")==aq&&ag(av)}else{av=!ai&&aa&&aa.id;ag(av)}if(!ae){s.getInstance().push(ao,ab);u.getInstance().push(ao,ab)}if(au==="sm"){var ar=ao.attr("id");var at=ax+"."+ar;var ap=aa&&aa.mrdPath||l;var an=aa&&aa.mrdParam||h;q[at]=new O(ao,t,f.options,ap,an,z,am);if(av||am){f.formLayerManager.addSubmit(av,q[at],am)}}else{var aj=T(ax,av);if(!aj){aj=V(ax,av,aw,am)}aj.resetLoadingState();aj.putField(ao,ab,af,undefined,ai,aa)}};var Y=function(am){var al=am.tagName&&am.tagName.toUpperCase();if(al==="FF"){ad.call(am)}else{if(al==="CL"||al==="LY"){return}}var ak=$(am).children();if(ak.length>0){for(var aj=0,an=ak.length;aj<an;aj++){Y(ak[aj])}}};Y(ac);W()},"export":function(U){var W={formdata:{version:"1.2",form:[],formLayerList:null},};if(U===true){var T=this.validator.onExport(A);if(typeof T==="object"&&T.isInvalid===false){for(var X in A){var V=A[X];W.formdata.form.push(V["export"](U))}}else{throw e.get("submit_fail_not_filled_required_form")}}else{for(var X in A){var V=A[X];W.formdata.form.push(V["export"](U))}}W.formdata.formLayerList=f.formLayerManager["export"]();return W},"import":function(U){var V=U.formdata.form;for(var T in V){if(!A[V[T].id]){continue}A[V[T].id]["import"](V[T],U.formdata.version)}f.formLayerManager["import"](U.formdata.formLayerList)},getFormList:function(){return A},getHintingColor:function(W,U){var V=this.getField(W,U),T=f.options.formField.effect;if(T.type&&f.fieldEffector.isSupportType(V)){return{color:T.fieldColor,displayType:(T.type=="line")?"1":"2"}}if(!A[W]){return""}return A[W].getHintingColor(U)},getRequiredHintingColor:function(U,T){if(!A[U]){return""}return A[U].getRequiredHintingColor(T)},getField:function(U,T){if(!A[U]){return{}}return A[U].getField(T)},getFields:function(T){if(!A[T]){return{}}return A[T].getFields()},getSubmit:function(T){return q[T]},disableEdit:function(){for(var U in A){A[U].disableEdit()}for(var T in q){q[T].disableEdit()}},makeFormParameter:function(U,W){var T=[];T.push("/rformmode [0] ");T.push(W);T.push(" /rformdata ");for(var V in U){T.push(A[V].makeFormDataParameter())}T.push(this.makeNormalFieldDataParam(false));T.push(" /rforminfo ");for(var V in U){T.push(A[V].makeFormInfoParameter())}T.push(" /rformmode [0]");return T.join("")},modified:function(T){if(!j){j=true;if(f.options.formField.confirmOnPageOut===false){return}if(!f.options.mirroring.enable||!f.mirroringManager.externalEvent.isSubProcess()){$(window).bind("beforeunload",function(U){var V=e.get("confirm_page_out");(U||window.event).returnValue=V;return V})}}this.validator.toggleInvalidField(T);s.getInstance().skipTabOrder(T)},isModified:function(){return j},saved:function(){if(j){j=false;if(f.options.formField.confirmOnPageOut===false){return}$(window).unbind("beforeunload")}},getFormWrapper:function(U){for(var T in A){if(T===U){return new d(this,U)}}throw new Error(e.get("form_not_exist").replace("%s",U))},getFormWrapperList:function(){var T=[];for(var U in A){T.push(new d(this,U))}return T},getFieldWrapper:function(V,U){U=L(U);var T=this.getField(V,U);if(T){return new J(V,T,f)}else{return null}},getFieldWrapperList:function(Z,T){var ac=[],V=[],X=this.getFields(Z),aa;if(T.indexOf(".")>=0){var W=T.split(".");aa=W[0];T=W[1]}for(var Y in X){if(aa&&X[Y].type==="rg"&&Y.indexOf(aa+"-")===0){var U=X[Y].buttonList;for(var ab in U){if(ab.indexOf(T+"-")===0){V.push(ab)}}}else{if(Y.indexOf(T+"-")===0){V.push(Y)}}}V=V.sort(function(ad,ae){return ad.split("-")[1]-ae.split("-")[1]});for(var Y in V){ac.push(new J(Z,this.getField(Z,V[Y]),f))}return ac},getFieldWildcardList:function(aa,T){var ab=[],U=A[aa].getFields();for(var X in U){var Z=U[X];if(Z.type==="rg"){var W=Z.buttonList;for(var Y in W){var V=W[Y];if(b.wildcardRegExp(T).test(Y)){ab.push(new J(aa,V,f))}}}else{if(b.wildcardRegExp(T).test(X)){ab.push(new J(aa,Z,f))}}}return new P(ab)},bindEvent:function(){for(var T in A){A[T].bindEvent(this.getFormWrapper(T),I,new S(f))}},trigger:function(U,W,T){var V=A[W].getField(T);V.trigger(U,this.getFormWrapper(W),I,new S(f),f.dialog)},isLoadComplete:false,fireLoadCompleteEvent:function(){this.isLoadComplete=true;if(f.shareManager&&f.shareManager.isConnected()&&!f.shareManager.isHost()){return}for(var T in A){A[T].onLoadComplete(this.getFormWrapper(T),I,new S(f))}},checkFormLoadComplete:function(U){var T=A[U];return T?T.formLoadComplete:false},removePreventEvent:function(){for(var T in A){A[T].removePreventEvent()}},isAllFormSubmitted:function(){if(this.batchSubmitted===true){return true}for(var T in A){if(!A[T].isSubmitted){return false}}return true},submitForMethod:function(X,V,U,Z,T){var Y=$("<element>").attr({su:X,ds:V,sc:U,target:Z,cfn:T});var W=new O(Y,t,f.options,l,h,z);W.submit(r,M,A,N,f)},ignoreField:function(V,X){var W,U,T;for(W in A){T=A[W].getFields();for(W in T){field=T[W];if(field.page==V){field.ignore=X}}}},removeDrilldownField:function(V){var W,U,T;for(W in A){T=A[W].getFields();for(W in T){field=T[W];if(field.drilldownId===V){delete T[W]}}}},sendScript:function(T){if(f.shareManager&&f.shareManager.isConnected()){f.shareManager.sendScript(T)}},makeEnableSubmit:function(){var U={};var T=[];for(var aa in A){var V=A[aa].getFields();for(var X in V){var Z=V[X];var Y=Z.type;if((Y==="fl"||Y==="rec")&&Z.getEditable()&&Z.getRequired()){if(Y==="fl"&&!window.FormData){T.push(Z);U[Y]="not_support_file_append"}if(Y==="rec"&&!window.m2softFormFieldBridge.toAudioRecord){T.push(Z);U[Y]="not_support_audio_record"}}}}if(T.length>0){var ab=[];for(var W in U){ab.push(e.get(U[W]))}ab=ab.join("<br/>");M.show(ab,{inputHandler:function(){T.map(function(ac){ac.setRequired(false)})}})}},getUniqueObject:function(T){return a[T]},addUniqueObject:function(T,U){a[T]=U},initFormData:function(T){m(T)},initFields:function(T){H(T)},lock:function(){E=true},unlock:function(){E=false},getNormalField:function(V){var Y=V.attr("fi");var T=V.attr("id");var U=V.attr("idx");var Z=U?Y+"-"+T+"-"+U:Y+"-"+T;if(D[Z]){return D[Z]}else{var W=V.attr("ty");var X=null;if(W==="co"){X=new k(V)}if(X){D[Z]=X;return X}else{return null}}},makeNormalFieldDataParam:function(V){var T=[];for(var W in D){var U=D[W];T.push(W.split("-")[0]+"."+U.id);T.push("[");if(U.value){T.push(U.value)}T.push("] ")}if(V&&T.length>0){T.unshift(" /rformdata ")}return T.join("")},showGroupSign:function(V,U){if(f.license.isAllowedFeature("FormField")&&f.isFormEditMode){if(E){return}var T=m2soft.crownix.BatchSignWindow.getInstance(f);T.show(V,U)}else{M.show(e.get("unsupported_feature_without_formedit_mode"))}},getSignGroup:function(W){var V=[];for(var Y in A){if(A[Y].isSubmitted){continue}var U=A[Y].fieldList;for(var T in U){var X=U[T];if(X&&X.type=="sg"&&X.groupSignId&&X.groupSignId==W){if(X.editable!="1"){continue}V.push(X)}}}return new K(W,V,f)},validateFileFields:function(W){var U=A[W].fieldList;for(var T in U){var V=U[T];if(V.type=="fl"){if(!V.validate()){return false}}}return true},getFormDataValue:function(aa,Y){var W=Y;var V=f.options.formField.excludeOnFormData;for(var Z in A){if(aa&&aa.indexOf(Z)==-1){continue}var U=A[Z].fieldList;for(var T in U){var X=U[T];if(V&&(X.excludeOnFormData==="1")){continue}W+=Z+Y;W+=X.id+Y;W+=X.type+Y;if(X.type!=="rb"&&X.type!=="cb"){W+=X.getValue()+Y}else{W+=X.getSelected()+Y}}}W=W.substring(0,W.lastIndexOf(Y));return W},getDataValue:function(aa,T,Z){var W=Z;var V=f.options.formField.excludeOnFormData;for(var U=0;U<aa.length;U++){try{var Y=A[aa[U]].fieldList[T[U]];if(V&&(Y.excludeOnFormData==="1")){continue}if(Y.type!=="rb"&&Y.type!=="cb"){W+=Y.getValue()+Z}else{W+=Y.getSelected()+Z}}catch(X){return}}W=W.substring(0,W.lastIndexOf(Z));return W},setFormDataValue:function(Y,U,T){for(var V=0;V<Y.length;V++){var W=A[Y[V]];if(!W){return e.get("form_not_exist").replace("%s",Y[V])}var X=W.fieldList[U[V]];if(!X){return e.get("formfield_not_exist")+"("+U[V]+")"}if(X.type!=="rb"&&X.type!=="cb"){X.setValue(T[V])}else{X.setSelected(T[V])}}},getWithSign:function(V){var Y=[];for(var X in A){if(A[X].isSubmitted){continue}var U=A[X].fieldList;for(var T in U){var W=U[T];if(W&&W.type=="sg"&&W.withSignId&&W.withSignId==V){if(W.element.attr("da")=="1"){continue}if(W.commonHidden==="1"){continue}Y.push(W)}}}return new K(V,Y,f)},batchSubmitted:false,duplicateFormField:C};return c})();m2soft.ns("m2soft.crownix.FormField.Signature");m2soft.crownix.FormField.Signature=function(a,b){var c={lines:[],originWidth:a.originWidth,originHeight:a.originHeight,dpi:b.dpi||96};a=$.extend(true,c,a);this.lines=a.lines;this.originWidth=a.originWidth;this.originHeight=a.originHeight;this.ratioType=a.ratioType;this.dpi=a.dpi;this.formId=b.formId;this.fieldId=b.fieldId;this.scale=function(e,d){this.lines.forEach(function(f){f.forEach(function(h,g){h[0]=m2soft.crownix.Util.toFixed(h[0]*e,2);h[1]=m2soft.crownix.Util.toFixed(h[1]*d,2)})});this.originWidth=m2soft.crownix.Util.toFixed(this.originWidth*e,0);this.originHeight=m2soft.crownix.Util.toFixed(this.originHeight*d,0)};this.bounds=function(){var e=minY=Number.MAX_VALUE,g=maxY=Number.MIN_VALUE,f=this.originWidth,d=this.originHeight;this.lines.forEach(function(h){h.forEach(function(k,j){e=k[0]<0?0:(k[0]<e)?k[0]:e;minY=k[1]<0?0:(k[1]<minY)?k[1]:minY;g=k[0]>f?f:(k[0]>g)?k[0]:g;maxY=k[1]>d?d:(k[1]>maxY)?k[1]:maxY})});return{width:g-e,height:maxY-minY,minX:e,minY:minY,maxX:g,maxY:maxY,}};this.drawSignature=function(h,e){var g=0.05,d=this.lines,l=this.bounds(),C=l.width,r=l.height,z=h.width,f=h.height,q=z/C,t=f/r,u=h.getContext("2d"),e=e||{},n=b.fixedGuideText&&e.fixedGuideText?true:false,m,B,A,k,j;if(!e.drawLastLine){u.clearRect(0,0,z,f);if(d.length==0&&b.guideText||e.guideTextImageData){this.drawTextToCanvas(h,b.guideText);return}if(n){this.drawTextToCanvas(h,b.guideText)}}if(e.ratioType){C=this.originWidth;r=this.originHeight;q=z/C;t=f/r;k=this.getLineWidth(C,r);this.ratioType=true}else{if(q<t){q=t=q*(1-g*2);var B=-l.minX*q+z*g;var A=-l.minY*t+f/2-r*t/2;k=this.getLineWidth(l.width,l.height)}else{q=t=t*(1-g*2);var B=-l.minX*q+z/2-C*q/2;var A=-l.minY*t+f*g;k=this.getLineWidth(l.width,l.height)}this.ratioType=false}j=Math.min(t,q);if(e.dpi){var s=Math.ceil(z*96/e.dpi)/C,w=Math.ceil(f*96/e.dpi)/r;if(e.ratioType){j=Math.min(s,w)}else{if(s<w){j=s*(1-g*2)}else{j=w*(1-g*2)}}}if(k*j<1){k=Math.ceil(1/j)}u.save();u.strokeStyle="#000000";u.lineWidth=k;u.lineJoin="round";u.lineCap="round";u.translate(B,A);u.scale(q,t);u.beginPath();u.rect(0,0,l.maxX+k/2,l.maxY+k/2);u.closePath();u.clip();d.forEach(function(E,D){if(e.drawLastLine&&(D!=d.length-1)){return}E.forEach(function(I,F){if(I[2]){u.lineWidth=k*I[2]}if(F==0){u.beginPath();u.moveTo(I[0],I[1])}else{if(F==E.length-1){u.lineTo(I[0],I[1]);u.stroke()}else{var H=(I[0]+E[F+1][0])/2,G=(I[1]+E[F+1][1])/2;u.quadraticCurveTo(I[0],I[1],H,G);u.stroke();u.closePath();u.beginPath();u.moveTo(H,G)}}})});u.restore()};this.toData=function(h,d,g){var e=document.createElement("canvas"),g=g||{},f=g.dpi||96;e.width=h*f/96;e.height=d*f/96;this.drawSignature(e,g);return e.toDataURL("image/png")};this.reset=function(g){var d=g.width,f=g.height,e=g.getContext("2d");e.clearRect(0,0,d,f);this.originWidth=g.width;this.originHeight=g.height};this.getLineWidth=function(e,f){var d;if(b.lineWidth){d=b.lineWidth}else{d=Math.min(e,f)/40}return Math.min(d,b.maxLineWidth)};this.drawTextToCanvas=function(r,l,m){var e=$.extend(true,$.extend({},b),m),f=r.width/e.width,k=r.height/e.height,d=r.width,n=r.height,h=0,g=0,q,j;q=r.getContext("2d");if(e.redraw){q.clearRect(0,0,d,n)}q.save();j=new m2soft.crownix.Canvas(r);if(f<k){k=f;g=r.height/2-e.height*k/2;n=g+e.height*k}else{f=k;h=r.width/2-e.width*f/2;d=h+e.width*f}if(e.guideTextStyle.originFontSize){e.guideTextStyle.fontSize=parseInt(e.guideTextStyle.originFontSize)*k+"pt"}j.drawText(l,h+2,g+2,d-2,n-2,e.guideTextStyle);q.restore();return j.toDataURL()}};m2soft.crownix.FormField.Signature.prototype.SetPressure=function(a){m2soft.crownix.FormField.Signature.prototype.pressure=a};m2soft.ns("m2soft.crownix.FormField.Sign");m2soft.crownix.FormField.Sign=function(w,t){var e=m2soft.crownix.Resource;var G=$("#"+w);var z=G.width(),r=G.height()||G.height()*0.4,u=[],h;var A='<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  fill="rgb(159, 159, 159)" d="M9.841,0.600 C9.831,0.595 9.825,0.587 9.815,0.583 C8.977,0.216 8.054,0.008 7.083,-0.002 C7.079,-0.002 7.077,-0.002 7.074,-0.002 C7.072,-0.002 7.071,-0.002 7.069,-0.002 C6.915,-0.003 6.764,0.003 6.612,0.013 C6.506,0.018 6.402,0.029 6.297,0.039 C6.280,0.041 6.264,0.042 6.247,0.044 L6.247,0.045 C5.022,0.179 3.888,0.626 2.936,1.311 L2.251,0.302 L1.250,4.516 L5.454,4.062 L4.590,3.248 C5.132,2.896 5.753,2.661 6.420,2.572 C6.420,2.572 6.832,2.548 7.044,2.550 C9.525,2.575 11.516,4.606 11.492,7.087 C11.467,9.568 9.435,11.559 6.955,11.534 C4.474,11.510 2.483,9.479 2.507,6.997 C2.509,6.781 2.532,6.570 2.564,6.362 L0.171,5.458 C0.064,5.933 0.003,6.424 -0.002,6.930 C-0.041,10.798 3.063,13.964 6.930,14.002 C10.797,14.040 13.963,10.937 14.002,7.070 C14.030,4.189 12.315,1.700 9.841,0.600 Z"/></svg>';var q=0.01;var a={dpi:96,width:G.width(),height:G.height(),lineWidth:undefined,maxLineWidth:8,lineCount:0,guideText:"",guideTextStyle:{shade:false,underLine:false,lineThrough:false,adjustFontSize:false,adjustFontScale:true,fillStyle:"#CCCCCC",fontFamily:"Arial, sans-serif",fontSize:"25pt",fontStyle:"",fontWeight:"",textAlign:"center",textBaseline:"middle"},showResetButton:true,showStrokeMessage:true,fixedGuideText:false,isPreventEvent:false,onChangeCanvas:undefined,onChangeValue:undefined,onDrawStart:undefined,resizeCanvasValue:undefined,penEventSkipTime:0};var n=$.extend(true,a,t);var s=new m2soft.crownix.FormField.Signature({originWidth:G.width(),originHeight:G.height()},n);var f=function(H){return(H<=0||u.length>=H)};var D=function(H){if(!f(H)){return k.show()}else{return k.hide()}};var j=function(P){var O=m2soft.crownix.Util.ActionEvents;var K=P,J=K.getContext("2d"),L=false,U=this,I=[],N=J.lineWidth;var T={x:-1,y:-1},S={x:-1,y:-1},M={x:-1,y:-1};var Q,H=0;this.mousedown=function(W){if(W.type=="pointerdown"&&!W.originalEvent.isPrimary){return}if(L){u.push(I)}I=[];W.preventDefault();W.stopPropagation();if(n.isPreventEvent){return}T.x=m2soft.crownix.Util.toFixed(W.originalEvent.pageX-$(P).offset().left,2);T.y=m2soft.crownix.Util.toFixed(W.originalEvent.pageY-$(P).offset().top,2);if(!n.fixedGuideText&&u.length==0){c()}var V=m2soft.crownix.FormField.Signature.prototype.pressure;if(V>=0){h=(V+q)*2}else{if(W.originalEvent&&W.originalEvent.pointerType=="pen"){h=(W.originalEvent.pressure+q)*2}else{h=1}}Q=h;I.push([T.x,T.y,h]);J.lineWidth=N*h;J.beginPath();J.moveTo(T.x,T.y);$(window).on(O.move,U.mousemove);$(window).on(O.end,U.mouseup);if(typeof n.onDrawStart==="function"){n.onDrawStart(W)}if(typeof n.onFocusField=="function"){n.onFocusField(s)}};this.mousemove=function(X){if(X.type=="pointermove"&&!X.originalEvent.isPrimary){return}var V=X.timeStamp;if(typeof V!=="undefined"&&(n.penEventSkipTime>0)&&(V-H<n.penEventSkipTime)){return}H=V;L=true;X.preventDefault();X.stopPropagation();S.x=X.originalEvent.pageX-$(P).offset().left;S.y=X.originalEvent.pageY-$(P).offset().top;M.x=m2soft.crownix.Util.toFixed((T.x+S.x)/2,2);M.y=m2soft.crownix.Util.toFixed((T.y+S.y)/2,2);if(T!=S){J.quadraticCurveTo(T.x,T.y,M.x,M.y);J.stroke();J.closePath();T.x=S.x;T.y=S.y;var W=m2soft.crownix.FormField.Signature.prototype.pressure;if(W>=0){h=(W+q)*2}else{if(X.originalEvent&&X.originalEvent.pointerType=="pen"){h=(X.originalEvent.pressure+q)*2}else{h=1}}h=(Q+h)/2;I.push([S.x,S.y,h]);J.lineWidth=N*h;J.beginPath();J.moveTo(M.x,M.y);Q=h}};this.mouseup=function(V){$(window).off(O.move,U.mousemove);$(window).off(O.end,U.mouseup);if(L){V.preventDefault();L=false;u.push(I);s.lineCheck=f(n.lineCount);s.lines=u;s.originWidth=$(K).width();s.originHeight=$(K).height();if(n.showStrokeMessage){D(n.lineCount)}if(typeof n.onChangeValue=="function"){n.onChangeValue(s)}}m2soft.crownix.FormField.Signature.prototype.pressure=undefined};this.on=function(){$(K).on(O.start,this.mousedown)};this.off=function(){$(K).off(O.start,this.mousedown)}};var l=function(O){var K=O,J=K.getContext("2d"),L=false,P=false,T=this,I=[],N=J.lineWidth,H=0;var S={x:-1,y:-1},Q={x:-1,y:-1},M={x:-1,y:-1};this.touchstart=function(X){I=[];X.preventDefault();X.stopPropagation();P=true;setTimeout(function(){P=false},250);if(P&&n.isFormFieldScript){var W=X.target,V=document.createEvent("MouseEvents");V.initMouseEvent("click",true,true,X.view,1,W.screenX,W.screenY,W.clientX,W.clientY,X.ctrlKey,X.altKey,X.shiftKey,X.metaKey,0,null);V._constructed=true;W.dispatchEvent(V)}if(n.isPreventEvent){return}var U=X.touches[0];S.x=m2soft.crownix.Util.toFixed(U.pageX-$(U.target).offset().left,2);S.y=m2soft.crownix.Util.toFixed(U.pageY-$(U.target).offset().top,2);if(!n.fixedGuideText&&u.length==0){c()}I.push([S.x,S.y,1]);J.lineWidth=N;J.beginPath();J.moveTo(S.x,S.y);K.addEventListener("touchmove",T.touchmove,false);K.addEventListener("touchend",T.touchend,false);if(typeof n.onDrawStart==="function"){n.onDrawStart(X)}};this.touchmove=function(W){L=true;var U=W.timeStamp;if(typeof U!=="undefined"&&(n.penEventSkipTime>0)&&(U-H<n.penEventSkipTime)){return}H=U;W.preventDefault();W.stopPropagation();P=false;var V=W.touches[0];Q.x=V.pageX-$(V.target).offset().left;Q.y=V.pageY-$(V.target).offset().top;M.x=m2soft.crownix.Util.toFixed((S.x+Q.x)/2,2);M.y=m2soft.crownix.Util.toFixed((S.y+Q.y)/2,2);if(S!=Q){J.quadraticCurveTo(S.x,S.y,M.x,M.y);J.stroke();J.closePath();S.x=Q.x;S.y=Q.y;I.push([Q.x,Q.y,1]);J.lineWidth=N;J.beginPath();J.moveTo(M.x,M.y)}};this.touchend=function(U){K.removeEventListener("touchmove",T.touchmove,false);K.removeEventListener("touchend",T.touchend,false);if(L){U.preventDefault();L=false;u.push(I);s.lineCheck=f(n.lineCount);s.lines=u;s.originWidth=$(K).width();s.originHeight=$(K).height();if(n.showStrokeMessage){D(n.lineCount)}if(typeof n.onChangeValue=="function"){n.onChangeValue(s)}}};this.on=function(){K.addEventListener("touchstart",this.touchstart,false)}};var F=function(){if(n.isPreventEvent){return}c();C();if(n.guideText){s.drawTextToCanvas(b[0],n.guideText)}s.lineCheck=true;if(n.showStrokeMessage){D(0)}if(typeof n.onChangeValue==="function"){n.onChangeValue(s)}};var c=function(){b[0].getContext("2d").clearRect(0,0,b.width(),b.height())};var C=function(){u=[];s.lines=[]};G.css({position:"relative"});var b=$("<canvas>").css({position:"absolute",width:z,height:r,border:"1px solid","touch-action":"none"}).attr({width:z,height:r}).appendTo(G);var g=b[0].getContext("2d");g.strokeStyle="#000000";g.lineWidth=s.getLineWidth(z,r);g.lineJoin="round";g.lineCap="round";var B=$("<div>").css({position:"absolute","float":"right","font-weight":"bold",padding:"5px",cursor:"pointer",right:"1%",top:0}).attr({id:"crownix-signature-reset-button"}).on("click",F).appendTo(G);$(A).css({width:"14px",height:"25px",padding:"1px 5px"}).appendTo(B);var m=$("<span>").text(e.get("clear_sign")).css({color:"#919191","font-size":"11pt"});$("<div>").css({height:"25px",display:"inline-block","line-height":"25px","vertical-align":"top"}).append(m).appendTo(B);if(!n.showResetButton){B.hide()}if(n.showStrokeMessage){var k=$("<div>").addClass("crownix-line-validity-message").css({position:"absolute",display:"none",color:"#CD0A0A",right:0,bottom:0,padding:"3px","font-size":"10pt","pointer-events":"none"}).text(e.get("unqualified_stroke")).appendTo(G)}if(typeof n.onChangeCanvas==="function"){n.onChangeCanvas(b,n)}if(n.guideText){s.drawTextToCanvas(b[0],n.guideText)}if(n.signature){s=new m2soft.crownix.FormField.Signature(n.signature,n);u=s.lines;widthRatio=$(b).width()/s.originWidth;heightRatio=$(b).height()/s.originHeight;s.scale(widthRatio,heightRatio);s.drawSignature(b[0],{ratioType:true,fixedGuideText:n.fixedGuideText,guideText:n.guideText,option:n})}if("ontouchstart" in window&&!(/hp-tablet/gi).test(navigator.appVersion)&&!window.PointerEvent){var E=new l(b[0]);E.on()}else{var d=new j(b[0]);d.on()}this.getValue=function(){if(!f(n.lineCount)&&!n.showStrokeMessage){throw e.get("unqualified_stroke")}var H=n&&n.width?n.width:G.width(),I=n&&n.height?n.height:G.height();return s.toData(H,I,{ratioType:true,dpi:n.dpi||96})};this.reset=function(){F()};this.redrawSignToCanvas=function(){if(typeof n.resizeCanvasValue=="function"){n.resizeCanvasValue(s)}g.lineWidth=s.getLineWidth(G.width(),G.height());g.lineJoin="round";g.lineCap="round"};this.getSignature=function(){return s}};m2soft.ns("m2soft.crownix.FormField.ScrollPen");m2soft.crownix.FormField.ScrollPen=function(G,c,E){var h=m2soft.crownix.Resource,k=m2soft.crownix.Util,e=m2soft.crownix.resource.Icon,J=$("#"+G),f=J.width(),H=J.height(),d=c,F={width:f,height:H,scrollbarSize:30,scrollbarColor:"#808B96",scrollbarBackground:"#EAECEE",onScrolling:undefined,autoScrolling:{timeout:800,onAutoScrolled:undefined}},B=$.extend(true,F,E),g,b,t,l;if(B.scrollbarSize<0){B.scrollbarSize=0}else{if(B.scrollbarSize>H/3){B.scrollbarSize=H/3}}var N=function(){var T=m2soft.crownix.Util.ActionEvents,U=j[0],V=s[0],W=m(),X,S=false;var Y=$("<div>").attr({id:G+"-auto"}).addClass("crownix-scrollPen-auto").css({top:"0px",right:"0px",width:f/3,height:$(V).height()}).prependTo(j);var Q=$(e.SCROLL_RIGHT).css({visibility:"visible",height:"30px",opacity:"0.5",fill:"#0099FF",stroke:"#0099FF",color:"#0099FF","float":"right","margin-right":"2px"}).appendTo(Y);var Z=function(){var ac=W.characters,ae=($(V).width()-$(U).width())*t.x/t.maxPosX,ab=[];for(var ad=0;ad<ac.length;ad++){var af=ac[ad];if(af.character===" "){continue}if(af.left>=(ae-10)&&(af.left+af.width)<=(ae+$(U).width()+10)){ab.push(af)}}return ab};var P=function(af){if(S){return}X=clearTimeout(X);var ah=a(),ae=($(V).width()-$(U).width())*t.x/t.maxPosX,ag=Z();if(ag.length==0){return}var ac=ag[ag.length-1],ab=ac.left-ae,ad=ab+(ac.width/2);if(ac.index>=W.length-1){return}if(ah<ad){ad=ah}if(ad<=0){return}Y.css({width:$(U).width()-ab});if(af-ae>=ab){Y.fadeIn();O(Q);X=setTimeout(function(){Y.fadeOut();aa(Q);S=g.isPreventEvent=true;b.scrollBy(-ad,0,500);setTimeout(function(){S=g.isPreventEvent=false},500);if(typeof B.autoScrolling.onAutoScrolled==="function"){B.autoScrolling.onAutoScrolled(A(b.indicators[0]))}},B.autoScrolling.timeout)}else{Y.fadeOut();aa(Q)}};var O=function(ab){if(ab.cyclicFadeInterval){return}ab.cyclicFadeInterval=setInterval(function(){var ac=ab.css("display");if(ac==="none"){ab.fadeIn(200)}else{ab.fadeOut(200)}},400)};var aa=function(ab){if(!ab.cyclicFadeInterval){return}clearInterval(ab.cyclicFadeInterval);ab.cyclicFadeInterval=null;ab.css({display:"none"})};this.pauseAutoScroll=function(){Y.fadeOut();X=clearTimeout(X);aa(Y)};this.inputPen=function(ab){if(!ab){X=clearTimeout(X)}else{P(ab)}};setTimeout(function(){if(W.text.length>0){b.scrollTo(-Math.min(Math.max(0,W.left),a()),0,500)}if(typeof B.autoScrolling.onAutoScrolled==="function"){B.autoScrolling.onAutoScrolled(A(b.indicators[0]))}},300)};var a=function(){return(t.maxPosX-t.x)*(s.width()-j.width())/t.maxPosX};var A=function(O){return{wrapperWidth:O.wrapperWidth,wrapperHeight:O.wrapperHeight,maxPosX:O.maxPosX,maxPosY:O.maxPosY,x:O.x,y:O.y}};var q=function(P){var O=K.getSignature();return(P<=0||O.lines.length>=P)};var L=function(O){if(!q(O)){return u.show()}else{return u.hide()}};var m=function(){var X=C/B.height,O=d.fontStyle,ac=parseInt(O.originFontSize)*X+"pt",Z=1,aa=d.element.attr("bt")||d.element.attr("ph")||"",Q=0,W=0,Y=d.fontStyle.textAlign,U=[],S=document.createElement("canvas"),ad=S.getContext("2d");ad.font=[O.fontStyle,O.fontWeight,ac,O.fontFamily].join(" ");ad.textBaseline=O.textBaseline;ad.textAlign=O.textAlign;var ab=(typeof O.letterSpacing==="number")?O.letterSpacing:0;Q=ad.measureText(aa).width+(ab*(aa.length-1));if(Q>M-4){Z=(M-4)/Q,Q=M-4,ab*=Z}if(Y==="center"){W=(s.width()/2)-(Q/2)}else{if(Y==="right"){W=s.width()-Q}}for(var V=0,T=W;V<aa.length;V++){if(V>0){T+=(ab+U[V-1].width)}var P=ad.measureText(aa[V]).width*Z;U.push({index:V,character:aa[V],left:T,width:P})}return{text:aa,length:aa.length,width:Q,left:W,letterSpacing:ab,characters:U}};var w=H/B.height;var M=B.width*w,C=B.height*w;if(M>=f){M*=(C-B.scrollbarSize)/C,C-=B.scrollbarSize}var j=$("<div>").attr({id:G+"-wrapper"}).css({position:"relative",width:f,height:H,overflow:"hidden","touch-action":"none"}).appendTo(J);var s=$("<div>").attr({id:G+"-input"}).css({position:"absolute",width:M,height:C,}).appendTo(j);var K=new m2soft.crownix.FormField.Sign(G+"-input",{width:B.width,height:B.height,dpi:B.dpi,guideText:d.element.attr("bt")||d.element.attr("ph"),guideTextStyle:d.fontStyle,showResetButton:false,showStrokeMessage:false,fixedGuideText:d.element.attr("bt")||false,signature:d.signature,penEventSkipTime:B.penEventSkipTime,onChangeCanvas:function(P,O){g=O;P.css({border:"0px"});if(typeof B.onChangeCanvas==="function"){B.onChangeCanvas(P,O)}},onChangeValue:function(P){if(P.lines.length>0){L(B.lineCount)}if(l){var O=P.lines[P.lines.length-1];if(O){l.inputPen(O[O.length-1][0])}}if(typeof B.onChangeValue==="function"){B.onChangeValue(P)}},onDrawStart:function(O){if(l){l.inputPen(false)}}});if(M>=f){var r={scrollX:true,scrollY:false,scrollbars:"custom",disableMouse:true,disablePointer:true,disableTouch:true,interactiveScrollbars:true};b=new IScroll("#"+j.attr("id"),r);t=b.indicators[0];b.on("scrollMove",function(){if(l){l.pauseAutoScroll()}if(typeof B.onScrolling==="function"){B.onScrolling(A(t))}});s.siblings(".iScrollHorizontalScrollbar").removeClass("iScrollHorizontalScrollbar").addClass("crownix-scrollPen-scrollbar").css({height:B.scrollbarSize,});var n=$(b.indicators[0].indicator).addClass("crownix-scrollPen-indicator").css({"border-radius":B.scrollbarSize/2+"px",});var D=B.scrollbarSize/10;if(n.width()>=B.scrollbarSize+(D*2)){$(e.SCROLL_LEFT).css({"float":"left","margin-left":D,"margin-right":"0px",width:B.scrollbarSize/2}).appendTo(n);$(e.SCROLL_RIGHT).css({"float":"right","margin-left":"0px","margin-right":D,width:B.scrollbarSize/2}).appendTo(n)}if(B.showResetButton){var I=$("<div>").css({position:"absolute","float":"right","font-weight":"bold",padding:"5px",cursor:"pointer",right:"1%",top:0}).on("click",K.reset).appendTo(J);$(e.RESET_ICON).css({width:"14px",height:"25px",padding:"1px 5px"}).appendTo(I);var z=$("<span>").text(h.get("clear_sign")).css({color:"#919191","font-size":"11px"});$("<div>").css({height:"25px",display:"inline-block","line-height":"25px","vertical-align":"top"}).append(z).appendTo(I)}if(B.autoScrolling.timeout>0){l=new N()}}J.css({position:"relative"});var u=$("<div>").addClass("crownix-line-validity-message").css({position:"absolute",display:"none",color:"#CD0A0A",right:0,bottom:B.scrollbarSize,padding:"3px","font-size":"10pt","pointer-events":"none"}).text(h.get("unqualified_stroke")).appendTo(J);this.getFormFieldSign=function(){return K}};m2soft.ns("m2soft.crownix.FormField.KeyboardPen");m2soft.crownix.FormField.KeyboardPen=function(e,g,n){var l=g,j=$("#"+e);if(!l){throw"GUIDE_TEXT_NOT_FOUND"}var h=(new m2soft.crownix.KoreanAutomata).disassemble(l).split("");var k={autoComplete:0,onReady:undefined,onIncorrect:undefined,onCorrect:undefined,onFinished:undefined};var q=$.extend(true,k,n);var d=function(z,r){if(!z){return true}var w=(new m2soft.crownix.KoreanAutomata).disassemble(z).split("");if(w.length>h.length){return false}for(var u=0;u<w.length;u++){var s=h[u],t=w[u];if(s!==t){return false}}if(q.autoComplete>0){if(w.length>=h.length*q.autoComplete/100){b.show()}else{b.hide()}}if(w.length===h.length){r()}return true};var c=function(){f.val(l);b.hide();if(typeof q.onFinished==="function"){q.onFinished()}};var a=$("<div>").css({width:"100%",height:"100%"}).appendTo(j);var f=$("<input>").attr({type:"text",placeHolder:l}).css({width:"100%",height:"50%","text-align":"center"}).bind("input",function(){if(d(f.val(),c)){if(typeof q.onCorrect==="function"){q.onCorrect(f.val())}}else{if(typeof q.onIncorrect==="function"){q.onIncorrect()}}}).appendTo(a);var m=$("<div>").css({width:"100%",height:"40%"}).appendTo(a);var b=$("<span>").css({margin:"3px 0",padding:"2px",color:"blue",overflow:"hidden",border:"1px solid blue","float":"right","max-width":"50%","font-size":"8pt","border-radius":"3px","white-space":"nowrap","text-overflow":"ellipsis"}).bind("click tap",c).text(l).appendTo(m).hide();if(typeof q.onReady==="function"){q.onReady(f)}};m2soft.ns("m2soft.crownix.GuideWindow");m2soft.crownix.GuideWindow=function(Q){var C=m2soft.crownix.GuideManager.getInstance(q),l=m2soft.crownix.Resource,k=m2soft.crownix.resource.Icon,d=m2soft.crownix.Util,f=m2soft.crownix.Constant;var q=Q,G=$("#"+f.CONTAINER_ID);textDom=G.find("#m2soft-crownix-text");var c,J,V,u,h,L,B,N,r,b,S,I,s,T,W,n;var z=10;var P=ERROR_HEIGHT=FOOTER_HEIGHT=40,j=q.options.guideWindow.width,H=q.options.guideWindow.height,K=q.options.guideWindow.headerColor,F=q.options.guideWindow.bodyColor,Y=q.options.guideWindow.buttonColor,X=q.options.guideWindow.submitColor,A=0,E=1;if(isNaN(j)||j<=0){j=250}if(isNaN(H)||H<P+ERROR_HEIGHT+FOOTER_HEIGHT){H=200}var D=function(){u.addClass("crownix-shake-animation");u.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){u.removeClass("crownix-shake-animation");u.off("webkitAnimationEnd oanimationend msAnimationEnd animationend")})};var e=this.validateValue=function(){if(!C.isEnabled){return}var ab=q.formManager.getField(c.formID,c.type=="rb"?c.groupID:c.fieldID);var aa=false;if(ab.type=="tf"){ab.validateRegEx()}var Z=function(){if(!ab.value){return true}var ac;if(c.inputType=="email"){ac=d.REGEXP_EMAIL}else{if(c.inputType=="url"){ac=d.REGEXP_URL}else{if(c.inputType=="tel"){ac=d.REGEXP_TEL}else{if(c.inputType=="number"){ac=d.REGEXP_NUMBER}else{return true}}}}return ac.test(ab.value)};if(Z()){S.html("")}else{S.html(l.get("input_type_error"));aa=true}if(ab.valid==false){$(".crownix-field-warning-box").hide();b.html(c.validityMessage);aa=true}else{b.html("")}return aa};var w=function(){var Z=q.formManager.getField(c.formID,c.type=="rb"?c.groupID:c.fieldID);if(((!Z.value&&Z.type!="rg")||(c.type=="cb"&&Z.value=="0")||(Z.type=="rg"&&!Z.selectedId))&&c.required=="1"){q.dialog.show(l.get("guide_required_input"),{type:"toast",time:1.5,});return true}return false};var m=function(){var Z=function(ac){textDom=$("#"+c.id).parents("#"+f.TEXT_ID);textDom.off("DOMSubtreeModified");V=$("<div>").addClass("crownix-guide-overlay").on("touchstart pointerdown mousedown",function(ad){if(c&&(!c.type=="tf"||!c.inputType=="date")){ad.stopPropagation();ad.preventDefault()}m2soft.crownix.FieldOrder.getInstance().blur()}).appendTo(ac?ac:textDom);if(!q.textOnCanvas&&!q.options.scrollOptions.useInfiniteScroll){m2soft.crownix.Forgery.detect(textDom,document.getElementById(f.CANVAS_ID),q.isFormEditMode)}};if(q.options.scrollOptions.useInfiniteScroll){var ab=$(".crownix-text");for(var aa=0;aa<ab.length;aa++){if($(ab[aa]).children(".crownix-guide-overlay").length){$(ab[aa]).children(".crownix-guide-overlay").fadeIn(500)}else{Z(ab[aa])}}}else{if($(".crownix-guide-overlay").length){$(".crownix-guide-overlay").fadeIn(500)}else{Z()}}};var M=function(){if(c.type==="sm"){T.appendTo(s)}else{T.detach()}J=$("#"+c.id).parents("#m2soft-crownix-field-wrapper")[0];if(q.scroll.scrollerHeight>q.scroll.wrapperHeight){q.scroll.scrollToElementWithFrame(J,500,J.offsetHeight+u.height())}else{q.scroll.scrollToElement(J,500)}t()};var O=function(){$(".crownix-guide-canvas").remove();$(".crownix-guide-overlay").css({background:"rgba(0, 0, 0, 0.3)","border-style":"none"});if(q.options.scrollOptions.useInfiniteScroll){var Z=function(){m();M();q.scroll.enabled=false};if(q.documentScroller.isLoaded(c.page)){Z()}else{if(c.page!=q.documentScroller.getCurrentPageNumber()){q.viewer.movePage(q.report.getDestPageNum(c.page));m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribe(function(){if(!C.isEnabled){return}if(c.page!==q.documentScroller.getCurrentPageNumber()){q.viewer.movePage(q.report.getDestPageNum(c.page))}else{Z()}})}else{q.documentScroller.scrollToPage(q.report.getDestPageNum(c.page),Z)}}}else{if(c.page!=q.currentPage){g();q.toolbar.enable();q.scroll.enabled=true;q.viewer.movePage(q.report.getDestPageNum(c.page));q.toolbar.disable();q.toolbar.enableToolbarItem(["guide"])}else{M()}}};var a=function(){if($(".crownix-guide-window").length){n.fadeIn(500)}else{n=$("<div>").css({position:"absolute",left:0,top:0}).on("touchstart pointerdown mousedown",function(ag){if(c&&(!c.type=="tf"||!c.inputType=="date")){ag.stopPropagation();ag.preventDefault()}m2soft.crownix.FieldOrder.getInstance().blur()}).appendTo(G);u=$("<div>").css({position:"absolute",width:j,height:H,transition:"left 0.5s, top 0.5s"}).addClass("crownix-guide-window").appendTo(n);h=$("<div>").addClass("crownix-guide-header").css({position:"relative",left:0,top:0,width:j,height:P,background:K,"border-radius":"5px 5px 0px 0px",}).appendTo(u);var af=$("<div>").css({position:"absolute",width:j-(P+10),height:P,"white-space":"nowrap",overflow:"hidden"}).appendTo(h);L=$("<span>").addClass("crownix-guide-span").css({"font-size":"12pt","text-overflow":"ellipsis",overflow:"hidden"}).appendTo(af);var ae=$("<div>").css({"float":"right",cursor:"pointer",width:P+10,height:P,}).append($("<img>").attr("src",k.CLOSE_BUTTON).css("margin",P/4)).on("click touchstart",C.close).appendTo(h);B=$("<div>").addClass("crownix-guide-body").css({width:j,height:H-P-ERROR_HEIGHT-FOOTER_HEIGHT,background:F,}).appendTo(u);N=$("<span>").addClass("crownix-guide-span").appendTo(B);r=$("<div>").addClass("crownix-guide-err-body crownix-guide-body").css({"font-weight":"bold",width:j,height:ERROR_HEIGHT,background:F}).appendTo(u);b=$("<span>").addClass("crownix-guide-span crownix-guide-err-span").appendTo(r);S=$("<span>").addClass("crownix-guide-span crownix-guide-err-span").appendTo(r);I=$("<span>").addClass("crownix-guide-span crownix-guide-err-span").css({color:"red","font-size":"8pt",padding:0}).appendTo(r);s=$("<div>").addClass("crownix-guide-footer").css({position:"relative",left:0,top:0,width:j,height:FOOTER_HEIGHT,background:F,"border-radius":"0px 0px 5px 5px"}).appendTo(u);W=$("<div>").css({left:5,"border-width":z*2+"px "+z+"px 0px",}).addClass("crownix-triangle-up").appendTo(u);var ac=function(ah){ah.preventDefault();if(c.type!="sm"&&(e()||w())){D();return}$(textDom).children().removeClass("crownix-guide-selected");var ag=c;do{c=C.next();if(!c){C.close();return}}while(c.groupID&&ag.groupID==c.groupID||q.report.isRemovedPage(c.page));if(!C.hasNext()){if(c.type==="sm"){$(this).hide()}else{$(this).text(l.get("complete"))}}if(C.hasBack()&&!s.children(".crownix-guide-back-button").length){ab.appendTo(s)}O()};var Z=$("<button>").addClass("crownix-guide-next-button crownix-guide-button").css({"float":"right",width:s.width()/4,height:s.height()*0.7,background:Y}).text(C.hasNext()?l.get("next"):l.get("complete")).on("click touchstart",ac).appendTo(s);var aa=function(ah){ah.preventDefault();if(c.type!="sm"&&(e()||w())){D();return}$(textDom).children().removeClass("crownix-guide-selected").blur();do{if(C.hasBack()){c=C.back();if(c.groupID&&C.hasBack()){var ag=C.back();C.next();if(ag.groupID!=c.groupID){break}}}else{break}}while(C.getCurr().groupID||q.report.isRemovedPage(c.page));if(!c){return}if(!C.hasBack()){$(this).detach()}if(C.hasNext()){Z.off("click touchstart").on("click touchstart",ac).text(l.get("next")).show()}O()};var ab=$("<button>").addClass("crownix-guide-back-button crownix-guide-button").css({"float":"right",width:s.width()/4,height:s.height()*0.7,background:Y}).on("click touchstart",aa).text(l.get("back"));var ad=function(){$(J).trigger("click");if(!C.hasNext()){C.close()}};T=$("<button>").addClass("crownix-guide-button").css({"float":"left",width:s.width()/4,height:s.height()*0.7,background:X}).on("click touchstart",ad).text(l.get("submit_button_text"));if(C.hasBack()){ab.on("click touchstart",aa).appendTo(s)}if(c.type==="sm"){T.on("click touchstart",ad).appendTo(s)}}};var t=function(){if(q.options.scrollOptions.useInfiniteScroll){textDom=$("#"+c.id).parents("#"+f.TEXT_ID)}if(!textDom.length){return}if(!J){return}var ae=textDom.position().top;var ao=textDom.position().left;var ay=ae+J.offsetTop*q.scroll.scale+q.scroll.y-H-z*2;var ac=ao+J.offsetLeft*q.scroll.scale+q.scroll.x;var aA=A;if(ae>ay*q.scroll.scale){ay=ae+(J.offsetTop+J.offsetHeight)*q.scroll.scale+q.scroll.y+z*2;aA=E}u.css({left:Math.min(ac,$(window).width()-j),top:ay});var ak=q.options.scrollOptions.useInfiniteScroll?textDom.children(".crownix-guide-overlay"):V;if(!ak.find("#"+c.id+"-canvas").length){var af=C.getGroupFields(c);var av=0;do{var ab=af?$("#"+af[av].id).parents("#m2soft-crownix-field-wrapper")[0]:J;$(ab).addClass("crownix-guide-selected");var aa=G.find("#m2soft-crownix-canvas")[0],aB=q.scroll.scale,ad=ab.offsetLeft,al=ab.offsetTop,ap=ab.offsetWidth,an=ab.offsetHeight,ah=aa.width/ap,au=aa.height/an,am,az,aj,ai,aw,ax;am=$("<canvas>").addClass("crownix-guide-canvas").attr({id:c.id+"-canvas",width:ap,height:an}).css({position:"absolute",top:al,left:ad});if(q.options.scrollOptions.useInfiniteScroll||q.textOnCanvas){var Z=window.devicePixelRatio||1;aa=$("#"+c.id).parents("#"+f.TEXT_ID).siblings("#"+f.CANVAS_ID)[0];ah=($(aa).width()/ap)*Z;au=($(aa).height()/an)*Z;ad*=Z;al*=Z}aw=aa.getContext("2d").getImageData(0,0,aa.width,aa.height);ax=$("<canvas>").attr({width:aw.width,height:aw.height})[0];ax.getContext("2d").putImageData(aw,0,0);az=am[0].getContext("2d");az.scale(ah,au);aj=-(ad/ah);ai=-(al/au);az.drawImage(ax,aj,ai,ap,an);am.appendTo(ak)}while(af&&af.length>++av)}else{$(J).addClass("crownix-guide-selected")}var ag=$(".crownix-guide-selected")[0].offsetTop;var ar=$(".crownix-guide-selected")[0].offsetLeft;if($(".crownix-guide-selected").length>1){var aq=ag,at=ag;$(".crownix-guide-selected").each(function(){aq=Math.min(aq,this.offsetTop);at=Math.max(at,this.offsetTop);if(0>aq-u.height()-z*2){ag=at;aA=E}else{ag=aq;aA=A}if(ag==this.offsetTop){ar=(ao+this.offsetLeft)*q.scroll.scale+q.scroll.x}});if(q.options.scrollOptions.useInfiniteScroll){u.css({top:aA?(ag+J.offsetHeight)*q.scroll.scale+ae+q.scroll.y+z*2:(ag*q.scroll.scale)+ae-u.height()-z*2+q.scroll.y,left:Math.min(ar,$(window).width()-j)})}else{u.css({top:aA?(ag+ae+J.offsetHeight)*q.scroll.scale+q.scroll.y+z*2:(ag+ae)*q.scroll.scale-u.height()-z*2+q.scroll.y,left:Math.min(ar,$(window).width()-j)})}}W.css({top:aA?-H-P+z*2:0,left:ac-Math.min(ac,$(window).width()-j)+5,"border-color":aA?"transparent transparent "+K+" transparent":F+" transparent transparent transparent","border-width":aA?"0px "+z+"px "+z*2+"px":z*2+"px "+z+"px 0px"});L.html(c.inputTitle).attr("title",c.inputTitle);N.html((c.required=="1"?'<font color="red">('+l.get("required_sign")+") </font>":"")+c.inputContent)};var U=function(){q.scroll.enabled=true;q.scroll.options.isGuideMode=false;setTimeout(function(){q.scroll.enabled=false;q.scroll.options.isGuideMode=true;if(J){q.scroll.scrollToElementWithFrame(J,500,J.offsetHeight+u.height());t()}else{O()}},250)};var g=function(){var Z=function(){q.scroll.off("scrollToElement",t);q.scroll.off("scrollToElementWithFrame",t);q.scroll.off("scrollMove",t);q.scroll.off("scrollEnd",t);q.scroll.off("zoomEnd",t);q.scroll.off("restore",t);q.scroll.off("scrollToKeepCenter",t);q.scroll.on("scrollToElement",t);q.scroll.on("scrollToElementWithFrame",t);q.scroll.on("scrollMove",t);q.scroll.on("scrollEnd",t);q.scroll.on("zoomEnd",t);q.scroll.on("restore",t);q.scroll.on("scrollToKeepCenter",t)};Z();if(!q.options.scrollOptions.useInfiniteScroll){m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribeOnce(function(){if(C.isEnabled){Z();if($("#"+c.id).length){m();q.scroll.enabled=false;q.scroll.options.isGuideMode=true;M()}else{C.close()}}})}};this.close=function(){$(".crownix-guide-overlay").fadeOut(500);n.fadeOut(500);$(".crownix-slide").fadeIn();$(".crownix-guide-selected").removeClass("crownix-guide-selected");q.scroll.enabled=true;q.scroll.options.isGuideMode=false;q.scroll.off("scrollToElement",t);q.scroll.off("scrollToElementWithFrame",t);q.scroll.off("scrollMove",t);q.scroll.off("scrollEnd",t);q.scroll.off("zoomEnd",t);q.scroll.off("restore",t);q.scroll.off("scrollToKeepCenter",t);$(window).off("resize",U)};this.show=function(){q.scroll.save();c=C.getCurr();if(!c){c=C.hasNext()?C.next():C.back()}$(".crownix-slide").fadeOut(500);g();m();a();e();O();q.scroll.enabled=false;q.scroll.options.isGuideMode=true;$(window).on("resize",U)};this.guideWindow=function(){return u}};m2soft.ns("m2soft.crownix.QuickWindow");m2soft.crownix.QuickWindow=function(G){var e=m2soft.crownix.Constant;GuideManager=m2soft.crownix.GuideManager,Util=m2soft.crownix.Util,Painter=m2soft.crownix.Painter,R=m2soft.crownix.Resource,ToolbarState=ToolbarState=m2soft.crownix.State.Toolbar,ChannelManager=m2soft.crownix.ChannelManager;var b=10,C=0.85;var g=GuideManager.getInstance();var A,l;var j=true,w=true,q={},f,a,H,K,z,k;var L=function(){H=$(window).width();K=$(window).height()};var I=function(){var M=function(){G.formManager.initFormData({confirmDialog:false});B()};G.dialog.show(R.get("init_quick_all"),{type:"confirm",cancel:R.get("cancel_button_text"),ok:R.get("ok_button_text"),position:"center",okHandler:M});$(".crownix-field-dialog-message").css("height","100px");$(".crownix-field-dialog-message-text").css("padding","30px 25px 15px")};var n=function(){for(var O=0;O<f.length;O++){var S=f[O].formID,N=f[O].fieldID,P=f[O].type,T=f[O].id,M=G.formManager.getFieldWrapper(S,N),Q=G.formManager.getField(S,N)||{};if(P=="sm"){continue}if(P=="rb"){M.setSelected(Q.selected);$(".crownix-radio-inner-"+S+"-"+f[O].groupID).removeClass("crownix-quick-inner-radiobutton");B()}else{if(P=="sg"||P=="pn"){B();if(Q.signature){Q.setValue(Q.getSignature())}else{Q.setValue(Q.value)}}else{if(Q.value){if(P=="tf"||P=="ta"){M.setValue(Q.value)}else{if(P=="fl"){Q.setFileName(Q.value)}else{if(P=="co"){M.setValue(Q.value)}else{if(P=="cb"){M.setSelected($("#"+T).is(":checked"))}else{if(P=="im"){canvas=$("#"+e.TEXT_ID).find("#"+T+"-canvas");if(canvas.length!=0){D(canvas,{isResize:true,imgSrc:Q.value,elementId:T,field:Q})}}}}}}B()}}}}};var F=function(){var T=0,U={};for(var S=0;S<f.length;S++){var Y=f[S],V=Y.type,N=Y.id,W=G.formManager.getField(Y.formID,Y.fieldID)||{},X=$(".crownix-quick-scroll"),Q=$(".crownix-quick-header-title").outerHeight(true)||0,P;var M;if(V=="sg"||V=="pn"){M=$("#"+N+"-wrapper").parents(".crownix-quick-wrapper")}else{M=$("#"+N).parents(".crownix-quick-wrapper")}var Z=M.find(".crownix-quick-validity-message");if(V=="sm"){T++;if(T==f.length){n()}continue}var O=function(){Z.show();Z.text(R.get("submit_fail_not_filled_required_form"));X.scrollTop(X.scrollTop()+M.offset().top-Q);setTimeout(function(){Z.fadeOut(3000)},200)};if(Z.css("display")=="block"){X.scrollTop(X.scrollTop()+M.offset().top-Q);return}else{if(W.required==="1"){if(V=="cb"){if(!$("#"+N).is(":checked")){O();return}}else{if(V=="rb"){P=$('[for^="crownix_form_field_"][class="'+Y.groupID+' crownix-quick-radiobutton"]');if(!U[Y.groupID]){U[Y.groupID]=0}if(!$("#"+N).is(":checked")){U[Y.groupID]++}if(U[Y.groupID]==P.length){O();return}}else{if(V=="rec"){if(window.m2softFormFieldBridge.toAudioRecord){O();return}}else{if(!W.value){O();return}}}}}}T++;if(T==f.length){n()}}};var E=function(){var M;$('<div class="crownix-quick-outer"></div>').attr("id","crownix-quick-outer").prependTo(A.parent()).fadeIn(200);$(".crownix-quick-outer").append('<div class="crownix-quick-inner"></div>');if(j){M=$('<div class="crownix-quick-header-title"></div>').prependTo(".crownix-quick-inner");$(".crownix-quick-inner .crownix-quick-header-title").append(R.get("quick_header_title"))}if(w){var N=$("<div>").bind("tap click",I).appendTo(".crownix-quick-inner");if(j){N.removeClass("crownix-quick-close-noneheader").addClass("crownix-quick-close")}else{N.removeClass("crownix-quick-close").addClass("crownix-quick-close-noneheader")}}$(".crownix-quick-inner").append('<div class="crownix-quick-scroll"></div>');$(".crownix-quick-scroll").css({height:!M?K:K-M.outerHeight(true)}).append('<hr class="scroll-quick-area" />')};var r=function(O){var M=O.inputTitle,Q=O.inputContent,P,N;P=$(document.createElement("div")).addClass("crownix-quick-wrapper").appendTo(".crownix-quick-scroll");$("<div>").addClass("crownix-quick-title").append("STEP "+(++a)+" "+M).appendTo(P);N=$("<div>").addClass("crownix-quick-content").html(Q).appendTo(P);$("<p>").addClass("crownix-quick-required").append("(※ "+R.get("required_sign")+" ※)").prependTo(N);if(!j){$(".crownix-quick-title").addClass("crownix-none-header");$(".crownix-quick-content").addClass("crownix-none-header")}return P};var D=function(O,S){var N=S.width,Y=S.height,T=S.ratio||0,V=S.field||{},X=S.placeholder||"",W=!!S.isResize||false,U=S.imgSrc||"",Q=S.elementId,M=O[0].getContext("2d");if(S.width&&S.height){O.attr({width:N,height:Y}).css({width:N,height:Y})}if(X){new m2soft.crownix.Canvas(O[0],G).drawText(X,0,0,O.width(),O.height(),{fontStyle:"",fontFamily:"Arial",fontWeight:"",fontSize:(Y/6)+"pt",textAlign:"center",textBaseline:"middle",adjustFontSize:true})}if(W){var P=new Image();P.src=U;P.onload=function(){M.clearRect(0,0,O.width(),O.height());if(T==1){var ac=P.width/P.height;var aa=O.width()/O.height();if(ac>aa){var ae=O.height()*(aa/ac);var Z=(O.height()-ae)/2;M.drawImage(P,0,Z,O.width(),ae)}else{var ad=O.width()*(ac/aa);var ab=(O.width()-ad)/2;M.drawImage(P,ab,0,ad,O.height())}}else{if(T==2){M.drawImage(P,0,0)}else{M.drawImage(P,0,0,O.width(),O.height())}}}}};var s=function(){var M=$("<div>").addClass("crownix-quick-confirm-button").appendTo(".crownix-quick-scroll");var N=$("<p>").text(R.get("complete")).appendTo(M);N.on("click",F)};var c=function(M,N){if(!N){return true}if(M=="email"){return Util.REGEXP_EMAIL.test(N)}else{if(M=="url"){return Util.REGEXP_URL.test(N)}else{if(M=="tel"){return Util.REGEXP_TEL.test(N)}else{if(M=="number"){return Util.REGEXP_NUMBER.test(N)}else{return true}}}}};var u=function(T,O){var Q=T.fontList,U=T.textAttrList,V=O.attr("bt")||O.attr("ph")||"",M=parseInt(O.attr("ha"))||0,P=parseInt(O.attr("va"))||0,S=U[O.attr("tid")]||{};if(M===1){M="center"}else{if(M===2){M="right"}else{M="left"}}var N={fontFamily:"Arial, sans-serif",fontSize:((O.attr("pt")?O.attr("pt")/10:S.pt/10)||10)+"pt",fillStyle:(O.attr("cl")?O.attr("cl"):S.cl)||"#000000",fontStyle:(O.attr("ci")?O.attr("ci")==="1":S.ci==="1")?"Italic":"",fontWeight:(O.attr("cb")?O.attr("cb")==="1":S.cb==="1")?"Bold":"",underLine:(O.attr("cu")?O.attr("cu")==="1":S.cu==="1")||!!O.attr("hl"),lineThrough:O.attr("cs")?O.attr("cs")==="1":S.cs==="1",shade:O.attr("cr")?O.attr("cr")==="1":S.cr==="1",textAlign:M==1?"center":(M==2?"right":"left"),adjustFontSize:true};N.textAlign=M;if(P==0){N.textBaseline="top"}else{if(P==1){N.textBaseline="middle"}else{N.textBaseline="bottom"}}return N};var m=function(aA,ax){var ac,az,X=aA.element,aC=aA.type,ah=aA.formID,ak=aA.fieldID,aw=aA.groupID,T=aA.id,al=aA.validityMessage,Y=(X.attr("nc")?(X.attr("nc")!=="0"):true),U=G.formManager.getField(ah,ak)||{},an=U.editable,Z=U.required;var ay=[aC,ah,aw].join("-");if(aw&&aC!="sg"&&$("[gid="+ay+"]").length>0){az=$("[gid="+ay+"]")}else{ac=r(aA);$(document.createElement("div")).html(al).addClass("crownix-quick-validity-message").appendTo(ac);az=$(document.createElement("div")).addClass("crownix-quick-field").appendTo(ac);if(aw){az.attr("gid",ay)}}if(aC==="tf"||aC==="ta"){var ad=X.attr("rfi"),ao=G.formManager.getField(ah,ad),O;if(ad&&ao.type==="ta"&&aC==="tf"){O=ax.find("#"+T).addClass("crownix-quick-textarea").appendTo(az)}else{if(ad&&ao.type=="tf"&&aC==="ta"){O=ax.find("#"+T).addClass("crownix-quick-textfield").appendTo(az)}else{if(aC==="tf"){O=ax.find("#"+T).addClass("crownix-quick-textfield").appendTo(az)}else{O=ax.find("#"+T).addClass("crownix-quick-textarea").appendTo(az)}}}if(O.val()&&!c(O[0].type,O.val())){ac.find(".crownix-quick-validity-message").show()}O.bind("input",function(aF){var aE=$(this).attr("rfi"),aD=aA.validityMessage,aG;if(aE&&l.find("#"+aE+"_warning").length!=0){if(l.find("#"+aE+"_warning").css("display")=="block"){ac.parent().find("#"+aE).parent().prev(".crownix-quick-validity-message").html(aD).show()}else{ac.parent().find("#"+aE).parent().prev(".crownix-quick-validity-message").hide()}}aG=ac.find(".crownix-quick-validity-message").show();aD?aG.html(aD):aG.text(R.get("input_type_error"));if(c(aA.inputType,$(this).val())){aG.hide()}else{if(Z=="1"&&!$(this).val()){aG.text(R.get("submit_fail_not_filled_required_form")).fadeOut(3000)}}});if(Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}if(an==="0"&&Y){O.addClass("crownix-quickfield-disable")}h(U)}else{if(aC==="rec"){var av=ax.find("#"+T).addClass("crownix-quick-recoder").appendTo(az);if(window.m2softFormFieldBridge.toAudioRecord&&Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}if(an==="0"){av.addClass("crownix-quickfield-disable")}h(U)}else{if(aC==="fl"){var V=ax.find("#"+T).parent(),au,aa,am,Q;az.addClass("crownix-quick-file");au=$(V[0].querySelector("input")).appendTo(az);aa=$(V[0].querySelector("label")).appendTo(az);am=$(V[0].querySelectorAll("div")[0]).appendTo(az);Q=$(V[0].querySelector("div")).appendTo(az);if(Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}U.editable&&U.editable==="0"?U.readonlyMode():U.editableMode();h(U)}else{if(aC==="co"){var ap=ax.find("#"+T).addClass("crownix-quick-combobox").appendTo(az);if(Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}if(an==="0"){ap.addClass("crownix-quickfield-disable")}h(U)}else{if(aC==="rb"||aC==="cb"){var aq,ab,ar,ai,af="37.6px";az.addClass("crownix-quick-radio-check");aq=ax.find("[for="+T+"]")[0],ar=$(aq).find(".crownix_form_field_label").text();if(aC==="rb"&&X.attr("sp")==="cb"){aC="cb"}if(aC==="rb"){$(aq).find(".crownix-radio-inner-"+ah+"-"+aw).addClass("crownix-quick-inner-radiobutton");$(aq).find(".crownix-radio-outer").addClass("crownix-quick-radio-outer")}ai=$(document.createElement("label")).attr({"for":T,"class":aC==="rb"?"crownix-quick-radiobutton":"crownix-quick-checkbox"}).appendTo(az);if(an==="0"){$(aq).find("input").attr("disabled","disabled");$(aq).find("crownix-radio-outer").addClass("crownix-formfield-disable")}if(aC==="cb"){ab=$("<span>").addClass("crownix-quick-labelspan").css({"line-height":af}).prependTo(ai);$(aq).find(".crownix_formfield_selector").appendTo(ab);$(aq).find(".crownix-check-text-wrap").appendTo(ai)}else{ai.css({"line-height":af});$(aq).find(".crownix_formfield_selector").appendTo(ai);$(aq).find(".crownix-radio-text-wrap").appendTo(ai)}if(ar){var aB;if(ai.width()<$(az).width()/2){aB=$(az).outerWidth()/2-ai.outerWidth()-b}else{aB=$(az).outerWidth()-ai.outerWidth()-b}ai.css("margin-right",aB)}if(Z=="1"&&ac){ac.find(".crownix-quick-required").css("display","inline-block")}h(U)}else{if(aC==="im"){var aj=X.attr("ph")||"",M=az.width()*C,O,S;O=ax.find("#"+T).appendTo(az);S=ax.find("#"+T+"-canvas").addClass("crownix-quick-picture").appendTo(az);D(S,{width:M,height:S.height()*M/S.width(),placeholder:aj,imgSrc:U.value?U.value:S[0].toDataURL("image/png"),isResize:U.value?true:false});if(Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}if(an==="0"){S.addClass("crownix-quickfield-disable")}h(U)}else{if(aC==="sg"||aC==="pn"){var M=ax.find("#"+T).width(),N=ax.find("#"+T).height(),ae=Math.floor(ac.width()*C),ag=Math.floor(ax.find("#"+T).height()*ae/ax.find("#"+T).width()),W=X.attr("bt")||X.attr("ph")||"",P=U.editable=="0"||X.attr("da")==="1"||false;az.attr({id:T+"-wrapper"}).css({width:ae,height:ag,position:"relative",}).addClass("crownix-quick-sign").appendTo(ac);var at=u(G.report.getHeadForPage(aA.page),U.element);if(U.element.attr("ph")||U.element.attr("bt")){at.fillStyle="#CCCCCC"}q[T]=new m2soft.crownix.FormField.Sign(T+"-wrapper",{lineCount:parseInt(U.element.attr("sn"))||0,fixedGuideText:U.element.attr("bt")?true:false,showStrokeMessage:false,isFormFieldScript:true,signature:U.signature,isPreventEvent:U.element.attr("da")=="1"||U.editable=="0"?true:false,guideText:U.element.attr("bt")||U.element.attr("ph")||"",guideTextStyle:at,formId:U.formId,fieldId:U.id,onChangeCanvas:function(aD,aE){aD.attr({formId:ah,name:ak,id:"crownix_form_field_"+ah+"_"+ak});h(U,aE)},onChangeValue:function(aE){var aD=G.formManager.getField(aE.formId,aE.fieldId),aF=$("#"+aD.elementId+"-wrapper").prev(".crownix-quick-validity-message").text(R.get("unqualified_stroke"));if(!aF){return}if(aE&&aE.lineCheck){if(aE.lines&&aE.lines.length!=0){aD.value=aE.toData(M,N,{ratioType:true,dpi:aD.element.attr("dpi")||96});aD.signature=aE;G.formManager.trigger("change",aD.formId,aD.id);G.formManager.modified(U)}else{U.value=null;U.signature=null}return aF.hide()}return aF.show()},resizeCanvasValue:function(aF){var aE=G.formManager.getField(aF.formId,aF.fieldId),aK=$("#"+aE.elementId).parents(".crownix-quick-wrapper"),aH=$("#"+aE.elementId),aD=Math.floor(aK.width()*C),aG=Math.floor(N*aD/M),aI=aH.width(),aJ=aH.height();widthRatio=aD/aI,heightRatio=aG/aJ;$("#"+aE.elementId+"-wrapper").css({width:aD,height:aG});aH.attr({width:aD,height:aG}).css({width:aD,height:aG});aF.scale(widthRatio,heightRatio);aF.originWidth=aD;aF.originHeight=aG;aE.signature=aF;aF.drawSignature(aH[0],{ratioType:true})}});if(Z=="1"){ac.find(".crownix-quick-required").css("display","inline-block")}if(an==="0"){az.find("#"+T).addClass("crownix-formfield-disable-guide")}}}}}}}}};var h=function(N,M){ChannelManager.getChannel("field:changeState").subscribe(function(P){var Q=P.field,O="crownix_form_field_"+N.formId+"_"+N.id;if(Q.elementId==O){var S=$("#"+Q.elementId);if(Q.type=="im"){S=$("#"+Q.elementId+"-canvas")}if(S.length>0){if(Q.type=="sg"||Q.type=="pn"){if(Q.editable=="0"){S.addClass("crownix-formfield-disable-guide");M.isPreventEvent=true}else{S.removeClass("crownix-formfield-disable-guide");M.isPreventEvent=false}}else{if(Q.editable=="0"){S.addClass("crownix-quickfield-disable")}else{S.removeClass("crownix-quickfield-disable")}}}}})};var d=function(){var N=document.createElement("canvas");var O=$("<div>");var M=new Painter(G,N,O);M.setFormFieldMode(true);M.createFormFields(G.report);for(index in f){if(f[index].type!="sm"){m(f[index],O)}}N.remove();O.remove()};var t=function(){E();d();s();$(".crownix-quick-scroll").append('<hr class="scroll-quick-area" />')};var B=function(){g.isEnabled=false;G.toolbar.enable();if(!g.hasNext()){G.toolbar.disableToolbarItem(["guide"])}ToolbarState.toggleGuideButton(g.isEnabled);$(window).off("resize",J);$(".crownix-quick-outer").remove();ChannelManager.removeChannel("field:changeState")};var J=function(ae){var N=$(".crownix-quick-scroll");z=H;k=K;L();if($(".crownix-quick-header-title").length>0){K=K-$(".crownix-quick-header-title").outerHeight(true)}N.css("height",K);for(var ad=0;ad<f.length;ad++){var M=f[ad],Q=M.element,Y=M.id,U=M.type,P=G.formManager.getField(M.formID,M.fieldID)||{};if(U==="im"){var T=$("#"+Y+"-canvas"),ab=$("#"+Y+"-canvas").parent().width()*C;if(T.length!=0){D(T,{width:ab,height:T.height()*ab/T.width(),placeholder:Q.attr("ph")||"",isResize:true,elementId:Y,imgSrc:P.value?P.value:T[0].toDataURL("image/png")})}}else{if(U=="sg"||U=="pn"){q[Y].redrawSignToCanvas(true)}else{if(U=="cb"||U=="rb"){var X=$("[for="+Y+"]")[0],Z=$(X).parent().outerWidth(),ac=$(X).find(".crownix-quick-labelspan"),V=$(X).find(".crownix_form_field_label").text(),S=$(X).height()+"px";ac.css("line-height",S);if($(X).width()<Z/2&&V){$(X).css("margin-right",Z/2-$(X).outerWidth()-b)}}}}}if(Util.browser.android){if(z==H){var Y=document.activeElement.getAttribute("id"),W=$("#"+Y).parents(".crownix-quick-wrapper"),aa=$("#crownix-quick-outer").height(),O;if(W.length!=0){O=W[0].offsetTop;if($(".crownix-quick-header-title")){O=O-$(".crownix-quick-header-title").outerHeight(true)}N.scrollTop(O)}}else{z=H}}};this.show=function(){L();a=0;A=$("#"+e.CONTAINER_ID);l=$("#"+e.TEXT_ID);f=g.getGuideOrder();t();$(window).on("resize",J)}};m2soft.ns("m2soft.crownix.WithSign");m2soft.crownix.WithSign=function(S){var g=m2soft.crownix.Constant,l=m2soft.crownix.Resource,j=m2soft.crownix.resource.Icon,M=m2soft.crownix.GuideManager.getInstance(r),m=m2soft.crownix.FieldOrder.getInstance(),f=m2soft.crownix.Util,s=m2soft.crownix.ChannelManager;var Q=30,t=44,D="bottom";var r=S,H=$("#m2soft-crownix-container"),B=false,P=false,O=r.scroll,J=[],e=[],Z={},C={},q=r.options.formField,W=q.signatureMethod,w,U,b,X,z,h,G,u,V,A,Y,E,q;var F={};var k=function(){V=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":g.WINDOW_OVERLAY_Z_INDEX,background:M.isEnabled?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.5)","user-select":"none"}).appendTo(H);V[0].addEventListener("touchstart",function(aa){aa.preventDefault});if(B){V.fadeIn(100)}};var c=function(){w=H.width();U=H.height();b=w>U?0.5:0.3};var T=function(){var ac=$(".crownix-line-validity-message");if(ac.length!=0&&J.length!=0){var ab=0;for(var aa=0;aa<ac.length;aa++){if($(ac[aa]).css("display")=="block"){ab++}}for(var aa in J){if(ab==0){J[aa].attr("disabled",false).css({opacity:1});m2soft.crownix.FieldOrder.getInstance().enable();if(J[aa][0].innerText==l.get("ok_button_text")){J[aa].focus()}}else{J[aa].attr("disabled",true).css({opacity:0.4});m2soft.crownix.FieldOrder.getInstance().disable()}}}};var n=function(){for(var af=0;af<A.length;af++){var ai=A[af],aj=ai.formId,ag=ai.id,ah=ai.element.attr("tt")||l.get("input_sign"),ab=(m2soft.crownix.Painter.adjustCoord(ai.element.attr("ri"))-1)-(m2soft.crownix.Painter.adjustCoord(ai.element.attr("le"))+2),ak=(m2soft.crownix.Painter.adjustCoord(ai.element.attr("bo"))-1)-(m2soft.crownix.Painter.adjustCoord(ai.element.attr("to"))+2);var ad=$('<div id="crownix-sub-frame">').css({display:"inline-block",width:z.width()/A.length+"px",height:Math.floor(z.height())+"px"}).appendTo(z);var aa=$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").append(ah).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","border-radius":(af==0)?"3px 0 0 0":(af==A.length-1)?"0 3px 0 0":"0px"}).prependTo(ad);var ac=$("<div>").addClass("crownix-sub-window-body").css({position:"relative",width:Math.floor(ad.width())-1+"px",height:Math.floor(z.height()-Q)+"px","border-color":"#DADADA","border-width":(af==A.length-1)?"0px":"0 1px 0 0","border-style":"solid"}).appendTo(ad);$(document.createElement("div")).addClass("crownix-quick-validity-message").css({position:"absolute",padding:"0",right:10,bottom:10}).appendTo(ac);var ae=$("<div>").attr({id:ai.elementId+"-witharea"}).css({position:"relative",width:Math.floor(ac.width())+"px",height:Math.floor(ac.height())+"px"}).appendTo(ac);ai.fontStyle.fillStyle=ai.fontStyle.fillStyle||"#CCCCCC";if(q.guideAlignSignature){ai.fontStyle.textBaseline=ai.element.attr("va")==0?"top":ai.element.attr("va")==1?"middle":"bottom"}C[ai.elementId]=new m2soft.crownix.FormField.Sign(ai.elementId+"-witharea",{width:ab,height:ak,dpi:ai.element.attr("dpi"),lineCount:parseInt(ai.element.attr("sn"))||0,fixedGuideText:q.guideKeepSignWindow,showStrokeMessage:true,isPreventEvent:ai.editable=="0"?true:false,guideText:q.guideOnSignWindow?ai.element.attr("ph"):"",guideTextStyle:ai.fontStyle,formId:ai.formId,fieldId:ai.id,signature:ai.signature,onChangeCanvas:function(al,am){al.attr({id:"crownix_form_field_"+am.formId+"_"+am.fieldId+"-with"}).css({left:0,border:"0px"});L(ai,am)},onFocusField:function(al){if(!r.options.formField.moveWithSignFocus){return}var an=r.formManager.getField(al.formId,al.fieldId);var am=function(){m.focusField(an.elementId);u=$("#"+an.elementId);r.scroll.scrollToElementWithFrame(u[0],1000,X.height()+20)};if(an.page!=r.currentPage){s.getChannel("viewer:onDrawPage").subscribeOnce(function(ao){am();r.keepWindow=false});r.keepWindow=true;r.viewer.movePage(an.page);if(r.options.mirroring.enable){r.mirroringManager.externalEvent.setFocus(an.elementId)}if(r.shareManager&&r.shareManager.isConnected()){r.shareManager.sendFocusOnField(an.formId,an.id)}}else{am();if(r.options.mirroring.enable){r.mirroringManager.externalEvent.setFocus(an.elementId)}if(r.shareManager&&r.shareManager.isConnected()){r.shareManager.sendFocusOnField(an.formId,an.id)}}},onChangeValue:function(an){var am=r.formManager.getField(an.formId,an.fieldId),ap=document.getElementById(am.elementId);if(ap){if(an&&an.lines.length>0){an.drawSignature(ap)}else{an.reset(ap)}}T();if(F.OnChangeValue&&typeof F.OnChangeValue=="function"){var ao=A.length;var aq;for(var al=0;al<A.length;al++){if(A[al].formId==an.formId&&A[al].id==an.fieldId){aq=al;break}}F.OnChangeValue(ao+"|"+aq+"|"+an.toData(300/ao,100,{dpi:300}))}Z[am.groupSignId]=am.elementId},resizeCanvasValue:function(an){var ar=r.formManager.getField(an.formId,an.fieldId),al=$("#"+ar.elementId+"-witharea"),am=$("#"+ar.elementId+"-with"),ap=al.width(),aq=al.height(),av=am.width(),ao=am.height(),au=ap/av,at=aq/ao;am.attr({width:ap,height:aq}).css({width:ap,height:aq});an.scale(au,at);an.drawSignature(am[0],{ratioType:true,fixedGuideText:true});if(document.getElementById(ar.elementId)){an.drawSignature(document.getElementById(ar.elementId))}},});if(ai.editable==="0"){ae.addClass("crownix-formfield-disable-guide")}}};var L=function(ab,aa){s.getChannel("field:changeState").subscribeOnce(function(ac){var ad=$("#"+ab.elementId+"-witharea");if(ac.field.elementId==ab.elementId){if(ad.length>0){if(ab.editable=="0"){ad.addClass("crownix-formfield-disable-guide");aa.isPreventEvent=true}else{ad.removeClass("crownix-formfield-disable-guide");aa.isPreventEvent=false}}}})};var d=function(){for(var aa=0;aa<A.length;aa++){C[A[aa].elementId].reset()}};var I=function(){if(r.cxGridManager){r.cxGridManager.inactive()}var ar=w-20,af=(w-20)/4,ak=(U*b+t)/U*100,ao=W===D?(U-U*b-t-20)/U*100:(U-U*b-t)/2/U*100,ah=10/w*100;X=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({visibility:"hidden",left:"10px",top:ao+"%",width:ar+"px",height:ak+"%","min-width":af+"px","z-index":g.WINDOW_Z_INDEX,"text-align":"center","user-select":"none"}).prependTo(H);X[0].addEventListener("touchmove",function(ay){var ax=$(ay.target);if(ax[0].tagName.toLowerCase()==="canvas"||ax.hasClass("crownix-signature-header")||ax.hasClass("crownix-signature-footer")){ay.preventDefault()}});z=$("<div>").addClass("crownix-window-body").addClass("crownix-signature-background").css({width:X.width()+"px",height:X.height()-t+"px","border-top-right-radius":"3px","border-top-left-radius":"3px"}).appendTo(X);n();h=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({"line-height":t-3+"px",display:"inline-block"}).appendTo(X);G=$("<div>").attr("class","crownix-signature-button-dom").css({width:"400px"}).appendTo(h);var aw=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px","max-width":"25%",padding:"0 3px"}).bind("click",function(ax){a();N()}).on("keydown",function(ax){ax.preventDefault();ax.stopPropagation();if(P&&ax.keyCode===9){if($(this).attr("disabled")=="disabled"){return}if(ax.shiftKey){if(m.hasPrev()){a();N();m.movePrev()}}else{if(m.hasNext()){a();N();m.moveNext()}}}}).appendTo(G);var aq=$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({width:"10%","min-width":"18px",fill:"#FFFFFF","padding-right":"4px","vertical-align":"middle"}).appendTo(aw);var aj=$("<span>").text(l.get("ok_button_text")).appendTo(aw);J.push(aw);var ag=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"105px","max-width":"35%",padding:"0 3px","margin-right":0}).bind("click",function(ax){d()}).prependTo(G);var ab=$(m2soft.crownix.resource.Icon.SIGN_RESET_ALL).css({width:"10%","min-width":"18px","padding-right":"4px","vertical-align":"middle"}).appendTo(ag);var ap=$("<span>").text(l.get("clear_sign")).appendTo(ag);var ad=$('<button type="button"></button>').attr("id",g.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").css({width:"105px","max-width":"25%","margin-right":0}).bind("click",function(ax){d();a(true);N()}).prependTo(G);var ae=$("<span>").text(l.get("cancel_button_text")).appendTo(ad);if(!r.options.formField.skipTabOrder&&!r.options.formField.moveWithSignFocus){for(var at=0;at<A.length;at++){if(m.exist(A[at].elementId)){if($("#"+A[at].elementId).length>0){u=$("#"+A[at].elementId)}}}}if(r.options.formField.moveWithSignFocus){m.focusField(u[0].id)}else{m.focus(u[0].id)}if(W===D){if(r.textOnCanvas){r.canvasManager.needRedraw=false}O.save();O.zoom(1);O.scrollToElementWithFrame(u[0],1000,X.height()+20)}var an={max:20};f.adjustFontsize(aw,an);f.adjustFontsize(ag,an);f.adjustFontsize(ad,an);e.push(aw);e.push(ag);e.push(ad);var au=$("<div>").css({width:"100%",position:"absolute"}).prependTo(h);if(q.keepTabButton||!M.isEnabled&&(m.length()>0&&m.exist(u.attr("id"))&&m.hasPrev())){var ac=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({"float":"left",padding:"0 5px"}).on("click",function(ax){if($(this).attr("disabled")=="disabled"){return}a();N();m.movePrev()}).appendTo(au);var av=$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -3px 0 0px","fill-opacity":"0.7","vertical-align":"middle"}).appendTo(ac);var am=$("<span>").text(l.get("back")).appendTo(ac);f.adjustFontsize(ac,an);e.push(ac);J.push(ac)}if(q.keepTabButton||!M.isEnabled&&(m.length()>0&&m.exist(u.attr("id"))&&m.hasNext())){var al=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({"float":"right",padding:"0 5px"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}a();N();m.moveNext()}).appendTo(au);var ai=$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(al);var aa=$("<span>").text(l.get("next")).prependTo(al);f.adjustFontsize(al,an);e.push(al);J.push(al)}O.disable();X.css("visibility","visible").fadeIn(500,function(){aw.focus();P=true;m.setPreventMove(false);m.removePreventDom();T()})};var K=function(){var ah=w,ae=U,ad;c();ad=W===D?(U-U*b-Q-h.height()-20)/U*100:(U-U*b-Q-h.height())/2/U*100;X.css({left:(w-(w-20))/2/w*100+"%",top:ad+"%",width:(w-20)+"px",height:(U*b+Q+t)/U*100+"%"});z.css({width:X.width()+"px",height:X.height()-Q+"px"});for(var aa=0;aa<A.length;aa++){var ag=A[aa],af=$("#"+ag.elementId+"-witharea"),ac=af.parents(".crownix-sub-window-body"),ab=ac.parents("#crownix-sub-frame");ab.css({width:z.width()/A.length+"px",height:Math.floor(z.height())+"px"});ac.css({width:Math.floor(ab.width())-1+"px",height:Math.floor(z.height()-Q)+"px"});af.css({width:Math.floor(ac.width())+"px",height:Math.floor(ac.height())+"px"});if(af.length>0){C[ag.elementId].redrawSignToCanvas()}}for(var aa=0;aa<e.length;aa++){f.adjustFontsize(e[aa],{max:20})}x=(u.position().left+$("#"+g.TEXT_ID).position().left)+u.width()/2;y=(u.position().top+$("#"+g.TEXT_ID).position().top)+u.height()/2;if(W===D){O.enable();O.zoomAndScrollTo(1,x,y);O.scrollToElementWithFrame(u[0],0,X.height()+20);O.disable()}};var N=function(){P=false;X.remove();V&&V.remove();u.removeClass("crownix-formfield-blink");if(!M.isEnabled){O.enable()}if(W===D){O.restore()}m.focusHiddenTab();if(r.textOnCanvas){r.canvasManager.needRedraw=true}$(window).off("resize",K);if(F.OnClose&&typeof F.OnClose=="function"){F.OnClose()}s.removeChannel("field:changeState")};var a=function(ad){for(var ae=0;ae<A.length;ae++){var ag=A[ae],ab=C[ag.elementId].getSignature(),af=(m2soft.crownix.Painter.adjustCoord(ag.element.attr("ri"))-1)-(m2soft.crownix.Painter.adjustCoord(ag.element.attr("le"))+2),aa=(m2soft.crownix.Painter.adjustCoord(ag.element.attr("bo"))-1)-(m2soft.crownix.Painter.adjustCoord(ag.element.attr("to"))+2),ac=document.getElementById(ag.elementId);if(typeof Y==="function"){if(ad){Y(!ad,undefined,ab,ag)}else{if(ab.lines.length==0){if(ac){ab.reset(ac)}Y(ad,undefined,undefined,ag)}else{var ah=ab.toData(af,aa,{ratioType:ad,dpi:ag.element.attr("dpi")||96});Y(!ad,ah,ab,ag,Z)}}}}};this.show=function(ae,ac,ab,aa,ad){u=ae;B=ab;A=aa;Y=ac;E=ad;k();c();I();$(window).on("resize",K)};this.bind=function(aa,ab){F[aa]=ab}};m2soft.ns("m2soft.crownix.ScrollPenWindow");(function(){var k=m2soft.crownix.Resource,e=m2soft.crownix.Constant,c=m2soft.crownix.Util,h=m2soft.crownix.resource.Icon;var ac=30,t=45,B=130,P=60,m=160,s={parentId:"",onOk:undefined,isOverlay:true},r,H,S,ag,ai,A,g,af,a,aa,X,w,G,z,J,K,C,ae,O,ab=false,U=false,n,l,Y,W=[],N={},u,I,q,f,E=undefined;var Z=function(){ab=r.isOpenWindow=false;ag.remove();ae&&ae.remove();window.removeEventListener("orientationchange",T,false);if(!Y.isEnabled){O.enable()}if(U){O.restore()}U=false;if(J){J.removeClass("crownix-formfield-blink")}W=[];l.focusHiddenTab();if(r.textOnCanvas){r.canvasManager.needRedraw=true}if(N.OnClose&&typeof N.OnClose=="function"){N.OnClose()}};var F=function(al,aj){w=$("<div>").attr({id:n.elementId+"-scroll-pen"}).css({width:al,height:aj}).appendTo(A);var ak=I||u||"";if(f.penLineCountPerText==0){q=0}else{if(f.penLineCountPerText>0){q=ak.replace(/\s/g,"").length*f.penLineCountPerText}}n.fontStyle.originFontSize=n.fontStyle.fontSize;n.fontStyle.fillStyle=I?"#CCCCCC":n.fontStyle.fillStyle;X=new m2soft.crownix.FormField.ScrollPen(n.elementId+"-scroll-pen",n,{width:K,height:C,dpi:f.penDpi,lineCount:q,guideText:ak,fixedGuideText:u||false,showResetButton:false,showStrokeMessage:true,signature:n.signature,scrollbarSize:f.scrollPen.scrollbarSize,penEventSkipTime:f.penEventSkipTime,autoScrolling:{timeout:f.scrollPen.autoScroll,onAutoScrolled:L},onChangeCanvas:function(am,ao){am.css({left:0,border:"0px"});var an=am.parents("#"+n.elementId+"-scroll-pen-input");if(an.width()<ag.width()){an.css({left:(ag.width()-an.width())/2,background:"white"});w.css({background:"#DADADA"})}},onChangeValue:function(am){if(!J[0]){J=$("#"+n.elementId)}if(J[0]){if(am&&am.lines.length>0){am.drawSignature(J[0],{ratioType:true,fixedGuideText:u||false,drawLastLine:(am.lines.length>1)?true:false})}else{am.reset(J[0])}}if(am&&am.lines.length>0){am.drawSignature(z.children("canvas")[0],{ratioType:true,fixedGuideText:u||false,drawLastLine:(am.lines.length>1)?true:false})}else{am.reset(z.children("canvas")[0])}ad();if(N.OnChangeValue&&typeof N.OnChangeValue=="function"){var an=am.dpi;am.dpi=300;N.OnChangeValue(am.toData(300,100));am.dpi=an}},onScrolling:Q});O.disable()};var ah=function(ak,ar){var al=ak/K,an=ar/C,ao=Math.min(al,an),am=K*ao,aq=C*ao;z=$("<div>").attr({id:n.elementId+"-preview"}).css({position:"absolute",left:(af.width()-am)/2,top:(a.height()-aq)/2,width:am,height:aq,background:"white",}).appendTo(a);n.fontStyle.originFontSize=n.fontStyle.fontSize;n.fontStyle.fillStyle=I?"#CCCCCC":n.fontStyle.fillStyle;G=new m2soft.crownix.FormField.Sign(n.elementId+"-preview",{width:K,height:C,showResetButton:false,fixedGuideText:u||false,isPreventEvent:true,onChangeCanvas:function(av,aw){av.css({left:0,border:"0px"});var au=X.getFormFieldSign().getSignature();au.drawSignature(av[0],{ratioType:true,fixedGuideText:true})}});var at=$("#"+n.elementId+"-scroll-pen-input");var ap=Math.min(A.width(),at.width()),aj=at.height();aa=$("<div>").attr({id:n.elementId+"-focus"}).addClass("crownix-scrollPen-preview-focus").css({left:z.css("left"),top:z.css("top"),width:aq*(ap/aj),height:aq}).appendTo(a)};var j=function(){ae=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":e.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(S);ae[0].addEventListener("touchstart",function(aj){aj.preventDefault()});if(H.isOverlay){ae.fadeIn(100)}};var Q=function(aj){if(!aa){return}aa.css({left:z.position().left+(aj.x*z.width()/aj.wrapperWidth)})};var L=function(aj){if(!aa){return}aa.animate({left:z.position().left+(aj.x*z.width()/aj.wrapperWidth)},300)};var V=function(){if(r.cxGridManager){r.cxGridManager.inactive()}var ar=S.width(),av=S.height(),aB=Math.max(ar*0.95,B),ao=(f.scrollPen.windowHeight>95)?95:(f.scrollPen.windowHeight<0)?0:f.scrollPen.windowHeight,az=aB,ap=Math.max(av*ao/100,300),aw=(f.scrollPen.windowPosition=="center")?((av-ap)/2):((av-ap)-10),ax=aB,aq=Math.max(av*0.1,P),aC=aB,ay=ap-ac-aq-t;ag=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({left:(ar-az)/2,top:aw,width:az+"px",height:ap+"px","z-index":e.WINDOW_Z_INDEX,"user-select":"none"}).prependTo(S);ag[0].addEventListener("touchmove",function(aF){var aE=$(aF.target);if(aE[0].tagName.toLowerCase()==="canvas"||aE.hasClass("crownix-signature-header")||af[0].contains(aE[0])||aE.hasClass("crownix-signature-footer")){aF.preventDefault()}});if(r.textOnCanvas){r.canvasManager.needRedraw=false}if(!J[0]){J=$("#"+n.elementId)}if(J[0]){U=true;O.save();O.zoom(1);O.scrollToElementWithFrame(J[0],1000,O.isFloating?0:ap+20)}ai=$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").append(n.title||n.id).appendTo(ag);af=$('<div id="crownix-window-preview">').addClass("crownix-scrollPen-preview").css({width:ax+"px",height:aq+"px"}).appendTo(ag);a=$('<div id="crownix-window-preview-body">').css({top:"5px",height:(aq-10)+"px"}).addClass("crownix-window-body").appendTo(af);A=$('<div id="crownix-window-body-pen">').addClass("crownix-window-body").css({width:aC+"px",overflow:"hidden",height:ay+"px"}).appendTo(ag);F(aC,ay);ah(ax,aq-10);g=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({display:"inline-block","line-height":t-3+"px"}).appendTo(ag);var an=$("<div>").attr("class","crownix-signature-button-dom").css({width:"60%","max-width":"340px",}).appendTo(g);var aD=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"30%",pading:"0 3px","max-width":"105px"}).bind("click",function(aE){D();Z();aE.preventDefault();aE.stopPropagation();if(typeof H.onOk==="function"){H.onOk(X.getFormFieldSign().getValue())}}).on("keydown",function(aE){aE.preventDefault();aE.stopPropagation();if(ab&&aE.keyCode===9){if($(this).attr("disabled")=="disabled"){return}if(aE.shiftKey){if(l.hasPrev()){D();Z();l.movePrev()}}else{if(l.hasNext()){D();Z();l.moveNext()}}}}).appendTo(an);$(h.SIGNATURE_CONFIRM).css({fill:"#FFFFFF",width:"10%","padding-right":"4px","min-width":"18px","vertical-align":"middle"}).appendTo(aD);$("<span>").text(k.get("ok_button_text")).appendTo(aD);W.push(aD);var am=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"30%",padding:"0 3px","max-width":"105px","margin-right":"0px"}).bind("click",function(aF){X.getFormFieldSign().reset();aD.focus();if(I||u){var aE=X.getFormFieldSign().getSignature();aE.drawSignature(J[0],{guideTextImageData:true});aE.drawSignature(z.children("canvas")[0],{guideTextImageData:true})}}).prependTo(an);$(h.SIGN_RESET_ALL).css({width:"10%","padding-right":"4px","min-width":"18px","vertical-align":"middle"}).appendTo(am);$("<span>").text(k.get("clear_sign")).appendTo(am);var al=$('<button type="button"></button>').attr("id",e.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").css({width:"30%","max-width":"105px","margin-right":0}).bind("click",function(){X.getFormFieldSign().reset();D(true);Z()}).prependTo(an);$("<span>").text(k.get("cancel_button_text")).appendTo(al);var au={max:20};c.adjustFontsize(aD,au);c.adjustFontsize(al,au);c.adjustFontsize(am,au);var aA=$("<div>").css({width:"100%",position:"absolute"}).prependTo(g);if(f.keepTabButton||!Y.isEnabled&&(l.length()>0&&l.exist(n.elementId)&&l.hasPrev())){var ak=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({width:"17%",padding:"0 5px","float":"left"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}D();Z();l.movePrev()}).appendTo(aA);$(h.PREV_ITEM_MARK).css({width:"7%",margin:"0px -3px 0 0px","min-width":"18px","vertical-align":"middle","fill-opacity":"0.7","vertical-align":"middle"}).appendTo(ak);$("<span>").text(k.get("back")).appendTo(ak);c.adjustFontsize(ak,au);W.push(ak)}if(f.keepTabButton||!Y.isEnabled&&(l.length()>0&&l.exist(n.elementId)&&l.hasNext())){var at=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({width:"17%",padding:"0 5px","float":"right"}).on("click",function(){if($(this).attr("disabled")=="disabled"){return}D();Z();l.moveNext()}).appendTo(aA);var aj=$("<span>").text(k.get("next")).appendTo(at);$(h.NEXT_ITEM_MARK).css({width:"7%",margin:"0px -5px 0 5px","min-width":"18px","vertical-align":"middle","vertical-align":"middle"}).appendTo(at);c.adjustFontsize(at,au);W.push(at)}ag.css("visibility","visible").fadeIn(500,function(){aD.focus();l.setPreventMove(false);ab=r.isOpenWindow=true;l.removePreventDom();ad()})};var T=function(){if(E){return}X.getFormFieldSign().reset();D(true);H.isOverlay&&ae.remove();ag.remove();if(J){J.removeClass("crownix-formfield-blink")}j();E=setTimeout(function(){if(U&&J[0]){O.scrollToElementWithFrame(J[0],1000,10)}V();E=undefined},500)};var D=function(al){var aj=X.getFormFieldSign().getSignature(),ak=aj.toData(K,C,{ratioType:!al,dpi:f.penDpi});if(al){if(n.value&&aj&&aj.lines.length>=0){if(n.signature){n.setValue(n.getSignature())}else{if(n.value){n.setValue(n.value)}}}else{n.value=n.signature=null;aj.drawSignature(J[0],{guideTextImageData:true})}}else{n.value=(aj.lines.length==0)?null:ak;n.signature=(aj.lines.length==0)?null:aj;r.formManager.trigger("change",n.formId,n.id);r.formManager.modified(n)}if(r.shareManager){r.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:n.signature?n.getSignature():n.value})}if(r.options.mirroring.enable){r.mirroringManager.externalEvent.setValue(n.formId,n.id,n.value);r.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"change")}n.determineEffect();if(r.fieldEffector){r.fieldEffector.start()}};var ad=function(){var al=$(".crownix-line-validity-message");if(al.length!=0&&W.length!=0){var ak=0;for(var aj=0;aj<al.length;aj++){if($(al[aj]).css("display")=="block"){ak++}}for(var aj in W){if(ak==0){W[aj].attr("disabled",false).css({opacity:1});l.enable();if(W[aj][0].innerText==k.get("ok_button_text")){W[aj].focus()}}else{W[aj].attr("disabled",true).css({opacity:0.4});l.disable()}}}};var b=function(al){var am=m2soft.crownix.Painter.adjustCoord,ak=am(al.element.attr("ri"))-am(al.element.attr("le"))-3,aj=am(al.element.attr("bo"))-am(al.element.attr("to"))-3;return{width:ak,height:aj}};var M=function(al){var an=r.report.getHeadForPage(n.page).textAttrList,ap=r.report.getHeadForPage(n.page).fontList,ak=an[al.attr("tid")]||{},aj=parseInt(al.attr("ha"));var ao=function(aq){if(r.alterFontMap&&r.alterFontMap[aq]){aq+='", "'+r.alterFontMap[aq]}return aq};var am=ao((al.attr("fn")?al.attr("fn"):ap.get(ak.fi)||""));return{fontFamily:'"'+am+'", '+('"'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+am+'"'),fontSize:((al.attr("pt")?al.attr("pt")/10:ak.pt/10)||10)+"pt",fillStyle:(al.attr("cl")?al.attr("cl"):ak.cl)||"#000000",fontStyle:(al.attr("ci")?al.attr("ci")==="1":ak.ci==="1")?"Italic":"",fontWeight:(al.attr("cb")?al.attr("cb")==="1":ak.cb==="1")?"Bold":"",underLine:(al.attr("cu")?al.attr("cu")==="1":ak.cu==="1")||!!al.attr("hl"),lineThrough:al.attr("cs")?al.attr("cs")==="1":ak.cs==="1",shade:al.attr("cr")?al.attr("cr")==="1":ak.cr==="1",textAlign:aj==1?"center":(aj==2?"right":"left"),textBaseline:r.options.formField.guideAlignPen?textVAlign:"middle",adjustFontScale:true}};var d=function(aj){r=aj;l=m2soft.crownix.FieldOrder.getInstance();Y=m2soft.crownix.GuideManager.getInstance();l.setPreventMove(true)};d.prototype={constructor:m2soft.crownix.ScrollPenWindow,show:function(al,aj,ak){n=r.formManager.getField(al,aj);if(!n||n.type!="pn"||n.commonHidden==="1"){r.dialog.show(k.get("formfield_not_exist"));return}if(n.editable!="1"){r.dialog.show(k.get("form_readonly").replace("%s",n.formId+"."+n.id));return}n.fontStyle=M(n.element);H=$.extend(true,$.extend({},s),ak);S=($("#"+H.parentId)[0])?$("#"+H.parentId):$("body");J=$("#"+n.elementId);K=b(n).width;C=b(n).height;O=r.scroll;q=n.element.attr("sn")||0;I=n.element.attr("ph")||"";u=n.element.attr("bt");f=r.options.formField;j();setTimeout(function(){V()},c.browser.mobile?500:0);window.addEventListener("orientationchange",T,false)},bind:function(aj,ak){N[aj]=ak}};m2soft.crownix.ScrollPenWindow=m2soft.crownix.util.SingleTone(d)}());m2soft.ns("m2soft.crownix.KeyboardPenWindow");m2soft.crownix.KeyboardPenWindow=(function(){var l=m2soft.crownix.Resource;var g=m2soft.crownix.Constant;var n=m2soft.crownix.Util;var F,q,j,I,a,e,C,f,w,u,G=false,r=false,h;var A,H,m,E,k,z;var b={};var c=function(){setTimeout(function(){D();var L=Math.min(500,$(window).width()*0.9),Q=40;z=$("<div>").css({position:"fixed",display:"none",bottom:(n.browser.ios||n.browser.safari)?"50%":"10px",left:($(window).width()-L)/2,width:L+"px",overflow:"hidden",background:"white",border:"1px solid gray","z-index":g.WINDOW_Z_INDEX,"max-width":"","border-radius":"15px"}).appendTo(A);var M=$("<div>").css({width:"100%",padding:"5px 0","text-align":"center","border-bottom":"1px solid #DEDEDE"}).appendTo(z);$("<span>").text(l.get("follow_text")).appendTo(M);var N=$("<div>").css({width:"100%",}).appendTo(z);var O=$("<div>").css({width:"100%",padding:"10px 5px",background:"white","text-decoration":"underline","text-align":"center"}).html(u).appendTo(N);var K=$("<div>").css({width:"100%",height:"70px"}).appendTo(N);m=$("<div>").attr({id:e[0].id+"-pen"}).css({width:"90%",height:"100%",margin:"0 auto"}).appendTo(K);E=new m2soft.crownix.FormField.KeyboardPen(e[0].id+"-pen",u,{autoComplete:F.options.formField.keyboardPen.autoComplete,onReady:function(U){k=U},onCorrect:function(U){O.css("color","black");d(P,U===u)},onIncorrect:function(U){O.css("color","red");d(P,false)},onFinished:function(){O.css("color","black");d(P,true)}});var T=$("<div>").css({width:"100%",height:Q+"px",}).appendTo(z);var S=$('<button type="button"></button>').css({display:"inline-block",width:"50%",height:"100%",border:"none",padding:0}).text(l.get("cancel_button_text")).bind("click tap",B).appendTo(T);var P=$('<button type="button"></button>').css({display:"inline-block",width:"50%",height:"100%",border:"none",padding:0,color:"white",background:"#1E77FC",cursor:"pointer",}).bind("click tap",function(){t();B()}).on("keydown",function(U){U.preventDefault();U.stopPropagation();if(U.keyCode===9){if($(this).attr("disabled")==="disabled"){return}if(U.shiftKey){t(true);B();if(q.hasPrev()){q.movePrev()}}else{if(q.hasNext()){q.moveNext()}}}}).text(l.get("ok_button_text")).appendTo(T);if(F.textOnCanvas){F.canvasManager.needRedraw=false}F.canvasManager.needRedraw=false;if(I[0]){r=true;a.save();a.zoom(1);a.scrollToElementWithFrame(I[0],1000,10)}a.disable();d(S,true);d(P,false);z.css("visibility","visible").fadeIn(500,function(){q.setPreventMove(false);q.removePreventDom();G=true;k.on("keydown",function(U){if(G){if(U.keyCode===9){if($(this).attr("disabled")==="disabled"){return}if(U.shiftKey){if(q.hasPrev()){t(true);B();q.movePrev()}}else{if(q.hasNext()){t(true);B();q.moveNext()}}}else{if(U.keyCode===13&&P.attr("disabled")!=="disabled"){t();B()}}}}).focus()});window.addEventListener("orientationchange",J,false)},100)};var d=function(L,K){L.attr({disabled:!K}).css({opacity:K?1:0.4,cursor:K?"pointer":"default"})};var B=function(){z.remove();H&&H.remove();window.removeEventListener("orientationchange",J,false);if(!j.isEnabled){a.enable()}if(r){a.restore()}r=false;G=false;if(e){e.removeClass("crownix-formfield-blink")}q.focusHiddenTab();if(F.textOnCanvas){F.canvasManager.needRedraw=true}if(b.OnClose&&typeof b.OnClose=="function"){b.OnClose()}};var J=function(){B();setTimeout(function(){c()},500)};var t=function(K){if(K){return w(true)}var L=C.drawTextToCanvas(e[0],u,{redraw:true,guideTextStyle:{fillStyle:"#000000"}});w(false,L)};var D=function(){H=$("<div>").addClass("crownix-overlay").css({"z-index":g.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(A);H[0].addEventListener("touchstart",function(K){K.preventDefault()})};var s=function(K){F=K;q=m2soft.crownix.FieldOrder.getInstance();q.setPreventMove(true);j=m2soft.crownix.GuideManager.getInstance()};s.prototype={show:function(K){I=K.currentField;a=K.viewerScroll;e=K.viewerCanvas;C=K.signature;f=$("#"+g.TEXT_ID);w=K.completeHandler;u=K.guideText;h=K.options;A=$("#"+F.containerDom.parent().attr("id"));setTimeout(function(){c()},n.browser.mobile?500:0)},bind:function(K,L){b[K]=L}};return s}());m2soft.ns("m2soft.crownix.PrintDialog");(function(){m2soft.crownix.PrintDialog=function(){var e=m2soft.crownix.Resource;Constant=m2soft.crownix.Constant,Dialog=m2soft.crownix.FormDialog,Util=m2soft.crownix.Util;var P='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><style type="text/css">.st0{clip-path:url(#SVGID_1_);fill:#647783;}.st1{clip-path:url(#SVGID_1_);fill:#FFFFFF;}.st2{fill:#D98A6E;}.st3{fill:#FFFFFF;}</style><g><g><defs><rect id="SVGID_3_" width="32" height="32"/></defs><clipPath id="SVGID_1_"><use xlink:href="#SVGID_3_"  style="overflow:visible;"/></clipPath><path class="st0" d="M0,17.3v9.9c0,0.3,0.2,0.5,0.5,0.5h2.7v1.6h1.6V32h22.4v-2.7h1.6v-1.6h2.7c0.3,0,0.5-0.2,0.5-0.5v-9.9H0z"/><rect x="5.3" y="0.5" class="st1" width="21.3" height="30.9"/><path class="st0" d="M26.1,30.9H5.9V1.1h20.3V30.9z M26.7,0H5.3C5,0,4.8,0.2,4.8,0.5V32h22.4V0.5C27.2,0.2,27,0,26.7,0"/><path class="st1" d="M22.1,22.9H10.6c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5S22.4,22.9,22.1,22.9"/><path class="st0" d="M22.1,21.8H10.6c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5S22.4,21.8,22.1,21.8"/><path class="st1" d="M22.1,25.2H10.6c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5C22.7,25,22.4,25.2,22.1,25.2"/><path class="st0" d="M22.1,24.2H10.6c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5C22.7,24.4,22.4,24.2,22.1,24.2"/><path class="st1" d="M22.1,27.3H10.6c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5C22.7,27.1,22.4,27.3,22.1,27.3"/><path class="st0" d="M22.1,26.3H10.6c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5S22.4,26.3,22.1,26.3"/><path class="st0" d="M32,10.1c0-0.3-0.2-0.5-0.5-0.5H0.5C0.2,9.6,0,9.8,0,10.1v10.1h32V10.1z"/></g><g><path class="st2" d="M27.2,16.1h-1.4c-0.9,0-1.7-0.7-1.7-1.7v0c0-0.9,0.7-1.7,1.7-1.7h1.4c0.9,0,1.7,0.7,1.7,1.7v0C28.8,15.3,28.1,16.1,27.2,16.1z"/><path class="st3" d="M28,16.4h-3c-0.7,0-1.2-0.6-1.2-1.3v-1.5c0-0.7,0.5-1.3,1.2-1.3h3c0.7,0,1.2,0.6,1.2,1.3v1.5C29.2,15.9,28.7,16.4,28,16.4z M25,13.1c-0.3,0-0.5,0.2-0.5,0.5v1.5c0,0.3,0.2,0.5,0.5,0.5h3c0.3,0,0.5-0.2,0.5-0.5v-1.5c0-0.3-0.2-0.5-0.5-0.5H25z"/></g></g></svg>';var Q=new Dialog("#"+Constant.CONTAINER_ID),s,f={copy:false,page:false,layout:false,duplex:false},j;var C,t,g,O,I,G,J;var w=function(){var V=H();var W=$("<div>").addClass("crownix-dialog-wrapper").addClass("crownix-dialog-wrapper-right");h(V);if(f.copy){r(W)}if(f.page){k(W)}if(f.layout){A(W)}if(f.duplex){d(W)}W.appendTo(V);return V};var H=function(){return $("<div>").addClass("crownix-print-dialog-body")};var h=function(V){var X=$("<div>"),W=$(P);X.addClass("crownix-print-dialog-image").addClass("crownix-dialog-wrapper").appendTo(V);W.attr({width:"70px",height:"70px"}).appendTo(X)};var r=function(Z){var ab=$("<div>"),aa=D(ab),Y=T(ab),V=$("<div>"),X=$("<label>"),W=$("<label>");C=$("<input>");t=$("<input>");ab.appendTo(Z);V.appendTo(ab);X.text(e.get("copies")).addClass("crownix-print-dialog-label").appendTo(aa);if($.isNumeric(s.maxCopy)){C.attr("max",s.maxCopy);z(C,s.maxCopy)}C.attr({id:"crownix-print-dialog-copies",type:"number",min:1,value:1}).appendTo(Y);t.attr({type:"checkbox",checked:true}).addClass("crownix-print-dialog-sub").appendTo(V);W.text(e.get("callate")).addClass("crownix-print-dialog-label").appendTo(V);U(W,t)};var U=function(W,V){W.bind("click",function(){V.click()})};var z=function(V,W){V.bind("input",function(){this.value=this.value.replace("-","");this.value=this.value.replace(".","");if(parseInt(this.value)>W){this.value=W}})};var k=function(Y){var aa=$("<div>"),Z=D(aa),X=T(aa),W=$("<label>"),V;g=$("<select>");O=q(aa);V=S(aa);aa.appendTo(Y);W.text(e.get("page")).addClass("crownix-print-dialog-label").appendTo(Z);g.appendTo(X);M(g,e.get("all"),"0",true);M(g,e.get("current_page"),"1",false);M(g,e.get("page_range"),"2",false);B(V);E(V.children().first())};var q=function(V){return $("<input>").attr({type:"text"}).addClass("crownix-print-dialog-range").addClass("crownix-print-dialog-sub").css("display","none").appendTo(V)};var S=function(V){var W=$("<div>").addClass("crownix-print-dialog-error-wrapper").css("display","none");$("<p>").addClass("crownix-print-dialog-range-error").addClass("crownix-print-dialog-sub").css("display","none").appendTo(W);return W.appendTo(V)};var A=function(Y){var ab=$("<div>"),aa=D(ab),X=T(ab),V=$("<div>"),W=$("<label>"),Z=$("<label>");I=$("<select>");G=$("<input>");ab.appendTo(Y);if(s.useSubPageOption){G.attr({type:"checkbox",checked:false}).addClass("crownix-print-dialog-sub").appendTo(V);Z.text(e.get("print_subpage_next")).css({"font-size":"8pt","vertical-align":"middle"}).addClass("crownix-print-dialog-label").appendTo(V);V.appendTo(ab)}W.text(e.get("print_page_layout")).addClass("crownix-print-dialog-label").appendTo(aa);I.appendTo(X);M(I,e.get("page_no").replace("%d",1),"1",true);M(I,e.get("page_no").replace("%d",2),"2",false);M(I,e.get("page_no").replace("%d",4),"4",false);M(I,e.get("page_no").replace("%d",6),"6",false);M(I,e.get("page_no").replace("%d",8),"8",false);a(Z,G)};var a=function(W,V){W.bind("click",function(){V.click()})};var d=function(X){var Z=$("<div>"),Y=D(Z),W=T(Z),V=$("<label>");Z.appendTo(X);V.text(e.get("print_duplex")).addClass("crownix-print-dialog-label").appendTo(Y);J=$("<select>").appendTo(W);M(J,e.get("not_use"),"0",true);M(J,e.get("print_duplex_flip_up"),"1",false);M(J,e.get("print_duplex_flip_sideway"),"2",false)};var B=function(V){g.bind("change",function(){if(this.value==="2"){O.css("display","block");V.css("display","block");if(V.children().css("display")==="block"){Q.disableOkButton()}}else{O.css("display","none");V.css("display","none");Q.enableOkButton()}Q.resize()})};var E=function(V){if(Util.browser.android){O.focus(function(){setTimeout(function(){Q.resize()},400)})}O.bind("input",function(){this.value=this.value.replace(" ","");if(!c(this.value)){V.text(e.get("invalid_page_range"));V.css("display","block");Q.disableOkButton()}else{if(!u()){V.text(e.get("exceed_page_range"));V.css("display","block");Q.disableOkButton()}else{V.css("display","none");Q.enableOkButton()}}Q.resize()})};var c=function(V){var W=/^(?!([ \d]*-){2})\d+(?: *[-,] *\d+)*$/;if(W.test(V)||V===""){return true}return false};var u=function(){var X=l();if(X===null){return true}for(var V=0;V<X.length;V++){var W=X[V];if(W>j.totalPage||W<=0){return false}}return true};var M=function(W,Y,X,V){$("<option>").attr({value:X,selected:V}).text(Y).appendTo(W)};var D=function(V){return $("<div>").addClass("crownix-print-dialog-side").addClass("crownix-print-dialog-side-left").appendTo(V)};var T=function(V){return $("<div>").addClass("crownix-print-dialog-side").addClass("crownix-print-dialog-side-right").appendTo(V)};var L=function(){var V={};if(f.copy){V.copies=C.val();V.isCollate=t.is(":checked")}if(f.page){V.pageType=g.val();V.pageRange=l()}if(f.layout){V.pageLayout=I.val();V.subPage=G.is(":checked")}if(f.duplex&&J.val()!="0"){V.duplexPrinting=J.val()}return V};var l=function(){var V=O.val();if(V===""){return null}return V.split(",").reduce(function(Z,Y){var X=N(Y);for(var W=0;W<X.length;W++){Z.push(X[W])}return Z},[])};var N=function(Y){var Z=[];if(Y.indexOf("-")>0){var W=Y.split("-"),aa=parseInt(W[0]),V=parseInt(W[1]);if(aa<V){for(var X=aa;X<=V;X++){Z.push(X)}}else{for(var X=aa;X>=V;X--){Z.push(X)}}}else{Z.push(parseInt(Y))}return Z};var m=function(){var V=parseInt(C.val());if(0>V||(s.maxCopy!==undefined&&V>s.maxCopy)){return false}return true};var n=function(){if(!f.page){return true}if(c(O.val())&&u()&&m()){return true}return false};var K=function(){Q.resize()};var F=function(){$(window).on("resize",K)};var b=function(){$(window).off("resize",K)};this.show=function(W){var V=$.Deferred();s=W.printOptions;f=$.extend(true,f,W.dialogOptions);j=W.pageInfo;Q.show("",{type:"confirm",body:function(X){w().appendTo(X)},okHandler:function(){b();if(n()){V.resolve(L())}else{V.reject()}},cancelHandler:function(){b();V.reject()}});F();return V.promise()}}})();m2soft.ns("m2soft.crownix.ImageConverter");m2soft.crownix.ImageConverter=function(){var j=m2soft.crownix.Resource;var e=m2soft.crownix.Util;var B=m2soft.crownix.util.Unit;var K=m2soft.crownix.util.DateUtil;var I=m2soft.crownix.util.NumberUtil;var w=null;var l=null;var q=null;var z=true;var D=null;var J={};var O=[];var f=false;var E=function(T,U){return m2soft.crownix.Painter.adjustCoord(T,U)};var H=function(T){return T+5};var r=function(T,W){var V=T.attr("fc");var Y=T.attr("pt");var X=T.attr("al");if(V||Y||X){var U=$.extend({},W);V&&(U.fc=V);Y&&(U.pt=Y);X&&(U.al=X);return U}else{return W}};var t=function(V,U){var T=V.attr("lc");var X=V.attr("wd");var W=V.attr("st");var Z=V.attr("ap");if(T||X||W||Z){var Y=$.extend({},U);T&&(Y.lc=T);X&&(Y.wd=m2soft.crownix.Painter.adjustWidth(X));W&&(Y.st=W);Z&&(Y.ap=Z);return Y}else{return U}};var C=function(X,W,U){if(W.attr("vs")==="0"){return}var Z=E(W.attr("sx"),U.wd);var Y=H(E(W.attr("sy"),U.wd));var V=E(W.attr("ex"),U.wd);var T=H(E(W.attr("ey"),U.wd));X.drawLine(Z,Y,V,T,U)};var g=function(X,V,W){var ad=E(V.attr("sx"),W.wd);var ac=H(E(V.attr("sy"),W.wd));var aa=E(V.attr("ex"),W.wd);var Z=H(E(V.attr("ey"),W.wd));var ab=E(V.attr("cx1"),W.wd);var U=H(E(V.attr("cy1"),W.wd));var Y=E(V.attr("cx2"),W.wd);var T=H(E(V.attr("cy2"),W.wd));X.drawCurve(ad,ac,aa,Z,W,ab,U,Y,T)};var F=function(X,U,W){if(U.attr("vs")==="0"){return}var T=U.attr("dt").split("|");var ac=[];for(var V=0,Z=T.length;V<Z;V++){var ab=T[V].split(",");var aa=E(ab[0],W.wd);var Y=H(E(ab[1],W.wd));ac.push([aa,Y])}X.drawPolyLine(W,ac)};var P=function(X,U,W){var T=U.attr("dt").split("|");var ac=[];for(var V=0,Z=T.length;V<Z;V++){var ab=T[V].split(",");var aa=E(ab[0]);var Y=H(E(ab[1]));ac.push([aa,Y])}X.drawScribble(W,ac)};var c=function(Y,W,U,X){var aa=E(W.attr("sx"),U.wd);var Z=H(E(W.attr("sy"),U.wd));var V=E(W.attr("ex"),U.wd);var T=H(E(W.attr("ey"),U.wd));Y.drawRect(aa,Z,V,T,U,X)};var k=function(X,V,W,ad){var ac=E(V.attr("sx"),W.wd);var ab=H(E(V.attr("sy"),W.wd));var Z=E(V.attr("ex"),W.wd);var Y=H(E(V.attr("ey"),W.wd));var T=V.attr("aw")/10.3;var aa=V.attr("ah")/10.3;var U=V.attr("ap");X.drawRect(ac,ab,Z,Y,W,ad,T,aa,U);X.setClip(V.attr("cl"))};var N=function(Y,W,U,X){var aa=E(W.attr("sx"),U.wd);var Z=H(E(W.attr("sy"),U.wd));var V=E(W.attr("ex"),U.wd);var T=H(E(W.attr("ey"),U.wd));Y.drawEllipse(aa,Z,V,T,U,X)};var G=function(Y,W,U,X){var aa=E(W.attr("sx"),U.wd);var Z=H(E(W.attr("sy"),U.wd));var V=E(W.attr("ex"),U.wd);var T=H(E(W.attr("ey"),U.wd));Y.drawDiamond(aa,Z,V,T,U,X)};var h=function(W,U,V,ab){var aa=E(U.attr("sx"),V.wd);var Z=H(E(U.attr("sy"),V.wd));var Y=E(U.attr("ex"),V.wd);var X=H(E(U.attr("ey"),V.wd));var T=U.attr("cx")/10.3;W.drawParallelogram(aa,Z,Y,X,V,ab,T)};var n=function(X,U,W,ad){var T=U.attr("dt").split("|");var ac=[];for(var V=0,Z=T.length;V<Z;V++){var ab=T[V].split(",");var aa=E(ab[0],W.wd);var Y=H(E(ab[1],W.wd));ac.push([aa,Y])}X.drawPolygon(W,ad,ac)};var Q=function(X,V,W,ac){var ab=E(V.attr("sx"),W.wd);var aa=H(E(V.attr("sy"),W.wd));var Z=E(V.attr("ex"),W.wd);var Y=H(E(V.attr("ey"),W.wd));var U=V.attr("cx")/10.3;var T=H(V.attr("cy")/10.3);X.drawHexaheron(ab,aa,Z,Y,U,T,W,ac)};var s=function(W,T,V,ab){var aa=E(T.attr("sx"),V.wd);var Z=H(E(T.attr("sy"),V.wd));var Y=E(T.attr("ex"),V.wd);var X=H(E(T.attr("ey"),V.wd));var U=T.attr("sh")/10.3;W.drawCylinder(aa,Z,Y,X,V,ab,U)};var S=function(U,W){var Y=E(W.attr("sx"));var X=H(E(W.attr("sy")));var V=E(W.attr("ex"));var T=H(E(W.attr("ey")));canvg(U,W.html(),{offsetX:Y,offsetY:X,scaleWidth:V-Y,scaleHeight:T-X,ignoreClear:true,ignoreMouse:true,})};var A=function(V,X,Z){var U=X[V.attr("tid")]||{};var T=parseInt(V.attr("ha"));var Y=function(aa){if(D&&D[aa]){aa+='", "'+D[aa]}return aa};var W=Y((V.attr("fn")?V.attr("fn"):Z.get(U.fi)||""));return{fontFamily:'"'+W+'", '+('"'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+W+'"'),fontSize:((V.attr("pt")?V.attr("pt")/10:U.pt/10)||10)+"pt",fillStyle:(V.attr("cl")?V.attr("cl"):U.cl)||"#000000",fontStyle:(V.attr("ci")?V.attr("ci")==="1":U.ci==="1")?"Italic":"",fontWeight:(V.attr("cb")?V.attr("cb")==="1":U.cb==="1")?"Bold":"",underLine:(V.attr("cu")?V.attr("cu")==="1":U.cu==="1")||!!V.attr("hl"),lineThrough:V.attr("cs")?V.attr("cs")==="1":U.cs==="1",shade:V.attr("cr")?V.attr("cr")==="1":U.cr==="1",textAlign:T==1?"center":(T==2?"right":"left")}};var a=function(ah,T,Z,aj,ac){if(T.attr("vs")==="0"){return}ac=ac||{};var W=E(T.attr("le"))+(ac.paddingLeft||ac.padding||0);var am=E(T.attr("ri"))-(ac.paddingRight||ac.padding||0);var af=H(E(T.attr("to"))+(ac.paddingTop||ac.padding||0));var Y=H(E(T.attr("bo"))-(ac.paddingBottom||ac.padding||0));var ag=parseInt(T.attr("ha"))||0;var X=parseFloat(T.attr("ls"))/1000||0;var V;var ab;var U;var ad=B.inToPx(X);if(typeof ac.align=="string"){ag=ac.align}else{if(ag===1){ag="center"}else{if(ag===2){ag="right"}else{ag="left"}}}if(T.children("TX").length>0){var ai=0;var ak=0;var al;if(z&&ac.overflow!=="hidden"){al=0;T.children().each(function(){var an=$(this);ab=an.text();V=A(an,aj,Z);al+=ah.measureText(ab,V).width+(ad*ab.length)},function(){var an=(am-W+2+ad);if(ab.length>1&&al>an){ad=ad-((al-an)/ab.length)}})}if(ag==="center"){ai=(am-W-al+ad)/2}else{if(ag==="right"){ai=am-W-al}}T.children().each(function(){var an=$(this);ab=an.text();V=A(an,aj,Z);V.textAlign="left";V.textBaseline="bottom";V.letterSpacing=ad;ah.drawText(ab,W+ai+ak,af,am,Y,V);ak+=ah.measureText(ab,V).width+(ad*ab.length)})}else{V=A(T,aj,Z);V.textAlign=ag;if(T.attr("cbo")=="1"&&T.attr("cto")!=="1"){V.textBaseline="top"}else{if(T.attr("cto")=="1"&&T.attr("cbo")!=="1"){V.textBaseline="bottom"}else{V.textBaseline="middle"}}ab=T.text();if(z&&ac.overflow!=="hidden"){var ae=ah.measureText(ab,V).width+(ad*ab.length);var aa=(am-W+2+ad);if(ab.length>1&&ae>aa){ad=ad-((ae-aa)/ab.length)}}V.letterSpacing=ad;ah.drawText(ab,W,af,am,Y,V)}};var d=function(Z,Y,W){var V=E(Y.attr("sx"));var ac=E(Y.attr("ex"));var ab=H(E(Y.attr("sy")));var T=H(E(Y.attr("ey")));var X=Y.attr("dt");var aa=Y.attr("ra");var U=ac-V;var ad=T-ab;Z.drawImage(W,V,ab,U,ad,aa)};var b=function(ao,ah,aa,ab,at,U,aD,ax,an,af){var au=ah.attr("lb")||"";var V=ah.attr("la")||"0";var ag=parseInt(ah.attr("ha"))||"0";var am=parseInt(ah.attr("va"))||"0";var al=parseFloat(ah.attr("ts")||"100")/100;var X=ah.attr("rb")=="1";var T=at-aa;var Y=(aa+at)/2;var W=(ab+U)/2;var az=A(ah,af,an);az.textAlign="left";var aA=parseInt(ah.attr("sz"))||16;var ap=4;var ac=ao.measureText(au,az).width;var ae,ad;if(ag=="0"){ae=aa+ap}else{if(ag=="1"){ae=aa+(T-aA-ap-ac)/2}else{if(ag=="2"){ae=at-aA-ap-ac}}}if(V=="1"){ae+=ac}if(am=="0"){az.textBaseline="top";ad=ab+ap}else{if(am=="1"){az.textBaseline="middle";ad=W-aA/2}else{if(am=="2"){az.textBaseline="bottom";ad=U-aA-ap}}}var ar=ae+aA;var aq=ad+aA;if(aD==="radio"){ao.drawEllipse(ae,ad,ar,aq,{lc:"#5D5D5D",wd:2},{fc:"#FFFFFF",pt:0});if(ax){var Z=(aA*0.25);ao.drawEllipse(ae+Z,ad+Z,ar-Z,aq-Z,{lc:"#000000",wd:1},{fc:"#000000",pt:0})}}else{if(aD==="check"){if(!X){ao.drawRect(ae,ad,ar,aq,{lc:"#5D5D5D",wd:2},{fc:"#FFFFFF",pt:0},1,1)}if(ax){var T=Math.round((aA*0.35*0.3));var ak=ae+(aA*0.2),aE=ad+(aA*0.5),aj=ae+(aA*0.45),aC=ad+(aA*0.75),ai=ae+(aA*0.8),aB=ad+(aA*0.25);if(al<1){T=T-Math.ceil((aA+Math.max((al-1)*aA,(1-aA)))/16);var ay=Math.abs(Math.sqrt(Math.pow((aj-ak),2)+Math.pow((aC-aE),2)));var aw=ay*al;var av=ay-aw;ak=((aw*ak)+(av*aj))/(aw+av);aE=((aw*aE)+(av*aC))/(aw+av);ai=((aw*ai)+(av*aj))/(aw+av);aB=((aw*aB)+(av*aC))/(aw+av)}else{if(al>1){T=T+Math.ceil((aA+Math.ceil((al-1)*aA/2))/16);var ay=Math.abs(Math.sqrt(Math.pow((aj-ak),2)+Math.pow((aC-aE),2)));var aw=ay*al;var av=aw-ay;ak=((aw*ak)-(av*aj))/(aw-av);aE=((aw*aE)-(av*aC))/(aw-av);ai=((aw*ai)-(av*aj))/(aw-av);aB=((aw*aB)-(av*aC))/(aw-av)}}ao.drawPolyLine({lc:"#000000",wd:T+(T%2===0?0:0.5)},[[ak,aE],[aj,aC],[ai,aB]])}}}if(V=="1"){ao.drawText(au,(ae-2-ac),ab,at,U,az)}else{ao.drawText(au,ar+2,ab,at,U,az)}};var L=function(U,T){$(T).find("element").each(function(){var V=$(this);var ac=V.attr("type");if(ac!="text"){var aj=V.attr("path");var Y=aj.split(/M|m|L|l|,/);var ag=[];for(var W=1,ae=Y.length;W<ae;W+=2){ag.push([Y[W],H(parseInt(Y[W+1]))])}U.drawPolyLine({lc:V.attr("stroke-color"),wd:parseInt(V.attr("stroke-width"))*96/72,al:V.attr("stroke-opacity"),},ag)}else{var af=Number(V.attr("x"));var ad=H(Number(V.attr("y")));var ab=af+Number(V.attr("width"));var aa=H(ad+Number(V.attr("height")));var ai=V.text();var Z,X,ah;if(V.attr("text-anchor")=="middle"){Z="center"}else{if(V.attr("text-anchor")=="end"){Z="right"}else{Z="left"}}X={lc:V.attr("line")=="true"?"#000000":V.attr("fill"),wd:2,al:V.attr("opacity")||1};ah={fc:V.attr("fill"),pt:0,al:V.attr("opacity")||1};U.drawRect(af,ad,ab,aa,X,ah);U.wrapText(ai,af,ad,ab,aa,{fontFamily:"Times, Arial",textBaseline:"top",fillStyle:V.attr("font-color"),fontStyle:V.attr("font-style"),fontWeight:V.attr("font-weight"),fontSize:V.attr("font-size")+"pt",underLine:V.attr("text-decoration")=="underline"?true:false,lineThrough:V.attr("text-decoration")=="line-through"?true:false,textAlign:Z})}})};var m=function(T,U){if(U==="rb"){return"crownix_form_field_"+T.attr("fi")+"_"+T.attr("gi")+"_"+T.attr("id")}else{return"crownix_form_field_"+T.attr("fi")+"_"+T.attr("id")}};var M=function(V){var Y=V.attr("fi");var T=V.attr("id");var U=V.attr("gi");var W=V.attr("ty");if(w){var X;if(W==="rb"){X=w.getField(Y,U)}else{X=w.getField(Y,T)}if(W==="tf"||W==="ta"||W==="im"||W==="sg"||W==="fl"||W==="pn"){return X.value}else{if(W==="co"){return X.getDisplayValue()}else{if(W==="rb"){return X.isSelected(T)}else{if(W==="cb"){return X.value==="1"}}}}}else{if(W==="tf"||W==="ta"){return V.text()}else{if(W==="rb"||W==="cb"){return V.attr("se")==="1"}else{if(W==="im"||W==="sg"||W==="pn"){return V.attr("dt")}else{if(W==="co"){return V.attr("sv")}}}}}};var u=function(aj,U,ac,ak){var X=E(U.attr("le"));var al=E(U.attr("ri"));var ad=H(E(U.attr("to")));var ab=H(E(U.attr("bo")));var W=U.attr("ty");var am=U.attr("fi");var ah=U.attr("id");if(w){var T=w.getField(am,ah);if(T){if(l){if(T.outputAuthority==="All"&&T.commonHidden==="1"){return}if(T.outputAuthority!=="All"&&U.attr("ch")==="1"){return}}else{if(T.commonHidden==="1"){return}}}}else{if(U.attr("ch")==="1"){return}}var af=M(U);if(W==="tf"){if(U.attr("hd")==="1"){return}if(U.attr("pw")==="1"){U.text(af.replace(/./g,"*"))}else{if(U.attr("it")==="date"){var Y=U.attr("df")||"yyyy-MM-dd";var ag=U.attr("dfv")||"yyyy-MM-dd";var V=K.convertDateFormat(M(U),Y,ag);U.text(V)}else{if((U.attr("it")==="text"||U.attr("it")==="number"||U.attr("it")==="tel")&&U.attr("ft")){var aa=new I(U.attr("ft"),U.attr("cz"),U.attr("cnz")).formatNumber(af.toString());U.text(aa)}else{U.text(af)}}}a(aj,U,ac,ak,{overflow:"hidden",padding:3})}else{if(W==="ta"){var ai=A(U,ak,ac);aj.wrapText(af,X+2,ad+2,al-2,ab-2,ai)}else{if(W==="rb"||W==="cb"){var Z=((U.attr("sp")||W)==="cb")?"check":"radio";b(aj,U,X,ad,al,ab,Z,af,ac,ak)}else{if(W==="co"||W==="fl"){U.text(af);a(aj,U,ac,ak,{align:"left",paddingLeft:parseInt(U.attr("dn"))+2||2,overflow:"hidden"})}else{if(W==="sg"||W==="im"||W==="pn"){if(W==="pn"){U.text(U.attr("bt"));a(aj,U,ac,ak,{overflow:"hidden",padding:3})}if(af){var ae=new Image();O.push(ae);ae.src=af;ae.onload=function(){var an=function(){var ap=ae.width/ae.height;var ar=(al-X-2)/(ab-ad-2);if(ar>ap){var aq=(ab-ad-2)*ap;aj.drawImage(ae,X+1+(al-X-2-aq)/2,ad+1,(ab-ad-2)*ap,ab-ad-2,0)}else{var ao=(al-X-2)/ap;aj.drawImage(ae,X+1,ad+1+(ab-ad-2-ao)/2,al-X-2,(al-X-2)/ap,0)}};if(ae.width!=al-X-2||ae.height!=ab-ad-2){an()}else{aj.drawImage(ae,X+1,ad+1,al-X-2,ab-ad-2,0)}}}}}}}}};this.convertPage=function(ad,ak,U,V,W){var Y=ad.getHeadForPage(ak);var Z=$(ad.getPage(ak));var ah=Math.floor(Z.attr("wd")/10.3);var ab=Math.floor(Z.attr("ht")/10.3);if(ak===1){J.width=Z.attr("wd")/1000;J.height=Z.attr("ht")/1000;J.size=Z.attr("si")||"A4"}var T=typeof U=="object"&&U.getContext,X;if(T){X=U;var ac=X.getContext("2d");X.width=X.height*ah/ab;ac.save();ac.fillStyle="#FFFFFF";ac.fillRect(0,0,X.width,X.height);ac.scale(X.width/ah,X.width/ah)}else{X=document.createElement("canvas");X.width=ah;X.height=ab}var af=new m2soft.crownix.Canvas(X);af.clear();var ai=Y.lineAttrList;var aj=Y.faceAttrList;var ag=Y.textAttrList;var aa=Y.fontList;var ae=new m2soft.crownix.ImageLoader();ae.loadImage(Z,Y.indexedImageList,function(){var am=function(an){an.children().each(function(){var ao=this.tagName;var aq=$(this);if(f&&aq.attr("ect")&&aq.attr("ect").indexOf("p")>=0){return}if(!f&&aq.attr("se")&&(aq.attr("se").indexOf("pdf")>=0||aq.attr("se").indexOf("all")>=0)){return}var ap=ai[aq.attr("lid")];var ar=aj[aq.attr("fid")];if(ap){ap=t(aq,ap)}if(ar){ar=r(aq,ar)}if(aq.attr("ft")==="1"||aq.attr("ft")==="2"){aq.text(e.formatPageNumber(aq.text(),ad.getPageInfo(ak,aq.attr("ft"))))}if(ao==="LN"){C(af,aq,ap)}else{if(ao==="RA"){c(af,aq,ap,ar)}else{if(ao==="TL"){a(af,aq,aa,ag)}else{if(ao==="SC"){P(af,aq,ap)}else{if(ao==="LL"){F(af,aq,ap)}else{if(ao==="PO"){n(af,aq,ap,ar)}else{if(ao==="EP"){N(af,aq,ap,ar)}else{if(ao==="DM"){G(af,aq,ap,ar)}else{if(ao==="PL"){h(af,aq,ap,ar)}else{if(ao==="HH"){Q(af,aq,ap,ar)}else{if(ao==="RR"){k(af,aq,ap,ar)}else{if(ao==="CY"){s(af,aq,ap,ar)}else{if(ao==="CV"){g(af,aq,ap)}else{if(ao==="IM"){d(af,aq,ae.nextImage())}else{if(ao==="FF"){u(af,aq,aa,ag)}else{if(ao==="CT"){S(X,aq)}else{if(ao==="PR"||ao==="TB"||ao==="TE"||ao==="FC"||ao==="SO"||ao==="SG"){am(aq)}else{if(ao==="IL"||ao==="CA"||ao==="SL"){return true}}}}}}}}}}}}}}}}}}})};am(Z);var al=setInterval(function(){for(var ao=0,an=O.length;ao<an;ao++){if(!O[ao].complete){return}}if(q){L(af,q.getNoteXml(ak,f?"print":"export"))}if(T){V(ak,X.getContext("2d").getImageData(0,0,X.width,X.height))}else{if(U!=="canvas"){V(ak,af.toDataURL("image/"+U))}else{V(ak,X)}}clearInterval(al)},50)})};this.convert=function(T,Y,aa,V){if(typeof aa!=="function"){throw"Invalid Callback Function"}var Z=[],X=J.totalPage=T.getTotalPage()-T.getRemovedPage().length,U=0;O=[];f=(V&&V.print)||false;for(var W=1;W<=X;W++){this.convertPage(T,W,Y,function(ab,ac){Z[ab-1]=ac;U++;if(U==X){aa(Z,J)}})}};this.setFormManager=function(T){w=T};this.setMirroringManager=function(T){l=T};this.setNoteManager=function(T){q=T};this.setUseAdjustLetterSpace=function(T){z=T};this.setAlterFontMap=function(T){D=T}};m2soft.ns("m2soft.crownix.PdfConverter");m2soft.crownix.PdfConverter=function(){var q=m2soft.crownix.Resource;var W=m2soft.crownix.util.Unit;var h=m2soft.crownix.Util;var B=m2soft.crownix.util.Color;var aj=m2soft.crownix.ImageConverter;var ah=m2soft.crownix.util.DateUtil;var ag=m2soft.crownix.util.NumberUtil;var f=null;var O=null;var w=null;var C=null;var u=null;var J=null;var am=null;var P=true;var Y=null;var aw="UniKS-UTF16-H";var D={};var Z=undefined;var j=[];var c=false;var H=false;var k=false;var M=false;var av=true;var aa=function(ay,az){return m2soft.crownix.Painter.adjustCoord(ay,az)};var af=function(ay){return ay+1};var ae=function(ay){return ay+5};var F=function(ay,aB){var aA=ay.attr("fc");var aD=ay.attr("pt");var aC=ay.attr("al");if(aA||aD||aC){var az=$.extend({},aB);aA&&(az.fc=aA);aD&&(az.pt=aD);aC&&(az.al=aC);return az}else{return aB}};var L=function(aA,az){var ay=aA.attr("lc");var aC=aA.attr("wd");var aB=aA.attr("st");var aE=aA.attr("ap");if(ay||aC||aB||aE){var aD=$.extend({},az);ay&&(aD.lc=ay);aC&&(aD.wd=m2soft.crownix.Painter.adjustWidth(aC));aB&&(aD.st=aB);aE&&aA[0].tagName!="RR"&&(aD.ap=aE);return aD}else{return az}};var r=function(aA,az){if(!az){return}if(az.wd!==undefined){aA.setLineWidth(az.wd)}if(az.lc!==undefined){var ay=B.hexToRgb(az.lc);aA.setDrawColor(ay[0],ay[1],ay[2])}};var ax=function(aA,az){if(!az){return}if(az.fc){var ay=Raphael.getRGB(az.fc);aA.setFillColor(ay.r,ay.g,ay.b)}};var X=function(aC,aB,az){if(aB.attr("vs")==="0"){return}var aE=af(parseInt(aB.attr("sx")));var aD=ae(parseInt(aB.attr("sy")));var aA=af(parseInt(aB.attr("ex")));var ay=ae(parseInt(aB.attr("ey")));aC.drawLine(aE,aD,aA,ay,az)};var e=function(aG,ay,aA,aH,aI){var aE=af(parseInt(ay.attr("sx")));var aD=ae(parseInt(ay.attr("sy")));var aC=af(parseInt(ay.attr("ex")));var aB=ae(parseInt(ay.attr("ey")));var aF=aC-aE,az=aB-aD;if(!aH){aH={al:"0",pt:"0"}}if(aI){var aJ={width:ay.attr("aw")/10.3,height:ay.attr("ah")/10.3,point:ay.attr("ap")};if(!ay.attr("cl")||ay.attr("cl")==="1"){aG.pushGraphicsState()}aG.drawRoundRect(aE,aD,aC,aB,aA,aH,aJ);if(!ay.attr("cl")||ay.attr("cl")==="2"){aG.restoreGraphicsState()}}else{aG.drawRect(aE,aD,aC,aB,aA,aH)}};var T=function(aA,aB,aC){var az=aB[aA.attr("tid")]||{};var ay=parseInt(aA.attr("ha"));return{fontFamily:(aA.attr("fn")?aA.attr("fn"):aC.get(az.fi)||""),fontSize:((aA.attr("pt")?aA.attr("pt")/10:az.pt/10)||10)+"pt",fillStyle:(aA.attr("cl")?aA.attr("cl"):az.cl)||"#000000",fontStyle:(aA.attr("ci")?aA.attr("ci")==="1":az.ci==="1")?"italic":"",fontWeight:(aA.attr("cb")?aA.attr("cb")==="1":az.cb==="1")?"bold":"",underLine:(aA.attr("cu")?aA.attr("cu")==="1":az.cu==="1")||!!aA.attr("hl"),lineThrough:aA.attr("cs")?aA.attr("cs")==="1":az.cs==="1",shade:aA.attr("cr")?aA.attr("cr")==="1":az.cr==="1",textAlign:ay==1?"center":(ay==2?"right":"left")}};var ac=function(az,aB,aA,ay,aC){do{aB=aB.substring(0,--aB.length)}while(az.measureText(aB,aA)+aC*aB.length>ay);return aB};var b=function(aR,ay,aE,aN,aH){if(ay.attr("vs")==="0"){return}aH=aH||{};var aB=af(parseInt(ay.attr("le"))+(aH.paddingLeft||aH.padding||0));var aQ=af(parseInt(ay.attr("ri"))-(aH.paddingRight||aH.padding||0));var aK=ae(parseInt(ay.attr("to"))+(aH.paddingTop||aH.padding||0));var aD=ae(parseInt(ay.attr("bo"))-(aH.paddingBottom||aH.padding||0));var aL=aH.align||parseInt(ay.attr("ha"))||0;var aC=parseFloat(ay.attr("ls"))/1000||0;var aA;var aG;var az;var aI=W.inToPx(aC);if(typeof aH.align=="string"){aL=aH.align}else{if(aL===1){aL="center"}else{if(aL===2){aL="right"}else{aL="left"}}}if(ay.children("TX").length>0){var aM=0;var aO=0;var aP=0;if(P&&aH.overflow!=="hidden"){aP=0;ay.children().each(function(){var aS=$(this);aG=aS.text();aA=T(aS,aN,aE);aP+=aR.measureText(aG,aA)+(aI*aG.length)},function(){var aS=(aQ-aB+2+aI);if(aG.length>1&&aP>aS){aI=aI-((aP-aS)/aG.length)}})}if(aL==="center"){aM=(aQ-aB-aP+aI)/2}else{if(aL==="right"){aM=aQ-aB-aP}}ay.children().each(function(){var aS=$(this);aG=aS.text();aA=T(aS,aN,aE);aA.textAlign="left";aA.textBaseline="bottom";aA.letterSpacing=aI;au(aR,aG,aB+aM+aO*96/72,aK,aQ,aD,aA);aO+=aR.measureText(aG,aA)+aI*aG.length})}else{aA=T(ay,aN,aE);aA.textAlign=aL;if(ay.attr("cbo")=="1"&&ay.attr("cto")!=="1"){aA.textBaseline="top"}else{if(ay.attr("cto")=="1"&&ay.attr("cbo")!=="1"){aA.textBaseline="bottom"}else{aA.textBaseline="middle"}}aG=ay.text();if(P&&aH.overflow!=="hidden"){var aJ=aR.measureText(aG,aA)+(aI*aG.length);var aF=(aQ-aB+2+aI);if(aG.length>1&&aJ>aF){aI=aI-((aJ-aF)/aG.length)}}else{if(aR.measureText(aG,aA)+aI*aG.length>(aQ-aB+2)){aG=ac(aR,aG,aA,aQ-aB+2+aI,aI)}}aA.letterSpacing=aI;au(aR,aG,aB,aK,aQ,aD,aA)}};var au=function(aK,aN,aB,aH,aL,ay,aC){if(aN.length==0){return}aK.setFontSize((parseInt(aC.fontSize)));aC.fontFamily?aK.setFont(aC.fontFamily):aK.setDefaultFont();aK.setFontStyle(aC.fontWeight+aC.fontStyle);aK.setTextColor(aC.fillStyle);var aF=B.hexToRgb(aC.fillStyle);aK.setDrawColor(aF[0],aF[1],aF[2]);var aJ=(typeof aC.letterSpacing==="number")?aC.letterSpacing:0;var aA=aK.measureText(aN,aC)+aJ*aN.length;var aM=W.ptToPx(parseFloat(aC.fontSize));var aI,aG;if(aC.textAlign==="left"){aI=aB}else{if(aC.textAlign==="center"){aI=aB+(aL-aB)/2-(aA-aJ)/2}else{if(aC.textAlign==="right"){aI=aL-aA}}}if(aC.textBaseline==="top"){aG=aH+aM}else{if(aC.textBaseline==="middle"){aG=aH+(ay-aH)/2+aM/3}else{if(aC.textBaseline==="bottom"){aG=ay}}}if(aC.shade){var aF=B.hexToRgb("#000000");aK.setDrawColor(aF[0],aF[1],aF[2]);aK.setFillColor(aF[0],aF[1],aF[2]);aK.rect(aI,aG-aM+aM/7,aA,aM,"FD");aK.setTextColor((aC.fillStyle==="#000000")?"#ffffff":aC.fillStyle)}if(aJ!==0){var az=aI;for(var aD=0,aE=aN.length;aD<aE;aD++){if(c){aK.drawText(az,aG,aN[aD])}else{aK.text(az,aG,aN[aD])}az+=aC.letterSpacing+aK.measureText(aN[aD],aC)}}else{if(c){aK.drawText(aI,aG,aN)}else{aK.text(aI,aG,aN)}}if(aC.underLine||aC.lineThrough){aK.setLineWidth(parseInt(aC.fontSize)/40);var aF=B.hexToRgb(aC.fillStyle);aK.setDrawColor(aF[0],aF[1],aF[2])}if(aC.underLine){aK.line(aI,aG+aM/14,aI+aA,aG+aM/14)}if(aC.lineThrough){aK.line(aI,aG-aM/4,aI+aA,aG-aM/4)}};var G=function(aQ,aG,aJ,aH,aO,aN,aB){var aE=aJ,aD=aH,aK=aO-aJ,aI=aN-aH;var aA=W.ptToPx(parseInt(aB.fontSize,10))*1.2;if(!aB.textBaseline||aB.textBaseline===""){aB.textBaseline="top"}if(!aB.textAlign||aB.textAlign===""){aB.textAlign="left"}var az=aG.split("\n");for(var aM=0,ay=az.length;aM<ay;aM++){var aF=az[aM];var aL=aF.length;var aC=0;if(aL==0){aD+=aA;continue}while(aC<aL){var aP=1;while(true){if(aC+aP>aL){break}if(aQ.measureText(aF.substring(aC,aC+aP),aB)>aK){aP--;break}else{aP++}}au(aQ,aF.substring(aC,aC+aP),aE,aD,aO,aN,aB);aD+=aA;aC+=aP}}};var n=function(aG,aA,aB){var aF=af(parseInt(aA.attr("sx")));var aE=ae(parseInt(aA.attr("sy")));var aD=af(parseInt(aA.attr("ex")));var aC=ae(parseInt(aA.attr("ey")));var az=af(aa(aA.attr("cx1"),aB.wd));var ay=ae(aa(aA.attr("cy1"),aB.wd));var aI=af(aa(aA.attr("cx2"),aB.wd));var aH=ae(aa(aA.attr("cy2"),aB.wd));aG.drawCurve(aF,aE,aD,aC,az,ay,aI,aH,aB)};var ab=function(aI,aB,aC){if(aB.attr("vs")==="0"){return}var aL=af(parseInt(aB.attr("osx"))),aK=ae(parseInt(aB.attr("osy"))),aG=af(parseInt(aB.attr("sx"))),aF=ae(parseInt(aB.attr("sy"))),aA=aB.attr("dt").split("|"),aJ=[],aD=[],ay={x:aG-aL,y:aF-aK};for(var az=0,aE=aA.length;az<aE;az++){var aH=aA[az].split(",");aJ.push([af(aa(aH[0],aC.wd)+ay.x),ae(aa(aH[1],aC.wd)+ay.y)])}aI.drawPolyLine(aJ,aC)};var A=function(aP,ay,aA,aD){var aO=af(parseInt(ay.attr("osx")));var aM=ae(parseInt(ay.attr("osy")));var aF=af(parseInt(ay.attr("sx")));var aE=ae(parseInt(ay.attr("sy")));var aL=af(parseInt(ay.attr("ex")));var aK=ae(parseInt(ay.attr("ey")));var aN=ay.attr("dt").split("|");var az={x:aF-aO,y:aE-aM};var aH=[];for(var aJ=0,aI=aN.length;aJ<aI;aJ++){var aG=aN[aJ].split(",");var aC=af(aa(aG[0],aA.wd)+az.x);var aB=ae(aa(aG[1],aA.wd)+az.y);aH.push([aC,aB])}aH[0][0]+=az.x;aH[0][1]+=az.y;aP.drawPolygon(aH,aA,aD)};var al=function(aD,aB,az,aC){var aF=af(parseInt(aB.attr("sx")));var aE=ae(parseInt(aB.attr("sy")));var aA=af(parseInt(aB.attr("ex")));var ay=ae(parseInt(aB.attr("ey")));aD.drawEllipse(aF,aE,aA,ay,az,aC)};var ad=function(aD,aB,az,aC){var aF=af(parseInt(aB.attr("sx")));var aE=ae(parseInt(aB.attr("sy")));var aA=af(parseInt(aB.attr("ex")));var ay=ae(parseInt(aB.attr("ey")));aD.drawDiamond(aF,aE,aA,ay,az,aC)};var m=function(aF,az,aA,aG){var aE=af(parseInt(az.attr("sx")));var aD=ae(parseInt(az.attr("sy")));var aC=af(parseInt(az.attr("ex")));var aB=ae(parseInt(az.attr("ey")));var ay=af(parseInt(az.attr("cx"))/10.3);aF.drawParallelogram(aE,aD,aC,aB,ay,aA,aG)};var t=function(aG,aA,aB,aH){var aF=af(parseInt(aA.attr("sx")));var aE=ae(parseInt(aA.attr("sy")));var aD=af(parseInt(aA.attr("ex")));var aC=ae(parseInt(aA.attr("ey")));var az=af(parseInt(aA.attr("cx"))/10.3);var ay=ae(parseInt(aA.attr("cy"))/10.3);aG.drawHexahedron(aF,aE,aD,aC,az,ay,aB,aH)};var I=function(aF,ay,az,aG){var aE=af(parseInt(ay.attr("sx")));var aD=ae(parseInt(ay.attr("sy")));var aB=af(parseInt(ay.attr("ex")));var aA=ae(parseInt(ay.attr("ey")));var aC=ay.attr("sh")/10.3;aF.drawCylinder(aE,aD,aB,aA,aC,az,aG)};var ap=function(aJ,aB,aC){var aM=af(parseInt(aB.attr("osx")));var aL=ae(parseInt(aB.attr("osy")));var aH=af(parseInt(aB.attr("sx")));var aF=ae(parseInt(aB.attr("sy")));var aA=aB.attr("dt").split("|");var ay={x:aH-aM,y:aF-aL};var aK=[];for(var az=0,aE=aA.length;az<aE;az++){var aI=aA[az].split(",");var aG=af(aa(aI[0],aC.wd)+ay.x);var aD=ae(aa(aI[1],aC.wd)+ay.y);aK.push([aG,aD])}aJ.drawScribble(aK,aC)};var g=function(aK,aG,aE){var aD=af(parseInt(aG.attr("sx")));var aL=af(parseInt(aG.attr("ex")));var aJ=ae(parseInt(aG.attr("sy")));var ay=ae(parseInt(aG.attr("ey")));var aF=aG.attr("dt");var aH=aG.attr("ra");var aA=aL-aD;var aM=ay-aJ;if(aH=="1"){}else{if(aE.naturalWidth+aE.naturalHeight>0){var aI=aE.src.indexOf(",");if(aE.src.substr(aI+1,2)==="iV"||aE.src.substr(aI+1,2)==="/9"){if(aE.src.substr(aI+1,2)==="/9"&&aE.src.indexOf("data:image/png;")>=0){aE.src=aE.src.replace("data:image/png;","data:image/jpeg;")}aK.addImage(aE,"jpeg",aD,aJ,aA,aM)}else{var aB=$("<canvas>")[0];aB.width=aE.width;aB.height=aE.height;var az=aB.getContext("2d");az.drawImage(aE,0,0);var aC=aB.toDataURL("image/jpeg");aK.addImage(aC,"jpeg",aD,aJ,aA,aM)}}}};var ak=function(aA){var aD=aA.attr("fi");var ay=aA.attr("id");var az=aA.attr("gi");var aB=aA.attr("ty");if(O){var aC;if(aB==="rb"){aC=O.getField(aD,az)}else{aC=O.getField(aD,ay)}if(aB==="tf"||aB==="ta"||aB==="im"||aB==="sg"||aB==="fl"||aB==="pn"){return aC.value}else{if(aB==="co"){return aC.getDisplayValue&&aC.getDisplayValue()}else{if(aB==="rb"){return aC.isSelected(ay)}else{if(aB==="cb"){return aC.value==="1"}}}}}else{if(aB==="tf"||aB==="ta"){return aA.text()}else{if(aB==="rb"||aB==="cb"){return aA.attr("se")==="1"}else{if(aB==="im"||aB==="sg"||aB==="pn"){return aA.attr("dt")}else{if(aB==="co"){return aA.attr("sv")}else{if(aB==="fl"){return aA.attr("vl")}}}}}}};var ao=function(aB){var aE=aB.attr("fi"),ay=aB.attr("id"),aA=aB.attr("gi"),aC=aB.attr("ty");if(O){var aD;if(aC==="rb"){aD=O.getField(aE,aA)}else{aD=O.getField(aE,ay)}if(aC==="tf"||aC==="ta"||aC==="fl"){return aD.value}else{if(aC==="co"){return aD.getDisplayValue&&aD.getDisplayValue()}else{if(aC==="rb"){return aD.getLabel()}else{if(aC==="cb"){return aD.getLabel()}}}}}else{if(aC==="tf"||aC==="ta"){return aB.text()}else{if(aC==="rb"||aC==="cb"){return aB.attr("lb")}else{if(aC==="co"){var az="";if(aB.attr("sv")){aB.children("item").each(function(){var aF=$(this);if(aB.attr("sv")===aF.attr("ad")){az=aF.attr("sd")}})}return az}else{if(aC==="fl"){return aB.attr("vl")}}}}}};var a=function(aG,aN,aF,aH,aZ,az,bb,a4,aV,aL){var a0=aN.attr("lb")||"";var aA=aN.attr("la")||"0";var aM=parseInt(aN.attr("ha"))||"0";var aT=parseInt(aN.attr("va"))||"0";var aS=parseFloat(aN.attr("ts")||"100")/100;var aC=aN.attr("rb")=="1";var ay=aZ-aF;var aD=(aF+aZ)/2;var aB=(aH+az)/2;var a6=T(aN,aL,aV);a6.textAlign="left";var a7=parseInt(aN.attr("sz"))||16;var aW=4;var aI=aG.measureText(a0,a6);var aK,aJ;if(aM=="0"){aK=aF+aW}else{if(aM=="1"){aK=aF+(ay-a7-aW-aI)/2}else{if(aM=="2"){aK=aZ-a7-aW-aI}}}if(aA=="1"){aK+=aI}if(aT=="0"){a6.textBaseline="top";aJ=aH+aW}else{if(aT=="1"){a6.textBaseline="middle";aJ=aB-a7/2}else{if(aT=="2"){a6.textBaseline="bottom";aJ=az-a7-aW}}}var aY=aK+a7;var aX=aJ+a7;if(aA=="1"){au(aG,a0,(aK-2-aI),aH,aZ,az,a6)}else{au(aG,a0,aY+2,aH,aZ,az,a6)}var aR={fc:"#FFFFFF",pt:0},aU={lc:"#5D5D5D",wd:1},a1={fc:"#5D5D5D",pt:0},a9={lc:"#5D5D5D",wd:1};ax(aG,aR);r(aG,aU);if(bb==="radio"){aG.drawEllipse(aK,aJ,aY,aX,aU,aR)}else{if(!aC){aG.drawRect(aK,aJ,aY,aX,aU,aR,1,1)}}if(a4){ax(aG,a1);r(aG,a9);if(bb==="radio"){var aE=(a7*0.25);aG.drawEllipse(aK+aE,aJ+aE,aY-aE,aX-aE,a9,a1)}else{var aQ=aK+(a7*0.2),bc=aJ+(a7*0.5),aP=aK+(a7*0.45),ba=aJ+(a7*0.75),aO=aK+(a7*0.8),a8=aJ+(a7*0.25);var ay=Math.round((a7*0.35*0.3));if(aS<1){ay=ay-Math.ceil((a7+Math.max((aS-1)*a7,(1-a7)))/16);var a5=Math.abs(Math.sqrt(Math.pow((aP-aQ),2)+Math.pow((ba-bc),2)));var a3=a5*aS;var a2=a5-a3;aQ=((a3*aQ)+(a2*aP))/(a3+a2);bc=((a3*bc)+(a2*ba))/(a3+a2);aO=((a3*aO)+(a2*aP))/(a3+a2);a8=((a3*a8)+(a2*ba))/(a3+a2)}else{if(aS>1){ay=ay+Math.ceil((a7+Math.ceil((aS-1)*a7/2))/16);var a5=Math.abs(Math.sqrt(Math.pow((aP-aQ),2)+Math.pow((ba-bc),2)));var a3=a5*aS;var a2=a3-a5;aQ=((a3*aQ)-(a2*aP))/(a3-a2);bc=((a3*bc)-(a2*ba))/(a3-a2);aO=((a3*aO)-(a2*aP))/(a3-a2);a8=((a3*a8)-(a2*ba))/(a3-a2)}}a9.wd=ay+(ay%2===0?0:0.5);r(aG,a9);aG.drawPolyLine([[aQ,bc],[aP,ba],[aO,a8]],a9)}}};var N=function(aQ,az,aH,aN){var aC=af(parseInt(az.attr("le")));var aO=af(parseInt(az.attr("ri")));var aI=ae(parseInt(az.attr("to")));var aG=ae(parseInt(az.attr("bo")));var aB=az.attr("ty");var aP=az.attr("fi");var aL=az.attr("id");var aJ=ak(az);if(O){var ay=O.getField(aP,aL);if(ay){if(w){if(ay.outputAuthority==="All"&&ay.commonHidden==="1"){return}if(ay.outputAuthority!=="All"&&az.attr("ch")==="1"){return}}else{if(ay.commonHidden==="1"){return}}}}else{if(az.attr("ch")==="1"){return}}if(aB==="tf"){if(az.attr("hd")==="1"){return}if(az.attr("pw")==="1"){az.text(aJ.replace(/./g,"*"))}else{if(az.attr("it")==="date"){var aD=az.attr("df")||"yyyy-MM-dd";var aK=az.attr("dfv")||"yyyy-MM-dd";var aA=ah.convertDateFormat(ak(az),aD,aK);az.text(aA)}else{if((az.attr("it")==="text"||az.attr("it")==="number"||az.attr("it")==="tel")&&az.attr("ft")){var aF=new ag(az.attr("ft"),az.attr("cz"),az.attr("cnz")).formatNumber(aJ.toString());az.text(aF)}else{az.text(aJ)}}}b(aQ,az,aH,aN,{overflow:"hidden",padding:3})}else{if(aB==="ta"){var aM=T(az,aN,aH);G(aQ,aJ,aC+2,aI+2,aO-2,aG-2,aM)}else{if(aB==="rb"||aB==="cb"){var aE=((az.attr("sp")||aB)==="cb")?"check":"radio";a(aQ,az,aC,aI,aO,aG,aE,aJ,aH,aN)}else{if(aB==="co"||aB==="fl"){az.text(aJ);b(aQ,az,aH,aN,{align:"left",paddingLeft:parseInt(az.attr("dn"))+2||2,overflow:"hidden"})}else{if(aB==="sg"||aB==="im"||aB==="pn"){if(aJ){aQ.addImage(aJ,"jpeg",aC+1,aI+1,aO-aC-2,aG-aI-2)}}}}}}};var ai=function(az,ay){$(ay).find("element").each(function(){var aA=$(this);var aH=aA.attr("type");if(aH!="text"){var aO=aA.attr("path");var aD=aO.split(/M|m|L|l|,/);var aL=[];for(var aB=3,aJ=aD.length;aB<aJ;aB+=2){aL.push([af(parseInt(aD[aB])-parseInt(aD[aB-2])),ae(parseInt(aD[aB+1]))-ae(parseInt(aD[aB-1]))])}r(az,{lc:aA.attr("stroke-color"),wd:parseInt(aA.attr("stroke-width"))*96/72,al:aA.attr("stroke-opacity"),});az.setLineCap("round");if(aA.attr("stroke-opacity")!=="1"){az.setAlpha(aA.attr("stroke-opacity"))}az.lines(aL,parseInt(aD[1]),parseInt(aD[2]),[1,1],"D",false);az.setAlpha()}else{var aK=af(Number(aA.attr("x")));var aI=ae(Number(aA.attr("y")));var aG=af(aK+Number(aA.attr("width")));var aF=ae(aI+Number(aA.attr("height")));var aN=aA.text();var aE;var aM={fc:aA.attr("fill"),pt:0};var aC={lc:aA.attr("line")=="true"?"#000000":aA.attr("fill"),wd:2};if(aM.fc==="transparent"){aM.fc="#FFFFFF";aM.al="0"}if(aC.lc==="transparent"){aC.lc="#FFFFFF";aC.al="0"}if(aA.attr("opacity")){aM.al=aA.attr("opacity");aC.al=aA.attr("opacity")}if(aA.attr("text-anchor")=="middle"){aE="center"}else{if(aA.attr("text-anchor")=="end"){aE="right"}else{aE="left"}}ax(az,aM);r(az,aC);az.drawRect(aK,aI,aG,aF,aC,aM);G(az,aN,aK,aI,aG,aF,{fillStyle:aA.attr("font-color"),fontStyle:aA.attr("font-style")==="italic"?"italic":"",fontWeight:aA.attr("font-weight")==="bold"?"bold":"",fontSize:aA.attr("font-size")+"pt",underLine:aA.attr("text-decoration").indexOf("underline")>=0?true:false,lineThrough:aA.attr("text-decoration").indexOf("line-through")>=0?true:false,textAlign:aE})}})};var at=function(aB,aA){var aD=af(parseInt(aA.attr("sx")));var az=af(parseInt(aA.attr("ex")));var aC=ae(parseInt(aA.attr("sy")));var ay=ae(parseInt(aA.attr("ey")));aB.drawSVG(aD,aC,az,ay,aA.html(),{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true})};var an=function(aB,aA){var aD=af(parseInt(aA.attr("sx")));var aC=ae(parseInt(aA.attr("sy")));var az=af(parseInt(aA.attr("ex")));var ay=ae(parseInt(aA.attr("ey")));aB.pushGraphicsState();aB.rect(aD,aC,az-aD,ay-aC,null);aB.clip()};var U=function(ay){ay.restoreGraphicsState()};var V=function(aH,aB,aG,aD,az){var aI=$.Deferred();var aC=[];var aE=[];var ay=u["export"]();var aJ=[{head:aG,page:aD,offset:{x:0,y:0}}];var aA={point:["sx","sy","ex","ey"],rect:["le","to","ri","bo"]};var aF=function(aN,aY){var aS;if(typeof aJ[aN].head=="string"){aS=aB.parseHead($(aJ[aN].head))}else{aS=aJ[aN].head}var aV=aS.lineAttrList;var aL=aS.faceAttrList;var aT=aS.textAttrList;var aP=aS.fontList;if(!aH.addFont(j,c,aw)&&!M){M=true;am.show(q.get("non_ttf_font_error"))}if(aN>0&&aJ[aN].drilldownType){for(var aW in aC){var aX=aC[aW].element;var aK="point";if(aX.attr("le")){aK="rect"}var aU=parseInt(aX.attr(aA[aK][0]));var aR=parseInt(aX.attr(aA[aK][1]));var aQ=parseInt(aX.attr(aA[aK][2]));var aO=parseInt(aX.attr(aA[aK][3]));if(aJ[aN].drilldownType==="0"){if(aJ[aN].boundary.top+aJ[aN].offset.y<aR){aR+=aJ[aN].boundary.bottom-aJ[aN].boundary.top;aO+=aJ[aN].boundary.bottom-aJ[aN].boundary.top}}else{if(aJ[aN].drilldownType==="1"){if(aJ[aN].boundary.left+aJ[aN].offset.x<aU){aU+=aJ[aN].boundary.right-aJ[aN].boundary.left;aQ+=aJ[aN].boundary.right-aJ[aN].boundary.left}}}aX.attr(aA[aK][0],aU);aX.attr(aA[aK][1],aR);aX.attr(aA[aK][2],aQ);aX.attr(aA[aK][3],aO)}}if(aJ[aN].layerStartEle){aC.push(aJ[aN].layerStartEle)}var aM=new m2soft.crownix.ImageLoader();aM.loadImage(aJ[aN].page,aJ[aN].head.indexedImageList,function(){if(aJ[aN].page.children().length===0){if(aJ[aN].layerEndEle){aC.push(aJ[aN].layerEndEle)}if(aN<aJ.length-1){aF(++aN,aY)}else{aY()}}aJ[aN].page.children().each(function(a2){var a4=this.tagName;var a7=$(this);var a3=aV[a7.attr("lid")];var a5=aL[a7.attr("fid")];var a9;var a1=0;var ba="point";if(a7.attr("le")){ba="rect"}if(a3){a3=L(a7,a3)}if(a5){a5=F(a7,a5)}if(a4!=="TL"&&a4!=="SC"&&a4!=="IM"&&a4!=="FF"&&a4!=="CT"&&a4!=="LE"&&a4!=="FL"&&a4!=="TG"){a1=a3.wd}if(a4==="SC"||a4==="LL"||a4==="PO"){if(!a7.attr("osx")&&!a7.attr("osy")){a7.attr("osx",aa(a7.attr("sx"),a1));a7.attr("osy",aa(a7.attr("sy"),a1))}}var a8=aa(a7.attr(aA[ba][0]),a1)+aJ[aN].offset.x;var a6=aa(a7.attr(aA[ba][1]),a1)+aJ[aN].offset.y;var bf=aa(a7.attr(aA[ba][2]),a1)+aJ[aN].offset.x;var bd=aa(a7.attr(aA[ba][3]),a1)+aJ[aN].offset.y;a7.attr(aA[ba][0],a8);a7.attr(aA[ba][1],a6);a7.attr(aA[ba][2],bf);a7.attr(aA[ba][3],bd);if(a7.attr("hi")&&a7.attr("hdm")&&ay[a7.attr("hi")]){var bb=JSON.parse(ay[a7.attr("hi")]);var bc=JSON.parse(bb.boundary);if(bb.isOpend){var a0={head:bb.headMML,page:$(bb.pageMML),boundary:bc,drilldownType:a7.attr("hdt")};if(a7.attr("hdt")==="1"){a0.offset={x:bf-bc.left+1,y:0}}else{a0.offset={x:0,y:bd-bc.top+1}}aJ.push(a0)}}if(a4==="IM"){a9=aM.nextImage()}if(a7.attr("ft")==="1"||a7.attr("ft")==="2"){a7.text(h.formatPageNumber(a7.text(),aB.getPageInfo(az,a7.attr("ft"))))}var be={elementName:a4,element:a7,lineAttr:a3,faceAttr:a5,textAttrList:aT,fontList:aP,image:a9,};if(a4=="LY"||a4=="CL"){var bh=J.getLayer(a7.attr("id"));var bg=/<HEAD>(.|\n)+<\/HEAD>/g;var aZ=/<PG (.|\n)+<\/PG>/g;if(bh.type==="layerGroup"){if(bh.selectedLayerId){bh=bh.group[bh.selectedLayerId]}else{bh=null}}if(bh){aJ.push({head:bh.mrdPath?bh.mml.match(bg)[0]:aG,page:bh.mrdPath?$(bh.mml.match(aZ)[0]):$(bh.mml),offset:bh.mrdPath?{x:-(aa(bh.boundary.left)-a8),y:-(aa(bh.boundary.top)-a6)}:{x:a8-aa(1),y:a6-aa(1)},layerStartEle:{elementName:"SL",element:a7,lineAttr:a3,faceAttr:a5},layerEndEle:{elementName:"EL",element:a7,lineAttr:a3,faceAttr:a5}})}}else{aC.push(be)}if(aJ[aN].page.children().length-1===a2){if(aJ[aN].layerEndEle){aC.push(aJ[aN].layerEndEle)}if(aN<aJ.length-1){aF(++aN,aY)}else{aY()}}})})};aF(0,function(){if(aC.length===0){if(C){ai(aH,C.getNoteXml(az,k?"print":"export"))}aI.resolve()}aC.forEach(function(aL,aK,aM){s(aH,aL);if(aK==aM.length-1){if(C){ai(aH,C.getNoteXml(az,k?"print":"export"))}aI.resolve()}})});return aI.promise()};var s=function(aB,aA){var ay=aA.elementName;var az=aA.element;if(k&&az.attr("ect")&&az.attr("ect").indexOf("p")>=0){return}if(!k&&az.attr("se")&&(az.attr("se").indexOf("pdf")>=0||az.attr("se").indexOf("all")>=0)){return}r(aB,aA.lineAttr);ax(aB,aA.faceAttr);if(ay==="LN"){X(aB,az,aA.lineAttr)}else{if(ay==="RA"){e(aB,az,aA.lineAttr,aA.faceAttr,false)}else{if(ay==="RR"){e(aB,az,aA.lineAttr,aA.faceAttr,true)}else{if(ay==="SC"){ap(aB,az,aA.lineAttr)}else{if(ay==="LL"){ab(aB,az,aA.lineAttr)}else{if(ay==="PO"){A(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="EP"){al(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="DM"){ad(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="PL"){m(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="HH"){t(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="CY"){I(aB,az,aA.lineAttr,aA.faceAttr)}else{if(ay==="TL"){b(aB,az,aA.fontList,aA.textAttrList)}else{if(ay==="CV"){n(aB,az,aA.lineAttr)}else{if(ay==="IM"){g(aB,az,aA.image)}else{if(ay==="FF"){N(aB,az,aA.fontList,aA.textAttrList)}else{if(ay==="CT"){at(aB,az)}else{if(ay==="SL"){an(aB,az)}else{if(ay==="EL"){U(aB,az)}}}}}}}}}}}}}}}}}}};var S=function(ay){var aC={width:0,height:0};if(u){var aB=u["export"]();for(var aE in aB){var aA=JSON.parse(aB[aE]);var az=$(aA.element);if(aA.pagenum!=ay){continue}if(aA.isOpend&&az.attr("hdt")!=="2"){var aD=JSON.parse(aA.boundary);if(az.attr("hdt")=="1"){aC.width+=aD.right-aD.left}else{aC.height+=aD.bottom-aD.top}}}}return aC};var d=function(az,aF,aA){var aD;var aB=z(aA.printInfo);k=aA.print||false;var aC=am.message(q.get("save_pdf"));var aE=function(){var aI=$.Deferred();var aL=aB.pop();var aJ=az.getHeadForPage(aL);var aM=$(az.getPage(aL));var aN=S(aL);var aK=aM.attr("wd")/10.3+aN.width;var aG=aM.attr("ht")/10.3+aN.height;var aH=aK<aG?"portrait":"landscape";if(!aD){aD=new jsPDF({orientation:aH,hotfixes:["px_scaling"]},"px",[aK,aG],av);aD.setProperties({author:"M2Soft Co.,Ltd.",creator:"Crownix Viewer"})}else{aD.addPage([aK,aG],aH)}V(aD,az,aJ,aM,aL).then(function(){aI.resolve()});return aI};var ay=function(){if(aB.length===0){if(!k&&!H){aD.save((Z?Z:"untitled")+".pdf")}if(typeof aF==="function"){if(aA.print){aD.autoPrint();aF(aD.output("blob"))}else{aF(aD.output("datauristring"))}}aC.fadeOut(500,function(){aC.remove()})}else{aE().then(ay)}};ar(az).then(aE).then(ay).fail(function(aG){aC.fadeOut(500,function(){aC.remove()});am.show(aG.message)})};var z=function(ay){var aA;if(ay&&ay.pageType==="2"&&ay.pageRange.length>0){aA=ay.pageRange}else{if(ay&&ay.pageType==="1"){aA=[D.currentPage]}else{aA=[];for(var az=1;az<=D.totalPage;az++){aA.push(az)}}}aA.reverse();if(ay&&ay.copies>1){aA=E(aA,ay)}return aA};var E=function(aC,az){var ay=[],aB=az.copies;isCollate=az.isCollate;if(isCollate){for(var aA=0;aA<aB;aA++){ay=ay.concat(aC)}}else{ay=aC.reduce(function(aD,aF){for(var aE=0;aE<aB;aE++){aD.push(aF)}return aD},[])}return ay};var K=function(az,aA){var aB=JSON.parse(az);for(var ay in aB){if(!aB[ay]["usedChars"]){aB[ay]["usedChars"]=aA[aB[ay].name]?aA[aB[ay].name]:""}if(aB[ay].defaultPriority>0){l(j,aB[ay])}else{j.push(aB[ay])}}};var ar=function(aL){var aR=$.Deferred();var aB=new m2soft.crownix.Ajax();var aH=[];var aE={};if(!c&&typeof getCrownixFonts==="function"){j=[];K(getCrownixFonts(),aE);aR.resolve();return aR}var az=function(aT,aU){for(var aS in j){if(j[aS].name===aT&&j[aS].usedChars===aU){return true}}return false};for(var aM=1;aM<=D.totalPage;aM++){var aC=aL.getHeadForPage(aM);var aD=$(aL.getPage(aM));aE=aq(aE,aC,aD);if(C){$(C.getNoteXml(aM,k?"print":"export")).find("element").each(function(){var aS=$(this),aT=aS.attr("type");if(aT==="text"){if(aE[""]){aE[""]+=aS.text()}else{aE[""]=aS.text()}}})}}if(u){var aO=u["export"]();for(var aJ in aO){var aK=JSON.parse(aO[aJ]);if(aK.isOpend){aq(aE,aL.parseHead(aK.headMML),$(aK.pageMML))}}}if(J){var aN=JSON.parse(J["export"]());for(var aM in aN){var aQ=JSON.parse(aN[aM]);if(aQ.mrdPath){var aP=$($.parseXML(aQ.mml)),ay=Q(aP.find("HEAD")),aF=Q(aP.find("PG"));aq(aE,aL.parseHead(ay),$(aF))}else{if(aQ.group){for(var aG in aQ.group){var aA=JSON.parse(aQ.group[aG]);if(aA.id==aQ.selectedLayerId){aq(aE,aL.getHeadForPage(aQ.page),$(aA.mml));break}}}else{aq(aE,aL.getHeadForPage(aQ.page),$(aQ.mml))}}}}for(var aI in aE){if(aE[aI]){aE[aI]=c?aE[aI].split("").filter(function(aS,aU,aT){return aT.indexOf(aS)==aU}).join(""):""}if(!az(aI,aE[aI])){aH.push({name:aI,usedChars:aE[aI]?aE[aI]:""})}}if(aH.length===0){aR.resolve()}aB.setHandler({load:function(aS){},done:function(aT){if(aT.responseText===undefined||aT.responseText.indexOf("[ERS-")>=0){aR.reject({status:false,code:"error",message:q.get("print_pdf_server_error")});return}try{K(aT.responseText,aE)}catch(aS){}finally{aR.resolve()}},error:function(aT,aS){aR.reject({status:false,code:"error",message:q.get("print_pdf_server_error")})},abort:function(){aR.reject({status:false,code:"error",message:q.get("print_pdf_server_error")})},timeout:function(){aR.reject({status:false,code:"error",message:q.get("print_pdf_timeout_error")})}});aB.invoke(f,{opcode:710,useEmbeddedFont:c,fontInfo:JSON.stringify(aH),fontEncoding:aw,protocol:"sync",});return aR};var aq=function(aD,ay,aA){var aE=ay.fontList,az=ay.textAttrList,aC,aB;aA.children().each(function(){var aF=this.tagName;var aG=$(this);if(aF==="TL"){if(aG.children("TX").length>0){aG.children().each(function(){var aH=$(this);aC=T(aH,az,aE);aB=aH.text();if(aD[aC.fontFamily]){aD[aC.fontFamily]+=aB}else{aD[aC.fontFamily]=aB}})}else{aC=T(aG,az,aE);aB=aG.text();if(aG.attr("ft")==="1"||aG.attr("ft")==="2"){aB+="0123456789"}if(aD[aC.fontFamily]){aD[aC.fontFamily]+=aB}else{aD[aC.fontFamily]=aB}}}else{if(aF==="FF"){aB=ao(aG);aC=T(aG,az,aE);if(aD[aC.fontFamily]){aD[aC.fontFamily]+=aB}else{aD[aC.fontFamily]=aB}}}});return aD};var l=function(ay,aA){for(var az in ay){if(ay[az].name===aA.name){ay[az]=aA;return}}ay.push(aA)};var Q=function(ay){if(!ay){return}if(h.browser.msie){return(new XMLSerializer()).serializeToString(ay[0])}else{return ay.prop("outerHTML")}};this.convert=function(ay,aA,aC,az){az=$.extend({},az);if(aA==="cpdf"){d(ay,aC,az)}else{var aB=new aj();aB.setFormManager(O);aB.setMirroringManager(w);aB.setNoteManager(C);aB.setAlterFontMap(Y);aB.convert(ay,"jpeg",function(aH,aD){var aG,aE=aD.width<aD.height?"portrait":"landscape";if(aD.size==="CUSTOM"){aG=new jsPDF(aE,"in",[aD.width,aD.height])}else{aG=new jsPDF(aE,"in",aD.size)}for(var aF=0;aF<aH.length;aF++){if(aF!=0){aG.addPage()}aG.addImage(aH[aF],"jpeg",0,0,aD.width,aD.height)}if(az.save){aG.save()}if(typeof aC==="function"){if(az.print){aG.autoPrint();aC(aG.output("blob"))}else{aC(aG.output("datauristring"))}}},az)}};this.setFormManager=function(ay){O=ay};this.setMirroringManager=function(ay){w=ay};this.setNoteManager=function(ay){C=ay};this.setDrilldownManager=function(ay){u=ay};this.setLayerManager=function(ay){J=ay};this.setUseAdjustLetterSpace=function(ay){P=ay};this.setPageInfo=function(ay){D=ay};this.setExportFileName=function(ay){Z=ay};this.setServerUrl=function(ay){f=ay};this.setUseEmbeddedFont=function(ay){c=ay};this.setFontInfo=function(ay){j=ay};this.setDisableDownloadFile=function(ay){H=ay};this.setDialog=function(ay){am=ay};this.setAlterFontMap=function(ay){Y=ay};this.setLocale=function(ay){if(ay==="ja"){aw="UniJIS-UTF16-H"}else{if(ay==="zh"){aw="UniGB-UTF16-H"}}};this.setCompress=function(ay){av=ay}};m2soft.ns("m2soft.crownix.MMLTokenizer");m2soft.crownix.MMLTokenizer=function(){var q="<MML",h="</MML>",n="<LICENSE",k="</LICENSE>",b="<DOCUMENT",g="</DOCUMENT>",c="<HEAD>",l="</HEAD>",r="<PG ",m="</PG>",e="<MMLFOOTER",d="</MMLFOOTER>",a="<ERR",f="</ERR>";var j=this;j.reenterStep=0;j.findOffset=-1;j.depth=0;j.addEventListener("message",function(t){var u=t.data.method;var s=j.parse(t.data.mml,t.data.pageNum);if(u==="finalize"){j.postMessage({method:u,isValid:s})}});j.parse=function(K,O){var D=j.reenterStep;var s=K.indexOf(q,j.findOffset);if(D<1&&s>=0){j.findOffset=s+q.length;var I=K.indexOf(">",s);j.postMessage({state:"open",tagName:"mml",xml:K.slice(s,I+1)});j.reenterStep=1;D=0;j.depth++}var u=K.indexOf(n,j.findOffset);if(D<2&&u>=0){j.findOffset=u+n.length;var Q=K.indexOf(">",u);j.postMessage({state:"open",tagName:"license",xml:K.slice(u,Q+1)});j.reenterStep=2;D=0}var B=K.indexOf(k,j.findOffset);if(D<3&&B>=0){u=j.findOffset-n.length;j.findOffset=B+k.length;j.postMessage({state:"close",tagName:"license",xml:K.slice(u,j.findOffset)});j.reenterStep=3;D=0}while(true){var L=K.indexOf(b,j.findOffset);var C=K.indexOf(c,j.findOffset);if(D<4&&L>=0&&(L<C||C<0)){j.findOffset=L+b.length;var N=K.indexOf(">",L);j.postMessage({state:"open",tagName:"document",xml:K.slice(L,N+1)});j.reenterStep=4;D=0;j.depth++}C=K.indexOf(c,j.findOffset);if(D<5&&C>=0){j.findOffset=C+c.length;j.postMessage({state:"open",tagName:"head",xml:""});j.reenterStep=5;D=0}var J=K.indexOf(l,j.findOffset);if(D<6&&J>=0){C=j.findOffset-c.length;j.findOffset=J+l.length;j.postMessage({state:"close",tagName:"head",xml:K.slice(C,j.findOffset)});j.reenterStep=6;D=0}while(true){L=K.indexOf(b,j.findOffset);var M=K.indexOf(r,j.findOffset);if(D<7&&M>=0&&(M<L||L<0)){j.findOffset=M+r.length;j.postMessage({state:"open",tagName:"page",xml:""});j.reenterStep=7;D=0}var A=K.indexOf(m,j.findOffset);if(D<8&&A>=0&&(A<L||L<0)){M=j.findOffset-r.length;j.findOffset=A+m.length;j.postMessage({state:"close",tagName:"page",xml:K.slice(M,j.findOffset),pageNum:O,pageOpenOffset:M,findOffset:j.findOffset});j.reenterStep=6;D=0}if((M<0&&A<0)||((M>L||A>L)&&L>0)){break}}var H=K.indexOf(a,j.findOffset);if(D<9&&H>=0&&(a<L||L<0)){j.findOffset=H+a.length;var E=K.indexOf(">",H);j.postMessage({state:"open",tagName:"err",xml:""});j.reenterStep=9;D=0}var P=K.indexOf(f,j.findOffset);if(D<10&&P>=0&&(P<L||L<0)){H=j.findOffset-a.length;j.findOffset=P+f.length;j.postMessage({state:"close",tagName:"err",xml:K.slice(H,j.findOffset)});j.reenterStep=10;D=0}var z=K.indexOf(g,j.findOffset);if(D<11&&z>=0){j.findOffset=z+g.length;j.postMessage({state:"close",tagName:"document",xml:""});j.reenterStep=3;D=0;j.depth--}if(L<0&&C<0&&J<0&&z<0){break}}var G=K.indexOf(e,j.findOffset);if(D<12&&G>=0){j.findOffset=G+e.length;var w=K.indexOf(">",G);j.postMessage({state:"open",tagName:"mmlfooter",xml:K.slice(G,w+1)});j.reenterStep=12;D=0}var F=K.indexOf(d,j.findOffset);if(D<13&&F>=0){G=j.findOffset-e.length;j.findOffset=F+d.length;j.postMessage({state:"close",tagName:"mmlfooter",xml:K.slice(G,j.findOffset)});j.reenterStep=13;D=0}var t=K.indexOf(h,j.findOffset);if(t>=0){j.findOffset=t+h.length;j.postMessage({state:"close",tagName:"mml",xml:""});j.depth--}return(j.depth===0)};return j};m2soft.ns("m2soft.crownix.TTSManager");m2soft.crownix.TTSManager=(function(){var c=m2soft.crownix.Util;var h=m2soft.crownix.Resource;var q=m2soft.crownix.ChannelManager;var m;var I,g=[],A,K,G,an=[];var s,V=false,N=null,E=null,af=null;var aj=false,aa=false,u=true,X;var B=9,a=13,l=27,O=37,W=38,am=39,T=40,F=70;var al="item",ag="drop-item";var z="crownix-toolbar-item-enable-hover",ap="crownix-toolbar-dropitem-enable-hover",H="hoverd";var b={position:"absolute","-webkit-box-shadow":"0px 0px 3px 3px rgba(0,0, 255,0.8)","-moz-box-shadow":"0px 0px 3px 3px rgba(0,0,255,0.8)","box-shadow":"0px 0px 3px 3px rgba(0,0,255,0.8)"};var aq=function(av,aw,ay,ax,au,at,az,ar){this.type=av;this.value=aw;this.left=Number(ay);this.top=Number(ax);this.right=Number(au);this.bottom=Number(at);this.formId=az;this.fieldId=ar};var t=function(ax){var au=m.containerDom;var at=m.scroll;var ar=ax.position(),aw=ax.offset(),av=au.offset();if(c.browser.mobile||av.left>aw.left||av.top>aw.top||(av.left+au.outerWidth())<aw.left||(av.top+au.outerHeight())<aw.top){setTimeout(function(){var ay=-ar.left,az=-ar.top+45+$(document).scrollTop();if(ay>0){ay=0}else{if(ay<at.maxScrollX){ay=at.maxScrollX}}if(az>0){az=0}else{if(az<at.maxScrollY){az=at.maxScrollY}}at.scrollToKeepCenter(ay,az,0)},c.browser.mobile?500:0)}};var Z=function(at){var ar=at.attr("ty");var av="";if(m.isFormEditMode){var aw=m.formManager.getField(at.attr("fi"),at.attr("id"));if(ar==="cb"||ar==="rb"){var ax=[];ax.push(aw.getSelected()?h.get("tts_select"):h.get("tts_release"));ax.push(aw.getLabel());ax.push(ar==="cb"?h.get("tts_check_box"):h.get("tts_radio_button"));av=ax.join("")}else{if(ar==="sm"){av=at.text()+h.get("tts_button")}else{if(ar==="sg"){av=h.get("sign_window_title")}else{if(ar==="im"){av=h.get("mask_dialog_title")}else{if(ar==="fl"){av=aw.getValue()||h.get("no_attach_file")}else{if(ar==="co"){av=aw.getValue()+h.get("tts_combo_box")}else{if(ar==="pn"){av=aw.getBackgroundText()+h.get("pen_field")}else{if(ar==="rec"){av=aw.getValue()||h.get("record_no_file")}else{av=aw.getValue()||h.get("tts_no_content")}}}}}}}}}else{if(ar==="tf"||ar==="ta"||ar==="sm"){av=at.text()||h.get("tts_no_content")}else{if(ar==="fl"){av=(at.attr("vl")&&at.attr("vl").substring(at.attr("vl").lastIndexOf("/")+1))||h.get("no_attach_file")}else{if(ar==="cb"||ar==="rb"){var au=at.attr("se");if(au){av=(au==="0")?h.get("tts_release"):h.get("tts_select")}av+=at.attr("lb")+(ar==="cb"?h.get("tts_check_box"):h.get("tts_radio_button"))}else{if(ar==="co"){av=at.attr("sv")||h.get("tts_no_content")}else{if(ar==="sg"){av=h.get("sign_window_title")}else{if(ar==="im"){av=h.get("mask_dialog_title")}else{if(ar==="pn"){av=h.get("pen_field")}else{if(ar==="rec"){av=(at.attr("vl")&&at.attr("vl").substring(at.attr("vl").lastIndexOf("/")+1))||h.get("record_no_file")}}}}}}}}}return av};var Y=function(at){var ar;if(at===undefined){at=""}V=!V;ar=$(g[Number(V)])[0];ar.tagName==="H4"?$(ar).text(at):$(ar).val(at);ar.focus()};var r=function(at,ar){return Math.abs(Math.sqrt(Math.pow((ar.x-at.x),2)+Math.pow((ar.y-at.y),2)))};var f=function(ar){return{x:ar.left+((ar.right-ar.left)/2),y:ar.top+((ar.bottom-ar.top)/2)}};var S=function(at,ar){if(ar===O){return at.left}else{if(ar===W){return at.top}else{if(ar===am){return at.right}else{if(ar===T){return at.bottom}}}}};var J=function(ar){return ar.map(function(at){return f(at)})};var ad=function(at,ar){return at.map(function(au){return S(au,ar)})};var ac=function(ar,at){return Math.floor(ar/10.3+24.3)};var ao=function(at,ar){return Math.min.apply(null,ad(at,ar))};var Q=function(at,ar){return Math.max.apply(null,ad(at,ar))};var ab=function(){var at=aj?I[s].value[N]:I[s];if(at.formId&&at.fieldId){var ar=m.formManager.getField(at.formId,at.fieldId);if(!ar){return}at.value=Z(ar.element)}return at.value};var n=function(ar){if(ar.type==="T"){aj=true;N=0;s=I.indexOf(ar)}else{if(ar.type==="C"){N=I[s].value.indexOf(ar)}else{s=I.indexOf(ar);aj=false}}};var M=function(){return aj?I[s].value.length:1};var ak=function(au,at,ar){return au.filter(function(av){return(Math.abs(S(av,at)-ar(au,at))<=F)})};var e=function(au,at){var ar=au.value,av=ar[N];return !(ar.filter(function(aw){return at===W?(av.top>=aw.bottom):(av.bottom<=aw.top)}).length)};var k=function(){var aw=aj?I[s].value[N]:I[s];var av=ac(aw.left);var au=ac(aw.top);var at=ac(aw.right)-av;var ar=ac(aw.bottom)-au;return{width:at,height:ar,left:av,top:au,textBox:aw}};var D=function(ar){ar.map(function(at){$("."+at).removeClass(at)})};var j=function(){var ar,au,at;if(aa&&an[E]){D([z,ap,H]);if(af!==null){ar=$("#crownix-toolbar-"+an[E]).find("li:eq("+af+")");ar.addClass(H)}else{ar=$("#crownix-toolbar-"+an[E]);au=ar.hasClass("crownix-toolbar-item")?al:ag;at=au===al?z:ap;ar.addClass(at)}if(E!==null&&!m.toolbar.isEnableItem(an[E])){ae(am)}}else{if(!aa&&s!==null){A.css(k())}}};var P=function(ar){return ar.type.prototype.getType()};var ae=function(az){var aw,av,aA;var ar=function(aE,aB,aD){var aC=aE;if(aD===am||aD===T){(aC===aB||aC===null)?(aC=0):++aC}else{(aC===0||aC===null)?(aC=aB):--aC}if(aD===O||aD===am){E=aC}else{af=aC}return aC};var at=function(aC){var aB=G[an[ar(E,an.length-1,aC)]];af=null;while(!aB.visible||!m.toolbar.isEnableItem(an[E])){aB=G[an[ar(E,an.length-1,aC)]]}return aB};var ax=function(aE,aD){var aB=Object.keys(aE.items);var aC=aE.items[aB[ar(af,aB.length-1,aD)]];while(!aC.visible){aC=aE.items[aB[ar(af,aB.length-1,aD)]]}return aC};if(E===null){aw=at(am);aA=aw.title}else{var ay=an[E];var au=$("#crownix-toolbar-"+ay);aw=G[ay];if(X===O||X===am){if(P(aw)===ag&&!L(az)){if(u){if(X!==az){au.click();u=false;av=ax(aw,T)}else{av=at(X===O?O:am)}}else{if(X===az){au.click();u=true;af=null;av=aw}else{av=ax(aw,X===O?T:W)}}}else{if(az===W){av=u?at(O):ax(aw,az)}else{if(az===T){av=u?at(am):ax(aw,az)}else{av=at(az)}}}}else{if(az===W){av=(P(aw)===ag)?ax(aw,az):at(O)}else{if(az===T){av=(P(aw)===ag)?ax(aw,az):at(am)}else{av=at(az)}}if(P(av)===ag){$("#crownix-toolbar-"+an[E]).click()}else{if((az===O||az===am)&&P(aw)===ag){au.click()}}}aA=av.title||av.text}Y(aA+h.get("tts_button"));if(K==="2"){j()}};var L=function(ar){return ar===W||ar===T};var w=function(aC){if(I.length===0){return}if(aa){ae(aC);return}var aB,ax,aD,aF;var aG=function(aJ,aI){var aK=L(aC)?"top":"left",aL=L(aC)?"bottom":"right";return aJ[aK]>=aI[aL]};var av=function(aJ,aI){var aK=L(aC)?"left":"top",aL=L(aC)?"right":"bottom";return(aJ[aK]>=aI[aK]&&aJ[aL]<=aI[aL])||(aJ[aK]>=aI[aK]&&aJ[aK]<aI[aL])||(aJ[aK]<aI[aK]&&aJ[aL]>aI[aL])||(aJ[aL]>aI[aK]&&aJ[aL]<=aI[aL])};var ay=function(aL,aJ){var aK,aI;if(L(aJ)){aK=aJ===W?T:W;aI=aJ===W?Q:ao}else{aK=aJ===O?am:O;aI=aJ===O?Q:ao}aL=ak(aL,aK,aI);if(aL.length===0){aD=m.currentPage==m.totalPage?h.get("tts_last_parag"):h.get("tts_next_page")}else{if(aL.length===1){n(aL[0])}else{if(aL.length>1){aK=L(aJ)?O:W;aI=ao;n(ak(aL,aK,aI).pop())}}}};var aE=function(aJ,aI){if(aj&&N<M()-1){++N}else{aI=aI.filter(function(aK){return aJ!=aK&&aG(aK,aJ)&&av(aJ,aK)});if(aI.length===0){aI=I.filter(function(aK){return aJ!==aK&&aJ.bottom<=aK.top});if(aI.length===0){aD=m.currentPage==m.totalPage?h.get("tts_last_parag"):h.get("tts_next_page");m.scroll.scrollTo(m.scroll.x,m.scroll.maxScrollY,0)}else{aI=ak(aI,W,ao);if(aI.length>1){n(ak(aI,O,ao).pop())}else{n(aI[0])}}}else{if(aI.length===1){n(aI[0])}else{if(aI.length>1){ay(aI,am)}}}}};var au=function(aJ,aI){if(aj&&N>0){--N}else{aI=aI.filter(function(aK){return aJ!=aK&&aG(aJ,aK)&&av(aJ,aK)});if(aI.length===0){aI=I.filter(function(aK){return aJ!==aK&&aJ.top>=aK.bottom});if(aI.length===0){aD=m.currentPage==1?h.get("tts_first_parag"):h.get("tts_prev_page");m.scroll.scrollTo(m.scroll.x,0,0)}else{aI=ak(aI,T,Q);if(aI.length>1){n(ak(aI,am,Q).pop())}else{n(aI[0])}}}else{if(aI.length===1){n(aI[0])}else{if(aI.length>1){ay(aI,O)}}}}};var at=function(aN){var aM=aj?f(ax.value[N]):f(ax);var aI=J(aN);var aP,aO,aL;for(var aJ=0,aK=aI.length;aJ<aK;aJ++){point=aI[aJ];aO=r(aM,point);if(aP&&aP>=aO){aP=aO;aL=aJ}else{if(aP===undefined){aP=aO;aL=0}}}n(aN[aL])};if(s===null){aB=ak(I,W,ao);if(aB.length>1){aB=ak(aB,O,ao)}n(aB.pop());if(K==="2"){A.show()}}else{ax=I[s];if(aC===O){au(ax,I)}else{if(aC===am){aE(ax,I)}else{if(aC===W){if(aj&&!e(ax,aC)){var aH=ax.value,az=aH[N];aB=aH.filter(function(aI){return az!==aI&&az.top===aI.bottom&&((az.left<=aI.left&&az.right>aI.left)||az.left<aI.right)});if(aB.length===0){aB=aH.filter(function(aI){return az!==aI&&az.top===aI.bottom});if(aB.length>1){aB=aB.filter(function(aI){return az.left>aI.left});var ar=Math.min.apply(null,ad(aB,O).map(function(aI){return Math.abs(az.left-aI)}));aB=aB.filter(function(aI){return ar===Math.abs(az.left-aI.left)})}n(aB[0])}else{if(aB.length===1){n(aB[0])}else{if(aB.length>1){n(ak(aB,O,ao)[0])}}}}else{aB=I.filter(function(aI){return ax!==aI&&ax.top>=aI.bottom});if(aB.length===0){aC=O;au(ax,I)}else{if(aB.length===1){n(aB[0])}else{at(aB)}}}}else{if(aC===T){if(aj&&!e(ax,aC)){var aH=ax.value,az=aH[N];aB=aH.filter(function(aI){return az!==aI&&az.bottom===aI.top&&((az.left<=aI.left&&az.right>aI.left)||az.left<aI.right)});if(aB.length===0){aB=aH.filter(function(aI){return az!==aI&&az.bottom===aI.top});if(aB.length>1){aB=aB.filter(function(aI){return az.left>aI.left});var ar=Math.min.apply(null,ad(aB,O).map(function(aI){return Math.abs(az.left-aI)}));aB=aB.filter(function(aI){return ar===Math.abs(az.left-aI.left)})}n(aB[0])}else{if(aB.length===1){n(aB[0])}else{if(aB.length>1){n(ak(aB,O,ao)[0])}}}}else{aB=I.filter(function(aI){return ax!==aI&&ax.bottom<=aI.top});if(aB.length===0){aC=am;aE(ax,I)}else{if(aB.length===1){n(aB[0])}else{at(aB)}}}}}}}}var aw=k().textBox;if(aw.formId&&aw.fieldId){var aA=m.formManager.getField(aw.formId,aw.fieldId);if(aA&&(aA.element.attr("hd")==="1"||aA.commonHidden==="1")){if(aD){Y(aD)}else{w(aC)}return}}g.map(function(aI){aI.css(k())});Y(aD||ab());if(K==="2"){j()}if(!aD){t(g[Number(V)])}};var C=function(av){var at=[B,a,l,O,W,am,T];var az=av.keyCode||av.which;if(at.indexOf(az)>-1){av.preventDefault();av.stopPropagation();if(O<=az&&az<=T){w(av.keyCode)}else{if(av.shiftKey&&az===B){ai();var aA=an[E];aa=true;if(aA&&P(G[aA])===ag){if(X===O||X===am){if(!u){$("#crownix-toolbar-"+aA).click()}}else{$("#crownix-toolbar-"+aA).click()}}Y(h.get("tts_toolbar_area"));if(K==="2"){A.hide();j()}}else{if(aa&&az===B){var aB=h.get("tts_report_area");var aA=an[E];aa=false;if(aA&&P(G[aA])===ag){if(X===O||X===am){if(!u){$("#crownix-toolbar-"+aA).click()}}else{$("#crownix-toolbar-"+aA).click()}}if(m.isFormEditMode){aB+=h.get("tts_form_edit_mode")}Y(aB);if(E!==null&&!m.toolbar.isEnableItem(an[E])){ae(am)}if(K==="2"){D([z,ap,H]);if(s!==null){A.show()}j()}}else{if(m.isFormEditMode&&!aa&&az===B&&s!==null){if(K==="2"){A.hide()}var ar=$.Event("keydown",{keyCode:B});$("#crownix_hidden_tab").trigger(ar)}else{if(aa&&az===a&&m.toolbar.isEnableItem(an[E])){var aA=G[an[E]];if(P(aA)===ag){var aw=aA.items;aA=aw[Object.keys(aw)[af]]}aA&&aA.handler&&aA.handler();setTimeout(function(){Y(h.get("tts_select"))},0)}else{if(aa&&az===l){var ax=$(".crownix-window-close")[0]||$(".aButtons > button[value=cancel]")[0]||$(".iButtons > button[value=cancel]")[0];var ay=ax&&$._data(ax,"events")["click"];if(ay&&ay[0]&&ay[0].handler){ay[0].handler()}}else{if(s===null&&az===B){var au=h.get("tts_report_area");if(m.isFormEditMode){au+=h.get("tts_form_edit_mode")}Y(au)}}}}}}}}};var U=function(av){var ar=[];var ax,aw,au,at;if(av.find("PR").length===0){return null}else{ax=av.attr("sx");aw=av.attr("sy");au=av.attr("ex");at=av.attr("ey");av.find("PR").each(function(){ar.push(ah($(this),"C"))});return new aq("T",ar,ax,aw,au,at)}};var ah=function(at,aw){var aB=[];var ay;var au=at.attr("sx");var ax=at.attr("sy");var aA=at.attr("ex");var ar=at.attr("ey");var az;var av;if(at.children().length===0&&aw==="C"){aB.push(h.get("tts_no_content"))}else{at.find("TL, FF, IM, CT").each(function(){var aD=$(this);var aC=aD.prop("tagName");if(aC==="TL"){if(aD.attr("ft")){aB.push(h.get("page_no").replace("%d",m.currentPage))}else{var aE=aD.text().replace(/[\r|\n]/g,"");if(aE.length>0){aB.push(aE)}}}else{if(aC==="FF"){aB.push(Z(aD));az=aD.attr("fi");av=aD.attr("id")}else{if(aC==="IM"||aC==="CT"){if(at.attr("ty")==="bc"){aB.push(h.get("text_barcode"))}else{if(at.attr("ty")==="ct"){aB.push(h.get("text_chart"))}}aB.push(h.get("mask_dialog_title"))}}}});if(aB.length===0){aB.push(h.get("tts_no_content"))}}ay=aB.join("");return ay?new aq(aw?aw:"P",ay,au,ax,aA,ar,az,av):null};var ai=function(){var ar=m.toolbar.getToolbarItemInfo();var at=m.toolbar.getDirection();G=ar.items;an=ar.menu;if(at==="left"){X=O}else{if(at==="right"){X=am}else{if(at==="top"){X=W}else{if(at==="bottom"){X=T}}}}};var d=function(ar,av){var au,at;if(c.browser.firefox||(c.browser.msie&&c.browser.version==9)){au=$('<input readonly="readonly">');at=$('<input readonly="readonly">')}else{au=$("<h4>");at=$("<h4>")}m=ar;K=av;g.push(au);g.push(at);ai();if(K=="2"){q.getChannel("toolbar:changeToolbar").subscribe(j)}};d.prototype.makeParagraphs=function(au){var aw,av,at,ar;I=[];s=null;g.forEach(function(ay,ax){ay.attr("tabindex","-1").css({opacity:0,margin:0,position:"absolute",left:"0px",top:"0px"}).addClass("crownix-virtual-cursor").prependTo("#m2soft-crownix-text");ay.off("keydown");ay.on("keydown",C);ay.focus(function(){if(K==="2"&&s!==null&&!aa&&A.css("display")==="none"){A.show()}})});au.find(">PR, >TB>PR, >TE>PR, >FC>PR, >TB>FC>PR").each(function(){var ax=$(this);if(ax.prop("tagName")==="PR"){if(ax.attr("ect")&&ax.attr("ect").indexOf("d")>-1){return true}var ay=ax.attr("ty")==="tb"?U(ax):ah(ax);if(ay){I.push(ay)}}});if(K==="2"){A=$("<div>").prependTo("#m2soft-crownix-text").attr("id","crownix_focus_mark").css(b);A.hide();if(E!==null&&!m.toolbar.isEnableItem(an[E])){ae(am)}}};d.prototype.setFocus=function(){Y()};return d})();m2soft.ns("m2soft.crownix.Painter");m2soft.crownix.Painter=function(globalObject,canvasDom,textDom,movePage,serverUrl){var SignWindow=m2soft.crownix.SignWindow;var PenWindow=m2soft.crownix.PenWindow;var ScrollPenWindow=m2soft.crownix.ScrollPenWindow;var KeyboardPenWindow=m2soft.crownix.KeyboardPenWindow;var MaskWindow=m2soft.crownix.MaskWindow;var FieldOrder=m2soft.crownix.FieldOrder;var R=m2soft.crownix.Resource;var Util=m2soft.crownix.Util;var Unit=m2soft.crownix.util.Unit;var DateUtil=m2soft.crownix.util.DateUtil;var ChartConverter=m2soft.crownix.ChartConverter;var Message=m2soft.crownix.Message;var Painter=m2soft.crownix.Painter;var go=globalObject;var self=this;var drawMedia="";var Icon=m2soft.crownix.resource.Icon;var ActionEvents=m2soft.crownix.Util.ActionEvents;var NumberUtil=m2soft.crownix.util.NumberUtil;var Constant=m2soft.crownix.Constant;var WacomSignWindow=m2soft.crownix.WacomSignWindow;var GuideManager=m2soft.crownix.GuideManager;var WithSign=m2soft.crownix.WithSign;var TextDialog=m2soft.crownix.TextDialog;var cxCanvas=new m2soft.crownix.Canvas(canvasDom,go),viewerOpenFile=go.openFile,viewerMovePage=movePage,viewerServerUrl=serverUrl,viewerTextDom=textDom,formManager=go.formManager,options=go.options,dialog=go.dialog,useAdjustLetterSpace=true,useAdjustCharacterScale=false,updateCallback=[],viewerScroll=go.scroll,offset={x:0,y:0},margin=24.3,isSubProcess=false,isOldBrowser=false;if(go.options.mirroring.enable&&go.mirroringManager){isSubProcess=go.mirroringManager.externalEvent.isSubProcess()}if(Util.browser.android&&Util.browser.chrome&&Util.browser.chrome.version<=36){isOldBrowser=true}var drilldownAPI={expand:go.drilldownManager.expand,next:go.drilldownManager.drilldownNext,prev:go.drilldownManager.drilldownPrev};var viewerAPI={moveFirstPage:go.viewer.moveFirstPage,moveLastPage:go.viewer.moveLastPage,movePage:go.viewer.movePage,prevPage:go.viewer.prevPage,nextPage:go.viewer.nextPage,hidePage:function(){go.report.removePage(arguments)},showPage:function(){go.report.restorePage(arguments)},expandGrid:function(depth){return go.gridManager.expandDepth(depth)},nextDepth:function(){return go.gridManager.nextDepth()},prevDepth:function(){return go.gridManager.prevDepth()},scanBarcodes:go.viewer.scanBarcodes,readNfcTag:go.viewer.readNfcTag};var formAPI={initFormData:go.formManager.initFormData,showGroupSign:go.formManager.showGroupSign};var HLINK_TYPE={NONE:0,RD:1,WEB:2,OTHER:3,EMAIL:4,RD_CURRENT:5,DRILLDOWN:7,};var WARNING_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQUY0MjE0MkJCMzNFMzExQThCQ0ZENjNBMThBMjY0NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENjk5RDlFNDM2NzExMUUzOERCN0EwNDc2RkI1OUZGNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENjk5RDlFMzM2NzExMUUzOERCN0EwNDc2RkI1OUZGNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjc5MjQ4RDFBNzEzNkUzMTFCRkRFQ0ExN0Y0NTU3RTY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVBRjQyMTQyQkIzM0UzMTFBOEJDRkQ2M0ExOEEyNjQ1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pFczmAAAAgRJREFUeNp0U01rFEEQ7e6ZTbIYZ/GLGLxvJBD3Eu+5iRC9iCcvkqMgkUAu/oUcouLV/IE1l0DIwaPgKV7EYFBRREFYJLJuZz56pqt9NbOT7OhOwaO6aqpe11RXSb25KerEOXcK2DRqA2z7w8g8YOi8CL0GLANtKvyHjmgH354Bv8pk1n6aZWLEcQd40RCiNSGl8AAmtkJ0YqLOcZquIm4FMdtEVFSQpGl+IE4m6gZCSE4uhU9c5jQAwuBHHHeRfJeGJH5kjMDhEhxbqF1OiHppApeVkp/CcAvxr5HX88MkYYKH54iCKecqCVMbG7mO19dPfGeBC84FX6PokXXusX8cx0xw+4q1eTPHShRVzPOIfRdFy8QEuiC4OolfqZUwrJhnAOTNWe6BBjs3Q/T79QRHRxUTtYqBMYZKAjAd9rXutPCklYuXlsby/cYraSG+5AQDrsC5nc9Z1rmmdSWwtb+f6/7iYsX/3vOEVmr3tALnnr/xvNXpLAtmR3oRzc//d/s3JL9qNP7g0idFBUUTezxhL5vN7o0kkbMYrnHyHcldpRwlyQrie0zgXZ+ZEQYJJss+QB8ceN7N2NpJyf3Ac4V42p/AW6XEnlIDY+09jP82r0CK7/LBwkIxymArlwlYg30L9hzOBviI8y70U/fPMsn77fbJMtHImjomrFnhcr158P4KMAC3UsepYGz8PwAAAABJRU5ErkJggg==";var isDrawingTo={screen:function(){return drawMedia=="d"},printer:function(){return drawMedia=="p"},save:function(){return drawMedia=="s"},};var adjustCoord=function(mi,width){if(go.options.textOnCanvas){var scale=viewerScroll.scale*window.devicePixelRatio||1;if(scale>go.options.maxScaleRatio){scale=go.options.maxScaleRatio}return Painter.adjustCoord(mi,width,margin,scale)}else{return Painter.adjustCoord(mi,width,margin)}};var applyPriorityToFaceAttr=Painter.applyPriorityToFaceAttr;var applyPriorityToLineAttr=Painter.applyPriorityToLineAttr;var drawLine=function(element,lineAttr){if(element.attr("vs")&&element.attr("vs")=="0"){return}var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);cxCanvas.drawLine(sx,sy,ex,ey,lineAttr)};var drawCurve=function(element,lineAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);var cx1=adjustCoord(element.attr("cx1"),lineAttr.wd);var cy1=adjustCoord(element.attr("cy1"),lineAttr.wd);var cx2=adjustCoord(element.attr("cx2"),lineAttr.wd);var cy2=adjustCoord(element.attr("cy2"),lineAttr.wd);cxCanvas.drawCurve(sx,sy,ex,ey,lineAttr,cx1,cy1,cx2,cy2)};var drawPolyLine=function(element,lineAttr){var data=element.attr("dt").split("|");var points=[];for(var i=0,max=data.length;i<max;i++){var point=data[i].split(",");var x=adjustCoord(point[0],lineAttr.wd);var y=adjustCoord(point[1],lineAttr.wd);points.push([x,y])}cxCanvas.drawPolyLine(lineAttr,points)};var drawScribble=function(element,lineAttr){var data=element.attr("dt").split("|");var points=[];for(var i=0,max=data.length;i<max;i++){var point=data[i].split(",");var x=adjustCoord(point[0]);var y=adjustCoord(point[1]);points.push([x,y])}cxCanvas.drawScribble(lineAttr,points)};var drawRect=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);cxCanvas.drawRect(sx,sy,ex,ey,lineAttr,faceAttr)};var drawRoundeRect=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);var aw=element.attr("aw")/10.3;var ah=element.attr("ah")/10.3;var ap=element.attr("ap");cxCanvas.drawRect(sx,sy,ex,ey,lineAttr,faceAttr,aw,ah,ap);cxCanvas.setClip(element.attr("cl"))};var drawEllipse=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);cxCanvas.drawEllipse(sx,sy,ex,ey,lineAttr,faceAttr)};var drawDiamond=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);cxCanvas.drawDiamond(sx,sy,ex,ey,lineAttr,faceAttr)};var drawParallelogram=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);var cx=element.attr("cx")/10.3;cxCanvas.drawParallelogram(sx,sy,ex,ey,lineAttr,faceAttr,cx)};var drawPolygon=function(element,lineAttr,faceAttr){var data=element.attr("dt").split("|");var points=[];for(var i=0,max=data.length;i<max;i++){var point=data[i].split(",");var x=adjustCoord(point[0],lineAttr.wd);var y=adjustCoord(point[1],lineAttr.wd);points.push([x,y])}cxCanvas.drawPolygon(lineAttr,faceAttr,points)};var drawHexaheron=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);var cx=element.attr("cx")/10.3;var cy=element.attr("cy")/10.3;cxCanvas.drawHexaheron(sx,sy,ex,ey,cx,cy,lineAttr,faceAttr)};var drawCylinder=function(element,lineAttr,faceAttr){var sx=adjustCoord(element.attr("sx"),lineAttr.wd);var sy=adjustCoord(element.attr("sy"),lineAttr.wd);var ex=adjustCoord(element.attr("ex"),lineAttr.wd);var ey=adjustCoord(element.attr("ey"),lineAttr.wd);var sh=element.attr("sh")/10.3;cxCanvas.drawCylinder(sx,sy,ex,ey,lineAttr,faceAttr,sh)};var drawSVG=function(element){var left=adjustCoord(element.attr("sx"));var right=adjustCoord(element.attr("ex"));var top=adjustCoord(element.attr("sy"));var bottom=adjustCoord(element.attr("ey"));element.find("svg").clone().attr({width:(right-left)+"px",height:(bottom-top)+"px",}).css({position:"absolute",left:left+offset.x,top:top+offset.y,}).appendTo(viewerTextDom)};var drawCxChart=function(element){var left=adjustCoord(element.attr("sx"));var right=adjustCoord(element.attr("ex"));var top=adjustCoord(element.attr("sy"));var bottom=adjustCoord(element.attr("ey"));var div=$("<div>").css({position:"absolute",left:left+offset.x,top:top+offset.y,width:(right-left)+"px",height:(bottom-top)+"px",}).appendTo(viewerTextDom);try{var converter=new ChartConverter();var ret=converter.convertMml(element);var chart=new crownix.Chart(div[0]);chart.build(ret.series,ret.options)}catch(e){Message.log(e.stack)}};var drawChart=function(element){element.children().each(function(){var elementName=this.tagName;if(elementName=="svg"){drawSVG(element)}else{if(elementName=="CC"){drawCxChart(element)}}})};var drawLayer=function(element){var layerManager=go.layerManager;var id=element.attr("id");var refresh=element.attr("au")||0;var layer=layerManager.getLayer(id);if(layer.type=="layerGroup"&&layer.selectedLayerId){refresh=layer.group[layer.selectedLayerId].refresh}if(layer.visible){layer.show({offset:offset,textDom:viewerTextDom,});if(refresh>0){layer.setAutoReload(refresh)}}};var drawCxGrid=function(gridId,gridEl,options,fontList,textAttrList){var makeMmlElement=function(mml,rowIdx,isKeepDataCell,data){var mmlElement=$(mml);mmlElement.attr("id",mmlElement.attr("id")+"-"+rowIdx);mmlElement.attr("idx",rowIdx);if(mmlElement.attr("ty")=="rb"){mmlElement.attr("gi",mmlElement.attr("gi")+"-"+rowIdx)}if(mmlElement.attr("ty")=="sg"||mmlElement.attr("ty")=="pn"||mmlElement.attr("ty")=="im"){mmlElement.attr("dt",data)}else{if(mmlElement.attr("ty")=="fl"||mmlElement.attr("ty")=="rec"){mmlElement.attr("vl",data)}else{if(mmlElement.attr("ty")=="rb"||mmlElement.attr("ty")=="cb"){mmlElement.attr("se",data)}else{if(mmlElement.attr("ty")=="co"){mmlElement.attr("sv",data)}else{mmlElement.text(data)}}}}if(isKeepDataCell){mmlElement.attr("ed",0)}return mmlElement};var fieldController={put:function(mml,rowIdx,isKeepDataCell,data){if(go.isFormEditMode){var mmlElement=makeMmlElement(mml,rowIdx,isKeepDataCell,data);go.formManager.buildFormField(mmlElement[0],go.currentPage);go.formManager.removePreventEvent();if(go.formManager.isLoadComplete){var fieldOrder=FieldOrder.getInstance();fieldOrder.push(mmlElement,go.currentPage)}}},paint:function(parentDom,mml,rowIdx,isKeepDataCell,data){var mmlElement=makeMmlElement(mml,rowIdx,isKeepDataCell,data);drawFormField(mmlElement,fontList,textAttrList,parentDom);return formManager.getField(mmlElement.attr("fi"),mmlElement.attr("id"))},changeRepeatedIndex:function(field,index){if(field.type=="rb"){if(field.index!=index){var oldGroupId=field.gid;var buttonGroup=go.formManager.getField(field.formId,field.gid);buttonGroup.changeRepeatedIndex(index);go.formManager.getFormList()[field.formId].changeFieldId(oldGroupId,buttonGroup.id)}}else{var oldId=field.id;field.changeRepeatedIndex(index);go.formManager.getFormList()[field.formId].changeFieldId(oldId,field.id)}},remove:function(field){go.formManager.getFormList()[field.formId].removeField(field.id)}};var viewerLangauge=m2soft.crownix.Resource.language;m2soft.crownix.CxGridResource.setLanguage(viewerLangauge);if(!go.cxGridManager){go.cxGridManager=new m2soft.crownix.CxGridManager()}try{options.parentScroll=go.scroll;options.fieldController=fieldController;options.isFormEditMode=go.isFormEditMode;go.cxGridManager.build(gridId,gridEl[0],options);if(options.isFormEditMode){go.formManager.removePreventEvent()}}catch(e){console.log("[Crownix Viewer] could not build cxGrid.");console.log(e)}};var drawGrid=function(element,isFloatingLayer,fontList,textAttrList){var left=adjustCoord(element.attr("sx"));var right=adjustCoord(element.attr("ex"));var top=adjustCoord(element.attr("sy"));var bottom=adjustCoord(element.attr("ey"));var gridId=element.attr("id");if(isFloatingLayer){gridId="f-"+gridId}var gridEl=$("<div>").addClass("crownix-grid-"+gridId).css({position:"absolute",left:left+"px",top:top+"px",width:(right-left+2)+"px",height:(bottom-top+2)+"px",border:"1px solid #AEB6BF"}).appendTo(viewerTextDom);var options=JSON.parse(element.text());if(options.template.tree||options.template.type<4){if(!go.gridManager){go.gridManager=new m2soft.crownix.GridManager()}try{go.gridManager.build(gridId,gridEl[0],options,go)}catch(e){console.log("[Crownix Viewer] could not build grid.");console.log(e)}}else{drawCxGrid(gridId,gridEl,options,fontList,textAttrList)}};var applyHyperLink=function(target,targetTop,targetLeft,hyperlinkInfoElement,element){var text=target.text();var hlel=hyperlinkInfoElement;var type=hlel.attr("hl");var id=hlel.attr("hi");var url=hlel.attr("hr")||hlel.attr("ht");var balloon=hlel.attr("hb");var eventString=hlel.attr("he");var browser_close=hlel.attr("bc");target.addClass("crownix_hyperlink");var width=target.width();var height=target.height();var anchor=$("<a>").attr("href",url).attr("title",balloon).css({position:"absolute",top:targetTop,left:targetLeft,width:width,height:height});if(go.textOnCanvas){anchor.css({color:"transparent",bacground:"transparent",opacity:0})}target.css("position","");target.css("left","");target.css("top","");if(type==HLINK_TYPE.RD){var isNewWindow=hlel.attr("hn")||0;var params=hlel.attr("hp")||"";params=params.replace(/%0D%0A/g,"\r\n");var isFullScreen=hlel.attr("hf")||1;var width=isNewWindow&&hlel.attr("hw");var height=hlel.attr("hh");var x=hlel.attr("hx");var y=hlel.attr("hy");var showToolbar=hlel.attr("ht")||1;var showMenubar=hlel.attr("hm")||1;var showStatusbar=hlel.attr("hs")||1;var resizable=hlel.attr("ha")||1;var isPopup=(window.location.href.indexOf("popup/viewer.html")>0);var template=hlel.attr("hd")||isPopup?"viewer.html":"popup/viewer.html";var windowOpenOptionString=isFullScreen==1?"fullscreen="+isFullScreen:"left="+x+",top="+y+",width="+width+",height="+height;windowOpenOptionString=windowOpenOptionString+",toolbar="+showToolbar+",menubar="+showMenubar+",status="+showStatusbar+",resizable="+resizable;anchor.attr("href","#");target.bind(Util.browser.mobile?"tap":"click",function(ev){if(typeof eventString==="string"){if(typeof HLinkClicked==="function"){eval("HLinkClicked")(eventString,url,params)}}else{if(isNewWindow){var popup=window.open("./"+template+"?mrd_path="+encodeURIComponent(url)+"&mrd_param="+encodeURIComponent(params)+"&server_url="+encodeURIComponent(viewerServerUrl),"_blank",windowOpenOptionString);var hLink=hlel.attr("hi");var idx=hLink.substring(hLink.lastIndexOf("_")+1,hLink.length);popup.parentForm={index:idx,getForm:function(formId){return go.formManager.getFormWrapper(formId)}}}else{if(go.shareManager&&go.shareManager.isConnected()){dialog.show(R.get("unsupported_feature_localStorage"));return}options.isHyperlink=true;if(formManager&&formManager.isModified()){dialog.show(R.get("confirm_page_out")+" "+R.get("confirm_hyperlink_move"),{type:"confirm",inputHandler:function(isOpenFile){if(isOpenFile){formManager.saved();viewerOpenFile(url,params,options)}}})}else{viewerOpenFile(url,params,options)}}}return false})}else{if(type==HLINK_TYPE.DRILLDOWN){anchor.attr("href","#");target.bind("click",function(){if(go.shareManager&&go.shareManager.isConnected()&&!go.shareManager.isHost()){dialog.show(R.get("unsupported_feature_localStorage"));return}var parentId="#"+go.containerDom.parent().attr("id");Message.progress.show(parentId,"",function(){try{go.drilldownManager.toggle(id).fail(function(e){Message.progress.hide(parentId);dialog.show(R.get("drilldown_not_allowed"))}).done(function(e){Message.progress.hide(parentId)});if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.toggleDrilldown(id)}}catch(e){Message.progress.hide(parentId);dialog.show(R.get("drilldown_not_allowed"))}return false});return false})}else{if(type==HLINK_TYPE.WEB){anchor.attr("target","_blank")}else{if(type==HLINK_TYPE.OTHER){}else{if(type==HLINK_TYPE.RD_CURRENT){anchor.attr("href","#");target.bind(Util.browser.mobile?"tap":"click",function(ev){if(url){viewerMovePage(parseInt(url))}return false})}else{if(type==HLINK_TYPE.EMAIL){anchor.attr("href","mailto:"+url)}else{if(browser_close=="1"){anchor.attr("href","#");target.bind(Util.browser.mobile?"tap":"click",function(ev){window.close();return false})}}}}}}}target.wrap(anchor);if(go.options.formField.readonly){anchor.clone().appendTo($("#"+Constant.PREVENTER_ID)).append(target.clone(true,true).css("opacity",0))}};var makeTextCss=function(element,textAttr,fontList){var css={};var makeFontNames=function(fontName){if(go.alterFontMap&&go.alterFontMap[fontName]){fontName+='", "'+go.alterFontMap[fontName]}return fontName};var fontName=makeFontNames((element.attr("fn")?element.attr("fn"):fontList.get(textAttr.fi)||""));css["font-family"]='"'+fontName+'", '+('"'+Constant.FONT_FAMILY_PREFIX+fontName+'"');css["font-size"]=((element.attr("pt")?element.attr("pt")/10:textAttr.pt/10)||10)+"pt";if(!element.attr("hl")&&!element.attr("hi")){css.color=(element.attr("cl")?element.attr("cl"):textAttr.cl)||"#000000"}(element.attr("cb")?element.attr("cb")==="1":(element.attr("cb")==undefined&&textAttr.cb==="1"))&&(css["font-weight"]="bold");(element.attr("ci")?element.attr("ci")==="1":(element.attr("ci")==undefined&&textAttr.ci==="1"))&&(css["font-style"]="italic");(element.attr("cu")?element.attr("cu")==="1":(element.attr("cu")==undefined&&textAttr.cu==="1"))&&(css["text-decoration"]="underline");(element.attr("cs")?element.attr("cs")==="1":(element.attr("cs")==undefined&&textAttr.cs==="1"))&&(css["text-decoration"]?(css["text-decoration"]+=" line-through"):(css["text-decoration"]="line-through"));(element.attr("vs")==="0")&&(css.visibility="hidden");return css};var transObjectToCss=function(style){if(!style||!Object.keys(style).length){return}var css={};css["font-weight"]=style.bold=="1"?"bold":"normal";css["font-style"]=style.italic=="1"?"italic":"normal";if(style.underline=="1"){css["text-decoration"]="underline"}if(style.cancelLine=="1"){if(style.underline=="1"){css["text-decoration"]+=" line-through"}else{css["text-decoration"]="line-through"}}if(!css["text-decoration"]){css["text-decoration"]="none"}if(style.color){css.color=style.color}return css};var transCssToObject=function(field,input){field.style.bold=input.style.fontWeight=="bold"?"1":"0";field.style.italic=input.style.fontStyle=="italic"?"1":"0";field.style.underline=input.style.textDecoration.indexOf("underline")!=-1?"1":"0";field.style.cancelLine=input.style.textDecoration.indexOf("line-through")!=-1?"1":"0";if(input.style.color){var Color=m2soft.crownix.util.Color;var rgbArr=Color.toRgbArray(input.style.color);field.style.color=Color.rgbToHex(rgbArr)}return field};var drawText=function(element,fontList,textAttrList){var left=adjustCoord(element.attr("le"));var right=adjustCoord(element.attr("ri"));var top=adjustCoord(element.attr("to"))-1;var bottom=adjustCoord(element.attr("bo"))+1;var hAlign=parseInt(element.attr("ha"))||0;var lSpace=parseFloat(element.attr("ls"))/1000||0;var background=element.attr("ba");var es=element.attr("es")||"0";var noRtrim=(element.attr("nrt")==="1");var mmlWidth=element.attr("wd");var isOverlapBottom=(element.attr("cbo")==="1");var isOverlapTop=(element.attr("cto")==="1");if(es==="1"||es==="3"){hAlign=1}else{if(es==="2"){if(hAlign===0){hAlign=2}else{if(hAlign===2){hAlign=0}}}}if(hAlign===0){hAlign="left"}else{if(hAlign===1){hAlign="center"}else{if(hAlign===2){hAlign="right"}}}var div=$("<div>").css({position:"absolute","white-space":"pre",left:left+offset.x+"px",top:top+offset.y+"px","text-align":hAlign,"line-height":(bottom-top)+"px",}).bind("onFontLoadComplete",function(){div.css("width","");adjustText(div,right-left,bottom-top,mmlWidth,hAlign,jpval,textLength,lSpace,isOverlapBottom,isOverlapTop,false)});if(background==="1"){div.addClass("crownix-background-object")}var textAttr={};var textCss={};var text="";var textLength=0;var jpval=false;if(element.children().length>0){var maxFontSize=0;var elementlength=element.children().length;element.children().each(function(index){var tx=$(this);textAttr=textAttrList[tx.attr("tid")]||{};textCss=makeTextCss(tx,textAttr,fontList);text=tx.text().replace(/(\r|\n)/g,"");if(hAlign==="left"&&index==elementlength-1&&!noRtrim){text=Util.string.rtrim(text)}textLength+=text.length;maxFontSize=Math.max(maxFontSize,textCss["font-size"].replace("pt",""));jpval=tx.attr("sc")||textAttr.sc||0;var span=$("<span>").css(textCss).text(text).appendTo(div);if(tx.attr("cr")==="1"||textAttr.cr==="1"){(textCss.color==="#000000")&&span.css("color","#ffffff");span.wrapInner('<span style="background-color:#000000"></span>')}var ss=tx.attr("ss")||textAttr.ss||"0";if(ss==="1"){span.wrapInner('<sup style="line-height: 0;"></sup>')}else{if(ss==="2"){span.wrapInner("<sub></sub>")}}if(es==="1"){div.css("transform","rotate(-90deg)")}else{if(es==="2"){div.css("transform","rotate(-180deg)")}else{if(es==="3"){div.css("transform","rotate(-270deg)")}}}});div.css("font-size",maxFontSize+"pt")}else{textAttr=textAttrList[element.attr("tid")]||{};textCss=makeTextCss(element,textAttr,fontList);text=element.text().replace(/(\r|\n)/g,"");if(hAlign==="left"&&!noRtrim){text=Util.string.rtrim(text)}textLength=text.length;jpval=element.attr("sc")||textAttr.sc||0;div.css(textCss).text(text);if(element.attr("cr")==="1"||textAttr.cr==="1"){(textCss.color==="#000000")&&div.css("color","#ffffff");div.wrapInner('<span style="background-color:#000000"></span>')}var ss=element.attr("ss")||textAttr.ss||"0";if(ss==="1"){div.wrapInner('<sup style="line-height: 0;"></sup>')}else{if(ss==="2"){div.wrapInner("<sub></sub>")}}if(es==="1"){div.css("transform","rotate(-90deg)")}else{if(es==="2"){div.css("transform","rotate(-180deg)")}else{if(es==="3"){div.css("transform","rotate(-270deg)")}}}}if(bottom){div.css("height",(bottom-top)+"px")}div.css("letter-spacing",lSpace+"in");if(element.attr("ft")==="1"||element.attr("ft")==="2"){div.attr({"pagenum-format":div.text(),"format-type":element.attr("ft")}).addClass("crownix-pagenum")}div.appendTo(viewerTextDom);adjustText(div,right-left,bottom-top,mmlWidth,hAlign,jpval,textLength,lSpace,isOverlapBottom,isOverlapTop,true);if(element.attr("ve")){div.css({"writing-mode":(Util.browser.msie?"tb-lr":"vertical-lr"),"-webkit-writing-mode":"vertical-lr","line-height":"normal"})}if(Util.browser.webkit){div.css("min-height",(parseInt(div.css("height"))+1)+"px")}if(!!element.attr("hl")||!!element.attr("hi")){var parent=element.parent();if(parent.prop("tagName").toUpperCase()==="PR"){parent=parent.parent()}var hyperlinkInfoElement=parent.find('[hi="'+element.attr("hi")+'"][hl]');if(hyperlinkInfoElement.length==0){hyperlinkInfoElement=element}applyHyperLink(div,top+offset.y,left+offset.x,hyperlinkInfoElement,element)}};var adjustText=function(div,width,height,mmlWidth,hAlign,jpval,textLength,lSpace,isOverlapBottom,isOverlapTop,isMakeWrapper){width+=2;var adjustCss,adjustScale;var adjust=calcAdjustCssAndScale(div,mmlWidth,hAlign,width,jpval);if(adjust!==false){adjustCss=adjust.css;adjustScale=adjust.scale}else{if(useAdjustLetterSpace){adjustLetterSpace(div,textLength,width,lSpace)}}width=clipText(div,adjustCss,adjustScale,width,height,isOverlapBottom,isOverlapTop,isMakeWrapper);if(adjustCss){div.css(adjustCss)}div.css("width",width+"px");div.find("span").css("white-space","pre")};var clipText=function(div,adjustCss,adjustScale,width,height,isOverlapBottom,isOverlapTop,isMakeWrapper){var clip;if(isOverlapBottom&&!isOverlapTop){clip="top"}else{if(isOverlapTop&&!isOverlapBottom){clip="bottom"}}if(clip){var maxHeight=0;var innerSpan=isMakeWrapper?div.wrapInner("<span>").find(":first"):div.find(":first");if(innerSpan.children().length>0){innerSpan.children().each(function(){maxHeight=Math.max(maxHeight,$(this).height())})}else{maxHeight=innerSpan.height()}div.css("overflow","hidden");innerSpan.css("position","relative").css(clip,Math.abs((maxHeight/2)-(height/2)));if(adjustCss){width=width/adjustScale}}return width};var adjustLetterSpace=function(div,textLength,width,lSpace){var divWidth=div.width();if(textLength>1&&divWidth>width+Unit.inToPx(lSpace)){var adjustSpacing=lSpace-Unit.pxToIn((divWidth-width)/(textLength));adjustSpacing=adjustSpacing.toFixed(3);div.css("letter-spacing",adjustSpacing+"in")}};var calcAdjustCssAndScale=function(div,wd,hAlign,width,jpval){var adjustCss,adjustScale;if(useAdjustCharacterScale&&wd>0){var realWidth=wd/10.3,divWidth=div.width();if(realWidth<divWidth){var origin,scale;if(hAlign=="center"){if(width<divWidth){origin="0%";scale="scale("+width/divWidth+",1)"}else{origin="50%";scale="scale("+realWidth/divWidth+",1)"}}else{if(hAlign=="right"){origin="100%";scale="scale("+realWidth/divWidth+",1)"}else{origin="0%";scale="scale("+realWidth/divWidth+",1)"}}adjustCss={"transform-origin":origin,transform:scale}}return{css:adjustCss}}else{if(useAdjustCharacterScale&&jpval){adjustScale=(width-1)/div.width();if(adjustScale<1){adjustCss={"transform-origin":"0%",transform:"scale("+adjustScale+",1)"}}return{css:adjustCss,scale:adjustScale}}}return false};var makeFontStyle=function(element,textAttrList,fontList){var textAttr=textAttrList[element.attr("tid")]||{};var hAlign=parseInt(element.attr("ha"));var makeFontNames=function(fontName){if(go.alterFontMap&&go.alterFontMap[fontName]){fontName+='", "'+go.alterFontMap[fontName]}return fontName};var fontName=makeFontNames((element.attr("fn")?element.attr("fn"):fontList.get(textAttr.fi)||""));return{fontFamily:'"'+fontName+'", '+('"'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+fontName+'"'),fontSize:((element.attr("pt")?element.attr("pt")/10:textAttr.pt/10)||10)+"pt",fillStyle:(element.attr("cl")?element.attr("cl"):textAttr.cl)||"#000000",fontStyle:(element.attr("ci")?element.attr("ci")==="1":textAttr.ci==="1")?"Italic":"",fontWeight:(element.attr("cb")?element.attr("cb")==="1":textAttr.cb==="1")?"Bold":"",underLine:(element.attr("cu")?element.attr("cu")==="1":textAttr.cu==="1")||!!element.attr("hl"),lineThrough:element.attr("cs")?element.attr("cs")==="1":textAttr.cs==="1",shade:element.attr("cr")?element.attr("cr")==="1":textAttr.cr==="1",textAlign:hAlign==1?"center":(hAlign==2?"right":"left")}};var drawTextToCanvas=function(element,fontList,textAttrList,option){if(element.attr("vs")==="0"){return}if(element.attr("ft")==="1"||element.attr("ft")==="2"){if(go.reportFinished||element.text().indexOf("#")==-1){element.text(Util.formatPageNumber(element.text(),go.report.getPageInfo(go.currentPage,element.attr("ft"))))}else{go.redrawOnFinished=true;return}}option=option||{};var left=adjustCoord(element.attr("le"))+(option.padding||0);var right=adjustCoord(element.attr("ri"))-(option.padding||0);var top=adjustCoord(element.attr("to"))+(option.padding||0);var bottom=adjustCoord(element.attr("bo"))-(option.padding||0);var hAlign=parseInt(element.attr("ha"))||0;var lSpace=parseFloat(element.attr("ls"))/1000||0;var fontStyle;var text;var totalWidth;var letterSpacing=Unit.inToPx(lSpace);var rTrim=hAlign===0&&!(element.attr("nrt")==="1");if(hAlign===1){hAlign="center"}else{if(hAlign===2){hAlign="right"}else{hAlign="left"}}var wd=element.attr("wd"),engineWidth=wd/10.3;measureWidth=0,fontScale=1;if(element.children("TX").length>0){var startX=0;var offsetX=0;var elementWidth;if(option.adjustFontScale){fontStyle.adjustFontScale=option.adjustFontScale}else{if(useAdjustCharacterScale&&engineWidth>0){element.children().each(function(index){var tx=$(this);text=(index==element.children().length-1&&rTrim)?Util.string.rtrim(tx.text()):tx.text();fontStyle=makeFontStyle(tx,textAttrList,fontList);measureWidth+=cxCanvas.measureText(text,fontStyle).width+(letterSpacing*text.length)});if(engineWidth<measureWidth){fontScale=engineWidth/measureWidth}}else{if(useAdjustLetterSpace&&option.overflow!=="hidden"){elementWidth=0;element.children().each(function(index){var tx=$(this);text=(index==element.children().length-1&&rTrim)?Util.string.rtrim(tx.text()):tx.text();fontStyle=makeFontStyle(tx,textAttrList,fontList);measureWidth+=cxCanvas.measureText(text,fontStyle).width+(letterSpacing*text.length)},function(){var newWidth=(right-left+2+letterSpacing);if(text.length>1&&measureWidth>newWidth){letterSpacing=letterSpacing-((measureWidth-newWidth)/text.length)}})}}}if(hAlign==="center"){if(measureWidth*fontScale<right-left){startX=(right-left-measureWidth*fontScale)/2}else{startX=0}}else{if(hAlign==="right"){startX=right-left-measureWidth*fontScale}}element.children().each(function(index){var tx=$(this);text=(index==element.children().length-1&&rTrim)?Util.string.rtrim(tx.text()):tx.text();fontStyle=makeFontStyle(tx,textAttrList,fontList);fontStyle.textAlign="left";fontStyle.textBaseline="bottom";fontStyle.letterSpacing=letterSpacing;fontStyle.fillStyle=option.fillStyle||fontStyle.fillStyle;fontStyle.fontScale=fontScale;if(option.canvas){option.canvas.drawText(text,startX+offsetX,0,(right-left)-2,(bottom-top)-2,fontStyle)}else{cxCanvas.drawText(text,left+startX+offsetX,top,right,bottom,fontStyle)}offsetX+=(cxCanvas.measureText(text,fontStyle).width+(letterSpacing*text.length))*fontScale})}else{fontStyle=makeFontStyle(element,textAttrList,fontList);fontStyle.textAlign=option.textAlign||hAlign;if(element.attr("cbo")=="1"&&element.attr("cto")!=="1"||option.textBaseline=="top"){fontStyle.textBaseline="top"}else{if(element.attr("cto")=="1"&&element.attr("cbo")!=="1"||option.textBaseline=="bottom"){fontStyle.textBaseline="bottom"}else{fontStyle.textBaseline="middle"}}text=rTrim?Util.string.rtrim(element.text()):element.text();if(option.adjustFontScale){fontStyle.adjustFontScale=option.adjustFontScale}if(useAdjustCharacterScale&&engineWidth>0){measureWidth=cxCanvas.measureText(text,fontStyle).width+(letterSpacing*text.length);if(engineWidth<measureWidth){fontScale=engineWidth/measureWidth}}else{if(useAdjustLetterSpace&&option.overflow!=="hidden"){var oldWidth=cxCanvas.measureText(text,fontStyle).width+(letterSpacing*text.length);var newWidth=(right-left+2+letterSpacing);if(text.length>1&&oldWidth>newWidth){letterSpacing=letterSpacing-((oldWidth-newWidth)/text.length)}}}fontStyle.letterSpacing=letterSpacing;fontStyle.fillStyle=option.fillStyle||fontStyle.fillStyle;fontStyle.fontScale=fontScale;if(element.attr("ve")){fontStyle.verticalWriting=true}if(option.canvas){option.canvas.drawText(text,0,0,(right-left)-2,(bottom-top)-2,fontStyle)}else{cxCanvas.drawText(text,left,top,right,bottom,fontStyle)}}};var drawImage=function(element,image){var left=adjustCoord(element.attr("sx"));var right=adjustCoord(element.attr("ex"));var top=adjustCoord(element.attr("sy"));var bottom=adjustCoord(element.attr("ey"));var data=element.attr("dt");var ratio=element.attr("ra");var background=element.attr("ba");var width=right-left;var height=bottom-top;if(go.options.imageDrawOption.useCanvas||background){cxCanvas.drawImage(image,left,top,width,height,ratio);if(!!element.attr("hl")||!!element.attr("hi")){var imgElement=$("<div>").css({position:"absolute",left:left+"px",top:top+"px",width:width+"px",height:height+"px",}).appendTo(viewerTextDom);var parent=element.parent();if(parent.prop("tagName").toUpperCase()==="PR"){parent=parent.parent()}var hyperlinkInfoElement=parent.find('[hi="'+element.attr("hi")+'"][hl]');if(hyperlinkInfoElement.length==0){hyperlinkInfoElement=element}applyHyperLink(imgElement,top+offset.y,left+offset.x,hyperlinkInfoElement,element)}}else{var imgElement;if(ratio==="1"){imgElement=$("<img>").css("background",["url(",data,")"].join(""))}else{imgElement=$("<img>").attr("src",data)}imgElement.attr({width:width,height:height,}).css({position:"absolute",left:left+offset.x,top:top+offset.y,}).appendTo(viewerTextDom);if(!!element.attr("hl")||!!element.attr("hi")){var parent=element.parent();if(parent.prop("tagName").toUpperCase()==="PR"){parent=parent.parent()}var hyperlinkInfoElement=parent.find('[hi="'+element.attr("hi")+'"][hl]');if(hyperlinkInfoElement.length==0){hyperlinkInfoElement=element}applyHyperLink(imgElement,top+offset.y,left+offset.x,hyperlinkInfoElement,element)}}};var getElementId=function(element,type){if(type==="rb"){return"crownix_form_field_"+element.attr("fi")+"_"+element.attr("gi")+"_"+element.attr("id")}else{return"crownix_form_field_"+element.attr("fi")+"_"+element.attr("id")}};var drawFormField=function(element,fontList,textAttrList,parentDom){var left=adjustCoord(element.attr("le"))+2+offset.x;var right=adjustCoord(element.attr("ri"))-1+offset.x;var top=adjustCoord(element.attr("to"))+2+offset.y;var bottom=adjustCoord(element.attr("bo"))-1+offset.y;var type=element.attr("ty");var value=element.attr("dt")||element.attr("vl")||element.text();var required=element.attr("rq")||"1";var editable=element.attr("ed")||"1";var hidden=element.attr("hd")||"0";var commonHidden=element.attr("ch")||"0";var outputAuthority=element.attr("dps")||"All";var formId=element.attr("fi");var fieldId=element.attr("id");var field=formManager.getField(formId,fieldId)||{};if(!self.formFieldMode){if(commonHidden=="1"){return}if(go.options.mirroring.enable&&go.mirroringManager&&outputAuthority!=="All"){if((isSubProcess&&outputAuthority!=="Client")||(!isSubProcess&&outputAuthority!=="Host")){return}}}else{if(isDrawingTo.printer()&&field.commonHidden=="1"){return}if(type=="sm"&&go.options.mirroring.enable&&go.mirroringManager&&outputAuthority!=="All"){if((outputAuthority==="Client"&&!isSubProcess)||(outputAuthority==="Host"&&isSubProcess)){return}}}var elementId=getElementId(element,type);var textAttr=textAttrList[element.attr("tid")]||{};var textCss=makeTextCss(element,textAttr,fontList);var inputAuthority=element.attr("sa")||"All";var noDefaultAction=element.attr("da");var isNotExist=false;var wrapper=getWrapperDiv(left,right,top,bottom,parentDom);if(go.options.textToSpeech.enable){if(type==="rb"){var group=formManager.getField(formId,element.attr("gi"));wrapper.attr("title",group.title)}else{wrapper.attr("title",field.title)}}if(type==="tf"){var limitedLength=element.attr("tl");var placeholder=element.attr("ph")||"";var hAlign=parseInt(element.attr("ha"))||0;var indent=parseInt(element.attr("dn"))||0;var password=element.attr("pw");var expression=element.attr("re");var inputInfo={type:element.attr("it")||"text",realDateFormat:element.attr("df")||"yyyy-MM-dd",displayDateFormat:element.attr("dfv")||"yyyy-MM-dd",attributes:Util.deserialize(element.attr("ia")),displayFormat:element.attr("ft"),checkZero:element.attr("cz"),checkNoZero:element.attr("cnz"),japanYear:parseInt(element.attr("jy"))+(element.attr("gn")==="1"?2:0)};var popupData={};var textAlign="";popupData.url=element.attr("pu");popupData.width=element.attr("puw");popupData.height=element.attr("puh");popupData.top=element.attr("put");popupData.left=element.attr("pul");if(!hAlign||hAlign=="0"){textAlign="left"}else{if(hAlign=="1"){textAlign="center"}else{if(hAlign=="2"){textAlign="right"}else{if(hAlign=="3"||hAlign=="4"){textAlign="justify"}}}}drawTextField(field,elementId,left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedLength,editable,hidden,required,textCss,expression,password,popupData,inputInfo,inputAuthority,noDefaultAction,wrapper)}else{if(type==="ta"){var limitedLength=element.attr("tl");var limitedLineLength=element.attr("ll");var placeholder=element.attr("ph")||"";var hAlign=parseInt(element.attr("ha"))||0;var indent=parseInt(element.attr("dn"))||0;var popupData={};var textAlign="";popupData.url=element.attr("pu");popupData.width=element.attr("puw");popupData.height=element.attr("puh");popupData.top=element.attr("put");popupData.left=element.attr("pul");if(!hAlign||hAlign=="0"){textAlign="left"}else{if(hAlign=="1"){textAlign="center"}else{if(hAlign=="2"){textAlign="right"}else{if(hAlign=="3"||hAlign=="4"){textAlign="justify"}}}}drawTextArea(field,elementId,left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedLength,limitedLineLength,editable,hidden,required,textCss,expression,popupData,inputAuthority,noDefaultAction,wrapper)}else{if(type==="cb"||type==="rb"){var label=element.attr("lb");var labelAlign=element.attr("la");var hAlign=parseInt(element.attr("ha"))||0;var vAlign=parseInt(element.attr("va"))||0;var selected=element.attr("se");var groupId=element.attr("gi");var textAlign="left";var textVAlign="middle";var size=(field&&field.size)||element.attr("sz")||16;var tickScale=element.attr("ts")||"100";var removeBox=element.attr("rb")||"0";if(!hAlign||hAlign=="0"){textAlign="left"}else{if(hAlign=="1"){textAlign="center"}else{if(hAlign=="2"){textAlign="right"}}}if(!vAlign||vAlign=="0"){textVAlign="top"}else{if(vAlign=="1"){textVAlign="middle"}else{if(vAlign=="2"){textVAlign="bottom"}}}var shape=element.attr("sp")||type;var drawFunction=shape==="cb"?drawCheckBox:drawRadioButton;drawFunction(field,elementId,left,right,top,bottom,formId,fieldId,groupId,value,selected,editable,hidden,required,label,labelAlign,textCss,textAlign,textVAlign,inputAuthority,size,noDefaultAction,tickScale,removeBox,wrapper)}else{if(type==="co"){var displayValues=[];var actualValues=[];var placeholder=element.attr("ph")||"";element.children("item").each(function(){var item=$(this);displayValues.push(item.attr("sd"));actualValues.push(item.attr("ad"))});var selectedValue=element.attr("sv");var comboType=element.attr("ct")||"0";var paddingLeft=parseInt(element.attr("dn"))+2||2;if(comboType=="0"){drawComboBox(field,elementId,left,right,top,bottom,formId,fieldId,selectedValue,editable,hidden,required,textCss,displayValues,actualValues,inputAuthority,noDefaultAction,placeholder,paddingLeft,wrapper)}else{field=formManager.getNormalField(element);drawNormalCombo(field,left,right,top,bottom,selectedValue,textCss,displayValues,actualValues,getEventHandlers(element),placeholder,paddingLeft,wrapper)}}else{if(type==="sg"){var placeholder=element.attr("ph")||"";var hAlign=parseInt(element.attr("ha"))||0;var vAlign=parseInt(element.attr("va"))||0;var ratio=element.attr("ra")||0;var lineCount=element.attr("sn")||0;var textVAlign="middle";if(!hAlign||hAlign=="0"){textCss["text-align"]="left"}else{if(hAlign=="1"){textCss["text-align"]="center"}else{if(hAlign=="2"){textCss["text-align"]="right"}else{if(hAlign=="3"||hAlign=="4"){textCss["text-align"]="justify"}}}}if(!vAlign||vAlign=="0"){textVAlign="top"}else{if(vAlign=="1"){textVAlign="middle"}else{if(vAlign=="2"){textVAlign="bottom"}}}if(field.signType==="1"){drawPicture(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,ratio,placeholder,textCss,inputAuthority,false,noDefaultAction,wrapper)}else{drawSignature(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,placeholder,textCss,inputAuthority,noDefaultAction,lineCount,textVAlign,element,fontList,textAttrList,wrapper)}}else{if(type==="im"){var ratio=element.attr("ra")||0;var placeholder=element.attr("ph")||"";var hAlign=parseInt(element.attr("ha"))||0;var useMasking=element.attr("mk");if(!hAlign||hAlign=="0"){textCss["text-align"]="left"}else{if(hAlign=="1"){textCss["text-align"]="center"}else{if(hAlign=="2"){textCss["text-align"]="right"}else{if(hAlign=="3"||hAlign=="4"){textCss["text-align"]="justify"}}}}drawPicture(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,ratio,placeholder,textCss,inputAuthority,useMasking,noDefaultAction,wrapper)}else{if(type==="sm"){var serverUrl=element.attr("su");var serviceCode=element.attr("sc");var datasource=element.attr("sn");var text=element.text()||"";var normalImage=element.attr("bi")||element.attr("rbi");var clickImage=element.attr("pi")||element.attr("rpi");var buttonImage={normalImage:normalImage,clickImage:clickImage};var buttonType=element.attr("bt")||"0";if(buttonType=="0"){drawSubmit(left,right,top,bottom,formId,fieldId,text,textCss,editable,buttonImage,inputAuthority,wrapper)}else{drawNormalButton(left,right,top,bottom,text,textCss,buttonImage,getEventHandlers(element),wrapper)}}else{if(type==="fl"){var hAlign=parseInt(element.attr("ha"))||0;var vAlign=parseInt(element.attr("va"))||0;var maxSize=element.attr("ms");var extensions=element.attr("ex")&&element.attr("ex").split(",").map(function(value){return value.toUpperCase()});var placeHolder=self.formFieldMode?element.attr("ph"):"";var regExp=element.attr("re");drawFile(field,left,right,top,bottom,hAlign,vAlign,formId,fieldId,value,textCss,required,editable,maxSize,extensions,placeHolder,regExp,inputAuthority,noDefaultAction,wrapper)}else{if(type==="pn"){var placeholder=element.attr("ph")||"";var backgroundText=element.attr("bt");var lineCount=element.attr("sn")||0;var hAlign=parseInt(element.attr("ha"))||0;var vAlign=parseInt(element.attr("va"))||0;var textVAlign="middle";if(!hAlign||hAlign=="0"){textCss["text-align"]="left"}else{if(hAlign=="1"){textCss["text-align"]="center"}else{if(hAlign=="2"){textCss["text-align"]="right"}else{if(hAlign=="3"||hAlign=="4"){textCss["text-align"]="justify"}}}}if(!vAlign||vAlign=="0"){textVAlign="top"}else{if(vAlign=="1"){textVAlign="middle"}else{if(vAlign=="2"){textVAlign="bottom"}}}drawPenField(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,placeholder,backgroundText,textCss,element,fontList,textAttrList,inputAuthority,noDefaultAction,lineCount,textVAlign,wrapper)}else{if(type==="rec"){var hAlign=parseInt(element.attr("ha"))||0;var vAlign=parseInt(element.attr("va"))||0;var bitRate=element.attr("br")||"128";var sampleRate=element.attr("sr")||"22050";var recordTime=element.attr("tm")||"30";drawRecorder(field,elementId,left,right,top,bottom,hAlign,vAlign,formId,fieldId,value,editable,required,hidden,textCss,inputAuthority,noDefaultAction,bitRate,sampleRate,recordTime,wrapper)}else{isNotExist=true}}}}}}}}}}if(!isNotExist&&self.formFieldMode&&type!=="sm"){field.setElementId(elementId)}if(field.type&&go.options.mirroring.enable&&go.mirroringManager&&outputAuthority!=="All"){if(field.getOriginalCommonHidden()!=="1"&&((isSubProcess&&outputAuthority==="Client")||(!isSubProcess&&outputAuthority==="Host"))){field.show()}else{field.hide()}}};var getEventHandlers=function(element){return eventHandler={change:getEventHandler(element.attr("evc")),click:getEventHandler(element.attr("click"))}};var getEventHandler=function(encodedScript){if(encodedScript===undefined){return}var planeScript=Util.base64.utf8Decode(encodedScript);eval('var func = function(viewer, drilldown, value, form) { "use strict"; '+planeScript+"};");return func};var cxOpener=function(formId,$textDom){return{validate:function(valueList){return formManager.validateForm(formId,valueList)},form:formManager.getFormWrapper(formId),set:function(valueList){for(var fieldId in valueList){var value=valueList[fieldId];var field=formManager.getField(formId,fieldId);var fieldSel=$textDom.find("[name="+fieldId+"]");switch(field.type){case"ta":case"tf":fieldSel.val(value).trigger("input");break;case"cb":fieldSel.attr("checked",!!value).trigger("change");break;case"rb":fieldSel.filter("[fieldId="+value+"]").attr("checked","checked").trigger("change");break;case"co":fieldSel.find('option:contains("'+value+'")').each(function(){if($(this).text()!=value){return}fieldSel.val($(this).attr("value")).trigger("change")});break;case"sg":case"im":case"pn":(function(field,fieldSel,value){var image=new Image();image.onload=function(){var canvas=fieldSel;var ctx=canvas.get(0).getContext("2d");ctx.clearRect(0,0,canvas.width(),canvas.height());var ratio=canvas.attr("ratio");if(ratio==1){var imageRatio=image.width/image.height;var canvasRatio=canvas.width()/canvas.height();if(imageRatio>canvasRatio){var adjustHeight=canvas.height()*(canvasRatio/imageRatio);var adjustY=(canvas.height()-adjustHeight)/2;ctx.drawImage(image,0,adjustY,canvas.width(),adjustHeight)}else{var adjustWidth=canvas.width()*(imageRatio/canvasRatio);var adjustX=(canvas.width()-adjustWidth)/2;ctx.drawImage(image,adjustX,0,adjustWidth,canvas.height())}}else{if(ratio==2){ctx.drawImage(image,0,0)}else{ctx.drawImage(image,0,0,canvas.width(),canvas.height())}}$textDom.find("div[for="+field.id+"] span").hide();field.value=canvas.get(0).toDataURL("image/png")};image.src=value})(field,fieldSel,value);break}}},}};var preventField=function(formId,element){if(!self.formFieldMode){return}if(formManager.checkFormLoadComplete(formId)){return}element.on("mousedown.prevent touchstart.prevent",function(ev){ev.preventDefault();ev.stopPropagation();dialog.show(R.get("formfield_event_disable_before_done"))})};var getWrapperDiv=function(left,right,top,bottom,parentDom){return $(document.createElement("div")).attr("id","m2soft-crownix-field-wrapper").css({position:"absolute",left:(parentDom?1:left)+"px",top:(parentDom?1:top)+"px",width:right-left+"px",height:bottom-top+"px"}).appendTo(parentDom?parentDom:viewerTextDom)};var getCommonDiv=function(wrapper,common,space,width,height,hintingTarget,field){var target=hintingTarget?hintingTarget:$(document.createElement("div")).attr("id","crownix_form_field_hintingbox");if(common.displayType=="2"){target.prependTo(wrapper)}else{target.appendTo(wrapper)}if(!(common.displayType=="2"&&field.type==="fl")){target.css({position:"absolute",left:space+"px",top:space+"px",width:width-(2*space)+"px",height:height-(2*space)+"px",}).addClass("commonFieldHinting")}field.hintingBox=target;return target};var getWarningImg=function(wrapper,fieldId,field,tOffset,validityMessage){var warningDiv=$("<div>").css({position:"absolute",display:"block",top:tOffset,left:(field.width()-12)+"px",}).appendTo(wrapper);var warning=$("<img>").attr("src",WARNING_IMAGE).attr("id","crownix_form_field_"+fieldId+"_warning").appendTo(warningDiv);if(validityMessage){var warningBox=$("<div>").addClass("crownix-field-warning-box").attr("id","crownix_form_field_"+fieldId+"_warningBox").css("position","absolute").appendTo(warningDiv);var warningMessage=$("<div>").html(validityMessage).addClass("crownix-field-warning-message").css("max-width",$("#"+Constant.TEXT_ID).width()-20).attr("id","crownix_form_field_"+fieldId+"_warnning-message").css("max-width",$("#"+Constant.TEXT_ID).width()-20).on("touchstart",function(){go.scroll.enabled=false}).on("touchend",function(){go.scroll.enabled=true}).appendTo(warningBox);triangle=$("<div>").css("left","-3px").addClass("crownix-triangle-down").appendTo(warningBox);warningBox.css("left",-Math.min(warningMessage.width(),(field.width()+parseInt(wrapper.css("left"))-10)));triangle.css("left",-parseInt(warningBox.css("left"))-3);if(wrapper.position().top<warningBox.height()){triangle.insertBefore(warningMessage);warningBox.css("top",field.height());triangle.removeClass("crownix-triangle-down").addClass("crownix-triangle-up");warningMessage.css({left:warningMessage.position().left-3})}else{warningBox.css("top",-warningBox.height()+5)}warningBox.hide();warning.on("click touchstart",function(){if(!GuideManager.getInstance(go).isEnabled){warningBox.toggle()}})}warning.hide();var checkWarningBox=function(field){if(field.validityMessage){if(!field.valid&&!GuideManager.getInstance(go).isEnabled){warningBox.show()}else{warningBox.hide()}}};return{warningMark:warning,warningBox:warningBox,warningMessage:warningMessage,checkWarningBox:checkWarningBox}};var setTextAttr=function(field,input){var execeptAttr=["fontSize","align","outLine","background","alpha"];var confirmFunc=function(target,popupArea){if(Util.browser.mobile){input.css(transObjectToCss(transCssToObject(field,popupArea[0]).style));input.trigger("change")}else{input.css(transObjectToCss(transCssToObject(field,target).style))}};var textBox=new TextDialog(go.parentId,confirmFunc);return{show:function(){if(Util.browser.mobile){textBox.showDialog(input[0],undefined,execeptAttr,input.prop("tagName")=="INPUT"?field.inputType:"")}else{input.css("position","relative");if($(".crownix-textnote-toolbar").length){if(!$(".crownix-textnote-toolbar").siblings("#"+input[0].id).length){this.closeToolbar();this.show()}}else{textBox.showToolbar(input[0],textDom,execeptAttr)}$(".crownix-textnote-toolbar").css("z-index",10000)}},setValue:function(value){if(Util.browser.mobile){textBox.setValue(value)}},closeToolbar:function(){if(textBox){input.css("position","");textBox.closeToolbar()}}}};var drawTextField=function(field,elementId,left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedLength,editable,hidden,required,textCss,expression,password,popupData,inputInfo,inputAuthority,noDefaultAction,wrapper){var input=$(document.createElement("input")),numberUtil;preventField(formId,input);if(field.editable){editable=field.editable}if(self.formFieldMode&&editable==="0"&&field.disableColor){wrapper.addClass("crownix-formfield-disable")}var refField=formManager.getField(formId,field.referenceId);if(field.referenceId&&refField.type=="ta"){drawTextArea(field,elementId,left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedLength,refField.limitedLineLength,editable,hidden,required,textCss,expression,popupData,inputAuthority);return}var transCss=transObjectToCss(field.style);input.attr({type:(password==="1")?"password":(inputInfo.type==="date"||((inputInfo.type==="number"||inputInfo.type==="tel")&&inputInfo.displayFormat!=undefined))?"text":inputInfo.type,inputmode:inputInfo.type==="number"||inputInfo.type==="tel"?"numeric":"",placeholder:self.formFieldMode?placeholder:"",id:elementId,name:field.referenceId?field.referenceId:fieldId,formId:formId,auth:inputAuthority,noDefaultAction:noDefaultAction==="1"}).attr(inputInfo.attributes).css(transCss?$.extend({},textCss,transCss):textCss).css({width:right-left+"px",height:bottom-top+"px",margin:"0px",padding:"0px",border:"0px","text-align":textAlign,"text-indent":indent,"background-color":"rgba(0, 0, 0, 0)",cursor:isPopupDataEnabled(popupData)?"pointer":"default","-webkit-appearance":"none",}).bind(Util.browser.mobile||go.options.mirroring.enable?"click":"click focus",function(ev){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(self.formFieldMode&&noDefaultAction!=="1"){field.hideEffect()}warning.checkWarningBox(field);if(go.options.mirroring.enable&&noDefaultAction!=="1"){if(((inputAuthority==="Host"&&go.mirroringManager.externalEvent.isSubProcess())||inputAuthority==="Client"&&!go.mirroringManager.externalEvent.isSubProcess())){$(this).blur();setTimeout(function(){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:inputInfo.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,limitedLength:limitedLength})});return}if($(this).attr("readonly")!=="readonly"&&!go.scroll.isMoving()&&!$(ev.currentTarget).hasClass("crownix-formfield-blink-lock")&&!$(ev.currentTarget).hasClass("crownix-auth-lock")){if(go.mirroringManager.externalEvent.isSubProcess()&&inputInfo.type!=="date"){go.mirroringManager.showOverlay()}setTimeout(function(){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:inputInfo.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,limitedLength:limitedLength})})}if($(ev.currentTarget).hasClass("crownix-formfield-blink-lock")){$(this).blur()}}if(go.options.formField.selectEntireText===true&&self.formFieldMode){$(this).select()}if(Util.browser.mobile){$(this).focus()}if(this.className.indexOf("crownix-auth-lock")>-1){return true}else{if(isPopupDataEnabled(popupData)){$(this).blur();createPopup(popupData,field,$(this).closest(".crownix-text"));return false}else{if(go.options.useNumberKeyPad===true&&(inputInfo.type==="tel"||inputInfo.type==="number")){FieldOrder.getInstance().focus(elementId);var currentTheme=m2soft.crownix.Layout.currentTheme;if(window.m2softFormFieldBridge.toKeyPad){var colorAttr="bgColor="+currentTheme.containerColor+"&btColor="+currentTheme.toolbarColor+"&ftColor="+currentTheme.toolbarIconColor;window.m2softFormFieldBridge.toKeyPad(field.formId,field.id,colorAttr,!!FieldOrder.getInstance().length(),(field.value?field.value:""))}else{var query="formId="+field.formId+"&fieldId="+field.id+"&bgColor="+currentTheme.containerColor.substring(1,7)+"&btColor="+currentTheme.toolbarColor.substring(1,7)+"&ftColor="+currentTheme.toolbarIconColor.substring(1,7)+"&value="+(field.value?field.value:"");if(window.webkit){window.webkit.messageHandlers.showNumberKeypad.postMessage(query)}else{document.location="crownixWebView://showNumberKeypad?"+query}}return true}}}if(!GuideManager.getInstance(go).isEnabled&&go.options.formField.textAttr&&field.inputType!=="date"&&!input[0].readOnly&&attrBox){attrBox.show()}}).bind("focusin",function(e){if(self.formFieldMode&&field.editable==="1"){formManager.trigger("evfcin",field.formId,field.id);if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evfcin"})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evfcin")}}}).bind("focusout",function(e){if(self.formFieldMode){if(go.options.formField.textAttr&&attrBox){transCssToObject(field,input[0]);attrBox.closeToolbar()}field.determineEffect();if(!go.options.mirroring.enable||!go.mirroringManager.externalEvent.isSubProcess()){formManager.trigger("evfcout",field.formId,field.id)}if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evfcout"})}if(go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evfcout")}}if(!warning||!warning.warningMessage){return}if($(e.relatedTarget).hasClass("crownix-field-warning-message")){$(e.currentTarget).focus();return false}if(field.validityMessage){warning.warningBox.hide()}}).appendTo(wrapper);if(inputInfo.type=="number"){input.attr("pattern","\\d*")}if((inputInfo.type==="text"||inputInfo.type==="number"||inputInfo.type==="tel")&&inputInfo.displayFormat!=undefined){numberUtil=new NumberUtil(inputInfo.displayFormat,inputInfo.checkZero,inputInfo.checkNoZero)}if(inputInfo.type==="date"){if(self.formFieldMode){var startYear=options.calendarComboStartYear,endYear=options.calendarComboEndYear;input.crownixdatepicker({dateFormat:inputInfo.displayDateFormat,japanYear:inputInfo.japanYear?inputInfo.japanYear:null,checkZero:inputInfo.checkZero,changeMonth:go.options.useCalendarComboBox,changeYear:go.options.useCalendarComboBox,showButtonPanel:true,useMirroring:go.options.mirroring.enable,yearRange:(startYear||endYear)?startYear+":"+endYear:"c-10:c+10",beforeShow:function(){if(go.options.mirroring.enable){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:inputInfo.type,elementId:input[0].id,value:field.value,auth:inputAuthority,limitedLength:limitedLength})}},onClose:function(){if(!go.options.formField.textAttr){input.blur()}else{attrBox&&attrBox.show()}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.focusOut()}},})}if((field.value===""||field.value==undefined)&&value){input.val(DateUtil.convertDateFormat(value,inputInfo.realDateFormat,inputInfo.displayDateFormat,inputInfo.japanYear,inputInfo.checkZero));field.value=value}else{input.val(DateUtil.convertDateFormat(field.value,inputInfo.realDateFormat,inputInfo.displayDateFormat,inputInfo.japanYear,inputInfo.checkZero))}}else{if(numberUtil!==undefined&&(!self.formFieldMode||(value||field.value))){input.val(numberUtil.formatNumber(field.value===undefined?value:field.value))}else{input.val(field.value===undefined?value:field.value)}}if(self.formFieldMode){field.validateRegEx()}setTimeout(function(){input.bind("change input",function(e){if(e.type==="input"&&inputInfo.type==="date"){$(this).val(DateUtil.convertDateFormat(field.value,inputInfo.displayDateFormat,inputInfo.realDateFormat,inputInfo.japanYear,inputInfo.checkZero))}field.value=inputInfo.type==="date"?DateUtil.convertDateFormat($(this).val(),inputInfo.displayDateFormat,inputInfo.realDateFormat,inputInfo.japanYear,inputInfo.checkZero,true):$(this).val();field.validateRegEx();formManager.modified(field);warning.checkWarningBox(field);field.spreadToShareField(field,formManager.getFields(field.formId),field.formId);if(refField){refField.determineEffect()}if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value});if(inputInfo.type==="date"){go.shareManager.sendFocusOutField()}}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value);if(inputInfo.type==="date"){go.mirroringManager.externalEvent.focusOut()}}if(GuideManager.getInstance(go).isEnabled){GuideManager.getInstance(go).validateValue()}if(e.type==="input"){formManager.trigger("evinput",field.formId,field.id);if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evinput"})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evinput")}}if(attrBox){attrBox.setValue($(this).val())}});if(Util.browser.msie&&Util.browser.version==9){input.on("keyup",function(){var key=event.keyCode||event.charCode;if(key==8||key==46){input.trigger(inputInfo.type==="date"&&Util.browser.mobile&&Util.browser.firefox?"change":"input")}})}if(numberUtil!==undefined){input.on("blur keyup",function(event){if(event.type=="keyup"&&event.keyCode!=13){return}var inputValue=numberUtil.unformatNumber($(event.currentTarget).val());if(inputValue){field.value=inputValue}input.val(numberUtil.formatNumber($(event.currentTarget).val()));if(self.formFieldMode){field.validateRegEx();formManager.modified(field);field.spreadToShareField(field,formManager.getFields(field.formId),field.formId)}if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:input.val()})}if(attrBox){attrBox.setValue($(this).val())}})}if(inputInfo.type==="date"){input.on("keydown",function(e){e.preventDefault();if(e.keyCode==8||e.keyCode==46){input.val("");input.trigger("change")}})}});if(go.shareManager&&go.shareManager.isConnected()&&input.hasClass("crownix-auth-lock")&&inputInfo.type==="date"){input.attr("readonly",true)}else{input.attr("readonly",false)}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(self.formFieldMode&&isDrawingTo.screen()){field.showRequiredMark(reqColor,wrapper)}var common=formManager.getHintingColor(formId,fieldId)||"";if(self.formFieldMode&&common!=""&&isDrawingTo.screen()){getCommonDiv(wrapper,common,1,input.width(),input.height(),input,field)}var warning=getWarningImg(wrapper,formId+"_"+fieldId,input,0,field.validityMessage);var attrBox;if(self.formFieldMode&&go.options.formField.textAttr){attrBox=setTextAttr(field,input)}if(field.valid!=undefined&&!field.valid){warning.warningMark.show()}if(field.referenceId){input.attr("rfi","crownix_form_field_"+formId+"_"+field.referenceId)}if(!self.formFieldMode||popupData.url||editable!=="1"){input.attr("readonly","readonly")}if(!self.formFieldMode){if(hidden==="1"){input.css("visibility","hidden")}}else{if(hidden==="1"||field.commonHidden==="1"){field.hide()}}if(limitedLength!==""){input.attr("maxlength",limitedLength)}if(noDefaultAction==="1"||(go.options.useNumberKeyPad===true&&(inputInfo.type==="tel"||inputInfo.type==="number"))){input.on("focus",function(){input.blur()})}setAuthority(inputAuthority,input)};var drawTextArea=function(field,elementId,left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedTextLength,limitedLineLength,editable,hidden,required,textCss,expression,popupData,inputAuthority,noDefaultAction,wrapper){var textarea=$(document.createElement("textarea"));preventField(formId,textarea);if(field.editable){editable=field.editable}if(self.formFieldMode&&editable==="0"&&field.disableColor){wrapper.addClass("crownix-formfield-disable")}var refField=formManager.getField(formId,field.referenceId);if(field.referenceId&&refField.type=="tf"){drawTextField(left,right,top,bottom,formId,fieldId,value,placeholder,textAlign,indent,limitedTextLength,editable,hidden,required,textCss,expression,refField.password,undefined,undefined,inputAuthority);return}var transCss=transObjectToCss(field.style);textarea.text(field.value===undefined?value:field.value).attr({id:elementId,placeholder:self.formFieldMode?placeholder:"",name:field.referenceId?field.referenceId:fieldId,formId:formId,auth:inputAuthority}).css(transCss?$.extend({},textCss,transCss):textCss).css({width:right-left-indent+"px",height:bottom-top+"px",margin:"0px",padding:"0px 0px 0px "+indent+"px",border:"0px","text-align":textAlign,background:"rgba(0, 0, 0, 0)",resize:"none",cursor:isPopupDataEnabled(popupData)?"pointer":"default","-webkit-appearance":"none",}).bind(go.options.mirroring.enable?"click":"click focus",function(ev){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();warning.checkWarningBox(field);if(noDefaultAction!=="1"&&go.options.mirroring.enable){if(((inputAuthority==="Host"&&go.mirroringManager.externalEvent.isSubProcess())||inputAuthority==="Client"&&!go.mirroringManager.externalEvent.isSubProcess())){$(this).blur();go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:"text",elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,limitedLength:limitedTextLength});return}if($(this).attr("readonly")!=="readonly"&&!go.scroll.isMoving()&&!$(ev.currentTarget).hasClass("crownix-formfield-blink-lock")&&!$(ev.currentTarget).hasClass("crownix-auth-lock")){if(go.mirroringManager.externalEvent.isSubProcess()){go.mirroringManager.showOverlay()}go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:"text",elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,limitedLength:limitedTextLength})}if($(ev.currentTarget).hasClass("crownix-formfield-blink-lock")){$(this).blur()}}if(noDefaultAction==="1"){$(this).blur()}if(go.options.formField.selectEntireText===true&&self.formFieldMode){$(this).select()}if(self.formFieldMode&&noDefaultAction!=="1"){field.hideEffect()}if(Util.browser.mobile){this.focus()}if(!GuideManager.getInstance(go).isEnabled&&go.options.formField.textAttr&&!textarea[0].readOnly&&attrBox){attrBox.show()}if(!isPopupDataEnabled(popupData)||this.className.indexOf("crownix-auth-lock")>-1){return true}$(this).blur();createPopup(popupData,field,$(this).closest(".crownix-text"));return false}).bind("change",function(){warning.checkWarningBox(field)}).bind("keydown",function(e){if(e.keyCode==13&&limitedLineLength>0&&textarea.val().split("\n").length>=limitedLineLength){return false}}).bind("focusin",function(e){if(self.formFieldMode&&field.editable==="1"){formManager.trigger("evfcin",field.formId,field.id);if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evfcin"})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evfcin")}}}).bind("focusout",function(e){if(self.formFieldMode){if(go.options.formField.textAttr&&attrBox){transCssToObject(field,textarea[0]);attrBox.closeToolbar()}field.determineEffect();if(!go.options.mirroring.enable||!go.mirroringManager.externalEvent.isSubProcess()){formManager.trigger("evfcout",field.formId,field.id)}if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evfcout"})}if(go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evfcout")}}if(!warning||!warning.warningMessage){return}if($(e.relatedTarget).hasClass("crownix-field-warning-message")){$(e.currentTarget).focus();return false}if(field.validityMessage){warning.warningBox.hide()}}).appendTo(wrapper);if(self.formFieldMode){field.validateRegEx()}setTimeout(function(){textarea.bind("input",function(e){field.value=$(this).val();field.validateRegEx();formManager.modified(field);warning.checkWarningBox(field);field.spreadToShareField(field,formManager.getFields(field.formId),field.formId);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value)}if(GuideManager.getInstance(go).isEnabled){GuideManager.getInstance(go).validateValue()}if(e.type==="input"){formManager.trigger("evinput",field.formId,field.id);if(go.shareManager){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"evinput"})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"evinput")}}if(attrBox){attrBox.setValue($(this).val())}});if(Util.browser.msie&&Util.browser.version==9){textarea.on("keyup",function(){var key=event.keyCode||event.charCode;if(key==8||key==46){textarea.trigger("input")}})}});var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(self.formFieldMode&&isDrawingTo.screen()){field.showRequiredMark(reqColor,wrapper)}var common=formManager.getHintingColor(formId,fieldId)||"";if(self.formFieldMode&&common!=""&&isDrawingTo.screen()){getCommonDiv(wrapper,common,1,textarea.width(),textarea.height(),textarea,field)}var warning=getWarningImg(wrapper,formId+"_"+fieldId,textarea,0,field.validityMessage);var attrBox;if(self.formFieldMode&&go.options.formField.textAttr){attrBox=setTextAttr(field,textarea)}if(field.valid!=undefined&&!field.valid){warning.warningMark.show()}if(field.referenceId){textarea.attr("rfi","crownix_form_field_"+formId+"_"+field.referenceId)}if(limitedTextLength!==""){textarea.attr("maxlength",limitedTextLength)}if(!self.formFieldMode||popupData.url||editable!=="1"){textarea.attr("readonly","readonly")}if(!self.formFieldMode){if(hidden==="1"){textarea.css("visibility","hidden")}}else{if(hidden==="1"||field.commonHidden==="1"){field.hide()}}setAuthority(inputAuthority,textarea)};var isPopupDataEnabled=function(popupData){return popupData.url&&self.formFieldMode};var drawCheckBox=function(field,elementId,left,right,top,bottom,formId,fieldId,groupId,value,selected,editable,hidden,required,labelText,labelAlign,textCss,textAlign,textVAlign,inputAuthority,size,noDefaultAction,tickScale,removeBox,wrapper){var input=$(document.createElement("input")),label=$(document.createElement("label")),selector=$(document.createElement("span")),checkBorder=$('<label class="crownix-css-checkborder crownix-css-selector">'),leftTick=$('<label class="crownix-css-checkmark">'),rightTick=$('<label class="crownix-css-checkmark">'),textWrap=$('<div class="crownix-check-text-wrap">'),checkBox=$('<div class="crownix-checkbox">'),textClip=$('<div class="crownix-check-text-clip">');var wrapWidth=right-left,wrapHeight=bottom-top,controlMargin=(size/16)+3,leftTickLength=0,rightTickLength=0,tickWidth,SIZE=parseInt(size)||0,WEIGHT=16,CENTER=(size/2),BASE_TICK_WIDTH=Math.ceil(SIZE*0.35*0.3),BASE_LEFT_TICK_LENGTH=(SIZE*0.35),BASE_RIGHT_TICK_LENGTH=(SIZE*0.59),BORDER_WIDTH=1,TICK_SCALE=(parseFloat(tickScale)/100);preventField(formId,input);preventField(formId,label);var group={};if(self.formFieldMode){editable=field.editable;labelText=field.label;value=field.value;selected=field.type==="cb"?value:(field.getSelected()?"1":"0");if(field.type==="rb"){group=formManager.getField(formId,groupId)||{}}}var common=formManager.getHintingColor(formId,fieldId)||"";if(self.formFieldMode&&common!=""&&isDrawingTo.screen()){getCommonDiv(wrapper,common,0,right-left,bottom-top,null,field)}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(self.formFieldMode&&isDrawingTo.screen()){field.showRequiredMark(reqColor,wrapper)}checkBorder.attr("for",elementId).css({width:size,height:size,display:"inline-block",position:"absolute",left:-1,top:-1});if(removeBox==="1"){checkBorder.css("padding",BORDER_WIDTH+"px")}else{checkBorder.css("border",BORDER_WIDTH+"px solid #000000")}if(TICK_SCALE===1){tickWidth=BASE_TICK_WIDTH;leftTickLength=Math.ceil(BASE_LEFT_TICK_LENGTH);rightTickLength=Math.ceil(BASE_RIGHT_TICK_LENGTH)}else{leftTickLength=((BASE_LEFT_TICK_LENGTH*(TICK_SCALE)));rightTickLength=((BASE_RIGHT_TICK_LENGTH*(TICK_SCALE)));if(TICK_SCALE<1){tickWidth=BASE_TICK_WIDTH-Math.ceil((SIZE+Math.max((TICK_SCALE-1)*SIZE,(1-SIZE)))/WEIGHT);if(leftTickLength<=tickWidth){leftTickLength=leftTickLength+tickWidth}if(rightTickLength<=tickWidth){rightTickLength=rightTickLength+tickWidth}if(Math.ceil(leftTickLength)>=Math.ceil(rightTickLength)){rightTickLength=leftTickLength*1.5}}else{tickWidth=BASE_TICK_WIDTH+Math.ceil((SIZE+Math.ceil((TICK_SCALE-1)*SIZE/2))/WEIGHT)}}leftTick.css({position:"absolute",right:parseInt(CENTER),bottom:parseInt((CENTER-(size*0.2))),display:"inline-block",width:Math.ceil(leftTickLength)+"px","border-bottom":tickWidth+"px solid #0f1011","transform-origin":"100% 100%",transform:"rotate(45deg)",visibility:"hidden"});rightTick.css({position:"absolute",right:parseInt(CENTER),bottom:parseInt((CENTER-(size*0.2))),display:"inline-block",height:Math.ceil(rightTickLength)+"px","border-left":tickWidth+"px solid #0f1011","transform-origin":"100% 100%",transform:"rotate(45deg)",visibility:"hidden"});textClip.css({display:"inline-block",position:"absolute",height:wrapHeight+"px",overflow:"hidden"});textWrap.css({display:"inline-block",position:"absolute"});leftTick.attr("for",elementId);rightTick.attr("for",elementId);label.attr("for",elementId).css({"white-space":"nowrap","word-break":"break-all",position:"absolute",width:wrapWidth+"px",height:wrapHeight+"px",}).attr("class",field.type==="rb"?groupId:fieldId).addClass("crownix-checkbox-boundary").appendTo(wrapper);selector.addClass("crownix_formfield_selector").css({"background-position":((field.value=="1"||selected==="1")?"-19px":"0px")+" -2px",width:size,height:size,position:"absolute","text-align":"left","margin-left":controlMargin+"px","margin-right":controlMargin+"px",display:"inline-block","background-color":"rgba(0, 0, 0, 0)"}).appendTo(checkBox);textClip.appendTo(checkBox);if(field.type!=="cb"){input.attr("buttonId",fieldId)}input.attr({type:(field.shape==="cb")?"radio":"checkbox",name:(field.shape==="cb")?(formId+"_"+groupId):fieldId,value:value,id:elementId,formId:formId,auth:inputAuthority}).bind("change",function(e){if(noDefaultAction==="1"){return}if((go.shareManager&&go.shareManager.isConnected()||go.mirroringManager)&&e.target.readOnly||go.mirroringManager&&$(e.target).parents('label[class*="crownix-field-lock"]').length){return false}var isChecked=input.is(":checked");if(field.type==="cb"){field.setSelected(isChecked)}else{if(isChecked){group.select(field.id)}else{group.unselect(field.id)}}formManager.modified(field);if(field.type==="cb"){field.determineEffect()}else{group.determineEffect()}if(go.shareManager){var info={};info.formId=field.formId;info.fieldId=field.type==="cb"?field.id:field.gid;info.value=field.type==="cb"?isChecked:field.id;if(field.type==="cb"){info.name="selected"}go.shareManager.sendFormField(info)}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setSelected(field.formId,field.id,isChecked);go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:e.currentTarget.id,value:field.value,auth:inputAuthority,})}}).bind(go.mirroringManager?"focus":"focus click",function(e){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.shareManager&&go.shareManager.isConnected()){if((e.target.readOnly||this.className.indexOf("crownix-field-lock")>-1)){FieldOrder.getInstance().focus(e.target.id);return}go.shareManager.sendFocusOnField(field.formId,field.id)}if(go.mirroringManager&&(!e.currentTarget.className||e.target.readOnly)){return false}if(isOldBrowser||((Util.browser.ios||Util.browser.safari)&&e.type=="click")){$("#"+field.elementId).focus()}}).bind("keydown",function(e){if(e.keyCode==32&&go.shareManager&&e.target.readOnly){return false}});if(go.shareManager&&go.shareManager.isConnected()&&((go.shareManager.isHost()&&inputAuthority=="Client")||((!go.shareManager.isHost()&&inputAuthority=="Host")))){input.attr("readonly",true).addClass("crownix-auth-lock")}input.css({width:isOldBrowser?"0.1px":"0",height:isOldBrowser?"0.1px":"0",position:"relative",opacity:0});if(noDefaultAction==="1"){input.on("click",function(e){e.preventDefault()})}if(!isDrawingTo.save()){input.appendTo(selector)}checkBorder.appendTo(selector);leftTick.appendTo(selector);rightTick.appendTo(selector);var fontSize=parseInt(textCss["font-size"]);var labelTextDom=$(document.createElement("span")).attr("class","crownix_form_field_label").css({"vertical-align":"middle",display:"inline-block",position:"absolute"}).css(textCss).text(labelText);checkBox.appendTo(label);labelTextDom.appendTo(textWrap);if(labelAlign=="0"){textWrap.appendTo(textClip);var labelTextDomMaxWidth=(wrapWidth-(selector.outerWidth(true)));if(labelTextDom.width()>labelTextDomMaxWidth){labelTextDom.css({width:labelTextDomMaxWidth+"px",});label.css({"white-space":"inherit"})}textWrap.css({width:labelTextDom.width(),height:labelTextDom.height()});textClip.width(labelTextDom.width());selector.css("left","0");textClip.css("left",selector.outerWidth(true))}else{textWrap.prependTo(textClip);var labelTextDomMaxWidth=(wrapWidth-(selector.outerWidth(true)));if(labelTextDom.width()>labelTextDomMaxWidth){labelTextDom.css({width:labelTextDomMaxWidth+"px",});label.css({"white-space":"inherit"})}textWrap.css({width:labelTextDom.width(),height:labelTextDom.height()});textClip.width(labelTextDom.width());textClip.css("left","0");selector.css("left",textWrap.outerWidth(true))}checkBox.css({position:"absolute",width:(selector.outerWidth(true)+textWrap.outerWidth(true))+"px"});if(selector.outerHeight(true)>=labelTextDom.height()){textWrap.css("height",selector.outerHeight(true)+2);checkBox.css("height",selector.outerHeight(true));labelTextDom.css("top",((textWrap.height()-labelTextDom.height())/2)-BORDER_WIDTH)}else{checkBox.css("height",textWrap.height());selector.css("top",((labelTextDom.height()-selector.outerHeight(true))/2))}if(textAlign==="left"){checkBox.css("left","0")}else{if(textAlign==="center"){var centerPoint=(label.width()-checkBox.width())/2;checkBox.css("left",centerPoint)}else{if(textAlign==="right"){checkBox.css("right","0")}}}if(textVAlign==="top"){checkBox.css("top","0")}else{if(textVAlign==="middle"){var labelHeight=label.height(),checkBoxHeight=checkBox.height();var verticalMiddle=((labelHeight-checkBoxHeight+(BORDER_WIDTH*2))/2);textClip.css("top",-verticalMiddle);checkBox.css("top",((labelHeight-checkBoxHeight)/2));textWrap.css("top",verticalMiddle)}else{if(textVAlign==="bottom"){checkBox.css("top",label.height()-checkBox.height()-(BORDER_WIDTH*2))}}}if((field.value=="1"&&field.type==="cb")||selected==="1"){input.prop("checked",true);leftTick.css("visibility","visible");rightTick.css("visibility","visible")}if(!self.formFieldMode||editable==="0"){input.attr("disabled","disabled");if(removeBox==="1"){checkBorder.css("visibility","hidden")}else{checkBorder.addClass("crownix-formfield-disable")}}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,input)};var drawComboBox=function(field,elementId,left,right,top,bottom,formId,fieldId,selectedValue,editable,hidden,required,textCss,displayValues,actualValues,inputAuthority,noDefaultAction,placeholder,paddingLeft,wrapper){var select=$(document.createElement("select"));preventField(formId,select);var displayList=field.displayValues?field.displayValues:displayValues;var actualList=field.actualValues?field.actualValues:actualValues;if(field.editable){editable=field.editable}if(self.formFieldMode&&editable==="0"){wrapper.addClass("crownix-formfield-disable")}if(field.selectedIndex!==undefined){selectedValue=field.selectedIndex==-1?"":displayList[field.selectedIndex]}select.attr({name:fieldId,id:elementId,formId:formId,auth:inputAuthority}).css(textCss).css({width:right-left+"px",height:bottom-top+"px",margin:"0px",padding:"0 0 0 "+paddingLeft+"px",background:"transparent","-webkit-appearance":"none","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAh0lEQVQ4T93TMQrCUAzG8V9x8QziiYSuXdzFC7h4AcELOPQAdXYovZCHEATlgQV5GFTe1ozJlz/kS1IpjKqw3wQBVyy++JI0y1GTe7DCBbMAckeNIQKk/BanALBB+16LtnDELoMcsM/BESDlz2heDR3WePwKSLo5eoxz3z6NNcFD+vu3ij14Aqz/DxGbKB7CAAAAAElFTkSuQmCC)","background-position":"right center","background-repeat":"no-repeat","color-adjust":"exact"}).bind("change",function(){field.value=select.val();formManager.modified(field);var selectedOption=select.find("option:selected");field.selectedIndex=select.find("option").index(selectedOption)-1;field.determineEffect();if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.selectedIndex})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value)}}).appendTo(wrapper);if(noDefaultAction==="1"||go.options.mirroring.enable){select.on(ActionEvents.start+" touchstart keydown",function(e){if(!select.hasClass("crownix-formfield-blink-lock")&&noDefaultAction!=="1"&&go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()){return}e.preventDefault();select.focus();$(this).blur()})}select.on("click",function(e){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.options.mirroring.enable&&!go.scroll.isMoving()&&$(this).attr("readonly")!=="readonly"&&!select.hasClass("crownix-formfield-blink-lock")&&!$(e.currentTarget).hasClass("crownix-auth-lock")){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:e.currentTarget.id,value:field.value,auth:inputAuthority,});if(go.mirroringManager.externalEvent.isSubProcess()){e.preventDefault();select.focus();$(this).blur();if(noDefaultAction!=="1"){go.mirroringManager.showOverlay();go.mirroringManager.externalEvent.showCombobox(displayList,actualList)}}}});if(Util.browser.android){select.css("background-color","transparent")}var notSelected=$('<option value="" style="color:gray">').text(placeholder).appendTo(select);for(var i=0;i<displayList.length;i++){var option=$("<option>").attr("value",actualList[i]).text(displayList[i]).appendTo(select);if(selectedValue==displayList[i]){option.attr("selected","selected")}}var common=formManager.getHintingColor(formId,fieldId)||"";if(self.formFieldMode&&common!=""&&isDrawingTo.screen()){getCommonDiv(wrapper,common,0,right-left,bottom-top,null,field).css({overflow:"visible"}).append(select);select.css({top:"0px",left:"0px",width:right-left-2+"px",height:bottom-top-2+"px","-webkit-appearance":"none","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAh0lEQVQ4T93TMQrCUAzG8V9x8QziiYSuXdzFC7h4AcELOPQAdXYovZCHEATlgQV5GFTe1ozJlz/kS1IpjKqw3wQBVyy++JI0y1GTe7DCBbMAckeNIQKk/BanALBB+16LtnDELoMcsM/BESDlz2heDR3WePwKSLo5eoxz3z6NNcFD+vu3ij14Aqz/DxGbKB7CAAAAAElFTkSuQmCC)","background-position":"right center","background-repeat":"no-repeat","color-adjust":"exact"})}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(self.formFieldMode&&isDrawingTo.screen()){field.showRequiredMark(reqColor,wrapper)}if(!self.formFieldMode||editable==="0"){select.attr("disabled","disabled")}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,select)};var drawRadioButton=function(field,elementId,left,right,top,bottom,formId,fieldId,groupId,value,selected,editable,hidden,required,labelText,labelAlign,textCss,textAlign,textVAlign,inputAuthority,size,noDefaultAction,tickScale,removeBox,wrapper){var input=$(document.createElement("input")),label=$(document.createElement("label")),selector=$(document.createElement("span")),outerCircle=$('<label class="crownix-radio-outer crownix-css-selector">'),innerCircle=$('<label class="crownix-radio-inner-'+formId+"-"+groupId+' crownix-css-checkmark">'),textWrap=$('<div class="crownix-radio-text-wrap">');var radioButton=$('<div class="crownix-radio-button">');var borderWidth=1;preventField(formId,input);preventField(formId,label);var group={};if(self.formFieldMode){group=formManager.getField(formId,groupId)||{};editable=field.editable;labelText=field.label;value=field.value}var common=formManager.getHintingColor(formId,fieldId)||"";if(self.formFieldMode&&common!=""&&isDrawingTo.screen()){getCommonDiv(wrapper,common,0,right-left,bottom-top,null,field)}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(self.formFieldMode&&isDrawingTo.screen()){field.showRequiredMark(reqColor,wrapper)}var wrapWidth=right-left;var wrapHeight=bottom-top;var marginValue=Math.round(size*0.2);var controlMargin=(size/16)+3;outerCircle.attr("for",elementId).css({position:"absolute",left:"0",top:"0",display:"inline-block",width:(size-(borderWidth*2))+"px",height:(size-(borderWidth*2))+"px",border:"1px solid black","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%"});if(isDrawingTo.printer()&&Util.browser.msie){innerCircle.css({position:"absolute",left:"1px",top:"1px",visibility:"hidden",width:"0px",height:"0px","margin-left":(marginValue-borderWidth)+"px","margin-top":(marginValue-borderWidth)+"px","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%",border:"solid "+(size-(marginValue*2))/2+"px",})}else{innerCircle.css({position:"absolute",left:"1px",top:"1px",visibility:"hidden",width:(size-(marginValue*2))+"px",height:(size-(marginValue*2))+"px","margin-left":(marginValue-borderWidth)+"px","margin-top":(marginValue-borderWidth)+"px","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%",background:"#121212","color-adjust":"exact"})}textWrap.css({display:"inline-block",position:"absolute"});label.attr("for",elementId).attr("class",groupId).addClass("crownix-radio-boundary").css({"white-space":"nowrap",overflow:"hidden","word-break":"break-all","text-align":textAlign,position:"absolute",width:wrapWidth+"px",height:wrapHeight+"px",}).appendTo(wrapper);selector.addClass("crownix_formfield_selector").css({"background-position":((group.isSelected&&group.isSelected(fieldId))||(!self.formFieldMode&&selected=="1")?"-58px":"-39px")+" -2px",width:size+"px",height:size+"px",position:"absolute","margin-left":controlMargin+"px","margin-right":controlMargin+"px",display:"inline-block","background-color":"rgba(0, 0, 0, 0)"}).appendTo(radioButton);innerCircle.appendTo(selector);outerCircle.appendTo(selector);input.attr({type:"radio",name:formId+"_"+groupId,value:value,id:elementId,formId:formId,buttonId:fieldId,auth:inputAuthority}).bind("change",function(e){if(noDefaultAction==="1"){return}if((go.shareManager&&go.shareManager.isConnected()||go.mirroringManager)&&e.target.readOnly||go.mirroringManager&&$(e.target).parents('label[class*="crownix-field-lock"]').length){return false}if(self.formFieldMode){var isChecked=input.is(":checked");if(isChecked){group.select(field.id)}else{group.unselect(field.id)}formManager.modified(field);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.gid,value:field.id})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setSelected(field.formId,field.id,isChecked);go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:e.currentTarget.id,value:field.value,auth:inputAuthority,})}group.determineEffect()}}).bind(go.mirroringManager?"focus":"focus click",function(e){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.shareManager&&go.shareManager.isConnected()){if((e.target.readOnly||this.className.indexOf("crownix-field-lock")>-1)){FieldOrder.getInstance().focus(e.target.id);return}go.shareManager.sendFocusOnField(field.formId,field.id)}if(go.mirroringManager&&(!e.currentTarget.className||e.target.readOnly)){return false}if(isOldBrowser||((Util.browser.ios||Util.browser.safari)&&e.type=="click")){$("#"+field.elementId).focus()}}).bind("keydown",function(e){if(e.keyCode==32&&go.shareManager&&e.target.readOnly){return false}});if(go.shareManager&&go.shareManager.isConnected()&&((go.shareManager.isHost()&&inputAuthority=="Client")||((!go.shareManager.isHost()&&inputAuthority=="Host")))){input.attr("readonly",true).addClass("crownix-auth-lock")}input.css({width:isOldBrowser?"0.1px":"0",height:isOldBrowser?"0.1px":"0",position:"relative",opacity:0});if(noDefaultAction==="1"&&!Util.browser.ios){input.on("click",function(e){e.preventDefault()})}if(!isDrawingTo.save()){input.appendTo(selector)}var fontSize=parseInt(textCss["font-size"]);var labelTextDom=$("<span>").attr("class","crownix_form_field_label").css({"vertical-align":"middle",display:"inline-block",position:"absolute",left:"0px",top:"0px"}).css(textCss).text(labelText);radioButton.appendTo(label);labelTextDom.appendTo(textWrap);var selectorOuterWidth=parseInt(size)+(controlMargin*2);var selectorOuterHeight=parseInt(size);var labelTextWidth;var labelTextHeight;if(labelAlign=="0"){textWrap.appendTo(radioButton);var labelTextDomMaxWidth=(wrapWidth-selector.outerWidth(true));labelTextWidth=labelTextDom.width();labelTextHeight=labelTextDom.height();if(labelTextDom.width()>labelTextDomMaxWidth){labelTextDom.css("width",labelTextDomMaxWidth+"px");label.css("white-space","inherit");labelTextWidth=labelTextDomMaxWidth}textWrap.css({width:labelTextDom.width(),height:labelTextDom.height()});textWrap.css("left",selector.outerWidth(true));selector.css("left","0")}else{textWrap.prependTo(radioButton);labelTextWidth=labelTextDom.width();labelTextHeight=labelTextDom.height();var labelTextDomMaxWidth=(wrapWidth-selector.outerWidth(true));if(labelTextDom.width()>labelTextDomMaxWidth){labelTextDom.css("width",labelTextDomMaxWidth+"px");label.css("white-space","inherit");labelTextWidth=labelTextDomMaxWidth}textWrap.css({width:labelTextDom.width(),height:labelTextDom.height()});textWrap.css("left","0");selector.css("left",labelTextDom.width())}radioButton.css({position:"absolute",width:(selector.outerWidth(true)+labelTextDom.width())+"px"});if(selector.outerHeight(true)>=labelTextDom.height()){textWrap.css("height",selector.outerHeight(true)+2);radioButton.css("height",selector.outerHeight(true));var textTopMargin=(((selector.outerHeight(true)+2)-labelTextDom.height())/2)-borderWidth;labelTextDom.css("top",textTopMargin)}else{radioButton.css("height",labelTextDom.height());var selectorTopMargin=((labelTextDom.height()-selector.outerHeight(true))/2);selector.css("top",selectorTopMargin)}if(textAlign==="left"){radioButton.css("left","0")}else{if(textAlign==="center"){var centerPoint=(wrapWidth-(selector.outerWidth(true)+labelTextDom.width()))/2;radioButton.css("left",centerPoint)}else{if(textAlign==="right"){radioButton.css("right","0")}}}if(textVAlign==="top"){radioButton.css("top","0")}else{if(textVAlign==="middle"){var radioButtonHeight=(selector.outerHeight(true)>=labelTextDom.height()?selector.outerHeight(true):labelTextDom.height());var verticalMiddle=(wrapHeight-radioButtonHeight+(borderWidth*2))/2;radioButton.css("top",verticalMiddle)}else{if(textVAlign==="bottom"){radioButton.css("top",wrapHeight-(selector.outerHeight(true)>=labelTextDom.height()?selector.outerHeight(true):labelTextDom.height())-(borderWidth*2))}}}if((group.isSelected&&group.isSelected(fieldId))||(!self.formFieldMode&&selected=="1")){input.prop("checked",true);innerCircle.css("visibility","visible")}if(!self.formFieldMode||editable==="0"){input.attr("disabled","disabled");outerCircle.addClass("crownix-formfield-disable")}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,input)};var drawSignature=function(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,placeHolder,textCss,inputAuthority,noDefaultAction,lineCount,textVAlign,element,fontList,textAttrList,wrapper){var dpr=window.devicePixelRatio||1,canvasWidth=right-left,canvasHeight=bottom-top;var canvas=$(document.createElement("canvas")).attr({id:elementId,width:canvasWidth*dpr+"px",height:canvasHeight*dpr+"px",formId:formId,auth:inputAuthority}).data("dpi",field.dpi);preventField(formId,canvas);if(self.formFieldMode&&field.editable==="0"){wrapper.addClass("crownix-formfield-disable-guide")}var ctx=canvas[0].getContext("2d");var image=new Image();var placeHolderSpan=null;var self_=self;var fontStyle,signature;fontStyle=makeFontStyle(element,textAttrList,fontList);fontStyle.textBaseline=go.options.formField.guideAlignSignature?textVAlign:"middle";fontStyle.adjustFontScale=true;fontStyle.originFontSize=fontStyle.fontSize;field.fontStyle=fontStyle;if(placeHolder&&!go.options.formField.signatureGuideColor){field.fontStyle.fillStyle="#CCCCCC"}signature=new m2soft.crownix.FormField.Signature({},{width:canvasWidth,height:canvasHeight,guideText:placeHolder,guideTextStyle:field.fontStyle});canvas.attr({name:fieldId,}).css({position:"absolute",width:canvasWidth+"px",height:canvasHeight+"px",margin:"0px",padding:"0px",border:"0px",}).bind("click tap",function(ev,gev){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(Util.browser.mobile){document.activeElement.blur()}if(go.isOpenWindow){return}if(go.options.mirroring.enable&&((inputAuthority==="Host"&&go.mirroringManager.externalEvent.isSubProcess())||inputAuthority==="Client"&&!go.mirroringManager.externalEvent.isSubProcess())){FieldOrder.getInstance().setPreventMove(false);FieldOrder.getInstance().removePreventDom();go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,});return}if(noDefaultAction==="1"&&self.formFieldMode){var fieldOrder=FieldOrder.getInstance();fieldOrder.focus(elementId);fieldOrder.setPreventMove(false);return}if(!self_.formFieldMode||field.editable==="0"||this.className.indexOf("crownix-field-lock")>-1||this.className.indexOf("crownix-auth-lock")>-1){return}var signGroup=go.formManager.getSignGroup(field.groupSignId),groupValue=signGroup.getValue();if(gev!==true&&groupValue&&go.options.formField.reuseSignature){var signList=go.formManager.getWithSign(field.withSignId).getsignList(),fieldOrder=FieldOrder.getInstance(),id=ev.target.id;fieldOrder.focus(field.elementId);viewerScroll.save();if(go.textOnCanvas){go.canvasManager.needRedraw=false}go.scroll.zoom(1);if(go.options.mirroring.enable){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,reuseSignature:go.options.formField.reuseSignature})}go.dialog.show(R.get("paste_before_sign_text"),{type:"confirm",ok:R.get("paste_before_sign"),cancel:R.get("input_new_sign"),position:"center",returnFocus:false,inputHandler:function(){fieldOrder.focusHiddenTab();go.scroll.restore();if(go.textOnCanvas){go.canvasManager.needRedraw=true}},cancelHandler:function(){canvas.trigger("click",true)},okHandler:function(){fieldOrder.setPreventMove(false);fieldOrder.removePreventDom();$("#"+id).removeClass("crownix-formfield-blink");if(go.options.withSign&&signList.length>1){for(var i=0;i<signList.length;i++){var withSignField=go.formManager.getField(signList[i].formId,signList[i].id);if(field.groupSignId==withSignField.groupSignId){withSignField.setValue({signature:groupValue.signature,value:groupValue.value,drawType:false})}else{var sgValue=go.formManager.getSignGroup(withSignField.groupSignId).getValue();if(sgValue){withSignField.setValue({signature:sgValue.signature,value:sgValue.value,drawType:false})}}formManager.trigger("change",signList[i].formId,signList[i].id);formManager.modified(signList[i]);if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(signList[i].formId,signList[i].id,signList[i].value);go.mirroringManager.externalEvent.sendEvent(signList[i].formId,signList[i].id,"change")}if(go.shareManager){go.shareManager.sendFormField({formId:withSignField.formId,fieldId:withSignField.id,value:withSignField.signature?withSignField.getSignature():withSignField.value})}}}else{field.setValue({signature:groupValue.signature,value:groupValue.value,drawType:go.options.formField.fixedSignHeight==0});formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value);go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"change")}if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.signature?field.getSignature():field.value})}}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.hideWindow()}}});return}if(field.signType==="2"){if(go.options.mirroring.enable&&go.options.mirroring.scanType&&go.options.mirroring.scanType.indexOf("stamp")!=-1){FieldOrder.getInstance().focus(field.elementId);go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,scanType:"stamp"});return}else{if(window.fingerPrintInterface&&go.options.fingerScan){!field.getValue()&&window.fingerPrintInterface.onTouch(field.formId,field.id)}else{dialog.show(R.get("fingerprint_connect_error"))}}return}var windowScroll=viewerScroll;if(field.layerId){for(var i=0,j=go.layerManager.layerList.length;i<j;i++){if(go.layerManager.layerList[i].isFloating&&go.layerManager.layerList[i].id==field.layerId){windowScroll=go.layerManager.layerList[i].scroll;break}}}if(go.options.useWacomSign){var wacomSignWindow=new WacomSignWindow(go.options.wacomSignLicense);wacomSignWindow.show(canvas,field.formId,field.id,formManager,placeHolderSpan,true,go.options.useWacomSign.topMsg,go.options.useWacomSign.bottomMsg,go.dialog,go.shareManager)}else{if(go.options.useNativeSign){if(window.m2softFormFieldBridge.toSign){window.m2softFormFieldBridge.toSign(canvas.width(),canvas.height(),parseInt(canvas.data("dpi"))||96,field.formId,field.id,!!FieldOrder.getInstance().length());FieldOrder.getInstance().setPreventMove(false);FieldOrder.getInstance().focus(elementId)}else{var currentTheme=m2soft.crownix.Layout.currentTheme;var query="formId="+field.formId+"&fieldId="+field.id+"&bgColor="+currentTheme.containerColor.substring(1,7)+"&btColor="+currentTheme.toolbarColor.substring(1,7)+"&ftColor="+currentTheme.toolbarIconColor.substring(1,7)+"&width="+canvas.width()+"&height="+canvas.height()+"&dpi="+parseInt(canvas.data("dpi"))||96;if(window.webkit){window.webkit.messageHandlers.showSign.postMessage(query)}else{document.location="crownixWebView://showSign?"+query}}}else{var changeHandler=function(isDraw,value,signData,field,lastField){if(!isDraw&&signData&&signData.lines.length>=0){if(field.signature){field.setValue(field.getSignature());return}else{if(field.value){field.setValue(field.value);return}}isDraw=false}if(isDraw){field.setValue({value:value,signature:signData});formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"change"})}if(!lastField||lastField&&lastField[field.groupSignId]==field.elementId){go.formManager.getSignGroup(field.groupSignId).setValue({signature:signData,value:value},true)}}else{var signCanvas=document.getElementById(field.elementId);if(signCanvas){new m2soft.crownix.FormField.Signature({},{width:$(signCanvas).width(),height:$(signCanvas).height(),guideText:field.element.attr("ph"),guideTextStyle:field.fontStyle}).drawSignature(signCanvas,{guideTextImageData:true})}if(field.value){field.value=null;field.signature=null;formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendEvent({formId:field.formId,fieldId:field.id,type:"change"})}}else{field.value=null;field.signature=null}}if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.signature?field.getSignature():field.value})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value);go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"change")}field.determineEffect()};if(go.options.withSign&&go.formManager.getWithSign(field.withSignId).getsignList().length>1){var withSign=new WithSign(go),withSignList=go.formManager.getWithSign(field.withSignId).getsignList();go.isOpenWindow=true;withSign.show(canvas,changeHandler,true,withSignList,makeFontStyle);if(go.shareManager&&go.shareManager.isConnected()){withSign.bind("OnChangeValue",function(value){go.shareManager.onChangeSignValue(value)})}if(go.options.mirroring.enable){withSign.bind("OnChangeValue",function(value){go.mirroringManager.externalEvent.onChangeSignValue(value)})}withSign.bind("OnClose",function(){if(go.options.mirroring.enable){go.mirroringManager.externalEvent.hideWindow()}go.isOpenWindow=false})}else{var title=field.element.attr("tt")||R.get("input_sign");var signWindow=new SignWindow(title);go.isOpenWindow=true;signWindow.show(canvas,changeHandler,true,windowScroll,lineCount,placeHolder,fontStyle,go,field);if(go.shareManager&&go.shareManager.isConnected()){signWindow.bind("OnChangeValue",function(value){go.shareManager.onChangeSignValue(value)})}if(go.options.mirroring.enable){signWindow.bind("OnChangeValue",function(value){go.mirroringManager.externalEvent.onChangeSignValue(value)})}signWindow.bind("OnClose",function(){if(go.options.mirroring.enable){go.mirroringManager.externalEvent.hideWindow()}go.isOpenWindow=false})}}}if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendFocusOnField(field.formId,field.id)}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,})}if(!(go.options.withSign&&go.formManager.getWithSign(field.withSignId).getsignList().length>1)){FieldOrder.getInstance().focus(field.elementId)}}).appendTo(wrapper);if(field.signature||field.value||value){if(self.formFieldMode&&isDrawingTo.screen()){if(field.signature){field.setValue(field.getSignature())}else{if(field.value||value){field.setValue(field.value||value)}}}else{image.src=(field.value||value);image.onload=function(){var canvasWidth=canvas[0].width,canvasHeight=canvas[0].height;var adjustGroupSign=function(){var originRatio=image.width/image.height;var fieldRatio=canvasWidth/canvasHeight;ctx.clearRect(0,0,canvasWidth,canvasHeight);if(fieldRatio>originRatio){var width=canvasHeight*originRatio;ctx.drawImage(image,(canvasWidth-width)/2,0,canvasHeight*originRatio,canvasHeight)}else{var height=canvasWidth/originRatio;ctx.drawImage(image,0,(canvasHeight-height)/2,canvasWidth,canvasWidth/originRatio)}};placeHolderSpan&&placeHolderSpan.html("");if(image.width!=canvasWidth||image.height!=canvasHeight){adjustGroupSign()}else{ctx.drawImage(image,0,0,canvasWidth,canvasHeight)}}}}if(self.formFieldMode){var clickHandler=function(ev){ev.stopPropagation();ev.preventDefault();canvas.trigger(ev.type,ev)};var common=formManager.getHintingColor(formId,fieldId)||"";if(common!=""&&isDrawingTo.screen()){var hintingBox=getCommonDiv(wrapper,common,1,canvasWidth,canvasHeight,null,field);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(isDrawingTo.screen()){var hintingBox=field.showRequiredMark(reqColor,wrapper);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}field.textAttr=textAttrList;field.fontList=fontList}if(!field.signature&&(self.formFieldMode||go.options.formField.signatureGuideMode===2)){signature.drawSignature(canvas[0],{guideTextImageData:true})}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}};var drawPicture=function(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,ratio,placeHolder,textCss,inputAuthority,useMasking,noDefaultAction,wrapper){var input=$(document.createElement("input")).css({opacity:0,width:0,height:0,}).attr({id:elementId,type:"file",accept:"image/*",}).addClass("crownix_form_field_file").appendTo(wrapper);if(Util.browser.msie){input.bind("click",function(e){FieldOrder.getInstance().focus(this.id);setTimeout(function(){FieldOrder.getInstance().focus(elementId);input.focus()},500)})}var canvas=$(document.createElement("canvas")).attr({id:elementId+"-canvas",width:(right-left)+"px",height:(bottom-top)+"px",formId:formId,auth:inputAuthority});preventField(formId,canvas);if(self.formFieldMode&&field.editable==="0"){wrapper.addClass("crownix-formfield-disable")}var ctx=canvas[0].getContext("2d");var image=new Image();var placeHolderSpan=null;image.src=(field.value||value);image.onload=function(){placeHolderSpan&&placeHolderSpan.html("");ctx.drawImage(image,0,0,right-left,bottom-top)};input.bind("change",function(e){e.stopPropagation();e.preventDefault();var files=e.target.files;var file=files[0];if(file&&!(typeof file.type==="undefined")&&!file.type.match("image.*")){dialog.show(R.get("image_file_format_error"));if(Util.browser.msie&&Util.browser.version>9){input.replaceWith(input=input.clone(true))}else{input.val("")}return false}var loader=m2soft.crownix.ImageLoader;var setImageByRatio=function(context,image,canvas){context.clearRect(0,0,canvas.width(),canvas.height());if(ratio==1){var imageRatio=image.width/image.height;var canvasRatio=canvas.width()/canvas.height();if(imageRatio>canvasRatio){var adjustHeight=canvas.height()*(canvasRatio/imageRatio);var adjustY=(canvas.height()-adjustHeight)/2;context.drawImage(image,0,adjustY,canvas.width(),adjustHeight)}else{var adjustWidth=canvas.width()*(imageRatio/canvasRatio);var adjustX=(canvas.width()-adjustWidth)/2;context.drawImage(image,adjustX,0,adjustWidth,canvas.height())}}else{if(ratio==2){context.drawImage(image,0,0)}else{context.drawImage(image,0,0,canvas.width(),canvas.height())}}};var onAttach=function(image){placeHolderSpan&&placeHolderSpan.hide();field.value=(field.signType&&field.signType==="1")?image.toDataURL("image/png"):canvas[0].toDataURL("image/png");formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value)}field.determineEffect()};loader.loadImage.parseMetaData(file,function(data){var options={canvas:true};if(data.exif&&typeof data.exif.get("Orientation")=="number"&&!loader.loadImage.orientation){options.orientation=data.exif.get("Orientation")}loader.loadImage(file,function(image){if(useMasking){var maskWindow=new MaskWindow(image,ratio,canvas,true,viewerScroll,onAttach,setImageByRatio);maskWindow.show()}else{setImageByRatio(ctx,image,canvas);onAttach(image)}},options);if(Util.browser.msie&&Util.browser.version>9){input.replaceWith(input=input.clone(true))}else{input.val("")}});if(useMasking&&go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()&&field.idCardCapture==="1"&&go.options.mirroring.scanType&&go.options.mirroring.scanType.indexOf("idCard")!=-1){image.src=(field.value||value);var maskWindow=new MaskWindow(image,ratio,canvas,true,viewerScroll,onAttach,setImageByRatio);maskWindow.show()}}).bind("keydown keyup",function(){var key=event.keyCode||event.charCode;if((key==32||key==13)&&(canvas.hasClass("crownix-field-lock")||canvas.hasClass("crownix-auth-lock")||noDefaultAction=="1")){return false}if((Util.browser.msie||Util.browser.edge)&&key==13&&noDefaultAction!="1"){input.trigger("click",event)}});var self_=self;canvas.attr({name:fieldId,ratio:ratio,}).css({position:"absolute",width:right-left+"px",height:bottom-top+"px",margin:"0px",padding:"0px",border:"0px",}).bind("click tap",function(ev){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()){return}if(noDefaultAction==="1"&&self.formFieldMode){var fieldOrder=FieldOrder.getInstance();fieldOrder.focus(field.elementId);fieldOrder.setPreventMove(false);return}if(!self_.formFieldMode||field.editable==="0"||this.className.indexOf("crownix-field-lock")>-1||this.className.indexOf("crownix-auth-lock")>-1){return}if(Util.hasTouch()){formManager.trigger("click tap",field.formId,field.id)}if(go.options.mirroring.enable&&go.options.mirroring.scanType){if(go.options.mirroring.scanType.indexOf("idCard")!=-1&&field.idCardCapture==="1"){FieldOrder.getInstance().focus(field.elementId);go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,scanType:"idCard"})}else{if(go.options.mirroring.scanType.indexOf("stamp")!=-1&&field.signType){FieldOrder.getInstance().focus(field.elementId);go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:ev.currentTarget.id,value:field.value,auth:inputAuthority,scanType:"stamp"})}else{input.trigger("click",ev)}}}else{if(field.idCardCapture==="1"&&go.options.useIdCardCapture===true){var currentTheme=m2soft.crownix.Layout.currentTheme;if(window.m2softFormFieldBridge.toPicture){window.m2softFormFieldBridge.toPicture(canvas.width(),canvas.height(),field.formId,field.id)}else{var query="formId="+field.formId+"&fieldId="+field.id+"&bgColor="+currentTheme.containerColor.substring(1,7)+"&btColor="+currentTheme.toolbarColor.substring(1,7)+"&ftColor="+currentTheme.toolbarIconColor.substring(1,7);if(window.webkit){window.webkit.messageHandlers.showID.postMessage(query)}else{document.location="crownixWebView://showID?"+query}}}else{input.trigger("click",ev)}}if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendFocusOnField(field.formId,field.id)}if(!Util.browser.msie){setTimeout(function(){FieldOrder.getInstance().focus(field.elementId);input.focus()},500)}}).appendTo(wrapper);if(self.formFieldMode){var clickHandler=function(ev){ev.stopPropagation();ev.preventDefault();canvas.trigger(ev.type,ev)};var common=formManager.getHintingColor(formId,fieldId)||"";if(common!=""&&isDrawingTo.screen()){var hintingBox=getCommonDiv(wrapper,common,1,right-left,bottom-top,null,field);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(isDrawingTo.screen()){var hintingBox=field.showRequiredMark(reqColor,wrapper);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}if(placeHolder){placeHolderSpan=getPlaceholderBox(left,top,right,bottom);placeHolderSpan.attr("formId",field.formId);preventField(formId,placeHolderSpan);placeHolderSpan.attr("for",field.elementId).css(textCss).css("overflow","hidden").bind("click tap",clickHandler).appendTo(viewerTextDom).find("span").html(placeHolder);field.placeHolder=placeHolderSpan}}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,canvas)};var drawFile=function(field,left,right,top,bottom,hAlign,vAlign,formId,fieldId,value,textCss,required,editable,maxSize,extensions,placeHolder,regExp,inputAuthority,noDefaultAction,wrapper){var fileInput=$('<input type="file">'),fileNameArea=$("<div>"),fileNameText=$("<div>"),button=$("<label>"),buttonText=$("<div>").text(R.get("attach_file_button")),focusDiv=$("<div>"),disableDiv=$("<div>");var getMiddleAlign=function(parent,target){return(parent.height()/2)-(target.height()/2)+"px"};var getVerticalMargin=function(parent,target){if(vAlign===0){return 0}else{if(vAlign===1){return(parent.height()/2)-(target.height()/2)+"px"}else{if(vAlign===2){return parent.height()-target.height()+"px"}}}};var setFileName=function(name,mode){if(!name){return}if(mode&&mode==="inquiry"){var fileName=name.substring(name.lastIndexOf("/")+1);if(go.downloadUrl){var hyperlink=go.downloadUrl+"/download?filename="+value+"&attachment=true";var anchor=$("<a>").text(fileName).css({color:"#000000","text-decoration":"underline"}).appendTo(fileNameText);$(anchor).on("click touchstart",function(e){e.preventDefault();location.replace(hyperlink)})}else{$("<span>").text(fileName).appendTo(fileNameText)}focusDiv.remove()}else{if(value){name=name.substring(name.lastIndexOf("/")+1)}fileNameText.text(name)}fileNameText.css({"margin-top":getVerticalMargin(fileNameArea,fileNameText)}).css(value||field.value||field.file||(mode&&mode==="sharing")?textCss:(placeHolder?{color:"#BDBDBD"}:textCss));if(mode&&mode!=="placeHolder"){field.value=name}};var availRetry=function(){if(Util.browser.msie&&Util.browser.version>9){fileInput.replaceWith(fileInput=fileInput.clone(true))}else{fileInput.val("")}fileInput.focus()};var showMessage=function(e){dialog.show(R.get("not_support_file_append"),{inputHandler:function(){if(field.required&&field.required==="1"){field.required="0";if(requiredBox){requiredBox.remove()}}}})};var onAttach=function(e){var WEIGHT=1048576;var file=e.target.files[0];if(!file){return}var fullName=file.name,lastPoint=fullName.lastIndexOf("."),fileName=fullName.substring(0,lastPoint),fileExtension=fullName.substring(lastPoint+1).toUpperCase(),regExpression=regExp&&new RegExp(regExp);if(maxSize&&maxSize<(file.size/WEIGHT)){dialog.show((R.get("file_size_over")).replace("%d",maxSize),{inputHandler:availRetry});return}if(extensions&&extensions.indexOf(fileExtension)<0){dialog.show((R.get("wrong_file_extension")).replace("%s",extensions),{inputHandler:availRetry});return}if(regExpression&&!regExpression.test(fileName)){dialog.show((R.get("invalid_file_name")),{inputHandler:availRetry});return}field.file=file;field.value=fullName;field.determineEffect();setFileName(fullName);formManager.trigger("change",field.formId,field.id);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:fullName})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setFileName(fullName)}formManager.modified(field)};wrapper.addClass("crownix_form_field_file_wrapper");fileInput.attr({id:"crownix_form_field_input_file_"+formId+"_"+fieldId,name:fieldId,auth:inputAuthority,formname:formId,fieldtype:"file",}).css({opacity:"0",width:"0",height:"0","float":"left"}).appendTo(wrapper);button.css(textCss).css({height:wrapper.height()-2,display:"inline-block","color-adjust":"exact","float":"right","padding-left":".75em","padding-right":".75em","line-height":"normal","vertical-align":"middle",background:"-moz-linear-gradient(top, #ffffff 0%, #e5e5e5 100%)",background:"-webkit-linear-gradient(top, #ffffff 0%,#e5e5e5 100%)",background:"linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%)",filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff", endColorstr="#e5e5e5", GradientType=0)',"background-color":"rgba(255, 255, 255, 0)",border:"1px solid #8C8C8C"}).attr({id:"crownix_form_field_file_label_"+formId+"_"+fieldId,formid:formId,name:fieldId}).appendTo(wrapper);buttonText.appendTo(button).css({"margin-top":(button.height()/2)-(buttonText.height()/2)+"px",cursor:"default"});var fileNameAreaWidth=wrapper.width()-button.innerWidth()-6;fileNameArea.css(textCss).css({height:button.height(),width:fileNameAreaWidth+"px","text-align":hAlign?(hAlign-1?"right":"center"):"left","color-adjust":"exact",border:"1px solid #8C8C8C","float":"left","background-color":"rgba(255, 255, 255, 0)","margin-right":"1px","line-height":"normal","vertical-align":"middle",cursor:"default"}).attr({id:"crownix_form_field_file_name_"+fieldId,tabindex:"-1",}).addClass("crownix_form_field_file_name").appendTo(wrapper);if(fileNameAreaWidth<=0){fileNameArea.css("display","none")}fileNameText.attr("id","crownix_form_field_file_name_text_"+fieldId).addClass("crownix_form_field_file_name_text").css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}).appendTo(fileNameArea);focusDiv.css({position:"absolute",width:wrapper.width(),height:wrapper.height(),border:"0",top:"0",outline:"none"}).attr({tabindex:"-1",id:"crownix_form_field_"+formId+"_"+fieldId,name:fieldId,formname:formId,auth:inputAuthority,}).addClass("crownix_form_field_file").focus(function(){fileInput.focus()}).appendTo(wrapper);disableDiv.css({position:"absolute",left:fileNameArea.position().left+1,top:fileNameArea.position().top+1,width:fileNameArea.width(),height:fileNameArea.height(),}).addClass("crownix-formfield-disable").appendTo(wrapper).hide();if(self.formFieldMode){var common=formManager.getHintingColor(formId,fieldId)||"";var hintingBox;if(common!==""&&isDrawingTo.screen()){if(common.displayType==="2"){hintingBox=getCommonDiv(wrapper,common,1,fileNameArea.width(),fileNameArea.height(),fileNameArea,field)}else{hintingBox=getCommonDiv(wrapper,common,1,wrapper.width(),wrapper.height(),null,field);if(hintingBox){hintingBox.attr({name:fieldId,auth:inputAuthority,formname:formId}).css("background-color","rgba(255, 255, 255, 0)")}}}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";var requiredBox;if(self.formFieldMode&&reqColor!==""&&isDrawingTo.screen()){requiredBox=field.showRequiredMark(reqColor,wrapper);if(requiredBox){requiredBox.css("z-index","1")}}fileInput.on("change",onAttach);setFileName(field.value?field.value:(field.file?field.file.name:placeHolder),(!field.value&&!field.file)?"placeHolder":"normal");var editableMode=function(){disableDiv.hide();$('[id="crownix_form_field_file_label_'+formId+"_"+fieldId+'"]').removeClass("crownix-formfield-disable");if(window.FormData){button.on("click touchstart",function(e){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()){e.preventDefault()}if(noDefaultAction=="1"){e.preventDefault()}focusDiv.focus()});button.attr("for","crownix_form_field_input_file_"+field.formId+"_"+field.id);var bindEvent=function(){$('[id="crownix_form_field_'+field.formId+"_"+field.id+'"], [id="crownix_form_field_hintingbox"][name='+field.id+"][formname="+field.formId+"]").off();$('[id="crownix_form_field_'+field.formId+"_"+field.id+'"], [id="crownix_form_field_hintingbox"][name='+field.id+"][formname="+field.formId+"]").on("click touchend touchcancel",function(e){e.preventDefault();e.stopPropagation();button.click()})};if(hintingBox){preventField(formId,hintingBox)}bindEvent()}else{if(hintingBox&&common.displayType=="1"){preventField(formId,hintingBox);hintingBox.bind("click touchstart",showMessage)}else{focusDiv.on("click touchstart",showMessage)}FieldOrder.getInstance().removeField([{formId:formId,fieldId:fieldId}])}fileInput.bind("keydown",function(e){if(noDefaultAction=="1"&&(e.keyCode==13||e.keyCode==32)){e.preventDefault()}if(Util.browser.msie&&e.keyCode==13&&noDefaultAction!="1"){button.click()}})};var readonlyMode=function(){disableDiv.show();if(!button.hasClass("crownix-formfield-disable")){button.addClass("crownix-formfield-disable")}if(hintingBox){hintingBox.off("click touchstart")}focusDiv.off("click touchstart");FieldOrder.getInstance().removeField([{formId:this.formId,fieldId:this.id}])};if(!field.setFileName){field.setFileName=setFileName}if(!field.editableMode){field.editableMode=editableMode}if(!field.readonlyMode){field.readonlyMode=readonlyMode}field.editable&&field.editable==="0"?readonlyMode():editableMode()}else{button.remove();fileNameArea.css({width:wrapper.width()-2,"border-style":"none"});if(value){setFileName(value,"inquiry");var clip=$(Icon.FILE_CLIP),CLIP_SIZE=fileNameText.height();fileNameText.css({display:"inline-block","max-width":(fileNameArea.width()-CLIP_SIZE-5)+"px","vertical-align":"top"});clip.css({width:CLIP_SIZE,height:CLIP_SIZE,}).css("margin-top",getVerticalMargin(fileNameArea,clip)).prependTo(fileNameArea)}else{setFileName(R.get("no_attach_file"))}}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,fileInput)};var drawPenField=function(field,elementId,left,right,top,bottom,formId,fieldId,value,editable,hidden,required,placeHolder,backgroundText,textCss,element,fontList,textAttrList,inputAuthority,noDefaultAction,lineCount,textVAlign,wrapper){var dpr=window.devicePixelRatio||1,canvasWidth=right-left,canvasHeight=bottom-top;var canvas=$(document.createElement("canvas")).attr({id:elementId,width:canvasWidth*dpr+"px",height:canvasHeight*dpr+"px",formId:formId,name:fieldId,auth:inputAuthority});preventField(formId,canvas);if(self.formFieldMode&&field.editable==="0"){wrapper.addClass("crownix-formfield-disable-guide")}var ctx=canvas[0].getContext("2d");var image=new Image();var placeHolderSpan=null;var fontStyle=makeFontStyle(element,textAttrList,fontList);fontStyle.textBaseline=go.options.formField.guideAlignPen?textVAlign:"middle";fontStyle.adjustFontScale=true;fontStyle.originFontSize=fontStyle.fontSize;field.fontStyle=fontStyle;if(placeHolder){field.fontStyle.fillStyle="#CCCCCC"}var signature=new m2soft.crownix.FormField.Signature({},{width:canvasWidth,height:canvasHeight,guideText:placeHolder||backgroundText,guideTextStyle:field.fontStyle});var drawImageToCanvas=function(value){if(!value){return}image.src=value;image.onload=function(){ctx.drawImage(image,0,0,canvasWidth*dpr,canvasHeight*dpr)}};var self_=self;canvas.css({position:"absolute",width:canvasWidth+"px",height:canvasHeight+"px",margin:"0px",padding:"0px",border:"0px"}).bind("click tap",function(e){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();if(go.isOpenWindow){return}if(go.options.mirroring.enable&&((inputAuthority==="Host"&&go.mirroringManager.externalEvent.isSubProcess())||inputAuthority==="Client"&&!go.mirroringManager.externalEvent.isSubProcess())){FieldOrder.getInstance().setPreventMove(false);FieldOrder.getInstance().removePreventDom();go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:e.currentTarget.id,value:field.value,auth:inputAuthority,});return}if(noDefaultAction==="1"&&self.formFieldMode){var fieldOrder=FieldOrder.getInstance();fieldOrder.focus(elementId);fieldOrder.setPreventMove(false);return}if(!self_.formFieldMode||field.editable==="0"||this.className.indexOf("crownix-field-lock")>-1||this.className.indexOf("crownix-auth-lock")>-1){return}go.slide.closeSlide();var oldScrollEnabled=go.scroll.enabled;go.scroll.enable();var completeHandler=function(isDraw,value,signData){if(!oldScrollEnabled){go.scroll.disable()}if(go.fieldEffector){go.fieldEffector.start()}if(isDraw){field.value=value;field.signature=signData;formManager.trigger("change",field.formId,field.id);formManager.modified(field)}else{if(field.value&&signData&&signData.lines.length>=0){if(field.signature){field.setValue(field.getSignature());return}else{if(field.value){field.setValue(field.value);return}}}else{if(field.value){field.value=null;field.signature=null;formManager.trigger("change",field.formId,field.id);formManager.modified(field)}else{field.value=null;field.signature=null}}}if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.signature?field.getSignature():field.value})}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.setValue(field.formId,field.id,field.value);go.mirroringManager.externalEvent.sendEvent(field.formId,field.id,"change")}field.determineEffect()};var popupScrollPenWindow=function(){if(Util.browser.mobile){document.activeElement.blur()}var scrollPenWindow=ScrollPenWindow.getInstance(go);scrollPenWindow.show(field.formId,field.id,{parentId:"m2soft-crownix-container",isOverlay:true});if(go.shareManager&&go.shareManager.isConnected()){scrollPenWindow.bind("OnChangeValue",function(value){go.shareManager.onChangeSignValue(value)})}if(go.options.mirroring.enable){scrollPenWindow.bind("OnChangeValue",function(value){go.mirroringManager.externalEvent.onChangeSignValue(value)});scrollPenWindow.bind("OnClose",function(){go.mirroringManager.externalEvent.hideWindow()})}};var popupPenWindow=function(){if(go.options.formField.scrollPen.enable){return popupScrollPenWindow()}var penWindow=new PenWindow(go);var keyboardPenWindow=new KeyboardPenWindow(go);var layerScroll;if(field.layerId){for(var i=0,j=go.layerManager.layerList.length;i<j;i++){if(go.layerManager.layerList[i].type=="layer"&&go.layerManager.layerList[i].id==field.layerId){layerScroll=go.layerManager.layerList[i].scroll;break}else{if(go.layerManager.layerList[i].type=="layerGroup"&&go.layerManager.layerList[i].group[field.layerId]){layerScroll=go.layerManager.layerList[i].group[field.layerId].scroll;break}}}}go.isOpenWindow=true;if(!go.options.mirroring.enable&&go.options.formField.keyboardPen.enable&&(placeHolder||backgroundText)){keyboardPenWindow.show({currentField:wrapper,viewerScroll:viewerScroll,viewerCanvas:canvas,signature:signature,completeHandler:function(isCancel,value){if(isCancel){return}field.value=value;if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value})}},guideText:placeHolder||backgroundText});keyboardPenWindow.bind("OnClose",function(){go.isOpenWindow=false})}else{penWindow.show(wrapper,viewerScroll,canvas,completeHandler,layerScroll,lineCount,placeHolder,backgroundText,fontStyle,field.signature);if(go.shareManager&&go.shareManager.isConnected()){penWindow.bind("OnChangeValue",function(value){go.shareManager.onChangeSignValue(value)})}if(go.options.mirroring.enable){penWindow.bind("OnChangeValue",function(value){go.mirroringManager.externalEvent.onChangeSignValue(value)})}penWindow.bind("OnClose",function(){if(go.options.mirroring.enable){go.mirroringManager.externalEvent.hideWindow()}go.isOpenWindow=false})}};if(go.options.useNativeSign&&window.m2softFormFieldBridge.toPen){var guideString=placeHolder||backgroundText||"";if(guideString.length==0&&go.options.formField.checkPenGuideString){popupPenWindow()}else{var textCss=makeTextCss(element,(textAttrList[element.attr("tid")]||{}),fontList);var fontSize=Unit.ptToPx(parseInt(textCss["font-size"])||16);window.m2softFormFieldBridge.toPen(canvas.width(),canvas.height(),guideString,field.formId,field.id,fontSize)}}else{popupPenWindow()}if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendFocusOnField(field.formId,field.id)}if(go.options.mirroring.enable){go.mirroringManager.externalEvent.selectedField({formId:field.formId,fieldId:field.id,type:field.type,elementId:e.currentTarget.id,value:field.value,auth:inputAuthority,})}FieldOrder.getInstance().focus(field.elementId);if(go.fieldEffector){go.fieldEffector.stop()}}).appendTo(wrapper);if(backgroundText){signature.drawSignature(canvas[0],{guideTextImageData:true})}if(self.formFieldMode){var clickHandler=function(ev){ev.stopPropagation();ev.preventDefault();canvas.trigger(ev.type,ev)};var common=formManager.getHintingColor(formId,fieldId)||"";if(common!=""&&isDrawingTo.screen()){var hintingBox=getCommonDiv(wrapper,common,1,canvasWidth,canvasHeight,null,field);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}if(placeHolder&&!field.signature){signature.drawSignature(canvas[0],{guideTextImageData:true})}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";if(isDrawingTo.screen()){var hintingBox=field.showRequiredMark(reqColor,wrapper);if(hintingBox){hintingBox.attr("formId",formId);preventField(formId,hintingBox);hintingBox.bind("click tap",clickHandler)}}}if(field.signature||field.value||value){if(self.formFieldMode&&isDrawingTo.screen()){if(field.signature){field.setValue(field.getSignature())}else{if(field.value||value){field.setValue(field.value||value)}}}else{drawImageToCanvas(field.value||value)}}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}};var drawSubmit=function(left,right,top,bottom,formId,fieldId,text,textCss,editable,buttonImage,inputAuthority,wrapper){var submitButton=$('<button type="image"></button>');var textWrapper=$("<span>").text(text).css({cursor:"pointer","word-break":"break-all",}).on("click tap",function(ev){submitButton.focus()}).attr({id:fieldId+"_label","for":"crownix_form_field_"+formId+"_"+fieldId,});var btnInfo={button:submitButton,textWrapper:textWrapper,size:{width:right-left,height:bottom-top},position:{left:left,top:top}};var submit=self.formFieldMode?formManager.getSubmit(formId+"."+fieldId)||{}:{};if(submit.editable){editable=submit.editable}if(buttonImage.normalImage){submitButton.css({background:"none",filter:"none",border:"0px"});var normalImage=new Image();normalImage.onload=function(){submitButton.prepend(normalImage);applyImageSubmitButton(normalImage,btnInfo)};normalImage.src=buttonImage.normalImage;if(buttonImage.clickImage){var clickImage=new Image();clickImage.onload=function(){var fitSize=getFitSize(btnInfo.size,clickImage);$(clickImage).css({width:fitSize.width,height:fitSize.height,position:"absolute",top:"0px",left:"0px",});submitButton.bind(ActionEvents.start+" touchstart",function(){$(normalImage).hide();$(clickImage).show();applyImageSubmitButton(clickImage,btnInfo)}).bind(ActionEvents.end+" touchend",function(){$(clickImage).hide();$(normalImage).show();applyImageSubmitButton(normalImage,btnInfo)}).bind(ActionEvents.out,function(ev){if($(ev.toElement).parent("#"+fieldId).attr("id")!=fieldId){submitButton.trigger(ActionEvents.end)}}).prepend(clickImage);$(clickImage).hide()};clickImage.src=buttonImage.clickImage}}submitButton.append(textWrapper).addClass("crownix-dialog-button").addClass("crownix-dialog-button-action").attr({id:"crownix_form_field_"+formId+"_"+fieldId,formId:formId,fieldId:fieldId,auth:inputAuthority}).css(textCss).css({overflow:"hidden",padding:"0px",width:right-left+"px",height:bottom-top+"px",cursor:"pointer",}).bind(Util.browser.mobile?"tap":"click",function(ev){if(!self.formFieldMode||editable!="1"){return}submitButton.trigger("mouseout",ev);formManager.submit(ev)}).appendTo(wrapper);btnInfo.textWrapperOriginalSize=textWrapper.width();if(!self.formFieldMode||editable!="1"){submitButton.removeClass("crownix-dialog-button-action").attr("disabled",true)}setAuthority(inputAuthority,submitButton)};var drawRecorder=function(field,elementId,left,right,top,bottom,hAlign,vAlign,formId,fieldId,value,editable,required,hidden,textCss,inputAuthority,noDefaultAction,bitRate,sampleRate,recordTime,$wrapper){var $contentWrap=$("<div>");var $innerContents=$("<div>");var startColor="#ffffff";var endColor="#e5e5e5";var eventType={PRESS:Util.browser.mobile?"touchstart":"click"};var getTextAlign=function(){return hAlign?(hAlign-1?"right":"center"):"left"};var getVerticalMargin=function($parent,$target){if(vAlign===0){return 0}else{if(vAlign===1){return($parent.height()/2)-($target.height()/2)+"px"}else{if(vAlign===2){return $parent.height()-$target.height()+"px"}}}};var drawButton=function(){$contentWrap.attr({id:"crownix_form_field_"+formId+"_"+fieldId,tabindex:"-1",formid:formId,name:fieldId,auth:inputAuthority,});$contentWrap.css({border:"1px solid #8c8c8c",width:($wrapper.width()-2)+"px",height:($wrapper.height()-2)+"px","border-radius":"3px",background:"-moz-linear-gradient(top, "+startColor+"0%, "+endColor+" 100%)",background:"-webkit-linear-gradient(top, "+startColor+" 0%, "+endColor+" 100%)",background:"linear-gradient(to bottom, "+startColor+" 0%, "+endColor+" 100%)",filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="'+startColor+'", endColorstr="'+endColor+'", GradientType=0 )',"background-color":"rgba(255, 255, 255, 0)"});$innerContents.css({"line-height":$contentWrap.height()+"px","white-space":"nowrap"});$contentWrap.appendTo($wrapper);$innerContents.appendTo($contentWrap);var $icon=self.formFieldMode?$(Icon.RECORD_ICON):$(Icon.PLAY_ICON);var $buttonText=$("<span>").css(textCss).css("cursor","default");$buttonText.text(self.formFieldMode?R.get("record_ready_state"):R.get("play_request"));$icon.appendTo($innerContents);$buttonText.appendTo($innerContents);$icon.css({width:($buttonText.height()+5)+"px",height:($buttonText.height()+5)+"px","float":"left","margin-left":($contentWrap.width()/2-$buttonText.width()/2-($buttonText.height()+5)/2)+"px","margin-right":"1px"});$icon.css("fill",textCss.color);$buttonText.css({display:"inline-block",clear:"both"});$innerContents.css({top:(($contentWrap.height()/2)-($innerContents.height()/2))+"px",left:(($contentWrap.width()/2)-($innerContents.width()/2))+"px",overflow:"hidden"});$icon.css({"margin-top":(($innerContents.height()/2)-($icon.height()/2))+"px"})};if(self.formFieldMode){drawButton();var common=formManager.getHintingColor(formId,fieldId)||"";var hintingBox;if(common!==""&&isDrawingTo.screen()){if(common.displayType==="2"){$contentWrap.css("box-sizing","unset");hintingBox=getCommonDiv($wrapper,common,1,$contentWrap.width(),$contentWrap.height(),$contentWrap,field)}else{hintingBox=getCommonDiv($wrapper,common,1,$wrapper.width(),$wrapper.height(),null,field);if(hintingBox){hintingBox.attr({name:fieldId,auth:inputAuthority,formname:formId}).css("background-color","rgba(255, 255, 255, 0)");hintingBox.on(eventType.PRESS,function(e){$contentWrap.trigger(e)})}}}var reqColor=formManager.getRequiredHintingColor(formId,fieldId)||"";var requiredBox;if(self.formFieldMode&&reqColor!==""&&isDrawingTo.screen()){requiredBox=field.showRequiredMark(reqColor,$wrapper);if(requiredBox){requiredBox.css("z-index","1")}}if(!field.getEditable()){$wrapper.addClass("crownix-formfield-disable")}$contentWrap.on(eventType.PRESS,function(e){if($(this).parents("#m2soft-crownix-field-wrapper").hasClass("crownix-formfield-disable")||$(this).hasClass("crownix-quickfield-disable")){return}if(this.className.indexOf("crownix-field-lock")>-1||this.className.indexOf("crownix-auth-lock")>-1){return}formManager.trigger("click",field.formId,field.id);options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech();$contentWrap.focus();if(go.shareManager&&go.shareManager.isConnected()){go.shareManager.sendFocusOnField(field.formId,field.id)}FieldOrder.getInstance().focus(elementId);if(noDefaultAction=="1"){return}if(value||field.value){var BODY_MAX_WIDTH=600;var BODY_MAX_HEIGHT=160;var $recordButton=$("<button>");var $playButton=$("<button>");var windowBody=$('<div class="crownix-audio-window-body">').css({width:BODY_MAX_WIDTH+"px",height:BODY_MAX_HEIGHT+"px","background-color":"white","text-align":"center"});$recordButton.appendTo(windowBody);$playButton.appendTo(windowBody);$recordButton.css("display","none");$playButton.css("display","none");$recordButton.on(eventType.PRESS,function(e){if(go.nativeInterface.recordStart){go.nativeInterface.recordStart(field,function(){formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value})}field.determineEffect()});playWindow.close()}else{go.dialog.show(R.get("record_no_mobile"))}});var windowOptions={css:{"max-width":BODY_MAX_WIDTH+"px","max-height":(BODY_MAX_HEIGHT+36)+"px"}};var playWindow=new m2soft.crownix.Window("",windowBody,{isOverlay:true,buttonType:["close"],useResizeHandler:true});var $windowContent=playWindow.content;var audioPlayer;var $backButton=$('<button id="test-btn">');$backButton.addClass("crownix-audio-button-group");$backButton.css({position:"absolute",left:"0",cursor:"pointer",width:"40px",height:"20px","margin-top":"5px"});$backButton[0].innerHTML=Icon.BACK;$backButton.on("click",function(){$recordButton.css("display","inline-block");$playButton.css("display","inline-block");$(this).css("display","none");$("#audio-control-container").css("display","none")});if(window.Uint8Array){$playButton.on(eventType.PRESS,function(e){if(!field.isAttached()&&!go.downloadUrl){go.dialog.show(R.get("record_play_fail"));return}$recordButton.css("display","none");$playButton.css("display","none");if(audioPlayer){$("#audio-control-container").css("display","inline-block")}else{audioPlayer=new m2soft.crownix.AudioPlayer(go,$windowContent[0],field.formId,field.id)}$backButton.appendTo(playWindow.windowFrame.children(".crownix-window-header"));$backButton.css("display","inline-block");if(field.isAttached()){audioPlayer.loadFile(field.file)}else{if(go.downloadUrl){var url=go.downloadUrl+"/download?filename="+value+"&attachment=true";audioPlayer.load(url)}}})}else{var fileName=value.substring(value.lastIndexOf("/")+1);var hyperlink=go.downloadUrl+"/download?filename="+value+"&attachment=true";var anchor=$("<a download>").appendTo(windowBody);$(anchor).on("click touchstart",function(e){e.preventDefault();e.stopPropagation();location.replace(hyperlink)});$playButton.on(eventType.PRESS,function(e){if(!go.downloadUrl){e.preventDefault();e.stopPropagation();go.dialog.show(R.get("record_play_fail"))}else{$(anchor).click()}})}playWindow.show(windowOptions,function(){var BODY_WIDTH=playWindow.windowFrame.children(".crownix-window-body").width();var BODY_HEIGHT=playWindow.windowFrame.children(".crownix-window-body").height();var BUTTON_WIDTH=BODY_WIDTH*0.35;var BUTTON_HEIGHT=BODY_HEIGHT*0.5;var VERTICAL_MARGIN_VALUE=BUTTON_HEIGHT*0.5;var HORIZONTAL_MARGIN_VALUE=(BODY_WIDTH-(BUTTON_WIDTH*2))/4;var commonCss={"font-family":"Helvetica","font-weight":"bold","font-size":"1em",width:BUTTON_WIDTH+"px",height:BUTTON_HEIGHT+"px",outline:"none","margin-top":VERTICAL_MARGIN_VALUE+"px",display:"inline-block"};$recordButton.text(R.get("record_request"));$recordButton.css(commonCss).css({border:"1px solid #cd0025","background-color":"#cd0025","border-radius":"5px",color:"#ffffff","margin-left":HORIZONTAL_MARGIN_VALUE+"px","margin-right":(HORIZONTAL_MARGIN_VALUE/2)+"px"});$playButton.text(R.get("play_request"));$playButton.css(commonCss).css({border:"1px solid #cd0025","background-color":"#ffffff","border-radius":"5px",color:"#cd0025","margin-left":(HORIZONTAL_MARGIN_VALUE/2)+"px","margin-right":(HORIZONTAL_MARGIN_VALUE)+"px"})})}else{if(go.nativeInterface.recordStart){go.nativeInterface.recordStart(field,function(){formManager.trigger("change",field.formId,field.id);formManager.modified(field);if(go.shareManager){go.shareManager.sendFormField({formId:field.formId,fieldId:field.id,value:field.value})}field.determineEffect()})}else{go.dialog.show(R.get("record_no_mobile"))}}})}else{if(value){drawButton();if(window.Uint8Array){var BODY_MAX_WIDTH=600;var BODY_MAX_HEIGHT=160;var windowBody=$('<div class="crownix-audio-window-body">').css({width:BODY_MAX_WIDTH+"px",height:BODY_MAX_HEIGHT+"px","background-color":"white","text-align":"center"});var windowOptions={css:{"max-width":BODY_MAX_WIDTH+"px","max-height":(BODY_MAX_HEIGHT+36)+"px"}};var playWindow=new m2soft.crownix.Window("",windowBody,{isOverlay:true,buttonType:["close"],useResizeHandler:true});var $windowContent=playWindow.content;$wrapper.on(eventType.PRESS,function(e){if(!go.downloadUrl){go.dialog.show(R.get("record_play_fail"));return}playWindow.show(windowOptions,function(){var audioPlayer=new m2soft.crownix.AudioPlayer(go,$windowContent[0],field.formId,field.id);if(go.downloadUrl){var url=go.downloadUrl+"/download?filename="+value+"&attachment=true";audioPlayer.load(url)}})})}else{var fileName=value.substring(value.lastIndexOf("/")+1);var hyperlink=go.downloadUrl+"/download?filename="+value+"&attachment=true";var anchor=$("<a download>").appendTo($wrapper);$(anchor).on("click touchstart",function(e){e.preventDefault();e.stopPropagation();location.replace(hyperlink)});$wrapper.on(eventType.PRESS,function(e){if(!go.downloadUrl){e.preventDefault();e.stopPropagation();go.dialog.show(R.get("record_play_fail"))}else{$(anchor).click()}})}}else{var $recordNoFile=$("<div>");$recordNoFile.appendTo($wrapper).text(R.get("record_no_file")).css(textCss).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"});$wrapper.css("text-align",getTextAlign());$recordNoFile.css("margin-top",getVerticalMargin($wrapper,$recordNoFile))}}if(self.formFieldMode&&field.commonHidden==="1"){field.hide()}setAuthority(inputAuthority,$contentWrap)};var applyImageSubmitButton=function(image,btnInfo){var imageObj=$(image);var fitSize=getFitSize(btnInfo.size,{width:imageObj.width(),height:imageObj.height()});imageObj.css({width:fitSize.width,height:fitSize.height,position:"absolute",top:"0px",left:"0px",});var newButtonPosition={};newButtonPosition.left=btnInfo.position.left+(btnInfo.size.width-fitSize.width)/2;newButtonPosition.top=btnInfo.position.top+(btnInfo.size.height-fitSize.height)/2;btnInfo.button.css(fitSize);btnInfo.button.css(newButtonPosition);btnInfo.textWrapper.width("");var textPositionLeft=(fitSize.width-btnInfo.textWrapperOriginalSize)/2;if(btnInfo.textWrapperOriginalSize>fitSize.width){textPositionLeft=0;btnInfo.textWrapper.css({width:fitSize.width})}btnInfo.textWrapper.css({"margin-left":textPositionLeft,position:"absolute",top:"0px",left:"0px",});setTimeout(function(){var textPositionTop=(fitSize.height-btnInfo.textWrapper.height())/2;btnInfo.textWrapper.css({"margin-top":textPositionTop,})},0)};var drawNormalButton=function(left,right,top,bottom,text,textCss,buttonImage,eventHandlers,wrapper){var button=$('<button type="image"></button>');var textWrapper=$("<span>").text(text).css({cursor:"pointer","word-break":"break-all",}).on("click tap",function(ev){button.focus()});var btnInfo={button:button,textWrapper:textWrapper,size:{width:right-left,height:bottom-top},position:{left:left,top:top}};if(buttonImage.normalImage){button.css({background:"none",filter:"none",border:"0px"});var normalImage=new Image();normalImage.onload=function(){button.prepend(normalImage);applyImageSubmitButton(normalImage,btnInfo)};normalImage.src=buttonImage.normalImage;if(buttonImage.clickImage){var clickImage=new Image();clickImage.onload=function(){var fitSize=getFitSize(btnInfo.size,clickImage);$(clickImage).css({width:fitSize.width,height:fitSize.height,position:"absolute",top:"0px",left:"0px",});button.bind(ActionEvents.start+" touchstart",function(){$(normalImage).hide();$(clickImage).show();applyImageSubmitButton(clickImage,btnInfo)}).bind(ActionEvents.end+" touchend",function(){$(clickImage).hide();$(normalImage).show();applyImageSubmitButton(normalImage,btnInfo)}).bind(ActionEvents.out,function(ev){button.trigger(ActionEvents.end)}).prepend(clickImage);$(clickImage).hide()};clickImage.src=buttonImage.clickImage}}button.attr("id","m2soft-crownix-normal-button").append(textWrapper).addClass("crownix-dialog-button").addClass("crownix-dialog-button-action").css(textCss).css({overflow:"hidden",padding:"0px",width:right-left+"px",height:bottom-top+"px",cursor:"pointer",}).bind(Util.browser.mobile?"tap":"click",function(ev){button.trigger("mouseout",ev);if(eventHandlers&&eventHandlers.click){eventHandlers.click(viewerAPI,drilldownAPI,undefined,formAPI)}}).appendTo(wrapper);textWrapperOriginalSize=textWrapper.width()};var drawNormalCombo=function(field,left,right,top,bottom,selectedValue,textCss,displayValues,actualValues,eventHandlers,placeholder,paddingLeft,wrapper){var select=$(document.createElement("select"));if(field.selectedIndex!==undefined){selectedValue=field.selectedIndex==-1?"":displayValues[field.selectedIndex]}select.attr("id","m2soft-crownix-normal-combo").css(textCss).css({width:right-left+"px",height:bottom-top+"px",margin:"0px",padding:"0 0 0 "+paddingLeft+"px",}).bind("change",function(){if(eventHandlers&&eventHandlers.change){eventHandlers.change(viewerAPI,drilldownAPI,select.val(),formAPI)}field.value=select.val();var selectedOption=select.find("option:selected");field.selectedIndex=select.find("option").index(selectedOption)-1}).appendTo(wrapper);if(Util.browser.android){select.css("background-color","transparent")}var notSelected=$('<option value="" style="color:gray">').text(placeholder).appendTo(select);for(var i=0;i<displayValues.length;i++){var option=$("<option>").attr("value",actualValues[i]).text(displayValues[i]).appendTo(select);if(selectedValue==displayValues[i]){option.attr("selected","selected")}}};var getFitSize=function(containerSize,contentSize){var targetRatioWidth=containerSize.width/contentSize.width;var targetRatioHeight=containerSize.height/contentSize.height;var effectiveRatio=Math.min(targetRatioWidth,targetRatioHeight);return{width:contentSize.width*effectiveRatio,height:contentSize.height*effectiveRatio}};var getPlaceholderBox=function(left,top,right,bottom){var placeHolderContainer=$("<div>").css({position:"absolute",left:left+"px",top:top+"px",width:right-left+"px",height:bottom-top+"px",margin:"0px",padding:"0px",border:"0px","text-align":"center","line-height":(bottom-top)+"px"});var placeHolderSpan=$("<span>").attr("id","crownix_form_field_placeholder").addClass("placeholder").appendTo(placeHolderContainer);return placeHolderContainer};var setAuthority=function(inputAuthority,dom){if(!go.options.mirroring.enable){return}if(inputAuthority==="Host"&&go.mirroringManager.externalEvent.isSubProcess()){dom.addClass("crownix-auth-lock");if((dom[0].tagName==="INPUT"&&dom[0].type!=="checkbox"&&dom[0].type!=="radio"&&dom[0].type!=="file")||dom[0].tagName==="TEXTAREA"){dom.attr("readonly",true)}else{dom.attr("disabled",true)}}else{if(inputAuthority==="Client"&&!go.mirroringManager.externalEvent.isSubProcess()){dom.addClass("crownix-auth-lock");if((dom[0].tagName==="INPUT"&&dom[0].type!=="checkbox"&&dom[0].type!=="radio"&&dom[0].type!=="file")||dom[0].tagName==="TEXTAREA"){dom.attr("readonly",true)}else{dom.attr("disabled",true)}}}};var createPopup=function(popupData,field,$textDom){var option=["scrollbars=no","resizeable=yes","menubar=no","toolbar=yes","width="+popupData.width,"height="+popupData.height,"top="+popupData.top,"left="+popupData.left].join(", ");if(go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()){var cxMirroringOverlay=$("<div>").addClass("crownix-overlay").appendTo("body");var mirroringPopupName="crownix-mirroring-popup";var popupFrame=$('<iframe id="crownix-popup-'+field.id+'" class="crownix-popup" name="'+mirroringPopupName+'">').attr("src",popupData.url).css({position:"absolute",top:popupData.top+"px",left:popupData.left+"px",background:"white",width:popupData.width!=="0"?popupData.width:"50%",height:popupData.height!=="0"?popupData.height:"50%"}).appendTo("body");popupFrame.on("load",function(){window.external.SetComponentToField(mirroringPopupName)});popupFrame.on("DOMNodeRemoved",function(){cxMirroringOverlay.remove()})}else{window.open(popupData.url,"crownix_popup_"+field.id,option)}window.cxOpener=cxOpener(field.formId,$textDom)};m2soft.crownix.Painter.updatePageNum=function(options){var textDom=$("#"+Constant.TEXT_ID),currentPage=go.currentPage;if(options){if(options.textDom!=undefined){textDom=options.textDom}if(options.currentPage!=undefined){currentPage=options.currentPage}}textDom.find(".crownix-pagenum").each(function(){var formatType=$(this).attr("format-type");var format=$(this).attr("pagenum-format");$(this).text(Util.formatPageNumber(format,go.report.getPageInfo(currentPage,formatType)))})};this.drawNoteToCanvas=function(svg,canvas){var paths=$(svg).find("path");var ctx=canvas.getContext("2d");paths.each(function(){var el=$(this),path=el.attr("d"),color=el.attr("stroke"),opacity=el.attr("stroke-opacity"),width=el.attr("stroke-width"),linecap=el.attr("stroke-linecap"),linejoin=el.attr("stroke-linejoin"),seperator=path.indexOf("L")>-1?"L":"l",pointSeperator=path.indexOf(",")>-1?",":" ";var line=path.split(seperator);ctx.save();ctx.beginPath();ctx.strokeStyle=color;ctx.lineWidth=parseInt(width)*1.3;ctx.globalAlpha=opacity;ctx.lineCap=linecap;ctx.lineJoin=linejoin;if(line[0][0]=="M"||line[0][0]=="M"){var movePoint=$.trim(line[0].substring(1)).split(pointSeperator);ctx.moveTo(parseInt(movePoint[0]),parseInt(movePoint[1]))}for(var i=1;i<line.length;i++){var p=$.trim(line[i]).split(pointSeperator);ctx.lineTo(parseInt(p[0]),parseInt(p[1]))}ctx.stroke();ctx.restore()})};this.drawPage=function(page,head,callback,drawMedia_,offset_,margin_,withoutClear_,isFloatingLayer){if(!withoutClear_){cxCanvas.clear()}var fontList=head.fontList,textAttrList=head.textAttrList,lineAttrList=head.lineAttrList,faceAttrList=head.faceAttrList,indexedImageList=head.indexedImageList;drawMedia=drawMedia_||"d";if(offset_){offset=offset_}if(margin_!=undefined){margin=margin_}cxCanvas.setOffset(offset);var getLineAttr=function(element){var lineAttr=lineAttrList[element.attr("lid")];return lineAttr&&applyPriorityToLineAttr(element,lineAttr)};var getFaceAttr=function(element){var faceAttr=faceAttrList[element.attr("fid")];return faceAttr&&applyPriorityToFaceAttr(element,faceAttr)};var imageLoader=new m2soft.crownix.ImageLoader({asyncOnAllLoad:!!go.options.showPageLoadingOverlay});var drawObject=function(element){var elementName=element.prop("tagName").toUpperCase();var exceptList=element.attr("ect");if(exceptList&&exceptList.indexOf(drawMedia)>-1){elementName==="IM"&&imageLoader.nextImage();return}var lineAttr=getLineAttr(element);var faceAttr=getFaceAttr(element);if(elementName==="LN"){drawLine(element,lineAttr)}else{if(elementName==="RA"){drawRect(element,lineAttr,faceAttr)}else{if(elementName==="TL"){if(go.textOnCanvas){drawTextToCanvas(element,fontList,textAttrList);if(element.attr("hl")||element.attr("hi")){drawText(element,fontList,textAttrList)}}else{drawText(element,fontList,textAttrList)}}else{if(elementName==="SC"){drawScribble(element,lineAttr)}else{if(elementName==="LL"){drawPolyLine(element,lineAttr)}else{if(elementName==="PO"){drawPolygon(element,lineAttr,faceAttr)}else{if(elementName==="EP"){drawEllipse(element,lineAttr,faceAttr)}else{if(elementName==="DM"){drawDiamond(element,lineAttr,faceAttr)}else{if(elementName==="PL"){drawParallelogram(element,lineAttr,faceAttr)}else{if(elementName==="HH"){drawHexaheron(element,lineAttr,faceAttr)}else{if(elementName==="RR"){drawRoundeRect(element,lineAttr,faceAttr)}else{if(elementName==="CY"){drawCylinder(element,lineAttr,faceAttr)}else{if(elementName==="CV"){drawCurve(element,lineAttr)}else{if(elementName==="IM"){drawImage(element,imageLoader.nextImage())}else{if(elementName==="FF"){drawFormField(element,fontList,textAttrList)}else{if(elementName==="CT"){drawChart(element)}else{if(elementName==="CL"||elementName==="LY"){drawLayer(element)}else{if(elementName==="TG"){drawGrid(element,isFloatingLayer,fontList,textAttrList)}}}}}}}}}}}}}}}}}}};var onDrawObject=function(){if(drawMedia==="p"){m2soft.crownix.Painter.updatePageNum({textDom:viewerTextDom,currentPage:parseInt(page.attr("no")),})}else{m2soft.crownix.Painter.updatePageNum()}if(callback!==null){callback()}};if(go.options.scrollOptions.useInfiniteScroll&&drawMedia==="d"){var images=[];var objectArray=[];var traverse=function(element){var children=element.children();if(children.length>0){for(var i=0,length=children.length;i<length;i++){var element=$(children[i]);var elementName=element.prop("tagName").toUpperCase();objectArray.push(children[i]);if(elementName==="PR"||elementName==="TB"||elementName==="TE"||elementName==="FC"||elementName==="SO"||elementName==="SG"||elementName==="IL"||elementName==="CA"||elementName==="SL"){traverse(element)}}}};traverse(page);var taskID=parseInt($(canvasDom).parent().attr("no"))||$(canvasDom).parent().parent().attr("class");var renderTask=go.pageRenderer.getRenderTask(taskID);objectArray.map(function(object,index){if(object.nodeName==="IM"||object.nodeName==="im"){images.push(object)}renderTask.add(drawObject,$(object))});renderTask.add(onDrawObject,null);renderTask.add(function(){if(!GuideManager.getInstance(go).getWindow()||GuideManager.getInstance(go).isEnabled){GuideManager.getInstance(go).show()}},null);imageLoader.loadImage(images,indexedImageList,renderTask.start)}else{imageLoader.loadImage(page,indexedImageList,function(){var traverse=function(element){var children=element.children();if(children.length>0){for(var i=0,length=children.length;i<length;i++){var element=$(children[i]);var elementName=element.prop("tagName").toUpperCase();drawObject(element);if(elementName==="PR"||elementName==="TB"||elementName==="TE"||elementName==="FC"||elementName==="SO"||elementName==="SG"||elementName==="IL"||elementName==="CA"||elementName==="SL"){traverse(element)}}}};traverse(page);onDrawObject()})}};this.useAdjustLetterSpace=function(use){useAdjustLetterSpace=use};this.useAdjustCharacterScale=function(use){useAdjustCharacterScale=use};this.updatePage=function(){for(var i=0;i<updateCallback.length;i++){if(typeof updateCallback[i]==="function"){updateCallback[i]()}}};this.setUpdatePageCallback=function(func){updateCallback.push(func)};this.setFormFieldMode=function(formFieldMode){this.formFieldMode=formFieldMode};this.clearPage=function(){cxCanvas.clear()};this.createFormFields=function(report){var totalPage=report.getTotalPage()-report.getRemovedPage().length;for(var pageNo=1;pageNo<=totalPage;pageNo++){var head=report.getHeadForPage(pageNo);var page=$(report.getPage(pageNo));var fontList=head.fontList,textAttrList=head.textAttrList;page.children().each(function(){var elementName=this.tagName.toUpperCase();if(elementName==="FF"&&$(this).attr("ty")){drawFormField($(this),fontList,textAttrList)}})}}};m2soft.crownix.Painter.adjustWidth=function(a){if(typeof a==="undefined"||a==0.5||a==1){return 1}else{if(a==0){return 0}else{if(a>0){return a*2-1}else{return 1}}}};m2soft.crownix.Painter.applyPriorityToFaceAttr=function(a,d){var c=a.attr("fc");var f=a.attr("pt");var e=a.attr("al");if(c||f||e){var b=$.extend({},d);c&&(b.fc=c);f&&(b.pt=f);e&&(b.al=e);return b}else{return d}};m2soft.crownix.Painter.applyPriorityToLineAttr=function(c,b){var a=c.attr("lc");var e=c.attr("wd");var d=c.attr("st");var g=c.attr("ap");if(a||e||d||g){var f=$.extend({},b);a&&(f.lc=a);e&&(f.wd=m2soft.crownix.Painter.adjustWidth(e));d&&(f.st=d);g&&(f.ap=g);return f}else{return b}};m2soft.crownix.Painter.adjustCoord=function(a,b,c,d){if(c==null||c==undefined){c=24.3}if(!b){b=0}var e=Math.floor(a/10.3+c)+(b%2===0?0:0.5);if(d&&d!=1){e-=((e*d)%1)/d}return e};m2soft.crownix.Painter.reverseAdjustCoord=function(a){return Math.floor(a*10.3)};m2soft.ns("m2soft.crownix.Inquery");m2soft.crownix.Inquery=(function(){var j=m2soft.crownix.Resource;var c=m2soft.crownix.Util;var B=m2soft.crownix.FormDialog;var k=m2soft.crownix.Message;var aj=m2soft.crownix.DateParser;var f=m2soft.crownix.Constant;var ar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REQ2QTZFQjI2NUNDMTFFNEE3MTM4OTE2QTA5QUUwODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REQ2QTZFQjM2NUNDMTFFNEE3MTM4OTE2QTA5QUUwODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERDZBNkVCMDY1Q0MxMUU0QTcxMzg5MTZBMDlBRTA4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERDZBNkVCMTY1Q0MxMUU0QTcxMzg5MTZBMDlBRTA4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoPHgkcAAADwSURBVHjaYviPAb5u3fomOxtI/scBsCpgBGIGVPAqPBzCEFu5kgEbwKqABYj/vX//fc+enydO/HnyBE0zXA8coCl4V1zMbmHB6eICMghoytc1axjIAkC7/4D1ggyCmCJQW8umo4PffkwA1PWhuRloAhNcCG4KT3w8s6gokMSlGVkBXBcosCEBgdVygmEEV8PEQCXAgl+aYBjBAQ1c9Hn2bOoYxJuaSp4RwGRIy8BGzkfEsKkf2FQziEDKJgZAtI+GEeEwQrjo15UrZJgC1wVy0ZfFi79t2UKJv7h8fFggFCMHB6TwJzlnyMhACn+AAAMATZTDsO74jnoAAAAASUVORK5CYII=";var ae;var al;var aa;var W;var C;var s;var E="";var z="";var ad="";var J;var N;var P;var M="yyyy/MM/dd HH:mm:ss";var A=0;var ai;var am=function(){ae.parent().append('<div class="crownix-inquery-overlay" id="iOverlay">&nbsp;</div>');$(".crownix-inquery-overlay").css("height","100%").css("width","100%").fadeIn(100);ae.parent().append('<div class="crownix-inquery-outer"></div>');$(".crownix-inquery-outer").append('<div class="crownix-inquery-inner" id="inquery-inner"></div>');$(".crownix-inquery-inner").append('<div class="crownix-inquery-title"></div>');$(".crownix-inquery-outer").fadeIn(200)};var aq=function(){$(".crownix-inquery-inner").append('<div class="crownix-inquery-scroll" id="inquery-scroll"></div>');$(".crownix-inquery-scroll").append('<hr class="scroll-area" />');for(var az in C){var ax="iq"+az;var aw=C[az];$("<div>").attr("id",ax).addClass("iqitem").appendTo(".crownix-inquery-scroll");$("<div>").attr("class","iqCaption").appendTo(F(ax)).text(aw.ca);if(aw.ty=="co"){var au="";if(aw.il=="1"){au="  readonly"}$(F(ax)).append('<input id="tb'+az+'" type="text" class="iqCombo iqInput"'+au+'/><div id="arrow'+az+'" class="selectArrow"></div>');$(F(ax)).append('<select id="'+az+'" class="iqSelect" '+(aw.mu=="1"?"multiple":"")+"></select>");$(F(ax)).append('<input id="save'+az+'" type="hidden" />');ao(aw);S(aw);q(aw);D(aw)}else{if(aw.ty=="tf"){$(F(ax)).append('<input id="tb'+az+'" type="text" class="iqCombo" />');S(aw)}else{if(aw.ty=="ca"){var ay=$("<div>").css("position","relative").appendTo(F(ax));ay.append('<input id="tb'+az+'" type="text" class="iqCombo iqInput" />');ay.append('<input id="date'+az+'" type="text" style="font-size: 1px; border: 0px; height: 0px"/>');ay.append('<input id="ca'+az+'" type="hidden" />');h(aw);K(aw);ag(aw)}}}var at=F("tb"+az);if(aw.ty=="co"){$(at).val(ap(az,W[az],aw.mu));$(F("save"+az)).val(W[az]&&aw.mu=="1"?W[az].replace(/\'/g,""):W[az])}else{if(aw.ty=="ca"){var av=l(aw.ac,W[az],ab(aw.cl),aw.sc,M);$(F("date"+az)).val(av).change()}else{$(at).val(W[az])}}A++;T(aw)}$(".crownix-inquery-scroll").append('<hr class="scroll-area" style="margin-top: 10px"/>');$(".crownix-inquery-inner .crownix-inquery-title").append(j.get("insert_inquery_condition").replace("%d",A));r()};var T=function(aw){var av=$(".selectArrow").filter(F("arrow"+aw.id));var at=$(".iqSelect").filter(F(aw.id));var au=$(".iqInput").filter(F("tb"+aw.id));if(m2soft.crownix.Resource.language=="en"){$(".crownix-inquery-inner .crownix-inquery-title").css({"font-size":"9pt","padding-left":"15px"})}if(c.os.windows&&c.browser.safari){$(".iqSelect").css({"margin-top":"0px"})}if(c.browser.mobile||aw.ty!="co"){au.css("position","absolute");at.css({width:"258px",height:"27px","padding-right":"18px",border:"none",background:"transparent",display:"inline-block",opacity:0,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)","-moz-opacity":0,"-khtml-opacity":0,});av.css({position:"absolute","margin-left":"240px","margin-top":"10px"});if(c.browser.android&&aw.mu==="1"){var ay=$("<div>").addClass("selectAll").text("All").insertAfter(av);$(F("tb"+aw.id)).css({width:"185px","padding-right":(ay.width()+10)+"px"});ay.on("click",{id:aw.id},function(aA){if(!$(F(aA.data.id)).data("select_all")){$(F(aA.data.id)).data("select_all",true);$(F(aA.data.id)+" option").prop("selected",true)}else{$(F(aA.data.id)).data("select_all",false);$(F(aA.data.id)+" option").prop("selected",false)}var az=[];at.find("option:selected").text(function(aB){if($(this).attr("select_all")){return}az.push($(this).text())});$(F("tb"+aA.data.id)).val(az.join(","))})}}else{$(".crownix-inquery-scroll").css("position","static");at.css({position:"absolute","z-index":100});var ax=function(az){if(aw.mu==="1"&&$(az.originalEvent.target).is("option, select")){return}$(".iqSelect").hide();$("body").off("click",ax);$(".crownix-inquery-scroll").off("scroll",ax)};av.on("click",function(az){az.stopPropagation();if(at.css("display")=="none"){ax(az);at.attr("size",Math.min(at.children().length==1?2:at.children().length,10));at.css("display","block").css("top",au.position().top+au.outerHeight(true));at.focus();$("body").on("click",ax);$(".crownix-inquery-scroll").on("scroll",ax)}else{at.hide()}})}};var r=function(){var av,au;if(A>4&&$(".crownix-inquery-overlay").width()>600){$(".scroll-area").css({width:"580px","float":"left"});$(".crownix-inquery-scroll").css({width:"560px"});$(".iqitem").css({width:"50%","float":"left",height:"60px"});var at=Math.ceil(A/2);av=60*at+16;au=av+100;$(".crownix-inquery-outer").css({width:"580px","margin-left":"-300px"})}else{$(".crownix-inquery-scroll").css({width:"288px"});$(".iqitem").css({width:"","float":"",height:"43px"});av=55*A+16;au=av+100;$(".crownix-inquery-outer").css({width:"308px","margin-left":"-150px"})}$(".crownix-inquery-outer").css("height",au+"px");$(".crownix-inquery-outer").css("max-height","50%");au=$(".crownix-inquery-outer").height();if(au>226){$(".crownix-inquery-outer").css("min-height","226px")}else{$(".crownix-inquery-outer").css("min-height","171px")}$(".crownix-inquery-outer").css("max-height",$(".crownix-inquery-outer").height()+"px");$(".crownix-inquery-scroll").css("height",$(".crownix-inquery-outer").height()-100+"px");$(".crownix-inquery-outer").css({"margin-top":$(".crownix-inquery-outer").height()/-1.8+"px"})};var S=function(au){var at=$(F("tb"+au.id));at.on("change input keyup",function(av){av.preventDefault();av.stopPropagation();if(av.type=="input"||av.type=="keyup"){if(au.ty==="co"){V(au)}else{b(au)}}ac(au)})};var V=function(aw){var au=$(F("tb"+aw.id)),ay=$(F("save"+aw.id));$(F(aw.id)).data("selectedIdx",0);var aA=au.val();var az=ay.val();$(F(aw.id)+" option").prop("selected",false);if(aw.mu==="1"){var av=aA.split(",");for(var at=0;at<av.length;at++){$(F(aw.id)+" option:contains("+av[at]+")").prop("selected","selected")}}else{$(F(aw.id)+" option:contains("+aA+")").prop("selected","selected")}if(typeof az!="undefined"&&aA!=""&&aA!=az){var ax=g(aw.id,aA,aw.mu);if(ax.length){W[aw.id]=aw.mu==="1"?"'"+ax.replace(/\,/g,"','")+"'":ax;ay.val(aA);X(aw.id)}}};var b=function(au){var at=$(F("tb"+au.id));W[au.id]=at.val();X(au.id)};var ac=function(au){if(au.rq!="1"){return}var at=$(F("tb"+au.id));if(at.val()==""){at.css({color:"#4D3838",background:"#D37979"})}else{at.css({color:"initial",background:"#fff"})}};var q=function(at){$(F(at.id)).change(function(aw){aw.preventDefault();aw.stopPropagation();var av=[];var ax=[];var au;if(at.mu==="1"&&$(this).find("option:selected").index()==0&&!c.browser.android){if($(this).data("select_all")){if(!c.browser.mobile){au=false}}else{au=true}if(au==undefined){au=false;$(this).data("select_all",au);$(F(at.id)+" option:eq(0)").prop("selected",au)}else{$(F(at.id)+" option").prop("selected",au);$(this).data("select_all",au)}}if(at.mu==="1"&&$(this).data("select_all")&&$(this).find("option:selected").index()!=0&&c.browser.ios){$(this).data("select_all",false);$(F(at.id)+" option").prop("selected",false)}$(this).find("option:selected").text(function(ay){if($(this).attr("select_all")){return}av.push($(this).text());ax.push($(this).val())});$(F(at.id)).data("selectedIdx",$(this)[0].selectedIndex);if(at.mu==="1"){W[$(this).attr("id")]=ax.length>0?"'"+ax.join("','")+"'":ax}else{W[$(this).attr("id")]=ax.length>0?ax[0]:""}$(F("tb"+$(this).attr("id"))).val(av.join(",")).change();X(at.id);if(c.browser.ios){$(this).blur()}})};var D=function(at){$(F("tb"+at.id)).on("focusout",function(au){au.preventDefault();au.stopPropagation();var ax=$(F("tb"+at.id)).val();var aw=$(F("save"+at.id)).val();if(ax!=""&&ax!=aw){var av=g(at.id,ax,at.mu);if(av.length){W[at.id]=av;$(F("save"+at.id)).val(ax);Z(at.id)}}})};var Z=function(aw){for(var av in C){var au=C[av];var at=au.pv;if(av!=aw&&au.ty=="co"&&(typeof at!="undefined")&&at.indexOf(aw)>-1){$(F(av)).empty();if(au.an!=="0"){$(F(av)).append('<option value=""></option>')}}}};var K=function(at){$(F("date"+at.id)).on("change",function(ay){var az=at.sc;var av=at.ac;var ax=$(F("date"+at.id)).val();var au=ab(at.cl);if(ax.length>0){var aw=new Date(aj.getDateFromFormat(M,ax,au));$(F("tb"+at.id)).val(aj.formatDate(az,aw,au));$(F("tb"+at.id)).css({color:"initial",background:"#fff"});$(F("ca"+at.id)).val(aj.formatDate(av,aw,au))}})};var ag=function(at){$(F("tb"+at.id)).on("change input keyup",function(aw){var ax=at.sc;var au=$(F("date"+at.id)).val();var av=$(F("tb"+at.id)).val();var ay=at.cl;if((at.rq=="1"&&av==0)||!L(au,ax,av,ay)){$(F("tb"+at.id)).css({color:"#4D3838",background:"#D37979"})}else{$(F("tb"+at.id)).css({color:"initial",background:"#fff"})}})};var L=function(at,aw,av,ax){if(av.length==0){return true}var au=t(at,aw,av,ab(ax),M);return aj.isDate(M,au,ab(ax))};var ab=function(au){var at=au;if(au.indexOf("english")>-1){at="en"}else{if(au.indexOf("korean")>-1){at="ko"}else{if(au.indexOf("japanese")>-1){at="ja"}else{if(au.indexOf("chinese")>-1){at="zh-CN"}}}}return at};var h=function(au){var at=N.calendarComboStartYear,av=N.calendarComboEndYear;$(F("date"+au.id)).crownixdatepicker({dateFormat:M,showOn:"button",buttonImage:ar,buttonImageOnly:true,onClose:function(ax,aw){$(this).attr("disabled",false)},beforeShow:function(aw,ax){$(this).attr("disabled",true)},changeMonth:N.useCalendarComboBox,changeYear:N.useCalendarComboBox,showButtonPanel:true,yearRange:(at||av)?at+":"+av:"c-10:c+10"})};var Y=function(){$(".crownix-inquery-inner").append('<div class="iButtons"></div>');$(".iButtons").append('<button value="ok">'+j.get("ok_button_text")+"</button>");$(".iButtons").append('<button value="cancel">'+j.get("cancel_button_text")+"</button>");$(".crownix-inquery-outer").keydown(function(at){if($(".crownix-inquery-overlay").is(":visible")){if(at.keyCode==13){$('.iButtons > button[value="ok"]').click()}if(at.keyCode==27){$('.iButtons > button[value="cancel"]').click()}}});$('.iButtons > button[value="ok"]').click(function(){var az=false;var aD="";for(var au in C){var aF=C[au];var aw=F("tb"+au);if(aF.rq=="1"){if($(aw).val()==""){$(aw).change();aD+="["+(aF.ca!=""?aF.ca:aF.id)+"]";az=true}}if(aF.ty=="ca"){var av=aF.sc;var aE=$(F("date"+aF.id)).val();var aB=$(F("tb"+aF.id)).val();var ax=aF.cl;if(!L(aE,av,aB,ax)){$(this).blur();al.show(j.get("inquery_calendar_format_error"));az=true}else{if(aB.length>0){var av=aF.sc;var ay=aF.ac;var aA=ab(aF.cl);var aC=$(F("tb"+aF.id)).val();var aE=$(F("date"+aF.id)).val();var at=t(aE,av,aC,aA,ay);$(F("ca"+aF.id)).val(at)}}}}ah(function(aG){if(aG){u(az,aD)}})});$('.iButtons > button[value="cancel"]').click(function(){$(".crownix-inquery-overlay").hide();$(".crownix-inquery-outer").hide()})};var ah=function(at){if(P.isAllowedFeature("FormField")&&J){$(this).blur();al.show(j.get("inquery_formfield_reset"),{type:"confirm",inputHandler:function(au){if(au){if((P.isAllowedFeature("Note")&&N.enableNote)&&c.isSupportSVG()){al.show(j.get("inquery_note_reset"),{type:"confirm",inputHandler:function(av){at(av)}})}else{at(true)}}}})}else{if(((P.isAllowedFeature("Note")&&N.enableNote)&&c.isSupportSVG())){$(this).blur();al.show(j.get("inquery_note_reset"),{type:"confirm",inputHandler:function(au){if(au){if(P.isAllowedFeature("FormField")&&J){al.show(j.get("inquery_formfield_reset"),{type:"confirm",inputHandler:function(av){at(av)}})}else{at(true)}}}})}else{return at(true)}}};var u=function(aw,au){if(aw){if(au.length>0){$(this).blur();al.show(j.get("submit_fail_not_filled_required_form")+"<br />"+au)}}else{for(var ay in C){var at=$(F("tb"+ay)).val();var ax=$(F(ay)).data("selectedIdx")?an(ay):g(ay,at,C[ay].mu);if(at.length>0&&typeof ax!="undefined"){at=ax}if(typeof $(F("ca"+ay)).val()!="undefined"){at=$(F("ca"+ay)).val()}if(C[ay].mu=="1"&&at){var av=$(F(ay)).attr("type");if(av<2||av>7){at="'"+at.replace(/\,/g,"','")+"'"}}W[ay]=at}$(".crownix-inquery-overlay").hide();$(".crownix-inquery-outer").hide();if(ai>3){ad=I()}else{G();n()}N.isInquery=true;s(E,z,N)}};var t=function(av,az,ay,at,au){var aw=new Date(aj.getDateFromFormat(M,av,at));var ax=new Date(aj.getDateFromFormat(az,ay,at,aw));return aj.formatDate(au,ax,at)};var an=function(aw){if(!$(F(aw))[0]){return}var au=[];var at=$(F(aw))[0].options;for(var av=0;av<at.length;av++){if(at[av].selected){au.push(at[av].value)}}return au.join(",")};var g=function(ax,av,au){var at=[];var aw=au=="1"?av.split(","):"";$(F(ax)).find("option").text(function(){if(au=="1"){if(aw.indexOf($(this).text())!=-1){at.push($(this).val())}}else{if(av===$(this).text()&&!at.length){at.push($(this).val())}}});if(!at.length&&av){at.push(av)}return at.join(",")};var ap=function(az,ay,aw){var av="";var au=$(F(az)).find("option");if(au.length){av=au.filter(function(aA){if(!ay){return false}if(aw=="1"){var aB=ay.replace(/\'/g,"").split(",");return aB.indexOf($(this).val())!=-1}else{return ay===$(this).val()}})}if(!av.length){if(ay&&aw=="1"){av=ay.replace(/\'/g,"");return av}return ay}else{var at=[];for(var ax=0;ax<av.length;ax++){at.push($(av[ax]).text())}return at.join(",")}};var I=function(){var aw=["/rp "];var au=["/rv"];var at;var ax=0;for(var ay in W){if(ay.indexOf("$")==0){ax=Math.max(ax,Number(ay.replace("$","")))}else{au.push(" "+ay+"["+W[ay]+"]")}}for(var av=1;av<=ax;av++){if(typeof W["$"+av]!="undefined"){aw.push("["+W["$"+av]+"]")}else{aw.push("[]")}}at=(aw.length>1?aw.join(""):"")+" "+(au.length>1?au.join(""):"");return at};var G=function(){var av=["/rp "];var at=["/rv"];var aw=0;for(var ax in W){if(ax.indexOf("$")==0){aw=Math.max(aw,Number(ax.replace("$","")))}else{at.push(" "+ax+"["+W[ax]+"]")}}for(var au=1;au<=aw;au++){if(typeof W["$"+au]!="undefined"){av.push("["+W["$"+au]+"]")}else{av.push("[]")}}if(z.match(/\/rp\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g)!==null){z=z.replace(/\/rp\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g,av.join(""))}else{z=z.concat(" ",av.length>1?av.join(""):"")}if(z.match(/\/rv\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g)!==null){z=z.replace(/\/rv\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g,at.join(""))}else{z=z.concat(" ",at.length>1?at.join(""):"")}};var n=function(){var at=z.match(/\B\/rdonotreport(ex|)\s*(\[[^\]]*\])/g);if(at!==null){at=at.toString();E=at.substring(at.indexOf("[")+1,at.indexOf("]"));z=z.replace(/\B\/rdonotreport(ex|)\s*(\[[^\]]*\])/g,"")}else{z=z.replace(/\B\/rdonotreport(ex|)\b/g,"")}};var X=function(aw){for(var av in C){var au=C[av];var at=au.pv;if(av!=aw&&au.ty=="co"&&(typeof at!="undefined")&&at.indexOf(aw)>-1){ao(au)}}};var ao=function(aB){if(aB.db==0){if(typeof aB.sp==="undefined"){H(aB)}else{d(aB)}}else{if(aB.db==1){var ax=aB.ad.split(aB.se);var at=aB.sd.split(aB.se);var au=(aB.an!=="0")?'<option value=""></option>':"";var az=aB.mu==="1"?c.browser.android?[]:["<option select_all=false>"+j.get("select_all")+"</option>"]:[au];for(var ay=0;ay<ax.length;ay++){var aw="";if(W[aB.id]){var aA=aB.mu==="1"?W[aB.id].replace(/\'/g,"").split(","):W[aB.id];for(var av=0;av<aA.length;av++){if(aA[av]==ax[ay]){aw=" selected"}}}az.push('<option value="'+ax[ay]+'"'+aw+">"+at[ay]+"</option>")}$(F(aB.id)).append(az.join(""))}}};var H=function(au){var at={opcode:106,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",RDFile:"viewer.rdf",RDClient:"RD.Viewer",ComName:"HTML5Viewer",RDParam:"viewer.rdf",charset:"UTF-8",checkcache:0,checkcachedate:0,cachedate:0,service:au.ds,encsql:1,charset:"UTF-8",queryinfo:1,selectquery:au.qr,inquery:JSON.stringify(W),};$.ajax({type:"POST",url:aa,data:af(at),async:false,success:function(av,ax,aw){ak(aw,au)},error:function(aw,ax,av){U(aw,ax,av)},complete:function(av){a(av)}})};var d=function(av){var au={opcode:112,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",RDFile:"viewer.rdf",RDClient:"RD.Viewer",ComName:"HTML5Viewer",RDParam:"viewer.rdf",charset:"UTF-8",service:av.ds,encsql:1,charset:"UTF-8",queryinfo:1,spname:av.sp,vcount:av.pa.length,inquery:JSON.stringify(W),};var at=$.ajax({type:"POST",url:aa,data:af(au)+m(av),async:false,success:function(aw,ay,ax){ak(ax,av)},error:function(ax,ay,aw){U(ax,ay,aw)},complete:function(aw){a(aw)}})};var ak=function(av,at){if(Q(av)){return}var au=w(av);$(F(at.id)).empty();$(F(at.id)).append(O(au,at));$(F(at.id)).attr("type",au[0].type);if(!$(F(at.id)).find("option:selected").attr("selected")){$(F(at.id)).prop("selectedIndex",-1)}if(!c.browser.android&&at.mu==="1"&&$(F(at.id)).find("option:selected").length==$(F(at.id)).find("option").length-1){$(F(at.id)).data("select_all",true);$(F(at.id)+" option:eq(0)").prop("selected",true)}};var Q=function(at){if(at.responseText.indexOf("0")===0){$(this).blur();al.show(at.responseText.replace("0|",""));k.progress.hide(ae);return true}return false};var w=function(az){var aw=az.responseText.split("\n");if(aw[0]!="1|1008|0"){$(this).blur();al.show(j.get("request_server_error"));k.progress.hide(ae);return}var aA=aw[1];var ay={};for(var av=0;av<aA;av++){var au=aw[2+av].split("|");ay[av]={name:au[0],type:au[1],size:au[2],data:[],}}if(aw[2+Number(aA)]!="1|1008|0"){$(this).blur();al.show(j.get("request_server_error"));k.progress.hide(ae);return}var ax=aw[Number(aA)+3].split("|");for(var av=0;av<ax.length-1;av=av+Number(aA)){for(var at=0;at<aA;at++){ay[at].data.push(ax[av+at])}}return ay};var O=function(aw,aG){var aE=Object.keys(aw).length;var at=[];var aA=[];var av=(aG.an!=="0")?'<option value=""></option>':"";var aD=aG.mu==="1"?c.browser.android?[]:["<option select_all=false>"+j.get("select_all")+"</option>"]:[av];var aC=aG.ad.toUpperCase();var au=aG.sd.toUpperCase();var aB;for(var az=0;az<aE;az++){aB=aw[az].name.toUpperCase();if(aC==aB||aC.replace(/.*\./,"")==aB){aA=aw[az].data}if(au==aB||au.replace(/.*\./,"")==aB){at=aw[az].data}}for(var az=0;az<aA.length;az++){var ay="";if(W[aG.id]){var aF=aG.mu==="1"?W[aG.id].replace(/\'/g,"").split(","):W[aG.id];for(var ax=0;ax<aF.length;ax++){if(aF[ax]==aA[az]){ay=" selected"}}}aD.push('<option value="'+aA[az].replace(/\s+$/,"")+'"'+ay+">"+at[az].replace(/\s+$/,"")+"</option>")}return aD.join("")};var U=function(au,av,at){$(this).blur();if(av=="error"){al.show(j.get("server_connect_error"))}else{if(av=="timeout"){al.show(j.get("request_timeout_error"))}else{if(av=="abort"){al.show(j.get("request_abort_error"))}else{if(at!=null){al.show(at)}}}}k.progress.hide(ae)};var a=function(av){var at=av.getResponseHeader("RDID");var au={opcode:99,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",rdid:"-"+at,};$.ajax({type:"POST",url:aa,data:af(au),async:false,})};var af=function(at){var au=[];for(var av in at){au.push(encodeURIComponent(av)+"="+encodeURIComponent(at[av]))}return au.join("&")};var m=function(at){var au=["&"];for(var av in at.pa){au.push("colval="+encodeURIComponent(at.pa[av]))}return au.join("&")};var F=function(at){at=at.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&");return"#"+at};var l=function(az,ax,au,aw,at){var ay=aj.getDateFromFormat(az,ax,au,undefined,undefined,true);if(ay==0){return aj.formatDate(at,new Date(),au)}var av=new Date(ay);return aj.formatDate(at,av,au)};var e;e=function(){ae=$("#"+f.CONTAINER_ID);al=new B("#"+f.CONTAINER_ID)};e.prototype={constructor:m2soft.crownix.InqueryDialog,setData:function(aC,az,aA,au,ay,ax,av,aB,aw,at){aa=aC;W=az;C=aA;s=au;E=ay;z=ax;J=av;N=aB;P=aw;ai=at;if(A!==0){A=0;$(".crownix-inquery-overlay").remove();$(".crownix-inquery-outer").remove()}},show:function(){if($(".crownix-inquery-outer").length>0){r();$(".crownix-inquery-overlay").fadeIn(100);$(".crownix-inquery-outer").fadeIn(200)}else{k.progress.show(ae,"",function(){am();aq();Y();k.progress.hide(ae)})}},getMrdPlainParam:function(){return ad}};return e}());m2soft.ns("m2soft.crownix.ShapeEditor");m2soft.crownix.ShapeEditor=function(e,s){var f=m2soft.crownix.Util;var N=m2soft.crownix.util.Unit;var m=m2soft.crownix.Resource;var H=m2soft.crownix.TextDialog;var b=m2soft.crownix.Util.ActionEvents;var h=m2soft.crownix.Constant;var t=3;var M={},d={},C={},l={},aa={},g={},V={},A={},W=false,j=[],J={stroke:"#000000","stroke-width":"2pt","stroke-opacity":1,"stroke-linecap":"round","stroke-linejoin":"round",},P=1,ab=null,O={},L={},S=96;s=s,isFocus=focusing=moving=false;var q;var E=function(aj,af){if(aj.length==0){return""}var ah=$("<note>"),ai;for(var ag=0,ae=aj.length;ag<ae;ag++){var ak=aj[ag];if(af&&af.length&&af.indexOf(ak.tool)!=-1){continue}if(ak.type!="text"){ai=$("<element>").attr({type:ak.tool,svgType:ak.type,path:ak.getPath?ak.getPath().toString():ak.path,"stroke-color":ak.attrs?ak.attrs.stroke:ak.stroke,"stroke-opacity":ak.attrs?ak.attrs["stroke-opacity"]:ak["stroke-opacity"],"stroke-width":ak.attrs?ak.attrs["stroke-width"]:ak["stroke-width"],"stroke-linecap":ak.attrs?ak.attrs["stroke-linecap"]:ak["stroke-linecap"],"stroke-linejoin":ak.attrs?ak.attrs["stroke-linejoin"]:ak["stroke-linejoin"],"page-no":ak["page-no"]}).appendTo(ah)}else{ai=$("<element>").attr({type:ak.tool,svgType:ak.type,x:ak.x,y:ak.y,width:ak.width,height:ak.height,"font-color":Raphael.color(ak["font-color"]).hex,"font-size":Math.round(N.pxToPt(parseInt(ak["font-size"]))),"text-anchor":ak["text-anchor"],"font-weight":ak["font-weight"],"font-style":ak["font-style"],"text-decoration":ak["text-decoration"],line:ak["stroke-width"]==0?false:true,fill:ak.opacity==0?"transparent":ak.fill,opacity:ak.opacity,"page-no":ak["page-no"]}).text(ak.text).appendTo(ah)}}return ah[0].outerHTML};var w=function(af,ae){var ah=$(af),ai=[];var ag=function(ak){var aj=Raphael.getRGB(ak);return"rgb("+aj.r+", "+aj.g+", "+aj.b+")"};ah.children().each(function(){var aj=$(this);if(ae&&ae.length&&ae.indexOf(aj.attr("type"))!=-1){return true}if(aj.attr("type")!="text"){ai.push({type:aj.attr("svgType"),tool:aj.attr("type"),path:aj.attr("path"),stroke:aj.attr("stroke-color"),"stroke-opacity":aj.attr("stroke-opacity"),"stroke-width":aj.attr("stroke-width"),"stroke-linecap":aj.attr("stroke-linecap"),"stroke-linejoin":aj.attr("stroke-linejoin"),"page-no":aj.attr("page-no")})}else{ai.push({type:aj.attr("svgType"),tool:aj.attr("type"),x:parseInt(aj.attr("x")),y:parseInt(aj.attr("y")),width:parseInt(aj.attr("width")),height:parseInt(aj.attr("height")),text:aj.text(),"font-color":ag(aj.attr("font-color")),"font-size":Math.round(N.ptToPx(parseInt(aj.attr("font-size"))))+"px","text-anchor":aj.attr("text-anchor"),"font-weight":aj.attr("font-weight")=="bold"?aj.attr("font-weight"):parseInt(aj.attr("font-weight")),"font-style":aj.attr("font-style"),"text-decoration":aj.attr("text-decoration"),"stroke-width":aj.attr("line")=="true"?2:0,fill:aj.attr("fill")=="transparent"?"#FAF4C0":aj.attr("fill"),opacity:aj.attr("opacity")||(aj.attr("fill")=="transparent"?0:1),"page-no":aj.attr("page-no")})}});return ai};var T=function(ae){var ai={},af=[],ag="scribble";this.start=function(ak,am){W=true;af.push(["M",ak,am]);if(ae){var al=ae.context;al.beginPath();al.moveTo(ak,am)}else{L.beginPath();L.moveTo(ak,am)}};this.move=function(ak,am){W=true;af.push(["L",ak,am]);if(ae){var al=ae.context;al.clearRect(0,0,$(ae.canvas).width(),$(ae.canvas).height());al.lineTo(ak,am);al.stroke()}else{L.clearRect(0,0,O.width(),O.height());L.lineTo(ak,am);L.stroke()}};var ah=function(){for(var al=0;al<af.length;al++){var am=af[al];for(var ak=0;ak<am.length;ak++){if(am[ak]==="M"||am[ak]==="L"){continue}if(isNaN(am[ak])){return true}}}return false};var aj=function(){if(ae){var ak=ae.context;ak.closePath();ak.clearRect(0,0,$(ae.canvas).width(),$(ae.canvas).height())}else{L.closePath();L.clearRect(0,0,O.width(),O.height())}};this.end=function(ak){if(af.length>2){if(ah()){aj();W=false;af=[];alert(m.get("invalid_note_path"));return}af[0][0]="M";var am=ae?(ae.paper.path(af)):(d.path(af));ai=am.attr(J);ai.type="path";ai.realId=ai.id;ai.tool="scribble";if(ae){ai["page-no"]=ae["page-no"]}j.push(ai);if(!ak){var al={action:"scribble",element:ai};if(ae){al.paper=ae.paper}V.add(al);if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"scribble",xml:E([ai]),id:ai.id})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"scribble",xml:E([ai]),id:ai.id,pageNo:s.currentPage})}}aj()}W=false;af=[]};this.getName=function(){return ag}};var Z=function(ae){var ak,aj,ah,ag,ai=false,af="eraser";this.start=function(al,am){ak=ah=al;aj=ag=am};this.move=function(al,am){ah=al;ag=am};this.end=function(av,al){if(Math.abs(ah-ak)<5&&Math.abs(ag-aj)<5){for(var an=j.length-1;an>=0;an--){var ao=j[an];if(ao&&ao.type!="text"){if(ao.isInsidePath(ah,ag,S)){j.splice(an,1);if(!av){var ar={action:"erase",element:ao};if(ae){ar.paper=ae.paper}V.add(ar);if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"erase",xml:E([ao]),id:ao.id})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"erase",xml:E([ao]),id:ao.id,pageNo:s.currentPage})}}if(d.clear){d.clear()}else{s.noteManager.clearAllPaper()}for(var am=0,au=j.length;am<au;am++){var ap=j[am];var aq;var at=ap.type;if(at!="text"){var aw=(d[at]||ap.paper[at]);aq=aw.call(ap.paper).attr(ap.attrs);aq.realId=ap.id;aq.tool=aq.tool}else{X(ap)}}break}}else{if(al&&al.indexOf("text")!=-1){return}ao=k(ak,aj,(ae&&ae["page-no"]));if(ao){if(j[an]==ao.element){j.splice(an,1);if(!av){var ar={action:"erase",element:ao};if(ae){ar.paper=ae.paper}V.add(ar);if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"erase",xml:E([ao.element]),elementType:"text"})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"erase",xml:E([ao.element]),elementType:"text",pageNo:s.currentPage})}}I();break}}}}}};this.getName=function(){return af}};var ad=function(av){var af="text",ap,ao,at,aq,ai=newObj=rectEl=textEl=null,aj=isHResize=tapped=isDoubleClicked=false;var ae=null;var ag=function(aw,ay,ax){aw=Math.max(aw,0);ay=Math.max(ay,0);aw=Math.min(aw,M.width()-ax.width());ay=Math.min(ay,M.height()-ax.height());return{x:aw,y:ay}};var au=function(){return{left:(newObj.offset().left-((av&&av.container)||M).offset().left)/P,top:(newObj.offset().top-((av&&av.container)||M).offset().top)/P}};var ah=function(ay,aA){var az=aA.css("text-align");if(az=="right"){az="end"}else{if(az=="center"){az="middle"}else{if(az=="left"){az="start"}}}var ax={x:ay.parentNode?ay.parentNode.offsetLeft:ay.x,y:ay.parentNode?ay.parentNode.offsetTop:ay.y,width:ay.parentNode?$(ay.parentNode).width():ay.width,height:ay.parentNode?$(ay.parentNode).height():ay.height,"font-size":ay.parentNode?aA.css("font-size"):Math.round(parseFloat(aA.css("font-size"))),text:aA.val(),"font-weight":parseInt(aA.css("font-weight")),"font-style":aA.css("font-style"),"text-decoration":aA.attr("text-decoration"),"font-color":aA.val()?aA.css("color"):aA[0].style.color,"stroke-width":aA.attr("border")=="solid #000000"?2:0,fill:aA.attr("background-color")&&aA.attr("background-color")!="transparent"?aA.attr("background-color"):"#FAF4C0",opacity:aA.attr("opacity")?aA.attr("opacity"):1,"text-anchor":az};if(av){ax["page-no"]=ay["page-no"]||av["page-no"]}var aw=X(ax);var aB=Y(aw.textEl,aw.rectEl);if($(ay.parentNode).hasClass("crownix-note-textnote")){$(ay.parentNode).remove()}return aB};var al=function(aw){for(var ay=j.length-1;ay>=0;ay--){if(j[ay]==ai.element){I(ay)}}var ax=ai.element["text-anchor"];if(ax=="end"){ax="right"}else{if(ax=="middle"){ax="center"}else{ax="left"}}aw.css({color:ai.element["font-color"],"font-size":ai.element["font-size"],"font-weight":ai.element["font-weight"],"font-style":ai.element["font-style"],"text-align":ax,"text-decoration":ai.element["text-decoration"],border:ai.element["stroke-width"]==0?"none":"solid #000000",});aw.attr({border:ai.element["stroke-width"]==0?"none":"solid #000000","background-color":ai.element.fill,opacity:ai.element.opacity,"text-decoration":ai.element["text-decoration"]});if(av){aw.attr("page-no",av["page-no"])}aw.val(ai.element.text)};var an=function(ay){if(s.shareManager&&s.shareManager.isConnected()){if(!f.browser.mobile||f.browser.mobile&&ai){var aw;if(ai){aw=E([ai.element])}s.shareManager.sendNote({type:"text",xml:E([ay]),oldXml:aw,})}}if(s.options.mirroring.enable){if(!f.browser.mobile||f.browser.mobile&&ai){var aw;if(ai){aw=E([ai.element])}s.mirroringManager.externalEvent.sendDraw({type:"text",xml:E([ay]),oldXml:aw,pageNo:s.currentPage})}}if(ai){for(var ax=j.length-1;ax>=0;ax--){if(j[ax].type=="text"){if(ai&&JSON.stringify(j[ax])==JSON.stringify(ai.element)){j[ax]=ay}}}I();V.getHistory().forEach(function(az){if(az.element&&az.element.type=="text"){if(JSON.stringify(az.element)==JSON.stringify(ai.element)){az.element=ay}}})}else{j.push(ay);V.add({action:"text",element:ay})}};var ar=function(aw,aA){var az=false;if(s.shareManager&&s.shareManager.isConnected()){var ax;if(ai){ax=E([aA])}s.shareManager.sendNote({type:"text",xml:E([aw]),oldXml:ax,})}if(s.options.mirroring.enable){var ax;if(ai){ax=E([aA])}s.mirroringManager.externalEvent.sendDraw({type:"text",xml:E([aw]),oldXml:ax,pageNo:s.currentPage})}V.getHistory().forEach(function(aB){if(aB.element.type=="text"){if(JSON.stringify(aB.element)==JSON.stringify(aA)){aB.element=aw;az=true}}});if(!az&&!ai){j.push(aw)}for(var ay=j.length-1;ay>=0;ay--){if(j[ay].type=="text"){if(JSON.stringify(j[ay])==JSON.stringify(aA)){j[ay]=aw;az=true}}}I()};var am=function(aw){aw.preventDefault();aw.stopPropagation();s.scroll.enabled=false;if(f.browser.mobile){$(aw.currentTarget).blur()}else{if(!isFocus){(q||av.textDialog).showToolbar(aw.currentTarget,(av&&av.container||M));isFocus=true}}};var ak=function(aw){if(focusing){if(f.browser.msie){$(aw.currentTarget).focus()}focusing=false;return}aw.preventDefault();aw.stopPropagation();isFocus=false;s.scroll.enabled=true;var ax=ah(aw.currentTarget,$(aw.currentTarget));an(ax);if(f.browser.mobile){(q||av.textDialog).showDialog(aw.currentTarget,ax)}s.toolbar.enable();if(!ae){ae=setTimeout(function(){ae=null},300)}};this.init=function(){var aw=(av&&av.textNoteDom)||newObj;if(aw){aw.css("border","none")}isHResize=aj=isDoubleClicked=moving=false;if(av&&av.textNoteDom){av.textNoteDom=null}else{newObj=null}};this.start=function(ax,ay){ap=ax;ao=ay;ai=k(ap,ao,(av&&av["page-no"]));if(!ai){if(ae){return}newObj=$("<div>").addClass("crownix-note-textnote").appendTo(((av&&av.container)||M));if(s.options.textNote){newObj.css({width:Math.min(s.options.textNote.width?s.options.textNote.width:newObj.width(),M.width()),height:Math.min(s.options.textNote.height?s.options.textNote.height:newObj.height(),M.height())});var aw=ag(ap-newObj.width()/2,ao-newObj.height()/2,newObj);newObj.css({left:aw.x,top:aw.y})}else{newObj.css({left:ag(ap,ao,newObj).x,top:ag(ap,ao,newObj).y})}}else{aj=ai.isWResize;isHResize=ai.isHResize;newObj=$("<div>").addClass("crownix-note-textnote").appendTo(((av&&av.container)||M));newObj.css({left:ai.element.x,top:ai.element.y,width:ai.element.width,height:ai.element.height});if(!tapped){tapped=setTimeout(function(){tapped=null},300)}else{clearTimeout(tapped);tapped=null;isDoubleClicked=true}}if(av){av.textNoteDom=newObj}};this.move=function(aw,az){var ay,ax;at=aw;aq=az;moving=true;if(av&&av.textNoteDom){newObj=av.textNoteDom}if(newObj==null){return}newObj.css("border","dotted #FFC19E");if(!ai){if(s.options.textNote||(f.browser.android&&Math.abs(at-ap)<=5&&Math.abs(aq-ao)<=5)){return}if(at>ap){newObj.css({width:at-ap})}else{newObj.css({left:at,width:ap-at,})}if(aq>ao){newObj.css({height:aq-ao})}else{newObj.css({top:aq,height:ao-aq})}}else{if(aj||isHResize){if(at>ai.element.x){at=Math.min(((av&&av.container)||M).width(),at);ay=aj?newObj.width()+at-ap:newObj.width();$(newObj).css({width:ay})}else{at=Math.max(at,0);ay=ai.element.x-ap;if(aj){$(newObj).css({left:at,width:ay,})}}if(aq>ai.element.y){aq=Math.min(((av&&av.container)||M).height(),aq);ax=isHResize?newObj.height()+aq-ao:newObj.height();$(newObj).css({height:ax})}else{aq=Math.max(aq,0);ax=ai.element.y-ao;if(isHResize){$(newObj).css({top:aq,height:ax})}}}else{ay=au().left+at-ap;ax=au().top+aq-ao;$(newObj).css({left:ag(ay,ax,newObj).x,top:ag(ay,ax,newObj).y});if(newObj.offset().left<=0&&((av&&av.container)||M).offset().left<=0){s.scroll.scrollTo(s.scroll.x+5*P,s.scroll.y,1000)}if(newObj.offset().top<=s.toolbar.getHeight()&&((av&&av.container)||M).offset().top<=s.toolbar.getHeight()){s.scroll.scrollTo(s.scroll.x,s.scroll.y+5*P,1000)}if(s.scroll.wrapperWidth-5<=newObj.offset().left+newObj.width()*P){s.scroll.scrollTo(s.scroll.x-5*P,s.scroll.y,1000)}if(s.scroll.wrapperHeight-5<=newObj.offset().top+newObj.height()*P){s.scroll.scrollTo(s.scroll.x,s.scroll.y-5*P,1000)}}ap=at;ao=aq}};this.end=function(){var ax=(av&&av.textNoteDom)||newObj;if(!ax){return}var aw=$("<textarea>").attr("placeholder",m.get("text_placeholder")).bind("focus",am).bind("blur",ak).appendTo(ax);s.toolbar.disable();if(ai){al(aw);if(isDoubleClicked){aw.focus()}else{if(f.browser.mobile){var ay=ah(aw[0],$(aw[0]));an(ay);s.toolbar.enable()}else{aw.blur()}}}else{aw.focus()}this.init()};this.getName=function(){return af};this.textareaToSvg=function(ay,aw){var ax=ah(ay,aw);ar(ax,ay)};this.redrawElement=function(){I()}};var Q=function(aj,ae){var am=aj.data("text").split("\n"),af=[],ai="";for(var ah=0,ag=am.length;ah<ag;ah++){if(!am[ah]){af.push(am[ah]);continue}while(am[ah]){aj.attr("text",am[ah]);var al=aj.getBBox().width/aj.attr("text").length;var ak=Math.max(1,Math.floor(ae/Math.ceil(al)));af.push(am[ah].substring(0,ak));am[ah]=am[ah].substring(0+ak,am[ah].length)}}for(var ah=0,ag=af.length;ah<ag;ah++){ai+=af[ah];if(!af[ah]){ai+=" "}if(ah<ag-1){ai+="\n"}}return ai};var X=function(ao,an){var ag=an?an:d;if(s.options.mirroring.enable&&s.options.mirroring.excludeNoteType.indexOf("text")!=-1){ag=Raphael(document.createElement("div"),M.width(),M.height())}if(ag.rect===undefined){var ae=ao["page-no"];var ap=s.noteManager.noteElementMap[ae];ag=ap.paper}var ak=ag.rect(ao.x,ao.y,ao.width,ao.height).attr({fill:ao.fill,opacity:ao.opacity,"stroke-width":ao["stroke-width"]});var af=ag.text(0,0,ao.text).attr({"text-anchor":ao["text-anchor"],"font-size":Math.round(parseFloat(ao["font-size"]))+"px","font-weight":ao["font-weight"],"font-style":ao["font-style"],fill:ao["font-color"],"clip-rect":[ao.x,ao.y,ao.width,ao.height].join(" ")}).data("text",ao.text);if(ao.text){af.attr("text",Q(af,ao.width-t*2))}af.attrs["page-no"]=ao["page-no"];af.attrs["text-decoration"]=ao["text-decoration"];$(af.node).css({"text-decoration":ao["text-decoration"],}).append(" ");$(af.node).children().css("white-space","pre");var ai=af.getBBox(),al=ao.x+t,aj=ao.y+ai.height/2+t,am=ao.width-t*2,ah=ao.height-t*2;if(af.attr("text-anchor")=="middle"){al+=am/2}else{if(af.attr("text-anchor")=="end"){al+=am}}af.attr({x:al,y:aj});ag.path(["M",ao.x+ao.width-0.5,ao.y+ao.height-9.5,"l",-9.5,9.5,"M",ao.x+ao.width-0.5,ao.y+ao.height-4.5,"l",-4.5,4.5].join(",")).attr({stroke:"#8C8C8C"});return{textEl:af,rectEl:ak}};var Y=function(af,ae){var ag={type:"text",tool:"text",x:ae.attrs.x,y:ae.attrs.y,width:ae.attrs.width,height:ae.attrs.height,text:af.data("text"),"font-color":af.attrs.fill,"font-size":af.attrs["font-size"],"text-anchor":af.attrs["text-anchor"],"font-weight":af.attrs["font-weight"],"font-style":af.attrs["font-style"],"text-decoration":af.attrs["text-decoration"],"stroke-width":ae.attrs["stroke-width"],fill:ae.attrs.fill,opacity:ae.attrs.opacity,"page-no":af.attrs["page-no"]};return ag};var I=function(af){if(d.clear){d.clear()}else{s.noteManager.clearAllPaper()}for(var ag=0,ae=j.length;ag<ae;ag++){if(j[ag].type=="text"&&af!=ag){X(j[ag])}else{if(j[ag].type!="text"){var ah=j[ag];var ai=(d[ah.type]||ah.paper[ah.type]);ai.call(ah.paper).attr(ah.attrs)}}}};var k=function(ae,aj,ag){var ai=f.browser.mobile?20:8;if(moving){return}for(var ah=j.length-1;ah>=0;ah--){if(j[ah].type!="text"){continue}if(ag&&ag!=j[ah]["page-no"]){continue}if(j[ah].x<ae&&(j[ah].x+j[ah].width+ai)>ae&&j[ah].y<aj&&(j[ah].y+j[ah].height+ai)>aj){var af=isHResize=false;if(j[ah].x+j[ah].width-ai<ae&&j[ah].x+j[ah].width+ai>ae){af=true}if(j[ah].y+j[ah].height-ai<aj&&j[ah].y+j[ah].height+ai>aj){isHResize=true}return{element:j[ah],isWResize:af,isHResize:isHResize}}}return null};var U=function(ap){var aj=false;var am=function(ar,aq){return{x:Math.round((ar-((ap&&ap.container)||M).offset().left)/P),y:Math.round((aq-((ap&&ap.container)||M).offset().top)/P)}};var ae=function(aq){if(ap){z(ap.canvas.getContext("2d"))}if(isFocus){$(aq.target).parents().each(function(at,au){if($(au).hasClass("crownix-note-textnote")){focusing=true;return false}else{focusing=false}});return}aq.preventDefault();aq.stopPropagation();$(document).on(b.move,ak);$(document).on(b.end,ag);var ar=am(aq.originalEvent.pageX,aq.originalEvent.pageY);if(ap){ap.tool.start(ar.x,ar.y)}else{C.start(ar.x,ar.y)}if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"start",x:ar.x,y:ar.y,tool:C.getName(),attribute:J})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"start",x:ar.x,y:ar.y,tool:C.getName(),attribute:J,pageNo:s.currentPage})}};var ak=function(aq){aq.preventDefault();aq.stopPropagation();var ar=am(aq.originalEvent.pageX,aq.originalEvent.pageY);if(ap){ap.tool.move(ar.x,ar.y)}else{C.move(ar.x,ar.y)}if(s.shareManager&&s.shareManager.isConnected()&&C.getName()!="text"){s.shareManager.sendNote({x:ar.x,y:ar.y})}if(s.options.mirroring.enable&&C.getName()!="text"){s.mirroringManager.externalEvent.sendDraw({x:ar.x,y:ar.y,pageNo:s.currentPage})}};var ag=function(aq){if(s.shareManager&&s.shareManager.isConnected()&&C.getName()!="text"){s.shareManager.sendNote({type:"end"})}if(s.options.mirroring.enable&&C.getName()!="text"){s.mirroringManager.externalEvent.sendDraw({type:"end",pageNo:s.currentPage,excludeNoteType:s.options.mirroring.excludeNoteType})}aq.preventDefault();aq.stopPropagation();$(document).off(b.move,ak);$(document).off(b.end,ag);ap?ap.tool.end():C.end()};var ao=function(aq){aq.preventDefault();aq.stopPropagation();if((ap?ap.tool.getName():C.getName())=="text"){((ap&&ap.container)||M).on(b.move,al)}else{aq.target.style.cursor="";((ap&&ap.container)||M).off(b.move,al)}((ap&&ap.container)||M).on(b.out,ai)};var al=function(au){if(isFocus){au.target.style.cursor="";return}var av=am(au.originalEvent.pageX,au.originalEvent.pageY);var at=k(av.x,av.y,(ap&&ap["page-no"]));if(at){var ar=at.isWResize;var aq=at.isHResize;if(ar&&!aq){au.target.style.cursor="e-resize"}else{if(!ar&&aq){au.target.style.cursor="n-resize"}else{if(ar&&aq){au.target.style.cursor="nw-resize"}else{au.target.style.cursor="move"}}}}else{au.target.style.cursor=""}};var ai=function(ar){ar.preventDefault();ar.stopPropagation();var aq=((ap&&ap.container)||M);aq.off(b.move,al);aq.off(b.out,ai)};var ah=function(ar){if(ap){z(ap.canvas.getContext("2d"))}if(ar.originalEvent.touches.length>=2){aj=true;return}else{aj=false}ar.preventDefault();ar.stopPropagation();var aq=((ap&&ap.container)||M);aq.on("touchmove",af);aq.on("touchend",an);var at=am(ar.originalEvent.touches[0].pageX,ar.originalEvent.touches[0].pageY);((ap&&ap.tool)||C).start(at.x,at.y);if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"start",x:at.x,y:at.y,tool:C.getName(),attribute:J})}};var af=function(aq){if(aj){C.init();return}aq.preventDefault();aq.stopPropagation();var ar=am(aq.originalEvent.touches[0].pageX,aq.originalEvent.touches[0].pageY);((ap&&ap.tool)||C).move(ar.x,ar.y);if(s.shareManager&&s.shareManager.isConnected()&&C.getName()!="text"){s.shareManager.sendNote({x:ar.x,y:ar.y})}};var an=function(ar){if(aj){return}if(s.shareManager&&s.shareManager.isConnected()&&C.getName()!="text"){s.shareManager.sendNote({type:"end"})}ar.preventDefault();ar.stopPropagation();var aq=((ap&&ap.container)||M);aq.off("touchmove",af);aq.off("touchend",an);((ap&&ap.tool)||C).end()};this.on=function(){var aq=((ap&&$(ap.container))||M);if(!f.hasTouch()){aq.on(b.start,ae);aq.on(b.over,ao)}else{aq.on("touchstart",ah)}};this.off=function(){var aq=((ap&&ap.container)||M);if(!f.hasTouch()){aq.off(b.start,ae);aq.off(b.move,ak);aq.off(b.end,ag);aq.off(b.over,ao);aq.off(b.move,al)}else{aq.off("touchstart",ah);aq.off("touchmove",af);aq.off("touchend",an)}}};var D=function(){var af=this,ah=[],ag=-1,ae=-1;var ai=function(){if(typeof ab==="function"){ab({undoable:af.undoable(),redoable:af.redoable(),clearable:(j.length>0),})}};af.undoable=function(){return(ag>-1&&ag>ae)};af.redoable=function(){return ag<ah.length-1};af.add=function(ak,aj){if(ag+1<ah.length){ah.splice(ag+1,ah.length-(ag+1))}ah.push(ak);ag=ah.length-1;if(aj!==true){ai()}};af.undo=function(){if(af.undoable()){ag--;af.rebuildElements();ai()}};af.redo=function(){if(af.redoable()){ag++;af.rebuildElements();ai()}};af.freeze=function(aj){if(aj===undefined){ae=ag}else{ae=aj}ai()};af.clear=function(){ah=[];ag=-1;ae=-1;ai()};af.rebuildElements=function(){var aj=[];if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"clearElement",rebuild:true})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"clearElement",rebuild:true,pageNo:s.currentPage})}for(var an=0;an<=ag;an++){var al=ah[an];switch(al.action){case"scribble":aj.push(al.element);break;case"erase":for(var am=0,ar=aj.length;am<ar;am++){var at=aj[am];if(at.realId!=undefined&&at.realId==al.element.realId){aj.splice(am,1);break}if(at.realId==undefined&&al.element.element&&JSON.stringify(al.element.element)==JSON.stringify(at)){aj.splice(am,1);break}}break;case"text":aj.push(al.element);break;case"clear":aj=[];break}}if(d.clear){d.clear()}else{s.noteManager.clearAllPaper()}if((s.shareManager&&s.shareManager.isConnected())||(s.options.mirroring.enable)){for(var an=j.length-1;an>=0;an--){for(var am=0;am<ah.length;am++){if(ah[am].element&&(j[an].tool==ah[am].element.tool)&&(j[an].tool=="scribble"&&j[an].getPath().toString()==ah[am].element.getPath().toString())||(j[an].tool=="text"&&ah[am].element.tool=="text"&&JSON.stringify(j[an])==JSON.stringify(ah[am].element))){j.splice(an,1);break}}}for(var an=0;an<j.length;an++){aj.push(j[an])}}j=[];for(var an=0,ar=aj.length;an<ar;an++){var ao=aj[an];var ap;var aq=ao.type;if(aq!="text"){ap=ao.paper[ao.type]().attr(ao.attrs);ap.realId=ao.id;ap.tool=ao.tool;ap["page-no"]=ao["page-no"];j.push(ap)}else{var ak=X(ao);j.push(Y(ak.textEl,ak.rectEl))}if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"scribble",xml:E([ao]),rebuild:true})}if(s.options.mirroring.enable){s.mirroringManager.externalEvent.sendDraw({type:"scribble",xml:E([ao]),rebuild:true,pageNo:s.currentPage})}}};af.getHistory=function(){return ah};ai()};var z=function(ah){var ai=J.stroke,ag=J["stroke-opacity"],ak=J["stroke-width"],ae=Raphael.getRGB(ai);ah.strokeStyle="rgba("+ae.r+","+ae.g+","+ae.b+","+ag+")";if(typeof ak==="string"&&ak.indexOf("pt",ak.length-2)!==-1){var af=ak.substring(0,ak.length-2);var aj=parseInt(af,10);ah.lineWidth=aj*S/72}else{ah.lineWidth=ak}ah.lineCap=J["stroke-linecap"];ah.lineJoin=J["stroke-linejoin"]};var n=function(){var ah=J.stroke,ag=J["stroke-opacity"],aj=J["stroke-width"],ae=Raphael.getRGB(ah);L.strokeStyle="rgba("+ae.r+","+ae.g+","+ae.b+","+ag+")";if(typeof aj==="string"&&aj.indexOf("pt",aj.length-2)!==-1){var af=aj.substring(0,aj.length-2);var ai=parseInt(af,10);L.lineWidth=ai*S/72}else{L.lineWidth=aj}L.lineCap=J["stroke-linecap"];L.lineJoin=J["stroke-linejoin"]};var B=function(){if(O&&O.hide){O.hide()}else{var af=s.noteManager.noteElementMap;for(var ae in af){$(af[ae].canvas).hide()}}};var a=function(){if(O&&O.show){O.show()}else{var af=s.noteManager.noteElementMap;for(var ae in af){$(af[ae].canvas).show()}}};var G=function(ag){var ae=f.browser.firefox?122:26,af=f.browser.firefox?121:25;if(ag.ctrlKey&&ag.which===ae){V.undo()}else{if(ag.ctrlKey&&ag.which===af){V.redo()}}};Raphael.el.isInsidePath=function(ak,ai,ah){var aj=this.realPath=Raphael._getPath[this.type](this);if(this.attr("transform")&&this.attr("transform").length){aj=Raphael.transformPath(aj,this.attr("transform"))}var am=this.attr("stroke-width")||1;if(typeof am==="string"&&am.indexOf("pt",am.length-2)!==-1&&typeof ah==="number"){var az=am.substring(0,am.length-2);var ao=parseInt(az,10);am=ao*ah/72}var al=am/2+3;var ae=Raphael.pathBBox(aj);if(ak<ae.x-al&&ak>ae.x2+al&&ai<ae.y-al&&ai>ae.y2+al){return false}var at,ag,ar,af,ax,aw,av,au,ay,an;for(var aq=0,ap=aj.length-1;aq<ap;aq++){at=aj[aq][1];ag=aj[aq][2];ar=aj[aq+1][1];af=aj[aq+1][2];ax=Math.min(at,ar),aw=Math.max(at,ar),av=Math.min(ag,af),au=Math.max(ag,af);if(ak<ax-al||ak>aw+al||ai<av-al||ai>au+al){continue}if(ax==aw||av==au){return true}ay=(af-ag)/(ar-at);an=Math.abs(ay*(ak-at)-ai+ag)/Math.sqrt(ay*ay+1);if(an<al){return true}}return false};var ac=$("<div>").css({width:"1in",height:"1in",display:"none"}).appendTo("body");S=ac.width();ac.remove();var c=function(){if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"start"})}};var u=function(){if(s.shareManager&&s.shareManager.isConnected()){s.shareManager.sendNote({type:"end"})}};var r=function(){if(A.off){A.off()}else{var ah=s.noteManager.noteElementMap;var ag=Object.keys(ah);for(var af=0;af<ag.length;af++){var ae=ah[ag[af]];ae.noteMoveHandler.off()}}};var F=function(){if(A.on){A.on()}else{var ah=s.noteManager.noteElementMap;var ag=Object.keys(ah);for(var af=0;af<ag.length;af++){var ae=ah[ag[af]];ae.noteMoveHandler.on()}}};var K=function(af,ae){var ag=this;ag["page-no"]=af;ag.container=ae;ag.canvas=null;ag.noteMoveHandler=null;ag.scribbleDrawer=null;ag.shapeEraser=null;ag.textBox=null;ag.textDialog=null;ag.textNoteDom=null;ag.paper=null;ag.tool=null;ag.setTool=function(ah){if(ah==="scribble"){C=ag.tool=ag.scribbleDrawer}else{if(ah==="eraser"){C=ag.tool=ag.shapeEraser}else{if(ah==="text"){C=ag.tool=ag.textBox}}}}};this.prepare=function(ah,ag,aj){var af=s.noteManager;var ak=af.noteElementMap;var ae=new K(ah,ag);ae.canvas=$("<canvas>").attr({width:parseInt(ag[0].style.width),height:parseInt(ag[0].style.height),}).css({position:"absolute",left:0,top:0}).appendTo(ag)[0];var ai=ae.context=ae.canvas.getContext("2d");if(aj){ae.canvas.addClass("crownix-auth-lock")}z(ai);ag.find("svg").css("left",0);ae.paper=Raphael(ag[0],parseInt(ag[0].style.width),parseInt(ag[0].style.height));ae.scribbleDrawer=new T(ae);ae.shapeEraser=new Z(ae);ae.textBox=new ad(ae);ae.setTool("scribble");ae.noteMoveHandler=new U(ae);ae.textDialog=new H(e,this.textareaToSvg,c,u);if(!(C instanceof T)){C=l=ae.scribbleDrawer}if(!(V instanceof D)){V=new D()}ak[ah]=ae};this.newPage=function(af,ae){M=af;O=$("<canvas>").attr({width:M.width(),height:M.height(),}).css({position:"absolute",left:0,top:0}).appendTo(M);L=O[0].getContext("2d");if(ae){O.addClass("crownix-auth-lock")}n();d=Raphael(M[0],M.width(),M.height());M.find("svg").css("left",0);A=new U();l=new T();aa=new Z();g=new ad();q=new H(e,this.textareaToSvg,c,u);C=l;V=new D();isFocus=focusing=moving=false};this.disposePage=function(){$(document).off("keypress",G);A.off();q.destroyDialog();if(d.remove){d.remove()}if(M.remove){M.remove()}j=[]};this.setMode=function(ae,af){if(ae==="editable"){r();if(s.options.scrollOptions.useInfiniteScroll){M=$("."+h.NOTE_CLASS)}M.css({cursor:"crosshair",display:"block"});if(af){M.css("display","none");M.fadeIn(500)}if(!this.isLock()){F();document.addEventListener("keypress",G)}}else{if(ae==="disable"){r();if(s.options.scrollOptions.useInfiniteScroll){M=$("."+h.NOTE_CLASS)}M.css({cursor:"auto",display:"block"});if(af){M.css("display","none");M.fadeIn(500)}$(document).off("keypress",G)}else{if(ae==="hide"){r();if(s.options.scrollOptions.useInfiniteScroll){M=$("."+h.NOTE_CLASS)}M.css("cursor","auto");M.fadeOut(500);$(document).off("keypress",G)}}}};this.getToolName=function(){return C.getName()};this.setTool=function(ah){if(ah==="scribble"){C=l}else{if(ah==="eraser"){C=aa}else{if(ah==="text"){C=g}}}if(s.options.scrollOptions.useInfiniteScroll){var ai=s.noteManager.noteElementMap;var ag=Object.keys(ai);for(var af=0;af<ag.length;af++){var ae=ai[ag[af]];ae.setTool(ah)}}};this.getTool=function(){return C};this.isDrawing=function(){return W};this.setRatio=function(ae){P=ae};this.getShapeAttribute=function(){return J};this.setShapeAttribute=function(ae){if(typeof ae==="object"){for(var af in ae){if(af in J){J[af]=ae[af]}}}if(!s.options.scrollOptions.useInfiniteScroll){n()}};this.applySketchAttribute=function(){n()};this.undo=function(){V.undo()};this.redo=function(){V.redo()};this.clear=function(ae){j=[];if(d.clear){d.clear()}else{s.noteManager.clearAllPaper()}if(ae){V.clear()}else{V.add({action:"clear"})}};this.setHistoryChageHandler=function(ae){ab=ae};this.getElements=function(){return j};this.addElements=function(af){for(var ai=0,ae=af.length;ai<ae;ai++){var aj=af[ai];var ah;if(aj.type!="text"){ah=d[aj.type]().attr(aj);ah.tool=aj.tool;ah.type=aj.type;ah.realId=ah.id;j.push(ah)}else{var ag=X(aj);ah=Y(ag.textEl,ag.rectEl);j.push(ah)}V.add({action:aj.tool,element:ah,},true)}V.freeze()};this.addElementsWithPaper=function(af,ak){for(var ai=0,ae=af.length;ai<ae;ai++){var aj=af[ai];var ah;if(aj.type!="text"){ah=ak[aj.type]().attr(aj);ah.tool=aj.tool;ah.type=aj.type;ah.realId=ah.id;j.push(ah)}else{var ag=X(aj);ah=Y(ag.textEl,ag.rectEl);j.push(ah)}V.add({action:aj.tool,element:ah,},true)}V.freeze()};this.setZIndex=function(ae){if(ae==1){if(f.browser.msie&&f.browser.version<=10){B()}M.css("pointer-events","none")}else{if(ae==3){if(f.browser.msie&&f.browser.version<=10){a()}M.css("pointer-events","auto")}}if(f.browser.msie&&f.browser.version<=10&&$('[class^="crownix-grid-"]').length>0){M.css("z-index",ae)}};this.disableNote=function(){A.off();$(document).off("keypress",G)};this.enableNote=function(){A.off();A.on();$(document).on("keypress",G)};this.draw=function(ae){if(ae.type=="start"){C.start(ae.x,ae.y);this.disableNote()}else{if(ae.type=="end"){C.end(true,ae.excludeNoteType);if(!this.isLock()){this.enableNote()}}else{if(ae.type=="clear"){this.clear()}else{C.move(ae.x,ae.y)}}}};this.lock=function(){if(O){O.addClass("crownix-auth-lock");this.disableNote()}};this.unlock=function(ae){O.removeClass("crownix-auth-lock");if(ae=="editable"){this.enableNote()}};this.isLock=function(){var ah;if(af&&af.hasClass){ah=af.hasClass("crownix-auth-lock")}else{var aj=s.noteManager.noteElementMap;var ai=Object.keys(aj);for(var ag=0;ag<ai.length;ag++){var ae=aj[ai[ag]];var af=$(ae.canvas);ah=af.hasClass("crownix-auth-lock")}}return ah};this.convertToXML=function(af,ae){return E(af,ae)};this.convertToElements=function(af,ae){return w(af,ae)};this.convertToRaphaelElement=function(ae){ae.forEach(function(aj){var ah;if(aj.type!="text"){ah=d[aj.type]().attr(aj);ah.tool=aj.tool;ah.type=aj.type;ah.realId=ah.id;j.push(ah)}else{var af=X(aj);ah=Y(af.textEl,af.rectEl);if(aj.oldElement){var ai=false;for(var ag=j.length-1;ag>=0;ag--){if(j[ag].type=="text"){if(ah&&JSON.stringify(j[ag])==JSON.stringify(aj.oldElement)){j[ag]=ah;ai=true;V.clear();break}}}if(!ai){j.push(ah)}}else{j.push(ah)}}});return j};this.hasElement=function(af){for(var ae=0;ae<j.length;ae++){if(af.tool==j[ae].tool&&((af.tool!="text"&&af.path==j[ae].getPath())||(af.tool=="text"&&JSON.stringify(af)==JSON.stringify(j[ae])))){return true}}return false};this.textareaToSvg=function(af,ae){if(af&&ae){C.textareaToSvg(af,ae)}};this.redrawTextBox=function(){if(C.getName()=="text"){C.redrawElement()}};this.drawTextnote=function(ae,af){X(ae,af)};this.isFocusInTextBox=function(){return isFocus}};m2soft.ns("m2soft.crownix.NoteManager");m2soft.crownix.NoteManager=function(j,f){var n=m2soft.crownix.Util,h=m2soft.crownix.Constant;var k=-1,d=new m2soft.crownix.Map(),a=new m2soft.crownix.ShapeEditor(j,f);notetoolbar=new m2soft.crownix.NoteToolbar(j,this,f),currentMode="disable",currentTool="scribble",currentAttr=null,isFormFieldMode=false,removedPage=[],options=f.options,f=f;f.shapeEditor=a,beforeMode=undefined;var b={};a.setHistoryChageHandler(function(q){if(q.undoable){notetoolbar.enableToolbarItem(["undo"])}else{notetoolbar.disableToolbarItem(["undo"])}if(q.redoable){notetoolbar.enableToolbarItem(["redo"])}else{notetoolbar.disableToolbarItem(["redo"])}if(q.clearable){notetoolbar.enableToolbarItem(["eraseAll"])}else{notetoolbar.disableToolbarItem(["eraseAll"])}});var g=function(w,q,s){var r=f.options.scrollOptions.useInfiniteScroll?$("#m2soft-document-scroller"):$("#"+h.PAGE_ID);if(w=="editable"){var t=parseInt(q.width);var u=t+10;n.changeScrollbarToTarget(r,t,t,q.color,Math.ceil(t/2),u);r.find(".iScrollHorizontalScrollbar").hide();r.find(".iScrollVerticalScrollbar").hide()}else{var t=parseInt(s.width);var u=t+10;n.changeScrollbarToTarget(r,t,t,s.color,"",u);r.find(".iScrollHorizontalScrollbar").show();r.find(".iScrollVerticalScrollbar").show()}};var l=function(q){removedPage.forEach(function(r){if(r<=q){q++}});return q};var e=function(q){if(q==="print"){return f.options.excludeNoteTypeInPrint}else{if(q==="export"){return f.options.excludeNoteTypeInExport}else{return[]}}};var m=function(q){var s=a.getElements();var r=[];s.map(function(u,t){if(u["page-no"]===q){r.push(u)}});return r};var c=function(q){var s=new m2soft.crownix.Map();var A=a.getElements();var r={};A.map(function(D,C){var B=D["page-no"];if(B){if(r[B]===undefined){r[B]=[]}r[B].push(D)}});var z=Object.keys(r);for(var u=0,w=z.length;u<w;u++){var t=a.convertToXML(r[z[u]],q);s.put(z[u],t)}return s};this.noteElementMap=b;this.setMode=function(r,q){a.setMode(r,q);if(r==="disable"){a.setZIndex(1)}else{a.setZIndex(3)}if(isFormFieldMode){fieldOrder=m2soft.crownix.FieldOrder.getInstance();if(!q){fieldOrder.blur()}if(r=="editable"){fieldOrder.disable()}else{fieldOrder.enable()}}currentMode=r;g(r,options.scrollbarOnNote,options.scrollbarOnViewer);if(f.shareManager&&f.shareManager.isConnected()&&f.shareManager.isHost()){f.shareManager.relocateLockControl()}};this.getMode=function(){return currentMode};this.getToolName=function(){return a.getToolName()};this.setTool=function(q){a.setTool(q);currentTool=q};this.setShapeAttribute=function(q){a.setShapeAttribute(q);currentAttr=q};this.prepare=function(q,r){r=l(r);var u=false;if(r>0){if(a.isLock()){u=true}if(a.isDrawing()){var t=a.getTool();t.end()}d=c()}a.prepare(r,q,u);var s=d.get(r);var z=b[r].paper;if(s){var w=a.convertToElements(s);a.addElementsWithPaper(w,z)}a.setTool(currentTool);this.setMode(currentMode,true);currentAttr&&a.setShapeAttribute(currentAttr);k=r};this.drawPage=function(q,r){r=l(r);var u=false;if(k>0){if(a.isLock()){u=true}if(a.isDrawing()){var t=a.getTool();t.end()}var w=a.getElements();var s=a.convertToXML(w);d.put(k,s);a.disposePage()}a.newPage(q,u);var s=d.get(r);if(s){var w=a.convertToElements(s);a.addElements(w)}a.setTool(currentTool);this.setMode(currentMode,true);currentAttr&&a.setShapeAttribute(currentAttr);k=r};this.drawNote=function(t,r,s){r=l(r);var u=e(s);if(f.options.scrollOptions.useInfiniteScroll){d.put(r,a.convertToXML(m(r),u))}else{if(k>0){var A=a.convertToXML(a.getElements(),u);d.put(k,A)}}var A=d.get(r);if(A){var q=a.convertToElements(A,u);if(q.length>0){var w=Raphael(t[0],t.width(),t.height());for(var z=0,B=q.length;z<B;z++){if(q[z].type!="text"){w[q[z].type]().attr(q[z])}else{a.drawTextnote(q[z],w)}}}}};this.setRatio=function(q){a.setRatio(q)};this.undo=function(){a.undo()};this.redo=function(){a.redo()};this.clear=function(q){a.clear(q);if(!q&&f.shareManager&&f.shareManager.isConnected()){f.shareManager.sendNote({type:"clear"})}if(!q&&f.options.mirroring.enable){f.mirroringManager.externalEvent.sendDraw({type:"clear",pageNo:f.currentPage})}};this.destroyNoteToolbar=function(){notetoolbar.destroy()};this.toNoteParameter=function(z,B,r){var s=e(r);if(f.options.scrollOptions.useInfiniteScroll){d=c(s)}else{if(k>0){var w=a.convertToXML(a.getElements(),s);d.put(k,w)}}var t=[" /rnotedata "];for(var u=z;u<=B;u++){t.push("[");var A=d.get(u);if(A){var q=a.convertToElements(A,s);if(q.length>0){var w=a.convertToXML(q,s);if(w){t.push(w)}}}t.push("] ")}return t.join("")};this.getNoteXml=function(s,r){var q=e(r);if(f.options.scrollOptions.useInfiniteScroll){return a.convertToXML(m(s),q)}else{if(s===k){return a.convertToXML(a.getElements(),q)}else{return a.convertToXML(a.convertToElements(d.get(s),q))}}};this.getShapeAttribute=function(){return a.getShapeAttribute()};this.setFormFieldMode=function(q){isFormFieldMode=q};this["export"]=function(r){var q=r;var t={};for(var s=1;s<=q;s++){t[s]=this.getNoteXml(s)}return t};this["import"]=function(r){for(var q in r){if(q==k){var s=a.convertToElements(r[q]);a.addElements(s)}else{d.put(q,r[q])}}};this.removeNote=function(q){removedPage.push(q);removedPage.sort(n.ASCENDING_COMPARATOR)};this.restoreNote=function(r){var q=removedPage.indexOf(r);if(q!=-1){removedPage.splice(q,1)}};this.draw=function(q){a.draw(q)};this.lock=function(){a.lock()};this.unlock=function(){a.unlock(currentMode)};this.addElement=function(t,r,B,s){var w=a.convertToElements(t)[0],q=[];if(B){if(a.hasElement(w)){return}if(s){w.oldElement=a.convertToElements(s)[0]}q=a.convertToRaphaelElement([w]);if(f.shareManager&&f.shareManager.isConnected()&&w&&w.type=="text"){f.shareManager.scrollToPos(w.x,w.y)}}else{r=l(r);var z=d.get(r);var A;if(z){q=a.convertToElements(z)}if(s){A=a.convertToElements(s)[0]}if(A){for(var u=q.length-1;u>=0;u--){if(q[u].type=="text"){if(w&&JSON.stringify(q[u])==JSON.stringify(A)){q[u]=w}}}}else{q.push(w)}}d.put(r,a.convertToXML(q))};this.removeElement=function(q,s,r){var w=a.convertToElements(q)[0],z=[];if(!r){s=l(s);var t=d.get(s);if(t){z=a.convertToElements(t)}for(var u=z.length-1;u>=0;u--){if((w.type=="text"&&JSON.stringify(z[u])==JSON.stringify(w))||(w.type!="text"&&z[u].path==w.path)){z.splice(u,1)}}}d.put(s,a.convertToXML(z))};this.removeAllElement=function(q){q=l(q);d.remove(q)};this.isLock=function(){return a.isLock()};this.redrawTextBox=function(){a.redrawTextBox()};this.disableNote=function(){a.disableNote()};this.enableNote=function(){if(!a.isLock()){a.enableNote()}};this.hideNoteItem=function(q){notetoolbar.hideNoteItem(q)};this.showNoteItem=function(q){notetoolbar.showNoteItem(q)};this.note=function(q){notetoolbar.click(q.mode);if(q.mode==="note"&&q.tool){notetoolbar.click(q.tool,q.style)}};this.removeNoteElement=function(q){delete b[q]};this.clearAllPaper=function(){var t=Object.keys(b);for(var s=0;s<t.length;s++){var q=b[t[s]];var r=q.paper;r&&r.clear()}};this.isFocusInTextBox=function(){return a.isFocusInTextBox()};this.hideNote=function(){notetoolbar.hideToolbar();beforeMode=currentMode;f.noteManager.note({mode:"show"})};this.showNote=function(){notetoolbar.showToolbar();if(beforeMode){f.noteManager.note({mode:beforeMode=="hide"?beforeMode:beforeMode=="editable"?"note":"show"});beforeMode=undefined}}};m2soft.ns("m2soft.crownix.LinkManager");m2soft.crownix.LinkManager=function(e){var d=e,c=[],b=[],a={};MAX_DATA_SIZE=104857600;this.getStateDataSize=function(){var f=0;for(var l in a){var j=a[l].mmlData.mml;for(var h in a[l].mmlData.drilldownInfo){j+=a[l].mmlData.drilldownInfo[h]}if(a[l].formData){j+=a[l].formData}for(var g in a[l].noteData){j+=a[l].noteData[g]}var k=(function(q,m,n,r){for(m=n=0;r=q.charCodeAt(n++);m+=r>>11?3:r>>7?2:1){}return m})(j);f+=k}return f};this.isFullStack=function(){if(this.getStateDataSize()<MAX_DATA_SIZE){return false}return true};this.pushPrevDocStack=function(f){c.push(f)};this.popPrevDocStack=function(){return c.pop()};this.pushNextDocStack=function(f){b.push(f)};this.popNextDocStack=function(){return b.pop()};this.deleteNextDocStack=function(){b=[]};this.setStateData=function(g,f){a[g]=f};this.getStateData=function(f){if(!this.isExistData(f)){return null}return a[f]};this.isExistData=function(f){if(!a[f]){return false}return true};this.isEmptyPrevDocStack=function(){if(c.length>0){return false}return true};this.isEmptyNextDocStack=function(){if(b.length>0){return false}return true};this.makeStateData=function(){var f={mrdPath:d.viewer.getMrdPath(),mrdParam:d.viewer.getMrdParam(),curPageNum:d.currentPage,noteData:d.noteManager?d.noteManager["export"](d.totalPage):null,formData:d.isFormEditMode?d.exportFormData():null,mmlData:d.exportMML(),submitFinished:d.formManager.isAllFormSubmitted(),addedPages:d.editor?d.editor.getAddedPages():null,storageEditorData:d.editor?d.editor.getStorageEditorData():null};return f};this.saveState=function(f){if(this.isFullStack()&&f=="new"){return false}var g=d.viewer.getMrdPath()+"_"+d.viewer.getMrdParam();var h=this.makeStateData();if(f=="prev"){this.pushNextDocStack(g)}else{this.pushPrevDocStack(g)}this.setStateData(g,h);return true};this.restoreState=function(g){var f=this.getStateData(g);d.viewer.setMrdPath(f.mrdPath);d.viewer.setMrdParam(f.mrdParam);d.importMML(f.mmlData,undefined,function(){setTimeout(function(){if(f.curPageNum!=1){d.viewer.movePage(f.curPageNum)}else{d.drilldownManager.disableForgery()}},0);if(f.submitFinished){d.formManager.disableEdit();d.viewer.setPreventPrintExport(false)}if(f.noteData!=null){d.noteManager["import"](f.noteData)}setTimeout(function(){if(f.formData!=null){d.importFormData(f.formData)}},0);if(f.addedPages){d.editor.setAddedPages(f.addedPages);d.totalPage+=d.editor.getAddedPages().length;if(d.totalPage>1&&f.curPageNum!=d.totalPage){d.toolbar.enableToolbarItem(["next","last"])}d.editor.setStorageEditorData(f.storageEditorData)}})};this.prevDoc=function(){var f=this.popPrevDocStack();if(!f){return}this.saveState("prev");this.restoreState(f)};this.nextDoc=function(){var f=this.popNextDocStack();if(!f){return}this.saveState("next");this.restoreState(f)}};m2soft.ns("m2soft.crownix.ShareDialog");m2soft.crownix.ShareDialog=(function(){var e=m2soft.crownix.Window;var c=m2soft.crownix.Resource;var q,h,l,u,a,A;l=function(E){u=E;A=true;if($(window).width()>$(window).height()){h=$(window).height()>520}else{h=true}q=$("<div>").attr("id","crownix-sharedialog-container");m();$(window).on("orientationchange",function(G){var F=window.orientation;if((F===90||F===-90)){h=$(window).height()>520}else{h=true}B(h,h?D:j)});$(window).on("resize",C)};l.prototype={show:function(E){var F=h?{css:{"max-width":"450px","max-height":"520px"}}:{css:{"max-width":"700px","max-height":"380px"}};a=new e(c.get("share_dialog_title"),q,{isOverlay:A,buttonType:["close"],useResizeHandler:false});a.show(F,b);h?D():j();$(".crownix-window-close").bind("click",function(){E.close()});if(!u.report){$("input[name=reportTitle]").attr({disabled:"disabled"});$(".crownix-create-content-isPublic-input > input[type=checkbox]").attr({disabled:"disabled"});$("#registerBtn").attr({disabled:"disabled"})}B(h,h?D:j)},close:function(){a.close()},addReportList:function(E){w(E)},addReport:function(G,E,F){f(G,E,F)},removeReport:function(E){t(E)},renewUserCount:function(F,E){r(F,E)}};var C=function(){var G,E;var H=$("#crownix-window-frame"),J=H.find(".crownix-window-header"),K=H.find(".crownix-window-body"),I=H.find(".crownix-window-footer");var F=A?".crownix-overlay":"body";K.css({height:(H.height()-J.height()-(I?I.height():0)-6)+"px",});G=F=="body"?$(window).width():$(F).width();E=F=="body"?$(window).height():$(F).height();H.css({left:(G-H.width())/2+"px",top:(E-H.height())/2+"px",});b()};var B=function(H,F){var E=H?{"max-width":"450px","max-height":"520px"}:{"max-width":"700px","max-height":"380px"};var G=$("#crownix-window-frame");G.css(E);F();C()};var b=function(){$(".crownix-span-input").each(function(){$(this).css("margin-top",($(this).parent().height()/2-$(this).height()/2)+"px")})};var j=function(){$("#crownix-sharedialog-container").css("min-height","220px");$(".crownix-sharedialog-listfield").css({height:"95%",width:"46%","float":"left",});$(".crownix-sharedialog-createfield").css({height:"95%",width:"46%","float":"left"});$(".crownix-create-content").css("height","60%")};var D=function(){$("#crownix-sharedialog-container").css("min-height","400px");$(".crownix-sharedialog-listfield").css({height:"50%",width:"95%"});$(".crownix-sharedialog-createfield").css({height:"46%",width:"95%"});$(".crownix-create-content").css("height","74%")};var m=function(){g();z()};var g=function(){var N=$("<div>").addClass("crownix-sharedialog-listfield").appendTo(q);$("<h4>").text(c.get("share_list_title")).addClass("crownix-sharedialog-h4").appendTo(N);var M=$("<div>").addClass("crownix-sharedialog-listfield-inner").appendTo(N);var L=$("<div>").addClass("crownix-report-list").appendTo(M);var O=$("<div>").addClass("crownix-report-list-header").appendTo(L);var I=$("<div>").addClass("crownix-report-title ").appendTo(O);$("<span>").text(c.get("share_report_title")).appendTo(I);var F=$("<div>").addClass("crownix-report-isPublic").appendTo(O);$("<span>").text(c.get("share_is_public")).appendTo(F);var J=$("<div>").addClass("crownix-report-userCount").appendTo(O);$("<span>").text(c.get("share_user_count")).appendTo(J);var P=$("<div>").addClass("crownix-report-list-body").appendTo(L);var K=$("<div>").addClass("crownix-report-list-footer").appendTo(M);var G=$("<div>").addClass("crownix-report-list-footer-span crownix-span-input").appendTo(K);$("<span>").text(c.get("share_password")).appendTo(G);var H=$("<div>").addClass("crownix-report-list-footer-input crownix-span-input").appendTo(K);var E=$("<input>").attr({type:"password",name:"joinPassword",disabled:"disabled",id:"sharedialog-join-password"}).addClass("crownix-sharedialog-input").appendTo(H).on("keydown",function(S){if(S.keyCode==32){u.dialog.show(c.get("share_not_allowed_space"));return false}});var Q=$("<div>").addClass("crownix-report-list-footer-button crownix-span-input").appendTo(K);$("<button>").attr({type:"button",id:"joinBtn"}).text(c.get("share_join")).addClass("crownix-sharedialog-button").appendTo(Q).on("click",function(){if($(".crownix-report-title-checkbox > input:checked").length===0){u.dialog.show(c.get("share_no_select_report"))}else{if($('input[name="joinPassword"]').attr("disabled")){d()}else{if($('input[name="joinPassword"]').val().length===0){u.dialog.show(c.get("share_need_password"))}else{d()}}}})};var z=function(){var X=$("<div>").addClass("crownix-sharedialog-createfield").appendTo(q);$("<h4>").text(c.get("share_create_title")).addClass("crownix-sharedialog-h4").appendTo(X);var I=$("<div>").addClass("crownix-create-content").appendTo(X);var T=$("<div>").addClass("crownix-create-content-title").appendTo(I);var M=$("<div>").addClass("crownix-create-content-title-span crownix-span-input").appendTo(T);$("<span>").text(c.get("share_report_title")).appendTo(M);var Y=$("<div>").addClass("crownix-create-content-title-input crownix-span-input").appendTo(T);$("<input>").attr({type:"text",name:"reportTitle"}).addClass("crownix-sharedialog-input").appendTo(Y);var W=$("<div>").addClass("crownix-create-content-options").appendTo(I);var O=$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(W);$("<span>").text(c.get("share_private")).appendTo(O);var ac=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(W);$("<input>").attr("type","checkbox").on("change",function(){if(this.checked){$('input[name="createPassword"]').removeAttr("disabled").focus()}else{$('input[name="createPassword"]').attr({disabled:"disabled"}).val("")}}).addClass("crownix-sharedialog-checkbox").appendTo(ac);var L=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(W);$("<span>").text(c.get("share_pageSync")).appendTo(L);var K=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(W);$("<input>").attr({type:"checkbox",name:"pagesync"}).addClass("crownix-sharedialog-checkbox").appendTo(K);var V=$("<div>").addClass("crownix-create-content-options").appendTo(I);var G=$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(V);$("<span>").text(c.get("share_sync")).appendTo(G);var aa=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(V);$("<input>").attr({type:"checkbox",name:"sharesync"}).addClass("crownix-sharedialog-checkbox").appendTo(aa);var S=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(V);$("<span>").text(c.get("share_unlock")).appendTo(S);var H=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(V);$("<input>").attr({type:"checkbox",name:"shareunlock"}).addClass("crownix-sharedialog-checkbox").appendTo(H);var U=$("<div>").addClass("crownix-create-content-options").appendTo(I);var ab=$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(U);var E=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(U);$("<input>").attr({type:"checkbox",name:"sharetmp",}).css("visibility","hidden").addClass("crownix-sharedialog-checkbox").appendTo(E);var Z=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(U);$("<span>").text(c.get("share_hide_lock")).appendTo(Z);var Q=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(U);$("<input>").attr({type:"checkbox",name:"sharehidelock"}).addClass("crownix-sharedialog-checkbox").appendTo(Q);var N=$("<div>").addClass("crownix-create-content-password").appendTo(I);var J=$("<div>").addClass("crownix-create-content-password-span crownix-span-input").appendTo(N);$("<span>").text(c.get("share_password")).appendTo(J);var F=$("<div>").addClass("crownix-create-content-password-input crownix-span-input").appendTo(N);$("<input>").attr({type:"password",name:"createPassword",disabled:"disabled",id:"sharedialog-create-password"}).addClass("crownix-sharedialog-input").appendTo(F).on("keydown",function(ad){if(ad.keyCode==32){u.dialog.show(c.get("share_not_allowed_space"));return false}});var P=$("<div>").addClass("crownix-create-content-password-button crownix-span-input").appendTo(N);$("<button>").attr({type:"button",id:"registerBtn"}).text(c.get("share_create")).addClass("crownix-sharedialog-button").appendTo(P).on("click",function(){if($("input[name=reportTitle]").val().trim()===""){u.dialog.show(c.get("share_need_report_title"));$("input[name=reportTitle]").val("").focus()}else{if($('input[name="createPassword"]').attr("disabled")){k()}else{if($('input[name="createPassword"]').val().length===0){u.dialog.show(c.get("share_need_password"))}else{k()}}}})};var n=function(J,K,E){if(!E){E=1}this.report=$("<div>").attr("id","report-"+J).addClass("crownix-sharedialog-report");var G=$("<div>").addClass("crownix-report-title").appendTo(this.report);var H=$("<div>").addClass("crownix-report-title-checkbox").appendTo(G);$("<input>").attr("type","checkbox").addClass("crownix-sharedialog-checkbox").appendTo(H).on("change",function(){if(this.checked){$(".crownix-report-title-checkbox > input:checked").attr("checked",false);this.checked=true;if(M.text()===c.get("share_private")){$('input[name="joinPassword"]').removeAttr("disabled").focus()}else{$('input[name="joinPassword"]').attr("disabled","disabled").val("")}}else{$('input[name="joinPassword"]').attr("disabled","disabled").val("")}});var L=$("<div>").addClass("crownix-report-title-span").appendTo(G);$("<span>").text(J).appendTo(L);var I=$("<div>").addClass("crownix-report-isPublic").appendTo(this.report);var M=$("<span>").text(K?c.get("share_public"):c.get("share_private")).addClass("isPublic").appendTo(I);var F=$("<div>").addClass("crownix-report-userCount").appendTo(this.report);$("<span>").text(E).addClass("crownix-userCount").appendTo(F);return this.report};var w=function(F){$(".crownix-report-list-body").children().each(function(){$(this).remove()});for(var G=0;G<F.length;G++){var E=new n(F[G].name,F[G].isPublic,F[G].userCount);$(".crownix-report-list-body").append(E);s(E)}};var f=function(H,G){var F=new n(H,G);var E=$(".crownix-report-list-body");E.children().each(function(){if($(this).attr("id").substring(7)>H){$(F).insertBefore(this);return false}});if($(F).parent().length===0){E.append(F)}s(F)};var s=function(E){$(E).children().each(function(){if($(this).is(".crownix-report-title")){$(this).children().each(function(){$(this).css("margin-top",(E.height()/2-$(this).height()/2)+"px")})}else{$(this).css("margin-top",(E.height()/2-$(this).height()/2)+"px")}})};var t=function(E){$('div[id="report-'+E+'"]').remove()};var r=function(G,F){var E=$('div[id="report-'+G+'"] > .crownix-report-userCount > .crownix-userCount').text();$('div[id="report-'+G+'"] > .crownix-report-userCount > .crownix-userCount').text(F?++E:--E)};var d=function(){var F=$(".crownix-report-title-checkbox > input:checked").parent().next().children().text();var E=$("input[name=joinPassword]").val();u.shareManager.joinReport(F,E)};var k=function(){var G=$("#crownix-sharedialog-container input[name=reportTitle]").val();var F=$("#crownix-sharedialog-container input[name=createPassword]").val();var E=$("#crownix-sharedialog-container input[name=pagesync]").prop("checked");var H=$("#crownix-sharedialog-container input[name=sharesync]").prop("checked");var J=$("#crownix-sharedialog-container input[name=shareunlock]").prop("checked");var I=$("#crownix-sharedialog-container input[name=sharehidelock]").prop("checked");u.shareManager.createReport(G,F,{pageSync:!!E,useSync:!!H,unlock:!!J,hideLock:!!I})};return l})();m2soft.ns("m2soft.crownix.LockControl");m2soft.crownix.LockControl=(function(){var e=m2soft.crownix.Resource;var b=m2soft.crownix.resource.Icon;var k,f,g,j;k=function(m,n){g="#"+m;j=n};k.prototype={createBtnDom:function(){a()},removeBtnDom:function(){l()},relocate:function(){d()},toggleButton:function(){c()},hiddenButton:function(){h()}};var a=function(){f=true;var m=$("<div>").attr("id","crownix-share-lock-control").addClass("crownix-share-lock-control").appendTo(g).bind("click tab",c).css("right",($(".iScrollVerticalScrollbar").width()+58)+"px");var n=$("<button>").attr({type:"button",id:"crownix-share-lock-control-button",title:e.get("share_do_unlock")}).addClass("crownix-share-lock-control-button").appendTo(m);$(b.SHARE_LOCK).css("display","none").appendTo(n).fadeIn(500)};var l=function(){$("#crownix-share-lock-control").remove()};var c=function(){var m=$("#crownix-share-lock-control-button");var q;var n;f=!f;if(f){q=e.get("share_do_unlock");n=b.SHARE_LOCK;j.sendLockFields()}else{q=e.get("share_do_lock");n=b.SHARE_UNLOCK;j.sendUnlockFields()}m.attr("title",q).children().remove();$(n).css("display","none").appendTo(m).fadeIn(500)};var d=function(){$(".crownix-share-lock-control").css("right",($(".iScrollVerticalScrollbar").width()+58)+"px")};var h=function(){$("#crownix-share-lock-control-button").css("display","none")};return k})();m2soft.ns("m2soft.crownix.ShareManager");m2soft.crownix.ShareManager=function(N,u,e){var l=m2soft.crownix.Resource;var X=m2soft.crownix.ShareDialog;var q=m2soft.crownix.LockControl;var L=m2soft.crownix.FieldOrder;var f=m2soft.crownix.Util;var g=m2soft.crownix.Constant;var k=m2soft.crownix.resource.Icon;var N=N,e=e,s=this,u=u,c,O,I,W,r,V,ab={},H,K,j,M=false,E=false,Q,z,ad=false,b=false,S=false,t;var T=function(){setTimeout(function(){var ae=V?"Client":"Host";$('[id^="crownix_form_field_"][auth='+ae+"]").filter("input[type=file], :not(input):not(textarea)").addClass("crownix-auth-lock").attr("disabled",true);$('[id^="crownix_form_field_"][auth='+ae+"]").filter("input[type!=file], textarea").addClass("crownix-auth-lock").attr("readonly",true)},0)};var A=function(){setTimeout(function(){if(!V){$('[id^="crownix_form_field_"][auth]').filter("input[type=file], :not(input):not(textarea)").addClass("crownix-auth-lock").attr("disabled",true);$('[id^="crownix_form_field_"][auth]').filter("input[type!=file], textarea").addClass("crownix-auth-lock").attr("readonly",true);if(u.noteManager){u.noteManager.lock()}if(u.formManager){u.formManager.lock()}}},0)};var C=function(){setTimeout(function(){if(!V){var ag=$(".crownix-auth-lock[auth=Client], .crownix-auth-lock[auth=All]").removeClass("crownix-auth-lock");for(var af=0;af<ag.length;af++){if($(ag[af]).hasClass("crownix-formfield-blink-lock")&&$(ag[af]).hasClass("crownix-field-lock")){continue}if(ag[af].type==="submit"){ag[af].disabled=false;continue}var ai=ag[af].getAttribute("formid")||ag[af].getAttribute("formname"),ae=ag[af].getAttribute("name");if(ag[af].type==="radio"){ae=ag[af].getAttribute("buttonid")}var ah=u.formManager.getField(ai,ae);if(ah.getEditable()){if(ah.type=="tf"||ah.type=="cb"||ah.type=="rb"||ah.type=="ta"){if(!(ag[af].getAttribute("noDefaultAction")==="true")){ag[af].readOnly=false}}else{$(ag[af]).attr("disabled",false)}}}if(u.noteManager){u.noteManager.unlock()}if(u.formManager){u.formManager.unlock()}}},0)};var J=function(ag,ae){var af;if(ag=="im"){af=$("#"+ae+"-canvas")}else{if(ag=="cb"){af=$("label[for="+ae+'][class*="crownix-checkbox-boundary"]')}else{if(ag=="rb"){af=$("label[for="+ae+'][class*="crownix-radio-boundary"]')}else{af=$("#"+ae)}}}if(ag=="fl"){af.siblings("input").addClass("crownix-formfield-blink-lock")}af.addClass("crownix-formfield-blink-lock")};var Y=function(ag,ae){var af;if(ag=="im"){af=$("#"+ae+"-canvas")}else{if(ag=="cb"){af=$("label[for="+ae+'][class*="crownix-checkbox-boundary"]')}else{if(ag=="rb"){af=$("label[for="+ae+'][class*="crownix-radio-boundary"]')}else{af=$("#"+ae)}}}if(ag=="fl"){af.siblings("input").removeClass("crownix-formfield-blink-lock")}af.removeClass("crownix-formfield-blink-lock")};var d=function(ag,ae){var af;if(ag=="im"){af=$("#"+ae+"-canvas")}else{af=$("#"+ae)}if(ag!=="im"&&ag!=="sg"){if(ag=="tf"||ag=="cb"||ag=="rb"||ag=="ta"){af.attr("readonly",true)}else{if(ag=="fl"){af.siblings("input").attr("disabled",true).addClass("crownix-field-lock");af.attr("disabled",true)}else{af.attr("disabled",true)}}}af.addClass("crownix-field-lock")};var D=function(ah,ae,ag){var af;if(ah=="im"){af=$("#"+ae+"-canvas")}else{af=$("#"+ae)}if(!af.hasClass("crownix-auth-lock")&&ag===true){if(ah!=="im"&&ah!=="sg"){if(ah=="tf"||ah=="cb"||ah=="rb"||ah=="ta"){if(!(af.attr("noDefaultAction")==="true")){af.attr("readonly",false)}}else{if(ah=="fl"){af.siblings("input").attr("disabled",false).removeClass("crownix-field-lock");af.attr("disabled",false)}else{af.attr("disabled",false)}}}}af.removeClass("crownix-field-lock")};var Z=function(ae){if(ae.type=="scribble"){u.noteManager.addElement(ae.xml,ae.pageNo,ae.pageNo==u.currentPage)}else{if(ae.type=="erase"){u.noteManager.removeElement(ae.xml,ae.pageNo,ae.pageNo==u.currentPage)}else{if(ae.type=="clearElement"){if(ae.pageNo==u.currentPage){u.noteManager.clear(ae.rebuild)}u.noteManager.removeAllElement(ae.pageNo)}else{if(ae.type=="text"){u.noteManager.addElement(ae.xml,ae.pageNo,ae.pageNo==u.currentPage,ae.oldXml);if(ae.pageNo==u.currentPage){u.noteManager.redrawTextBox()}if(j){u.noteManager.setShapeAttribute(j.attr);u.noteManager.setTool(j.tool);u.noteManager.setMode(j.mode);j=undefined}M=false;u.noteManager.enableNote()}else{if(ae.type=="start"){if(ae.pageNo==u.currentPage){M=true}else{return}if(!j){j={attr:$.extend(true,{},u.noteManager.getShapeAttribute()),tool:u.noteManager.getToolName(),mode:u.noteManager.getMode()}}u.noteManager.setTool(ae.tool);u.noteManager.setShapeAttribute(ae.attribute);if(ae.tool=="text"){u.noteManager.disableNote()}else{u.noteManager.draw(ae);ac(ae.x,ae.y)}}else{if(ae.type=="clear"){if(ae.pageNo==u.currentPage){u.noteManager.draw(ae)}else{u.noteManager.removeAllElement(ae.pageNo)}}else{if(M){u.noteManager.draw(ae);if(ae.type=="end"){if(j){u.noteManager.setShapeAttribute(j.attr);u.noteManager.setTool(j.tool);u.noteManager.setMode(j.mode);j=undefined}M=false}}}}}}}}};var ac=function(aj,ai){var ag=u.containerDom,af=u.scroll,ae=ag.scrollLeft(),ak=ag.scrollTop(),ah=ag.offset();if(f.browser.mobile||ah.left>0||ah.top>0){setTimeout(function(){var al=-aj,am=-ai+45+$(document).scrollTop();if(al>0){al=0}else{if(al<af.maxScrollX){al=af.maxScrollX}}if(am>0){am=0}else{if(am<af.maxScrollY){am=af.maxScrollY}}af.scrollToKeepCenter(al,am,0)},f.browser.mobile?500:0)}};var a=function(ae){if(ae&&u.noteManager){u.noteManager["import"](ae)}};var U=function(ae){for(var ag in ae){if(ae[ag]){var af=u.formManager.getField(ae[ag].formId,ae[ag].fieldId);J(af.type,af.elementId);d(af.type,af.elementId)}}};var aa=function(ah){if(ah==="sg"||ah==="pn"){var aw=780,ar=50,av=aw,af=290,ag=60;var aq=$("#"+g.CONTAINER_ID);var am=aq.width();var ao=aq.height();var au=Math.min(av,am-20);if(av>au){av=au;af=Math.floor(af*(au/aw))}var aj=$('<div id="share-signature-mirrorview-overlay">').addClass("crownix-overlay");var ay=$('<div id="share-signature-mirrorview-window">').css({left:((am-av)/2)+"px",top:((ao-(ar+af+ag))/2)+"px",width:av+"px"});var ax=$('<div id="share-signature-mirrorview-header">').css("height",ar+"px");var ap=$('<span id="share-signature-mirrorview-header-text">').text(l.get("share_sign_mirrorview_title"));var an=$('<span id="share-signature-mirrorview-close" class="crownix-window-close">');var al=$("<img>").attr("src",k.CLOSE_BUTTON).appendTo(an);var ak=$('<canvas id="share-signature-mirrorview-canvas">').attr({width:av,height:af});var at=$('<div id="share-signature-mirrorview-footer">').css("height",ag+"px");var ai=$('<button id="share-signature-mirrorview-clear" class="share-signature-mirrorview-button">').text(l.get("clear_sign"));var ae=$('<button id="share-signature-mirrorview-save" class="share-signature-mirrorview-button">').text(l.get("save"));ay.appendTo(aj);ay.append(ax,ak,at);ax.append(ap,an);at.append(ai,ae);aj.appendTo(aq);an.on("click",function(az){n("sg");c.emit("signingControl","close")});ai.on("click",function(az){c.emit("signingControl","reset")});ae.on("click",function(az){n("sg");c.emit("signingControl","ok")});u.scroll.disable()}};var n=function(ae){if(ae==="sg"||ae==="pn"){$("#share-signature-mirrorview-overlay").remove();if(u.scroll.enabled===false){u.scroll.enable()}}};var B=function(ae){u.drilldownManager.toggle(id).fail(function(af){dialog.show(af)}).done(function(af){})};var w=function(){if(W){c.on("reportList",function(ae){W.addReportList(ae)});c.on("newReport",function(ae){W.addReport(ae.name,ae.isPublic,1)});c.on("renewUserCount",function(ae){W.renewUserCount(ae.name,ae.incCount)});c.on("removeReport",function(ae){W.removeReport(ae)})}c.on("shareError",function(ae){u.dialog.show(l.get(ae.message))});c.on("openFile",function(ag){Q=function(){if(u.isFormEditMode){u.viewer.importFormData(ag.formData)}else{u.drilldownManager["import"](ag.formData.drilldownInfo)}if(ag.pageNo!=1){u.movePage(ag.pageNo)}else{if(ag.isLock){A()}else{C()}}setTimeout(function(){if(u.isFormEditMode){U(ag.focusInfo)}a(ag.noteData)},0)};if(ag.mrd.openMml){if(ag.mrd.mml.drilldownInfo){ag.mrd.mml.drilldownInfo=undefined}u.viewer.importMML(ag.mrd.mml)}else{if(f.isArray(ag.mrd.path)){var ae=[];for(var af=0;af<ag.mrd.path.length;af++){ae.push({mrdPath:ag.mrd.path[af],mrdParam:ag.mrd.param[af]})}u.viewer.openFile(ae,ag.mrd.options)}else{u.viewer.openFile(ag.mrd.path,ag.mrd.param,ag.mrd.options)}}});c.on("startSharing",function(ae){if(W){W.close()}u.toolbar.toggleShareButton(true);u.viewer.hideToolbarItem(["storage"]);if(ae==="host"){if(!r){r=new q(e,s);r.createBtnDom();if(ad){r.toggleButton()}if(b){r.hiddenButton()}}V=true;T()}else{V=false}});c.on("formField",function(af){var ag=u.formManager.getField(af.formId,af.fieldId),ae=u.formManager.getFieldWrapper(af.formId,af.fieldId);if(ag.type=="cb"){ae.setSelected(af.value,true)}else{if(ag.type=="rg"){u.formManager.getFieldWrapper(af.formId,af.value).setSelected(true,true)}else{if(ag.type=="co"){ag.setValueByIndex(af.value,u,af.formId)}else{if(ag.type=="fl"){ag.setFileName(af.value,"sharing")}else{if(ag.type=="sg"||ag.type=="pn"){ag.strokeCheck=af.strokeCheck;ae.setValue((af.value===null)?"":af.value,true)}else{ae.setValue((af.value===null)?"":af.value,true)}}}}}});c.on("focusOn",function(af){var ag=u.formManager.getField(af.formId,af.fieldId);J(ag.type,ag.elementId);d(ag.type,ag.elementId);if(!V&&af.isLock){var ae=ag.elementId;if(ag.type=="rg"){ae=ag.buttonList[ag.selectedId].elementId}L.getInstance().scrollToField($("#"+ae))}if(V){aa(ag.type)}});c.on("focusOut",function(ae){var af=u.formManager.getField(ae.formId,ae.fieldId);if(af.id){Y(af.type,af.elementId);D(af.type,af.elementId,af.getEditable());if(V){n(af.type)}}});c.on("lockFields",function(){A();c.emit("focusOut");L.getInstance().blur()});c.on("unlockFields",function(){C()});c.on("note",function(ae){Z(ae)});c.on("drilldown",function(ae){B(ae)});c.on("movePage",function(ae){if(ae!=u.currentPage){u.movePage(ae)}});c.on("syncFormData",function(ae){if(!V){u.viewer.importFormData(ae)}c.emit("syncDone");z=u.dialog.message(l.get("submit_formfield"),null,true,u.options.submitMsgPosition)});c.on("submitFinished",function(ai){var ae=ai.submitFormIds;var aj=u.formManager.getFormList();var ak=[];for(var ah=0;ah<ae.length;ah++){aj[ae[ah]].unbindEvent();aj[ae[ah]].disableEdit();aj[ae[ah]].isSubmitted=true;var af=aj[ae[ah]].getFields();for(var al in af){ak.push({formId:ae[ah],fieldId:al})}}if(z){z.fadeOut(500,function(){z.remove()})}if(u.formManager.isAllFormSubmitted()){u.toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"]);u.viewer.setPreventPrintExport(false)}u.emit("submit-finished",ai.result);u.formManager.saved();var ag=function(){L.getInstance().removeField(ak);L.getInstance().blur();$("[formid="+ai.submitFormId+"][fieldid="+ai.submitFieldId+"]").removeClass("crownix-dialog-button-action").attr("disabled",true).off()};if(u.options.noMessageOfSubmitSuccess){ag()}else{u.dialog.show(l.get("submit_formfield_insert_ok"),{inputHandler:ag})}});c.on("submitFailed",function(){z.fadeOut(500,function(){z.remove()});u.dialog.show(l.get("submit_formfield_insert_fail"))});c.on("hostDoesNotExist",function(ae){if(N.maintainConnection){c.emit("leaveReport")}else{c.close();u.dialog.show(l.get(ae))}u.emit("sharing-aborted")});c.on("connect_timeout",function(){u.dialog.show(l.get("request_timeout_error"))});c.on("reconnect",function(ae){if(ab&&ab.name){c.emit("joinReport",{name:ab.name,password:ab.password,reconnect:true,isHost:V},function(af){ab.name=af.name;ab.password=af.password})}});c.on("connect",function(){t&&t()});c.on("disconnect",function(ae){I.unbindEvent();if(O){clearTimeout(O)}$(window).off("blur focus");if(ae==="transport close"){c.io.reconnect()}else{if(ae==="io client disconnect"&&ab.name){u.viewer.initViewer()}else{if(ae==="ping timeout"){if(ab.name){u.viewer.initViewer();u.dialog.show(l.get("share_stop_sharing"))}else{W&&W.close()}}else{if(ae==="transport error"){u.dialog.show(l.get("request_server_error"))}}}}});c.on("initFormField",function(ae){u.formManager.initFields(ae.options)});c.on("reDrawPage",function(){u.movePage(u.currentPage,true)});c.on("getFormData",function(af,ag){var ae={mrd:{}};if(u.isFormEditMode){ae.formData=u.viewer.exportFormData({includeExtra:true})}else{if(u.drilldownManager){ae.formData={drilldownInfo:u.drilldownManager["export"]()}}}if(N.mmlFromServer){ae.mrd.mml=u.viewer.exportMML({includeImage:true})}else{ae.mrd.path=u.mrdPath;ae.mrd.param=u.mrdParam;ae.mrd.options=u.options}if(u.noteManager){ae.noteData=JSON.stringify(u.noteManager["export"](u.totalPage))}ag(ae)});c.on("event",function(af){if(af.type&&af.formId&&af.fieldId){u.formManager.trigger(af.type,af.formId,af.fieldId)}else{if(af.type==="layer-close"){if(u.layerManager){var ae=u.layerManager.getActiveFloatingLayer();ae.win.close()}}else{if(af.type==="layer-onOk"){if(u.layerManager){var ae=u.layerManager.getActiveFloatingLayer();ae.onOk()}}else{if(af.type==="layer-onCancel"){if(u.layerManager){var ae=u.layerManager.getActiveFloatingLayer();ae.onCancel()}}}}}});c.on("responseFormData",function(ae){u.viewer.importFormData(ae.formData);setTimeout(function(){if(u.isFormEditMode){U(ae.focusInfo)}},0)});c.on("onOverlay",function(){z=u.dialog.message(l.get("share_sync"),null,true,u.options.submitMsgPosition)});c.on("offOverlay",function(){if(z){z.fadeOut(0,function(){z.remove()})}});c.on("displayOnSignMirrorView",function(aj){var ag=document.getElementById("share-signature-mirrorview-canvas");if(ag===null){return}var am=ag.getContext("2d");if(aj.indexOf("|")>-1){var ai=aj.split("|");var af=parseInt(ai[0]);var ak=parseInt(ai[1]);var ae=ag.width/af;var al=ae*ak;am.clearRect(al,0,ae,ag.height);var ah=new Image();ah.onload=function(){am.drawImage(ah,al,0,ae,ag.height)};ah.src=ai[2]}else{am.clearRect(0,0,ag.width,ag.height);var ah=new Image();ah.onload=function(){am.drawImage(ah,0,0,ag.width,ag.height)};ah.src=aj}});c.on("validate",function(ae){u.viewer.validate(ae)});c.on("getMessage",function(ae){u.emit("sharing-get-message",ae)});c.on("onSigning",function(ae){switch(ae){case"close":$(".crownix-signature-button.close-button").click();break;case"reset":$(".crownix-signature-button.reset-button, #crownix-signature-reset-button").click();break;case"ok":$(".crownix-signature-button.ok-button").click();break}});$(window).on("blur",I.setBlurTimeout).on("focus",I.setFocusTimeout);I.setFocusTimeout()};var h=function(ai){var ae=ai.idleTime||1000*600*3;var ah=function(){if(ae<0){return}if(O){clearTimeout(O)}O=setTimeout(function(){c.close();u.dialog.show(l.get("share_stop_sharing"))},ae)};var ag=function(){if(ae<0){return}if(O){clearTimeout(O)}if(!ab.name){O=setTimeout(function(){c.close();u.dialog.show(l.get("share_stop_sharing"))},ae)}else{O=setTimeout(function(){var ak=setTimeout(function(){$("#aOverlay").remove();$(".crownix-dialog-outer").remove();c.close();u.dialog.show(l.get("share_stop_sharing"))},1000*20);af();u.dialog.show(l.get("share_session_timeout").replace("%s",ae/60000),{inputHandler:function(){aj();clearTimeout(ak);ag()}})},ae)}};var aj=function(){$(document).on("mousemove touchend",ag)};var af=function(){$(document).off("mousemove touchend",ag)};this.setIdleTime=function(ak){ae=ak};this.getIdleTime=function(){return ae};this.setBlurTimeout=function(){ah()};this.setFocusTimeout=function(){ag()};this.bindEvent=function(){aj()};this.unbindEvent=function(){af()}};var G=function(){if(N&&!N.url){u.dialog.show("no_share_server_url");return false}if(P()){return true}c=io.connect(N.url,{reconnection:N.reconnection||false,"reconectionDelay ":20000,reconnectionAttempts:3,timeout:N.timeout?N.timeout*1000:20000});if(!I){I=new h(N)}w();return true};var P=function(){return c?c.connected:false};var F=function(ai,ag,af,ae){var ah={name:ag,password:af,curPage:u.currentPage,mrd:{openMml:N.mmlFromServer},options:ae};if(u.isFormEditMode){ah.formData=u.viewer.exportFormData({includeExtra:true})}if(N.mmlFromServer){ah.mrd.mml=u.viewer.exportMML({includeImage:true})}else{ah.mrd.path=u.mrdPath;ah.mrd.param=u.mrdParam;ah.mrd.options=u.options}if(u.noteManager){ah.noteData=JSON.stringify(u.noteManager["export"](u.totalPage))}if(ai==="createReport"){c.emit("createReport",ah,function(aj){ab.name=aj.name;ab.password=aj.password;I.bindEvent();I.setFocusTimeout();u.emit("sharing-finished",ab)})}else{c.emit("reopenReport",ah);I.bindEvent();I.setFocusTimeout()}};var m=function(af){if(af){if(af.indexOf(",")>=0){var ag=af.split(",");for(var ae in ag){if(!u.formManager.validateFileFields(ag[ae])){return false}}return true}else{return u.formManager.validateFileFields(af)}}return true};this.connect=function(ae){if(c&&c.connected===true){ae&&ae(c.connected)}else{if(ae){t=ae}G()}};this.disconnect=function(ae){if(!c||c.disconnected===true){return}if(ae.confirm===false||confirm(l.get("share_disconnect_confirm"))){u.toolbar&&u.toolbar.toggleShareButton(false);if(r){r.removeBtnDom()}c.close()}};this.createReport=function(ag,af,ae){if(!E&&!c&&!G()){return}var ah=ag.replace(/(^\s*)|(\s*$)/gi,"");var ai=/\s/g;if(ah.length===0){u.dialog.show(l.get("share_need_report_title"));return}else{if(ai.test(af)){u.dialog.show(l.get("share_not_allowed_space"));return}}if(N.mmlFromServer==undefined){N.mmlFromServer=true}ae=$.extend({},ae);if(ae.unlock){ad=true}if(ae.hideLock){b=true}if(ae.syncInvalid){S=true}F("createReport",ag,af,ae)};this.joinReport=function(af,ae){if(!E&&!c&&!G()){return}c.emit("joinReport",{name:af,password:ae},function(ag){ab.name=ag.name;ab.password=ag.password;I.bindEvent();I.setFocusTimeout()})};this.sendFormField=function(ae){if(P()){c.emit("formField",ae)}};this.sendFocusOnField=function(af,ae){if(c){c.emit("focusOn",{formId:af,fieldId:ae})}};this.sendFocusOutField=function(){if(c){c.emit("focusOut")}};this.sendLockFields=function(){if(c){c.emit("lockFields")}};this.sendUnlockFields=function(){if(c){c.emit("unlockFields")}};this.toggleDrilldown=function(ae){if(P()){c.emit("drilldown",ae)}};this.submitRequest=function(ag,ah,af,ae){if(!m(af)){return}H=ag;K=ah;c.emit("submitRequest",af,function(ai){if(ai==="done"){ae()}else{u.dialog.show(l.get(ai))}})};this.submitFinished=function(af,ag){var ae=[];for(var ah in ag){ae.push(ah)}c.emit("submitFinished",{submitFormIds:ae,submitFormId:ah,submitFieldId:K,result:af})};this.submitFailed=function(){c.emit("submitFailed");u.dialog.show(l.get("submit_formfield_insert_fail"))};this.showDialog=function(){W=new X(u);if(G()){W.show(c)}};this.isHost=function(){return V};this.isConnected=function(){return P()};this.sendNote=function(ae){if(c){ae.pageNo=u.currentPage;c.emit("note",ae)}};this.movePage=function(ae){if(c){c.emit("movePage",{isHost:V,page:ae})}};this.initFields=function(){if(c){T();if(!V){A();c.emit("isLock",function(){C()})}}};this.unableLicense=function(){E=true};this.relocateLockControl=function(){if(r){r.relocate()}};this.reportFinished=function(){if(V){F("reopenReport")}else{if(Q){Q()}}};this.scrollToPos=function(ae,af){ac(ae,af)};this.sendInitFormField=function(ae){if(P()){c.emit("initFormField",ae)}};this.reDrawPage=function(){if(c){c.emit("reDrawPage",{isHost:V})}};this.sendEvent=function(ae){if(P()){c.emit("event",ae)}};this.requestFormData=function(){if(P()){c.emit("requestFormData")}};this.startSync=function(){c.emit("startSync")};this.endSync=function(){c.emit("endSync")};this.onChangeSignValue=function(ae){c.emit("changeSignValue",ae)};this.validate=function(ae){if(S){c.emit("validate",ae)}};this.sendMessage=function(ae){c.emit("sendMessage",ae)}};m2soft.ns("m2soft.crownix.TextDialog");(function(){m2soft.crownix.TextDialog=function(c,T,b,A){var h=m2soft.crownix.Resource;var d=m2soft.crownix.Util;var U=m2soft.crownix.util.Unit;var g=m2soft.crownix.resource.Icon;var B=m2soft.crownix.util.Color;var a,G,l=[8,10,12,14,16,18,20,22,24,26,28,30],z=["#000000","#808080","#C0C0C0","#FFFFFF","#FFFF00","#00FF00","#00FFFF","#FF00FF","#FF0000","#008000","#0000FF","#000080","#800000","#808000","#008080","#800080"],e,K,V,Y,E,N,ai,W,ac,S,ab,r,D,M,Q,ag,H;var O=function(au){var aw=$("<div>").addClass("crownix-textnote-toolbar").bind("click",L).appendTo(a.parentNode);var ay=$("<li>").appendTo(aw);e=$("<div>",{text:"B",title:h.get("mask_dialog_bold")}).css("font-weight","bold").bind("click",q).appendTo(ay);var aq=$("<li>").appendTo(aw);K=$("<div>",{text:"I",title:h.get("text_italic")}).css("font-style","italic").bind("click",af).appendTo(aq);var am=$("<li>").appendTo(aw);V=$("<div>",{text:"U",title:h.get("text_underline")}).css("text-decoration","underline").bind("click",j).appendTo(am);var ar=$("<li>").appendTo(aw);Y=$("<div>",{text:"S",title:h.get("text_strike")}).css("text-decoration","line-through").bind("click",J).appendTo(ar);if(!au||au.indexOf("fontSize")==-1){$("<div>").addClass("crownix-textnote-separator").appendTo(aw);E=$("<li>").attr("title",h.get("text_fontsize")).appendTo(aw);var ax=$("<select>").data("isClick",false).bind("click",F).bind("change",Z).appendTo(E);for(var ap=0,ao=l.length;ap<ao;ap++){$("<option>",{text:l[ap]}).appendTo(ax)}}N=$("<li>").attr("title",h.get("text_fontcolor")).prepend(g.FONT_COLOR).bind("click",I).appendTo(aw);if(!au||au.indexOf("align")==-1){$("<div>").addClass("crownix-textnote-separator").appendTo(aw);ac=$("<li>").attr("title",h.get("text_align")).prepend(g.LEFT_ALIGN).bind("click",u).appendTo(aw);$("<div>").addClass("crownix-textnote-separator").appendTo(aw)}if(!au||au.indexOf("outLine")==-1){ai=$("<li>").attr("title",h.get("text_outline")).prepend(g.OUTLINE).bind("click",X).appendTo(aw)}if(!au||au.indexOf("background")==-1){W=$("<li>").attr("title",h.get("text_background")).prepend(g.BACKGROUND).bind("click",P).appendTo(aw)}if(!au||au.indexOf("alpha")==-1){D=$("<div>").addClass("crownix-textnote-alphaselector").appendTo(aw);M=$("<div>").attr({"class":"crownix-note-alpha-slider"}).on("change",ae).appendTo(D);Q=$("<input>").attr({"class":"crownix-note-alpha-number",disabled:"disabled"}).css({color:"#000000",opacity:1}).appendTo(D);M.crownixNoUiSlider({range:[0,1],start:0.5,handles:1,step:0.05,margin:20,connect:"lower",direction:"ltr",orientation:"horizontal",behaviour:"extend-tap",serialization:{to:function(az){var aA=parseInt(az*100)+"%";$(".crownix-note-alpha-number").val(aA)}},},true)}var an=$("<div>").addClass("crownix-textnote-colorselector").appendTo(aw);for(var ap=0,ao=z.length;ap<ao;ap++){$("<div>").data("fontColor",z[ap]).css({"background-color":z[ap],color:z[ap]}).text("O").bind("click",m).appendTo(an)}var av=$("<div>").addClass("crownix-textnote-alignselector").appendTo(aw);r=$("<div>").attr("title",h.get("text_rightalign")).prepend(g.RIGHT_ALIGN).data("align","end").bind("click",w).appendTo(av);ab=$("<div>").attr("title",h.get("text_centeralign")).prepend(g.CENTER_ALIGN).data("align","middle").bind("click",w).appendTo(av);S=$("<div>").attr("title",h.get("text_leftalign")).prepend(g.LEFT_ALIGN).data("align","start").bind("click",w).appendTo(av);var aj=aw.parents("#crownix-cxgrid-body-container");if(aw.offset().top+aw.height()+an.height()>G.height()||(aj.length&&aj.offset().top+aj.height()<aw.offset().top+aw.height()+an.height())){aw.css({top:-(a.offsetHeight+aw[0].offsetHeight)});an.css({top:-(aw[0].offsetHeight+an.height())})}var at=aw.children("li");var ak=0;var al=0;for(var ap=0;ap<at.length;ap++){if(ak<at[ap].offsetLeft){ak=at[ap].offsetLeft;al=at[ap].clientWidth}}aw.css("width",ak+al+2*(aw.css("padding")?parseInt(aw.css("padding")):0));if(G.width()<$(aw).offset().left-G.offset().left+$(aw).width()||(aj.length&&aj.offset().left+aj.width()<aw.offset().left+aw.width()+an.width())){$(aw).css({"float":"right"})}else{if(G.width()>=$(aw).offset().left-G.offset().left+$(aw).width()){$(aw).css({"float":"left"})}}};var f=function(aD,am){var aI=$("<div>").addClass("crownix-textnote-dialog-modal").appendTo(c);var aq=$("<div>").addClass("crownix-textnote-dialog").appendTo(aI);var at=a;var ay=$(at).val();if(!am){$("<textarea>").attr({placeholder:a&&a.placeholder?a.placeholder:h.get("text_placeholder"),maxLength:at.maxLength}).on("input",function(aO){$(at).val($(this).val());$(at).trigger(aO)}).appendTo(aq)}else{$("<input>").attr({placeholder:a.placeholder,type:am=="date"?"text":am,inputmode:am==="number"||am==="tel"?"numeric":"",}).on("input keyup blur",function(aO){$(at).val($(this).val());$(at).trigger(aO)}).prop("readonly",am=="date").appendTo(aq)}var aj=$("<div>").addClass("crownix-textnote-btnGroup").appendTo(aq);$("<button>",{text:h.get("cancel_button_text")}).addClass("crownix-textnote-dialog-left").bind("click",function(){$(at).val(ay);t()}).appendTo(aj);$("<button>",{text:h.get("text_attr")}).addClass("crownix-textnote-dialog-center").bind("click",C).appendTo(aj);$("<button>",{text:h.get("ok_button_text")}).addClass("crownix-textnote-dialog-right").bind("click",s).appendTo(aj);var aM=$("<div>").addClass("crownix-textEdit-dialog").appendTo(aI);$("<div>",{text:h.get("text_attr")}).addClass("crownix-textEdit-title").appendTo(aM);var aL=$("<div>").addClass("crownix-textEdit-layout").appendTo(aM);var aJ=$("<p>",{text:h.get("text_style")}).addClass("crownix-textEdit-subtitle").appendTo(aL);var aN=$("<div>").addClass("crownix-textEdit-contents").appendTo(aL);var al=$("<li>").appendTo(aN);e=$("<div>",{text:"B"}).css("font-weight","bold").bind("click",q).appendTo(al);var ao=$("<li>").appendTo(aN);K=$("<div>",{text:"I"}).css("font-style","italic").bind("click",af).appendTo(ao);var an=$("<li>").appendTo(aN);V=$("<div>",{text:"U"}).css("text-decoration","underline").bind("click",j).appendTo(an);var aB=$("<li>").appendTo(aN);Y=$("<div>",{text:"S"}).css("text-decoration","line-through").bind("click",J).appendTo(aB);var aK=$("<div>").addClass("crownix-textEdit-layout").appendTo(aM);var au=$("<p>",{text:h.get("text_font")}).addClass("crownix-textEdit-subtitle").appendTo(aK);var av=$("<div>").addClass("crownix-textEdit-font").appendTo(aK);var ak=$("<div>").addClass("crownix-textEdit-fontSize").appendTo(av);if(!aD||aD.indexOf("fontSize")==-1){for(var aG=0,aE=l.length;aG<aE;aG++){$("<div>",{text:"Aa"}).data("fontSize",l[aG]).css("font-size",l[aG]+"pt").bind("click",F).appendTo(ak)}}var aH=$("<div>").addClass("crownix-textEdit-font").appendTo(aK);var ar=$("<div>").addClass("crownix-textEdit-colorselector-mobile").appendTo(aH);for(var aG=0,aE=z.length;aG<aE;aG++){$("<div>").data("fontColor",z[aG]).css("background-color",z[aG]).bind("click",m).appendTo(ar)}if(!aD||aD.indexOf("align")==-1){var aA=$("<div>").addClass("crownix-textEdit-layout").appendTo(aM);var aC=$("<p>",{text:h.get("text_align")}).addClass("crownix-textEdit-subtitle").appendTo(aA);var aF=$("<div>").addClass("crownix-textEdit-contents").appendTo(aA);S=$("<li>").prepend(g.LEFT_ALIGN).data("align","start").bind("click",w).appendTo(aF);ab=$("<li>").prepend(g.CENTER_ALIGN).data("align","middle").bind("click",w).appendTo(aF);r=$("<li>").prepend(g.RIGHT_ALIGN).data("align","end").bind("click",w).appendTo(aF)}var ap=$("<div>").addClass("crownix-textEdit-layout").appendTo(aM);var ax=$("<p>",{text:h.get("textnote_format")}).addClass("crownix-textEdit-subtitle").appendTo(ap);var aw=$("<div>").addClass("crownix-textEdit-contents").appendTo(ap);if(!aD||aD.indexOf("outLine")==-1){ai=$("<li>").prepend(g.OUTLINE).bind("click",X).appendTo(aw)}if(!aD||aD.indexOf("background")==-1){W=$("<li>").prepend(g.BACKGROUND).data("isTransparent",false).bind("click",P).attr("class","button-selected").appendTo(aw)}if(!ap.children(".crownix-textEdit-contents").children().length){ap.remove()}if(!aD||aD.indexOf("alpha")==-1){D=$("<div>").addClass("crownix-textnote-alphaselector").css({"float":"none","vertical-align":"top","margin-top":"3px","box-shadow":"none",display:"inline-block"}).appendTo(aw);M=$("<div>").attr({"class":"crownix-note-alpha-slider"}).css({"background-color":"#4374D9"}).on("change",ae).appendTo(D);Q=$("<input>").attr({"class":"crownix-note-alpha-number",disabled:"disabled"}).css({color:"#000000",opacity:1}).appendTo(D);M.crownixNoUiSlider({range:[0,1],start:1,handles:1,step:0.05,margin:20,connect:"lower",direction:"ltr",orientation:"horizontal",behaviour:"extend-tap",serialization:{to:function(aO){var aP=parseInt(aO*100)+"%";$(".crownix-note-alpha-number").val(aP)}},},true)}var az=$("<div>").addClass("crownix-textnote-btnGroup").appendTo(aM);$("<button>",{text:h.get("cancel_button_text")}).addClass("crownix-textnote-dialog-left").bind("click",ah).appendTo(az);$("<button>",{text:h.get("ok_button_text")}).addClass("crownix-textnote-dialog-right").bind("click",n).appendTo(az);$(".crownix-textnote-dialog-modal").fadeIn(function(){if(!am){ag=$(".crownix-textnote-dialog-modal textarea")}else{ag=$(".crownix-textnote-dialog-modal input")}ag.focus();ad();ag.val(a.value);if(!H){a=H}});$(".crownix-textnote-dialog").fadeIn()};var L=function(aj){if(aj.target.nodeName=="SELECT"){return}if(a!==document.activeElement){$(a).focus()}else{if(typeof T=="function"){T(a)}}};var q=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}if(e.hasClass("button-selected")){$(a).css("font-weight","");e.removeClass("button-selected")}else{$(a).css("font-weight","bold");e.addClass("button-selected")}};var af=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}if(K.hasClass("button-selected")){$(a).css("font-style","");K.removeClass("button-selected")}else{$(a).css("font-style","italic");K.addClass("button-selected")}};var j=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}if(V.hasClass("button-selected")){if(a){if($(a).parents("#m2soft-crownix-field-wrapper").length){a.style.textDecoration=a.style.textDecoration.replace("underline","")}else{$(a).attr("text-decoration","");$(a).css("text-decoration","")}}V.removeClass("button-selected")}else{if(a){if($(a).parents("#m2soft-crownix-field-wrapper").length){a.style.textDecoration=a.style.textDecoration=="none"?"underline":a.style.textDecoration+" underline"}else{$(a).attr("text-decoration","underline");$(a).css("text-decoration","underline");Y.removeClass("button-selected")}}V.addClass("button-selected")}};var J=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}if(Y.hasClass("button-selected")){if(a){if($(a).parents("#m2soft-crownix-field-wrapper").length){a.style.textDecoration=a.style.textDecoration.replace("line-through","")}else{$(a).attr("text-decoration","");$(a).css("text-decoration","")}}Y.removeClass("button-selected")}else{if(a){if($(a).parents("#m2soft-crownix-field-wrapper").length){a.style.textDecoration=a.style.textDecoration=="none"?"line-through":a.style.textDecoration+" line-through"}else{$(a).attr("text-decoration","line-through");$(a).css("text-decoration","line-through");V.removeClass("button-selected")}}Y.addClass("button-selected")}};var I=function(aj){$(".crownix-textnote-alignselector").fadeOut(function(){$(".crownix-textnote-alphaselector").hide();if($(".crownix-textnote-colorselector").css("display")=="none"){$(".crownix-textnote-colorselector").fadeIn();$(".crownix-textnote-colorselector").css("zIndex",1)}else{$(".crownix-textnote-colorselector").fadeOut();$(".crownix-textnote-colorselector").css("zIndex","")}})};var m=function(ak){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}var aj=ak?$(ak.target).data("fontColor"):$(a).css("color");$(a).css("color",aj);if(!d.browser.mobile){$(".crownix-textnote-fontcolor").css({stroke:aj})}else{$(".crownix-textEdit-colorselector-mobile div").removeClass("fontColor-selected");$(ak.target).addClass("fontColor-selected");N=$(ak.target)}};var X=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut()}if(ai.hasClass("button-selected")){$(a).css("border","");$(a).attr("border","");ai.removeClass("button-selected")}else{$(a).css("border","solid #000000");$(a).attr("border","solid #000000");ai.addClass("button-selected")}};var k=function(){var ak=parseFloat(M.val());var al=B.toRgbString(B.hexToRgb("#000000",0,ak));var aj=B.toRgbString(B.hexToRgb("#FAF4C0",0,ak));return{border:al,background:aj}};var ae=function(ak){if(!d.browser.mobile){if(!d.browser.msie&&document.activeElement===a){a.blur()}var aj=k();$(a).css("border-color",aj.border);$(a).css("background-color",aj.background);$(a).attr("opacity",M.val());$(a).focus()}};var P=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector").fadeOut(function(){$(".crownix-textnote-alignselector").hide();if(D.css("display")=="none"){D.fadeIn();D.css("zIndex",1)}else{D.fadeOut();D.css("zIndex","")}})}};var u=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector").fadeOut(function(){$(".crownix-textnote-alphaselector").hide();if($(".crownix-textnote-alignselector").css("display")=="none"){$(".crownix-textnote-alignselector").fadeIn();$(".crownix-textnote-alignselector").css("zIndex",1)}else{$(".crownix-textnote-alignselector").fadeOut();$(".crownix-textnote-alignselector").css("zIndex","")}})}};var w=function(aj){if(!d.browser.mobile){$(".crownix-textnote-alignselector").fadeOut()}S.removeClass("button-selected");ab.removeClass("button-selected");r.removeClass("button-selected");$(aj.currentTarget).addClass("button-selected");if($(aj.currentTarget).data("align")=="start"){$(a).css("text-align","left");if(ac){ac.children("svg").remove();ac.prepend(g.LEFT_ALIGN)}}else{if($(aj.currentTarget).data("align")=="middle"){$(a).css("text-align","center");if(ac){ac.children("svg").remove();ac.prepend(g.CENTER_ALIGN)}}else{if($(aj.currentTarget).data("align")=="end"){$(a).css("text-align","right");if(ac){ac.children("svg").remove();ac.prepend(g.RIGHT_ALIGN)}}}}$(a).val($(a).val())};var F=function(aj){if(!d.browser.mobile){$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut();if($(aj.currentTarget).data("isClick")){$(aj.currentTarget).data("isClick",false);$(a).focus()}else{$(aj.currentTarget).data("isClick",true)}}else{$(a).css("font-size",$(aj.currentTarget).data("fontSize")+"pt");E=$(aj.currentTarget);$(".crownix-textEdit-fontSize div").removeClass("fontSize-selected");$(aj.currentTarget).addClass("fontSize-selected")}};var Z=function(aj){$(a).css("font-size",aj.target.value+"pt");$(a).focus()};var ad=function(){if(e.hasClass("button-selected")){ag.css("font-weight","bold")}else{ag.css("font-weight","")}if(K.hasClass("button-selected")){ag.css("font-style","italic")}else{ag.css("font-style","")}ag[0].style.textDecoration="";if(V.hasClass("button-selected")){ag[0].style.textDecoration="underline";ag.attr("text-decoration","underline")}if(Y.hasClass("button-selected")){ag[0].style.textDecoration=ag[0].style.textDecoration+" line-through";ag.attr("text-decoration","line-through")}if(ai){if(ai.hasClass("button-selected")){ag.css("border","solid #000000");ag.attr("border","solid #000000")}else{ag.css("border","none");ag.attr("border","none")}}if(M){var aj=k();ag.attr("opacity",M.val());ag.css("border-color",aj.border);ag.css("background-color",aj.background)}if(S){if(ab.hasClass("button-selected")){ag.css("text-align","center")}else{if(r.hasClass("button-selected")){ag.css("text-align","right")}else{ag.css("text-align","left")}}}if(E){ag.css("font-size",E.data("fontSize")+"pt")}if(N){ag.css("color",N.data("fontColor"))}else{ag.css("color",a.style.color)}};var aa=function(aq){if($(aq).css("font-weight")=="bold"||$(aq).css("font-weight")==700){e.addClass("button-selected")}else{e.removeClass("button-selected")}if($(aq).css("font-style")=="italic"){K.addClass("button-selected")}else{K.removeClass("button-selected")}if($(aq).css("text-decoration").toLowerCase().indexOf("underline")!==-1){V.addClass("button-selected")}else{V.removeClass("button-selected")}if($(aq).css("text-decoration").toLowerCase().indexOf("line-through")!==-1){Y.addClass("button-selected")}else{Y.removeClass("button-selected")}if(ai){if(($(aq).css("border")||aq.style.border).indexOf("solid")!=-1){ai.addClass("button-selected")}else{ai.removeClass("button-selected")}}if(M){if($(aq).attr("opacity")){M.val($(aq).attr("opacity"));var al=k();$(aq).css("border-color",al.border);$(aq).css("background-color",al.background)}else{$(aq).attr("opacity",M.val())}}if(r){r.removeClass("button-selected");S.removeClass("button-selected");ab.removeClass("button-selected");if(ac){ac.children("svg").remove()}if($(aq).css("text-align")=="center"){ab.addClass("button-selected");if(ac){ac.prepend(g.CENTER_ALIGN)}}else{if($(aq).css("text-align")=="right"){r.addClass("button-selected");if(ac){ac.prepend(g.RIGHT_ALIGN)}}else{S.addClass("button-selected");if(ac){ac.prepend(g.LEFT_ALIGN)}}}}if(E){var ak=parseInt($(aq).css("font-size")?Math.round(U.pxToPt(parseInt($(aq).css("font-size")))):"12");if(!d.browser.mobile){E.children("select").val(ak)}else{E=null;for(var an=0,am=$(".crownix-textEdit-fontSize div").length;an<am;an++){var ap=$(".crownix-textEdit-fontSize div")[an];$(ap).removeClass("fontSize-selected");if($(ap).data("fontSize")==ak){$(ap).addClass("fontSize-selected");E=$(ap)}}if(!E){E=$(".crownix-textEdit-fontSize");E.data("fontSize",ak)}}}if(!d.browser.mobile){m()}else{var al=$(aq).css("color")?Raphael.color($(aq).css("color")).hex:"#000000";var aj=$(".crownix-textEdit-colorselector-mobile div");aj.removeClass("fontColor-selected");for(var an=0,am=aj.length;an<am;an++){var ao=aj[an];if($(ao).data("fontColor").toLowerCase()==al.toLowerCase()){$(ao).addClass("fontColor-selected");N=$(ao);break}else{N=null}}}};var t=function(){$(".crownix-textnote-dialog-modal").fadeOut();$(".crownix-textEdit-dialog").fadeOut();$(".crownix-textnote-dialog-modal").remove();if(typeof A==="function"){A()}};var C=function(){$(".crownix-textnote-dialog").fadeOut(function(){$(".crownix-textEdit-dialog").fadeIn();aa(ag)})};var n=function(){$(".crownix-textEdit-dialog").fadeOut(function(){$(".crownix-textnote-dialog").fadeIn();ag.focus();ad()})};var s=function(){$(".crownix-textnote-dialog-modal").fadeOut();$(".crownix-textEdit-dialog").fadeOut();if(typeof T=="function"){T(H,ag)}$(".crownix-textnote-dialog-modal").remove()};var ah=function(){$(".crownix-textEdit-dialog").fadeOut(function(){$(".crownix-textnote-dialog").fadeIn();ag.focus()})};this.showDialog=function(al,ak,am,aj){if(typeof b==="function"){b()}a=al;H=ak;f(am,aj);aa(a)};this.showToolbar=function(aj,al,ak){a=aj;G=al;O(ak);aa(a)};this.destroyDialog=function(){$(".crownix-textnote-dialog-modal").remove()};this.closeToolbar=function(){$(".crownix-textnote-toolbar").remove()};this.setValue=function(aj){if(ag){ag.val(aj)}}}})();m2soft.ns("m2soft.crownix.Runtime");m2soft.crownix.Runtime=function(){var a=[];this.addColumn=function(b,d,c){a.push({objectName:b,width:d,option:c,cellInfos:[]});return this};this.addCell=function(d,j,c,g,h,f,e,b){a[a.length-1].cellInfos.push({index:d,title:j,variable:c,summarize:g,command:h,attribute:f,option:e,refField:b});return this};this.toJson=function(){if(a.length>0){return JSON.stringify({columnInfos:a})}else{return""}}};m2soft.ns("m2soft.crownix.Forgery");(function(){var a=m2soft.crownix.Forgery;var f=function(g){var h=$(g);if(g.parentElement.id=="crownix-cxgrid-body-table"||g.id.indexOf("crownix-cxgrid-")==0||g.parentElement&&g.parentElement.id.indexOf("crownix-cxgrid-")==0||h.hasClass("crownix-cxgrid-menu-item-label")){return true}return false};var b=function(g){var h=$(g);if((g.id&&g.id.indexOf("crownix_form_field_")==0)||h.parents('[id^="crownix_form_field_"]').length>0||(h.attr("for")&&h.attr("for").indexOf("crownix_form_field_")==0)||h.parents('[for^="crownix_form_field_"]').length>0||g.id&&g.id==="m2soft-crownix-field-wrapper"||g.parentElement&&g.parentElement.id==="m2soft-crownix-field-wrapper"){return true}return false};var e=function(k){var j=k.target;var l=$(j);var h=k.data.isFormEdit;var g=k.originalEvent&&(k.originalEvent.srcElement||k.originalEvent.originalTarget);if(l.hasClass("crownix-pagenum")){return true}if(l.hasClass("crownix-layer-page")||l.hasClass("iScrollIndicator")){return true}if(l.hasClass("crownix-search-mark")||l.hasClass("crownix-search-mark-layer")||l.parent().hasClass("crownix-search-mark")||l.parent().hasClass("crownix-search-mark-layer")){return true}if(l.hasClass("crownix-layer-page")||l.hasClass("iScrollIndicator")||l.hasClass("iScrollHorizontalScrollbar")||l.hasClass("iScrollVerticalScrollbar")){return true}if(l.parents().hasClass("crownix-guide-overlay")||l.hasClass("crownix-guide-overlay")){return true}if(j.tagName=="svg"||l.parents("svg").length>0){return true}if(j.tagName=="A"||j.tagName=="a"){return true}if(g&&(g.id==="crownix_focus_mark"||g.className==="crownix-virtual-cursor")){return true}if((j.id&&j.id==="m2soft-crownix-normal-button")||((j.tagName.toLowerCase()==="img"||j.tagName.toLowerCase()==="span")&&j.parentElement&&j.parentElement.id==="m2soft-crownix-normal-button")||(j.id&&j.id==="m2soft-crownix-normal-combo")){return true}if(l.hasClass("crownix-textnote-toolbar")||l.parents().hasClass("crownix-textnote-toolbar")){return true}if(f(j)){return true}if(h){return b(j)}else{return false}};var c=function(l){if(e(l)){return}var r="\u004e\u006f\u0074 \u0041\u0070\u0070\u0072\u006f\u0076\u0065\u0064",s=l.data.text,h=s.width(),n=s.height(),q=Math.min(h,n)/8,m="#CB1111",j=l.data.canvas,g=j.getContext("2d");var k=$("<div>").attr({id:"crownix-forgery-mark",}).css({position:"absolute",color:m,"font-family":"Arial","font-size":q+"px",transform:"rotate(330deg)",}).text(r);s.off("DOMSubtreeModified");k.appendTo(s);k.css({left:h/2-k.width()/2+"px",top:n/2-k.height()/2+"px",});g.save();g.translate(h/2,n/2);g.rotate(11/6*Math.PI);g.font=q+"px Arial";g.textAlign="center";g.textBaseline="middle";g.fillStyle=m;g.fillText(r,0,0);g.restore();a.detect(s,j,l.data.isFormEdit)};var d;m2soft.crownix.Forgery.detect=function(j,h,g){clearTimeout(d);d=setTimeout(function(){var k=$._data(j[0],"events");if(!k||!k.DOMSubtreeModified){setTimeout(function(){j.on("DOMSubtreeModified",{text:j,canvas:h,isFormEdit:g},c)},0)}},1000);return d}})();m2soft.ns("m2soft.crownix.CanvasManager");m2soft.crownix.CanvasManager=function(e){var n=m2soft.crownix.Util;var q=m2soft.crownix.ChannelManager;var b,r,l,c,d,j=0,h=0,m,a,k,g,f;var s=4.8;this.saveParts=function(){if(!d){return}var z=b.getContext("2d"),B=e.drilldownManager.getDrilldownLength()?1:l.scale,t=j*B,C=h*B,u=b.width,A=b.height;m=z.getImageData(0,0,u,A);if(j>0&&h>0){a=z.getImageData(0,0,t,C);k=z.getImageData(t,0,u,C);g=z.getImageData(0,C,t,A);f=z.getImageData(t,C,u,A)}else{if(j>0){a=z.getImageData(0,0,t,A);k=z.getImageData(t,0,u,A)}else{if(h>0){a=z.getImageData(0,0,u,C);g=z.getImageData(0,C,u,A)}}}};this.moveParts=function(){if(c){c.remove();$(b).show();c=undefined}if(!d||(l.maxScrollX==0&&l.maxScrollY==0)){return}var z=b.getContext("2d"),D=e.drilldownManager.getDrilldownLength()?1:l.scale,C=j*D,B=h*D,t=l.x<0?Math.abs(l.x):0,E=l.y<0?Math.abs(l.y):0,u=b.width,A=b.height;if(e.drilldownManager.getDrilldownLength()){t/=l.scale;E/=l.scale}z.save();!e.drilldownManager.getDrilldownLength()&&z.scale(1,1);z.clearRect(0,0,u,A);z.restore();if(j>0&&h>0){z.putImageData(f,C,B,t,E,u,A);z.putImageData(k,C,E,t,0,u,A);z.putImageData(g,t,B,0,E,u,A);z.putImageData(a,t,E)}else{if(j>0){z.putImageData(k,C,0,t,0,u,A);z.putImageData(a,t,0)}else{if(h>0){z.putImageData(g,0,B,0,E,u,A);z.putImageData(a,0,E)}}}};this.restore=function(){if(!d){return}var u=b.getContext("2d"),t=b.width,z=b.height;c=$(b).clone().appendTo($(b).parent());c[0].getContext("2d").drawImage(b,0,0);$(b).hide();u.putImageData(m,0,0)};this.setPage=function(w,u,t,A,C){b=A[0];l=C;r=t;var B=$(u.getPage(w)),z=B.find("FL");if(z!==undefined){j=z.attr("fx")?z.attr("fx")/10.3-s:0;h=z.attr("fy")?z.attr("fy")/10.3:0;if(j>0||h>0){d=true;l.options.momentum=false;l.options.bounce=false}else{d=false}}else{d=false}$(t).on(n.browser.mobile?"touchend":"click",function(F){if(l.moved){return}var G=l.scale,D=n.browser.mobile?(F.originalEvent.changedTouches[0].pageX-t.offset().left)/G:F.offsetX,H=n.browser.mobile?(F.originalEvent.changedTouches[0].pageY-t.offset().top)/G:F.offsetY,E=$(F.target);if(isNaN(D)||isNaN(H)){return}if(l.x<0&&D+l.x/G<j){D=D+l.x/G}if(l.y<0&&H+l.y/G<h){H=H+l.y/G}D*=G;H*=G;E.find("a").each(function(K,J){var N=$(this),M=N.position(),I=N.width()*G,L=N.height()*G;if(D>M.left&&D<M.left+I&&H>M.top&&H<M.top+L){N.find("div").trigger("click")}})})};this.redraw=function(t,A,C,E,z,B,G,H,I){b=z[0];l=G;r=E;var D=$(A.getPage(t)),F=A.getHeadForPage(t),u=D.attr("wd")/10.3,K=D.attr("ht")/10.3,L=b.getContext("2d"),J=e.options.scrollOptions.useInfiniteScroll;if(!e.drilldownManager.getDrilldownLength()||!d){var w=l.scale*window.devicePixelRatio||1;if(w>e.options.maxScaleRatio){w=e.options.maxScaleRatio}b.width=u*w;b.height=K*w;L.fillStyle="#FFFFFF";L.fillRect(0,0,b.width,b.height);L.scale(w,w);if(J&&(n.browser.name==="iOS"||n.browser.name==="Safari")){$(b).css("transform","translateZ(-1px)")}}$(E).children().not(I).remove();if(!J){l.disable()}H(b,E,D,F,function(){e.drilldownManager.updateInfo(t,D,C,E,z,B);e.drilldownManager.reload(t);if(e.options.useTableOfContents&&e.tableOfContents){e.tableOfContents.onDrawPage(E,t)}if(e.ttsManager){e.ttsManager.makeParagraphs(D)}if(J){C.children(".crownix-page-loading").remove();C.attr("loading-state","done");if(t===1&&e.totalPage>1){e.toolbar.enableToolbarItem(["next","last","move"])}}else{C.css("visibility","visible")}if(e.license.isAllowedFeature("FormField")&&e.isFormEditMode){m2soft.crownix.FieldOrder.getInstance().bind(E,l,t)}e.finishDrawPage=true;q.getChannel("viewer:onDrawPage").publish();q.getChannel("tabOrder:movePage").publish();q.getChannel("viewer:onReportFinished").publish();$("#"+m2soft.crownix.Constant.PAGE_LOADING_ID).remove()})};this.isFixedFrame=function(){return d};this.needRedraw=true};!function(A){var z,w,u="0.4.2",t="hasOwnProperty",s=/[\.\/]/,r="*",q=function(){},n=function(d,c){return d-c},m={n:{}},l=function(K,J){K=String(K);var I,H=w,G=Array.prototype.slice.call(arguments,2),F=l.listeners(K),E=0,D=[],C={},B=[],k=z;z=K,w=0;for(var c=0,b=F.length;b>c;c++){"zIndex" in F[c]&&(D.push(F[c].zIndex),F[c].zIndex<0&&(C[F[c].zIndex]=F[c]))}for(D.sort(n);D[E]<0;){if(I=C[D[E++]],B.push(I.apply(J,G)),w){return w=H,B}}for(c=0;b>c;c++){if(I=F[c],"zIndex" in I){if(I.zIndex==D[E]){if(B.push(I.apply(J,G)),w){break}do{if(E++,I=C[D[E]],I&&B.push(I.apply(J,G)),w){break}}while(I)}else{C[I.zIndex]=I}}else{if(B.push(I.apply(J,G)),w){break}}}return w=H,z=k,B.length?B:null};l._events=m,l.listeners=function(K){var J,I,H,G,F,E,D,C,B=K.split(s),j=m,g=[j],f=[];for(G=0,F=B.length;F>G;G++){for(C=[],E=0,D=g.length;D>E;E++){for(j=g[E].n,I=[j[B[G]],j[r]],H=2;H--;){J=I[H],J&&(C.push(J),f=f.concat(J.f||[]))}}g=C}return f},l.on=function(h,f){if(h=String(h),"function"!=typeof f){return function(){}}for(var C=h.split(s),B=m,k=0,j=C.length;j>k;k++){B=B.n,B=B.hasOwnProperty(C[k])&&B[C[k]]||(B[C[k]]={n:{}})}for(B.f=B.f||[],k=0,j=B.f.length;j>k;k++){if(B.f[k]==f){return q}}return B.f.push(f),function(b){+b==+b&&(f.zIndex=+b)}},l.f=function(d){var c=[].slice.call(arguments,1);return function(){l.apply(null,[d,null].concat(c).concat([].slice.call(arguments,0)))}},l.stop=function(){w=1},l.nt=function(b){return b?new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)").test(z):z},l.nts=function(){return z.split(s)},l.off=l.unbind=function(H,G){if(!H){return l._events=m={n:{}},void 0}var F,E,D,C,B,k,j,g=H.split(s),f=[m];for(C=0,B=g.length;B>C;C++){for(k=0;k<f.length;k+=D.length-2){if(D=[k,1],F=f[k].n,g[C]!=r){F[g[C]]&&D.push(F[g[C]])}else{for(E in F){F[t](E)&&D.push(F[E])}}f.splice.apply(f,D)}}for(C=0,B=f.length;B>C;C++){for(F=f[C];F.n;){if(G){if(F.f){for(k=0,j=F.f.length;j>k;k++){if(F.f[k]==G){F.f.splice(k,1);break}}!F.f.length&&delete F.f}for(E in F.n){if(F.n[t](E)&&F.n[E].f){var e=F.n[E].f;for(k=0,j=e.length;j>k;k++){if(e[k]==G){e.splice(k,1);break}}!e.length&&delete F.n[E].f}}}else{delete F.f;for(E in F.n){F.n[t](E)&&F.n[E].f&&delete F.n[E].f}}F=F.n}}},l.once=function(e,d){var f=function(){return l.unbind(e,f),d.apply(this,arguments)};return l.on(e,f)},l.version=u,l.toString=function(){return"You are running Eve "+u},"undefined"!=typeof module&&module.exports?module.exports=l:"undefined"!=typeof define?define("eve",[],function(){return l}):A.eve=l}(this),function(d,c){"function"==typeof define&&define.amd?define(["eve"],function(a){return c(d,a)}):c(d,d.eve)}(this,function(a8,a7){function a6(b){if(a6.is(b,"function")){return aG?b():a7.on("raphael.DOMload",b)}if(a6.is(b,bj)){return a6._engine.create[bK](a6,b.splice(0,3+a6.is(b[0],bl))).add(b)}var f=Array.prototype.slice.call(arguments,0);if(a6.is(f[f.length-1],"function")){var c=f.pop();return aG?c.call(a6._engine.create[bK](a6,f)):a7.on("raphael.DOMload",function(){c.call(a6._engine.create[bK](a6,f))})}return a6._engine.create[bK](a6,arguments)}function a5(e){if("function"==typeof e||Object(e)!==e){return e}var d=new e.constructor;for(var f in e){e[aA](f)&&(d[f]=a5(e[f]))}return d}function a2(f,e){for(var h=0,g=f.length;g>h;h++){if(f[h]===e){return f.push(f.splice(h,1)[0])}}}function a1(f,e,h){function g(){var d=Array.prototype.slice.call(arguments,0),c=d.join("␀"),b=g.cache=g.cache||{},a=g.count=g.count||[];return b[aA](c)?(a2(a,c),h?h(b[c]):b[c]):(a.length>=1000&&delete b[a.shift()],a.push(c),b[c]=f[bK](e,d),h?h(b[c]):b[c])}return g}function aZ(){return this.hex}function aY(h,g){for(var m=[],l=0,k=h.length;k-2*!g>l;l+=2){var j=[{x:+h[l-2],y:+h[l-1]},{x:+h[l],y:+h[l+1]},{x:+h[l+2],y:+h[l+3]},{x:+h[l+4],y:+h[l+5]}];g?l?k-4==l?j[3]={x:+h[0],y:+h[1]}:k-2==l&&(j[2]={x:+h[0],y:+h[1]},j[3]={x:+h[2],y:+h[3]}):j[0]={x:+h[k-2],y:+h[k-1]}:k-4==l?j[3]=j[2]:l||(j[0]={x:+h[l],y:+h[l+1]}),m.push(["C",(-j[0].x+6*j[1].x+j[2].x)/6,(-j[0].y+6*j[1].y+j[2].y)/6,(j[1].x+6*j[2].x-j[3].x)/6,(j[1].y+6*j[2].y-j[3].y)/6,j[2].x,j[2].y])}return m}function aX(j,h,q,n,m){var l=-3*h+9*q-9*n+3*m,k=j*l+6*h-12*q+6*n;return j*k-3*h+3*q}function aU(P,O,N,M,L,K,J,I,H){null==H&&(H=1),H=H>1?1:0>H?0:H;for(var G=H/2,F=12,E=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],D=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],C=0,B=0;F>B;B++){var A=G*E[B]+G,z=aX(A,P,N,L,J),w=aX(A,O,M,K,I),u=z*z+w*w;C+=D[B]*bt.sqrt(u)}return G*C}function aT(F,E,D,C,B,A,z,w,u){if(!(0>u||aU(F,E,D,C,B,A,z,w)<u)){var t,s=1,r=s/2,q=s-r,j=0.01;for(t=aU(F,E,D,C,B,A,z,w,q);bp(t-u)>j;){r/=2,q+=(u>t?1:-1)*r,t=aU(F,E,D,C,B,A,z,w,q)}return q}}function aR(H,G,F,E,D,C,B,A){if(!(bs(H,F)<br(D,B)||br(H,F)>bs(D,B)||bs(G,E)<br(C,A)||br(G,E)>bs(C,A))){var z=(H*E-G*F)*(D-B)-(H-F)*(D*A-C*B),w=(H*E-G*F)*(C-A)-(G-E)*(D*A-C*B),u=(H-F)*(C-A)-(G-E)*(D-B);if(u){var t=z/u,s=w/u,r=+t.toFixed(2),q=+s.toFixed(2);if(!(r<+br(H,F).toFixed(2)||r>+bs(H,F).toFixed(2)||r<+br(D,B).toFixed(2)||r>+bs(D,B).toFixed(2)||q<+br(G,E).toFixed(2)||q>+bs(G,E).toFixed(2)||q<+br(C,A).toFixed(2)||q>+bs(C,A).toFixed(2))){return{x:t,y:s}}}}}function aQ(Y,X,W){var V=a6.bezierBBox(Y),U=a6.bezierBBox(X);if(!a6.isBBoxIntersect(V,U)){return W?0:[]}for(var T=aU.apply(0,Y),S=aU.apply(0,X),Q=bs(~~(T/5),1),P=bs(~~(S/5),1),O=[],N=[],M={},L=W?0:[],J=0;Q+1>J;J++){var H=a6.findDotsAtSegment.apply(a6,Y.concat(J/Q));O.push({x:H.x,y:H.y,t:J/Q})}for(J=0;P+1>J;J++){H=a6.findDotsAtSegment.apply(a6,X.concat(J/P)),N.push({x:H.x,y:H.y,t:J/P})}for(J=0;Q>J;J++){for(var G=0;P>G;G++){var F=O[J],E=O[J+1],D=N[G],C=N[G+1],l=bp(E.x-F.x)<0.001?"y":"x",j=bp(C.x-D.x)<0.001?"y":"x",c=aR(F.x,F.y,E.x,E.y,D.x,D.y,C.x,C.y);if(c){if(M[c.x.toFixed(4)]==c.y.toFixed(4)){continue}M[c.x.toFixed(4)]=c.y.toFixed(4);var K=F.t+bp((c[l]-F[l])/(E[l]-F[l]))*(E.t-F.t),I=D.t+bp((c[j]-D[j])/(C[j]-D[j]))*(C.t-D.t);K>=0&&1.001>=K&&I>=0&&1.001>=I&&(W?L++:L.push({x:c.x,y:c.y,t1:br(K,1),t2:br(I,1)}))}}}return L}function aP(U,T,S){U=a6._path2curve(U),T=a6._path2curve(T);for(var Q,P,O,N,M,L,K,J,I,H,G=S?0:[],F=0,E=U.length;E>F;F++){var D=U[F];if("M"==D[0]){Q=M=D[1],P=L=D[2]}else{"C"==D[0]?(I=[Q,P].concat(D.slice(1)),Q=I[6],P=I[7]):(I=[Q,P,Q,P,M,L,M,L],Q=M,P=L);for(var C=0,B=T.length;B>C;C++){var A=T[C];if("M"==A[0]){O=K=A[1],N=J=A[2]}else{"C"==A[0]?(H=[O,N].concat(A.slice(1)),O=H[6],N=H[7]):(H=[O,N,O,N,K,J,K,J],O=K,N=J);var z=aQ(I,H,S);if(S){G+=z}else{for(var m=0,c=z.length;c>m;m++){z[m].segment1=F,z[m].segment2=C,z[m].bez1=I,z[m].bez2=H}G=G.concat(z)}}}}}return G}function aN(h,g,m,l,k,j){null!=h?(this.a=+h,this.b=+g,this.c=+m,this.d=+l,this.e=+k,this.f=+j):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function aM(){return this.x+bC+this.y+bC+this.width+" × "+this.height}function aK(H,G,F,E,D,C){function B(b){return((t*b+u)*b+w)*b}function A(e,d){var f=z(e,d);return((q*f+r)*f+s)*f}function z(j,g){var J,I,n,m,l,k;for(n=j,k=0;8>k;k++){if(m=B(n)-j,bp(m)<g){return n}if(l=(3*t*n+2*u)*n+w,bp(l)<0.000001){break}n-=m/l}if(J=0,I=1,n=j,J>n){return J}if(n>I){return I}for(;I>J;){if(m=B(n),bp(m-j)<g){return n}j>m?J=n:I=n,n=(I-J)/2+J}return n}var w=3*G,u=3*(E-G)-w,t=1-w-u,s=3*F,r=3*(D-F)-s,q=1-s-r;return A(H,1/(200*C))}function aJ(g,f){var k=[],j={};if(this.ms=f,this.times=1,g){for(var h in g){g[aA](h)&&(j[bd(h)]=g[h],k.push(bd(h)))}k.sort(ca)}this.anim=j,this.top=k[k.length-1],this.percents=k}function aI(cr,cq,cp,co,cn,cm){cp=bd(cp);var cl,ck,cj,ci,ch,cg,cc=cr.ms,bb={},ab={},Y={};if(co){for(V=0,S=aS.length;S>V;V++){var X=aS[V];if(X.el.id==cq.id&&X.anim==cr){X.percent!=cp?(aS.splice(V,1),cj=1):ck=X,cq.attr(X.totalOrigin);break}}}else{co=+ab}for(var V=0,S=cr.percents.length;S>V;V++){if(cr.percents[V]==cp||cr.percents[V]>co*cr.top){cp=cr.percents[V],ch=cr.percents[V-1]||0,cc=cc/cr.top*(cp-ch),ci=cr.percents[V+1],cl=cr.anim[cp];break}co&&cq.attr(cr.anim[cr.percents[V]])}if(cl){if(ck){ck.initstatus=co,ck.start=new Date-ck.ms*co}else{for(var J in cl){if(cl[aA](J)&&(ar[aA](J)||cq.paper.customAttributes[aA](J))){switch(bb[J]=cq.attr(J),null==bb[J]&&(bb[J]=aO[J]),ab[J]=cl[J],ar[J]){case bl:Y[J]=(ab[J]-bb[J])/cc;break;case"colour":bb[J]=a6.getRGB(bb[J]);var cb=a6.getRGB(ab[J]);Y[J]={r:(cb.r-bb[J].r)/cc,g:(cb.g-bb[J].g)/cc,b:(cb.b-bb[J].b)/cc};break;case"path":var bc=ax(bb[J],ab[J]),ac=bc[1];for(bb[J]=bc[0],Y[J]=[],V=0,S=bb[J].length;S>V;V++){Y[J][V]=[0];for(var Z=1,W=bb[J][V].length;W>Z;Z++){Y[J][V][Z]=(ac[V][Z]-bb[J][V][Z])/cc}}break;case"transform":var U=cq._,T=ba(U[J],ab[J]);if(T){for(bb[J]=T.from,ab[J]=T.to,Y[J]=[],Y[J].real=!0,V=0,S=bb[J].length;S>V;V++){for(Y[J][V]=[bb[J][V][0]],Z=1,W=bb[J][V].length;W>Z;Z++){Y[J][V][Z]=(ab[J][V][Z]-bb[J][V][Z])/cc}}}else{var I=cq.matrix||new aN,E={_:{transform:U.transform},getBBox:function(){return cq.getBBox(1)}};bb[J]=[I.a,I.b,I.c,I.d,I.e,I.f],b2(E,ab[J]),ab[J]=E._.transform,Y[J]=[(E.matrix.a-I.a)/cc,(E.matrix.b-I.b)/cc,(E.matrix.c-I.c)/cc,(E.matrix.d-I.d)/cc,(E.matrix.e-I.e)/cc,(E.matrix.f-I.f)/cc]}break;case"csv":var z=bB(cl[J])[bA](aE),w=bB(bb[J])[bA](aE);if("clip-rect"==J){for(bb[J]=w,Y[J]=[],V=w.length;V--;){Y[J][V]=(z[V]-bb[J][V])/cc}}ab[J]=z;break;default:for(z=[][bI](cl[J]),w=[][bI](bb[J]),Y[J]=[],V=cq.paper.customAttributes[J].length;V--;){Y[J][V]=((z[V]||0)-(w[V]||0))/cc}}}}var q=cl.easing,c=a6.easing_formulas[q];if(!c){if(c=bB(q).match(bf),c&&5==c.length){var b=c;c=function(d){return aK(d,+b[1],+b[2],+b[3],+b[4],cc)}}else{c=bG}}if(cg=cl.start||cr.start||+new Date,X={anim:cr,percent:cp,timestamp:cg,start:cg+(cr.del||0),status:0,initstatus:co||0,stop:!1,ms:cc,easing:c,from:bb,diff:Y,to:ab,el:cq,callback:cl.callback,prev:ch,next:ci,repeat:cm||cr.times,origin:cq.attr(),totalOrigin:cn},aS.push(X),co&&!ck&&!cj&&(X.stop=!0,X.start=new Date-cc*co,1==aS.length)){return ai()}cj&&(X.start=new Date-X.ms*co),1==aS.length&&at(ai)}a7("raphael.anim.start."+cq.id,cq,cr)}}function aH(d){for(var c=0;c<aS.length;c++){aS[c].el.paper==d&&aS.splice(c--,1)}}a6.version="2.1.2",a6.eve=a7;var aG,aF,aE=/[, ]+/,aD={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},aC=/\{(\d+)\}/g,aA="hasOwnProperty",bO={doc:document,win:a8},bM={was:Object.prototype[aA].call(bO.win,"Raphael"),is:bO.win.Raphael},bL=function(){this.ca=this.customAttributes={}},bK="apply",bI="concat",bF="ontouchstart" in bO.win||bO.win.DocumentTouch&&bO.doc instanceof DocumentTouch,bE="",bC=" ",bB=String,bA="split",bx="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[bA](bC),bw={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},bu=bB.prototype.toLowerCase,bt=Math,bs=bt.max,br=bt.min,bp=bt.abs,bn=bt.pow,bm=bt.PI,bl="number",bk="string",bj="array",bi=Object.prototype.toString,bh=(a6._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),bg={NaN:1,Infinity:1,"-Infinity":1},bf=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,b0=bt.round,bd=parseFloat,bT=parseInt,bq=bB.prototype.toUpperCase,aO=a6._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ar=a6._availableAnimAttrs={blur:bl,"clip-rect":"csv",cx:bl,cy:bl,fill:"colour","fill-opacity":bl,"font-size":bl,height:bl,opacity:bl,path:"path",r:bl,rx:bl,ry:bl,stroke:"colour","stroke-opacity":bl,"stroke-width":bl,transform:"transform",width:bl,x:bl,y:bl},ah=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,b7={hs:1,rg:1},bV=/,?([achlmqrstvxz]),?/gi,by=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,aV=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,au=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,aj=(a6._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ca=function(d,c){return bd(d)-bd(c)},bY=function(){},bG=function(b){return b},a3=a6._rectPath=function(g,f,k,j,h){return h?[["M",g+h,f],["l",k-2*h,0],["a",h,h,0,0,1,h,h],["l",0,j-2*h],["a",h,h,0,0,1,-h,h],["l",2*h-k,0],["a",h,h,0,0,1,-h,-h],["l",0,2*h-j],["a",h,h,0,0,1,h,-h],["z"]]:[["M",g,f],["l",k,0],["l",0,j],["l",-k,0],["z"]]},aw=function(f,e,h,g){return null==g&&(g=h),[["M",f,e],["m",0,-g],["a",h,g,0,1,1,0,2*g],["a",h,g,0,1,1,0,-2*g],["z"]]},al=a6._getPath={path:function(b){return b.attr("path")},circle:function(d){var c=d.attrs;return aw(c.cx,c.cy,c.r)},ellipse:function(d){var c=d.attrs;return aw(c.cx,c.cy,c.rx,c.ry)},rect:function(d){var c=d.attrs;return a3(c.x,c.y,c.width,c.height,c.r)},image:function(d){var c=d.attrs;return a3(c.x,c.y,c.width,c.height)},text:function(d){var c=d._getBBox();return a3(c.x,c.y,c.width,c.height)},set:function(d){var c=d._getBBox();return a3(c.x,c.y,c.width,c.height)}},ce=a6.mapPath=function(t,s){if(!s){return t}var r,q,n,m,l,k,j;for(t=ax(t),n=0,l=t.length;l>n;n++){for(j=t[n],m=1,k=j.length;k>m;m+=2){r=s.x(j[m],j[m+1]),q=s.y(j[m],j[m+1]),j[m]=r,j[m+1]=q}}return t};if(a6._g=bO,a6.type=bO.win.SVGAngle||bO.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a6.type){var b1,bN=bO.doc.createElement("div");if(bN.innerHTML='<v:shape adj="1"/>',b1=bN.firstChild,b1.style.behavior="url(#default#VML)",!b1||"object"!=typeof b1.adj){return a6.type=bE}bN=null}a6.svg=!(a6.vml="VML"==a6.type),a6._Paper=bL,a6.fn=aF=bL.prototype=a6.prototype,a6._id=0,a6._oid=0,a6.is=function(d,c){return c=bu.call(c),"finite"==c?!bg[aA](+d):"array"==c?d instanceof Array:"null"==c&&null===d||c==typeof d&&null!==d||"object"==c&&d===Object(d)||"array"==c&&Array.isArray&&Array.isArray(d)||bi.call(d).slice(8,-1).toLowerCase()==c},a6.angle=function(j,c,r,q,n,m){if(null==n){var l=j-r,k=c-q;return l||k?(180+180*bt.atan2(-k,-l)/bm+360)%360:0}return a6.angle(j,c,n,m)-a6.angle(r,q,n,m)},a6.rad=function(b){return b%360*bm/180},a6.deg=function(b){return 180*b/bm%360},a6.snapTo=function(g,c,k){if(k=a6.is(k,"finite")?k:10,a6.is(g,bj)){for(var j=g.length;j--;){if(bp(g[j]-c)<=k){return g[j]}}}else{g=+g;var h=c%g;if(k>h){return c-h}if(h>g-k){return c-h+g}}return c},a6.createUUID=function(d,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(d,c).toUpperCase()}}(/[xy]/g,function(e){var d=0|16*bt.random(),f="x"==e?d:8|3&d;return f.toString(16)}),a6.setWindow=function(b){a7("raphael.setWindow",a6,bO.win,b),bO.win=b,bO.doc=bO.win.document,a6._engine.initWin&&a6._engine.initWin(bO.win)};var a9=function(f){if(a6.vml){var c,n=/^\s+|\s+$/g;try{var m=new ActiveXObject("htmlfile");m.write("<body>"),m.close(),c=m.body}catch(l){c=createPopup().document.body}var k=c.createTextRange();a9=a1(function(b){try{c.style.color=bB(b).replace(n,bE);var g=k.queryCommandValue("ForeColor");return g=(255&g)<<16|65280&g|(16711680&g)>>>16,"#"+("000000"+g.toString(16)).slice(-6)}catch(d){return"none"}})}else{var j=bO.doc.createElement("i");j.title="Raphaël Colour Picker",j.style.display="none",bO.doc.body.appendChild(j),a9=a1(function(b){return j.style.color=b,bO.doc.defaultView.getComputedStyle(j,bE).getPropertyValue("color")})}return a9(f)},ay=function(){return"hsb("+[this.h,this.s,this.b]+")"},an=function(){return"hsl("+[this.h,this.s,this.l]+")"},aa=function(){return this.hex},b3=function(f,c,h){if(null==c&&a6.is(f,"object")&&"r" in f&&"g" in f&&"b" in f&&(h=f.b,c=f.g,f=f.r),null==c&&a6.is(f,bk)){var g=a6.getRGB(f);f=g.r,c=g.g,h=g.b}return(f>1||c>1||h>1)&&(f/=255,c/=255,h/=255),[f,c,h]},bQ=function(g,c,k,j){g*=255,c*=255,k*=255;var h={r:g,g:c,b:k,hex:a6.rgb(g,c,k),toString:aa};return a6.is(j,"finite")&&(h.opacity=j),h};a6.color=function(d){var c;return a6.is(d,"object")&&"h" in d&&"s" in d&&"b" in d?(c=a6.hsb2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):a6.is(d,"object")&&"h" in d&&"s" in d&&"l" in d?(c=a6.hsl2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):(a6.is(d,"string")&&(d=a6.getRGB(d)),a6.is(d,"object")&&"r" in d&&"g" in d&&"b" in d?(c=a6.rgb2hsl(d),d.h=c.h,d.s=c.s,d.l=c.l,c=a6.rgb2hsb(d),d.v=c.b):(d={hex:"none"},d.r=d.g=d.b=d.h=d.s=d.v=d.l=-1)),d.toString=aa,d},a6.hsb2rgb=function(t,s,r,q){this.is(t,"object")&&"h" in t&&"s" in t&&"b" in t&&(r=t.b,s=t.s,t=t.h,q=t.o),t*=360;var n,m,l,k,j;return t=t%360/60,j=r*s,k=j*(1-bp(t%2-1)),n=m=l=r-j,t=~~t,n+=[j,k,0,0,k,j][t],m+=[k,j,j,k,0,0][t],l+=[0,0,k,j,j,k][t],bQ(n,m,l,q)},a6.hsl2rgb=function(t,s,r,q){this.is(t,"object")&&"h" in t&&"s" in t&&"l" in t&&(r=t.l,s=t.s,t=t.h),(t>1||s>1||r>1)&&(t/=360,s/=100,r/=100),t*=360;var n,m,l,k,j;return t=t%360/60,j=2*s*(0.5>r?r:1-r),k=j*(1-bp(t%2-1)),n=m=l=r-j/2,t=~~t,n+=[j,k,0,0,k,j][t],m+=[k,j,j,k,0,0][t],l+=[0,0,k,j,j,k][t],bQ(n,m,l,q)},a6.rgb2hsb=function(j,h,q){q=b3(j,h,q),j=q[0],h=q[1],q=q[2];var n,m,l,k;return l=bs(j,h,q),k=l-br(j,h,q),n=0==k?null:l==j?(h-q)/k:l==h?(q-j)/k+2:(j-h)/k+4,n=60*((n+360)%6)/360,m=0==k?0:k/l,{h:n,s:m,b:l,toString:ay}},a6.rgb2hsl=function(t,s,r){r=b3(t,s,r),t=r[0],s=r[1],r=r[2];var q,n,m,l,k,j;return l=bs(t,s,r),k=br(t,s,r),j=l-k,q=0==j?null:l==t?(s-r)/j:l==s?(r-t)/j+2:(t-s)/j+4,q=60*((q+360)%6)/360,m=(l+k)/2,n=0==j?0:0.5>m?j/(2*m):j/(2-2*m),{h:q,s:n,l:m,toString:an}},a6._path2string=function(){return this.join(",").replace(bV,"$1")},a6._preload=function(e,d){var f=bO.doc.createElement("img");f.style.cssText="position:absolute;left:-9999em;top:-9999em",f.onload=function(){d.call(this),this.onload=null,bO.doc.body.removeChild(this)},f.onerror=function(){bO.doc.body.removeChild(this)},bO.doc.body.appendChild(f),f.src=e},a6.getRGB=a1(function(g){if(!g||(g=bB(g)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aZ}}if("none"==g){return{r:-1,g:-1,b:-1,hex:"none",toString:aZ}}!(b7[aA](g.toLowerCase().substring(0,2))||"#"==g.charAt())&&(g=a9(g));var c,r,q,n,m,l,k=g.match(bh);return k?(k[2]&&(q=bT(k[2].substring(5),16),r=bT(k[2].substring(3,5),16),c=bT(k[2].substring(1,3),16)),k[3]&&(q=bT((m=k[3].charAt(3))+m,16),r=bT((m=k[3].charAt(2))+m,16),c=bT((m=k[3].charAt(1))+m,16)),k[4]&&(l=k[4][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),r=bd(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),q=bd(l[2]),"%"==l[2].slice(-1)&&(q*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100)),k[5]?(l=k[5][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),r=bd(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),q=bd(l[2]),"%"==l[2].slice(-1)&&(q*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(c/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),a6.hsb2rgb(c,r,q,n)):k[6]?(l=k[6][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),r=bd(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),q=bd(l[2]),"%"==l[2].slice(-1)&&(q*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(c/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),a6.hsl2rgb(c,r,q,n)):(k={r:c,g:r,b:q,toString:aZ},k.hex="#"+(16777216|q|r<<8|c<<16).toString(16).slice(1),a6.is(n,"finite")&&(k.opacity=n),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aZ}},a6),a6.hsb=a1(function(e,c,f){return a6.hsb2rgb(e,c,f).hex}),a6.hsl=a1(function(e,c,f){return a6.hsl2rgb(e,c,f).hex}),a6.rgb=a1(function(e,d,f){return"#"+(16777216|f|d<<8|e<<16).toString(16).slice(1)}),a6.getColor=function(e){var d=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},f=this.hsb2rgb(d.h,d.s,d.b);return d.h+=0.075,d.h>1&&(d.h=0,d.s-=0.2,d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b})),f.hex},a6.getColor.reset=function(){delete this.start},a6.parsePathString=function(f){if(!f){return null}var c=b8(f);if(c.arr){return bz(c.arr)}var h={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},g=[];return a6.is(f,bj)&&a6.is(f[0],bj)&&(g=bz(f)),g.length||bB(f).replace(by,function(e,d,l){var k=[],j=d.toLowerCase();if(l.replace(au,function(n,m){m&&k.push(+m)}),"m"==j&&k.length>2&&(g.push([d][bI](k.splice(0,2))),j="l",d="m"==d?"l":"L"),"r"==j){g.push([d][bI](k))}else{for(;k.length>=h[j]&&(g.push([d][bI](k.splice(0,h[j]))),h[j]);){}}}),g.toString=a6._path2string,c.arr=bz(g),g},a6.parseTransformString=a1(function(d){if(!d){return null}var c=[];return a6.is(d,bj)&&a6.is(d[0],bj)&&(c=bz(d)),c.length||bB(d).replace(aV,function(b,h,g){var f=[];bu.call(h),g.replace(au,function(j,e){e&&f.push(+e)}),c.push([h][bI](f))}),c.toString=a6._path2string,c});var b8=function(d){var c=b8.ps=b8.ps||{};return c[d]?c[d].sleep=100:c[d]={sleep:100},setTimeout(function(){for(var a in c){c[aA](a)&&a!=d&&(c[a].sleep--,!c[a].sleep&&delete c[a])}}),c[d]};a6.findDotsAtSegment=function(Y,X,W,V,U,T,S,Q,P){var O=1-P,N=bn(O,3),M=bn(O,2),L=P*P,K=L*P,J=N*Y+3*M*P*W+3*O*P*P*U+K*S,I=N*X+3*M*P*V+3*O*P*P*T+K*Q,H=Y+2*P*(W-Y)+L*(U-2*W+Y),G=X+2*P*(V-X)+L*(T-2*V+X),F=W+2*P*(U-W)+L*(S-2*U+W),E=V+2*P*(T-V)+L*(Q-2*T+V),D=O*Y+P*W,C=O*X+P*V,B=O*U+P*S,A=O*T+P*Q,z=90-180*bt.atan2(H-F,G-E)/bm;return(H>F||E>G)&&(z+=180),{x:J,y:I,m:{x:H,y:G},n:{x:F,y:E},start:{x:D,y:C},end:{x:B,y:A},alpha:z}},a6.bezierBBox=function(t,s,r,q,n,m,l,k){a6.is(t,"array")||(t=[t,s,r,q,n,m,l,k]);var c=a4.apply(null,t);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},a6.isPointInsideBBox=function(e,d,f){return d>=e.x&&d<=e.x2&&f>=e.y&&f<=e.y2},a6.isBBoxIntersect=function(e,c){var f=a6.isPointInsideBBox;return f(c,e.x,e.y)||f(c,e.x2,e.y)||f(c,e.x,e.y2)||f(c,e.x2,e.y2)||f(e,c.x,c.y)||f(e,c.x2,c.y)||f(e,c.x,c.y2)||f(e,c.x2,c.y2)||(e.x<c.x2&&e.x>c.x||c.x<e.x2&&c.x>e.x)&&(e.y<c.y2&&e.y>c.y||c.y<e.y2&&c.y>e.y)},a6.pathIntersection=function(d,c){return aP(d,c)},a6.pathIntersectionNumber=function(d,c){return aP(d,c,1)},a6.isPointInsidePath=function(f,c,h){var g=a6.pathBBox(f);return a6.isPointInsideBBox(g,c,h)&&1==aP(f,[["M",c,h],["H",g.x2+10]],1)%2},a6._removedFactory=function(b){return function(){a7("raphael.log",null,"Raphaël: you are calling to method “"+b+"” of removed object",b)}};var bW=a6.pathBBox=function(K){var J=b8(K);if(J.bbox){return a5(J.bbox)}if(!K){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}K=ax(K);for(var I,H=0,G=0,F=[],E=[],D=0,C=K.length;C>D;D++){if(I=K[D],"M"==I[0]){H=I[1],G=I[2],F.push(H),E.push(G)}else{var B=a4(H,G,I[1],I[2],I[3],I[4],I[5],I[6]);F=F[bI](B.min.x,B.max.x),E=E[bI](B.min.y,B.max.y),H=I[5],G=I[6]}}var A=br[bK](0,F),z=br[bK](0,E),w=bs[bK](0,F),u=bs[bK](0,E),t=w-A,s=u-z,d={x:A,y:z,x2:w,y2:u,width:t,height:s,cx:A+t/2,cy:z+s/2};return J.bbox=a5(d),d},bz=function(d){var c=a5(d);return c.toString=a6._path2string,c},aW=a6._pathToRelative=function(K){var J=b8(K);if(J.rel){return bz(J.rel)}a6.is(K,bj)&&a6.is(K&&K[0],bj)||(K=a6.parsePathString(K));var I=[],H=0,G=0,F=0,E=0,D=0;"M"==K[0][0]&&(H=K[0][1],G=K[0][2],F=H,E=G,D++,I.push(["M",H,G]));for(var C=D,B=K.length;B>C;C++){var A=I[C]=[],z=K[C];if(z[0]!=bu.call(z[0])){switch(A[0]=bu.call(z[0]),A[0]){case"a":A[1]=z[1],A[2]=z[2],A[3]=z[3],A[4]=z[4],A[5]=z[5],A[6]=+(z[6]-H).toFixed(3),A[7]=+(z[7]-G).toFixed(3);break;case"v":A[1]=+(z[1]-G).toFixed(3);break;case"m":F=z[1],E=z[2];default:for(var w=1,u=z.length;u>w;w++){A[w]=+(z[w]-(w%2?H:G)).toFixed(3)}}}else{A=I[C]=[],"m"==z[0]&&(F=z[1]+H,E=z[2]+G);for(var t=0,s=z.length;s>t;t++){I[C][t]=z[t]}}var c=I[C].length;switch(I[C][0]){case"z":H=F,G=E;break;case"h":H+=+I[C][c-1];break;case"v":G+=+I[C][c-1];break;default:H+=+I[C][c-2],G+=+I[C][c-1]}}return I.toString=a6._path2string,J.rel=bz(I),I},av=a6._pathToAbsolute=function(M){var L=b8(M);if(L.abs){return bz(L.abs)}if(a6.is(M,bj)&&a6.is(M&&M[0],bj)||(M=a6.parsePathString(M)),!M||!M.length){return[["M",0,0]]}var K=[],J=0,I=0,H=0,G=0,F=0;"M"==M[0][0]&&(J=+M[0][1],I=+M[0][2],H=J,G=I,F++,K[0]=["M",J,I]);for(var E,D,C=3==M.length&&"M"==M[0][0]&&"R"==M[1][0].toUpperCase()&&"Z"==M[2][0].toUpperCase(),B=F,A=M.length;A>B;B++){if(K.push(E=[]),D=M[B],D[0]!=bq.call(D[0])){switch(E[0]=bq.call(D[0]),E[0]){case"A":E[1]=D[1],E[2]=D[2],E[3]=D[3],E[4]=D[4],E[5]=D[5],E[6]=+(D[6]+J),E[7]=+(D[7]+I);break;case"V":E[1]=+D[1]+I;break;case"H":E[1]=+D[1]+J;break;case"R":for(var z=[J,I][bI](D.slice(1)),w=2,u=z.length;u>w;w++){z[w]=+z[w]+J,z[++w]=+z[w]+I}K.pop(),K=K[bI](aY(z,C));break;case"M":H=+D[1]+J,G=+D[2]+I;default:for(w=1,u=D.length;u>w;w++){E[w]=+D[w]+(w%2?J:I)}}}else{if("R"==D[0]){z=[J,I][bI](D.slice(1)),K.pop(),K=K[bI](aY(z,C)),E=["R"][bI](D.slice(-2))}else{for(var h=0,c=D.length;c>h;h++){E[h]=D[h]}}}switch(E[0]){case"Z":J=H,I=G;break;case"H":J=E[1];break;case"V":I=E[1];break;case"M":H=E[E.length-2],G=E[E.length-1];default:J=E[E.length-2],I=E[E.length-1]}}return K.toString=a6._path2string,L.abs=bz(K),K},ak=function(f,e,h,g){return[f,e,h,g,h,g]},cd=function(k,j,s,r,q,n){var m=1/3,l=2/3;return[m*k+l*s,m*j+l*r,m*q+l*s,m*n+l*r,q,n]},bZ=function(cH,cG,cF,cE,cD,cC,cB,cA,cz,cy){var cx,cw=120*bm/180,cv=bm/180*(+cD||0),cu=[],ct=a1(function(h,g,l){var k=h*bt.cos(l)-g*bt.sin(l),j=h*bt.sin(l)+g*bt.cos(l);return{x:k,y:j}});if(cy){ck=cy[0],cj=cy[1],cm=cy[2],cl=cy[3]}else{cx=ct(cH,cG,-cv),cH=cx.x,cG=cx.y,cx=ct(cA,cz,-cv),cA=cx.x,cz=cx.y;var cs=(bt.cos(bm/180*cD),bt.sin(bm/180*cD),(cH-cA)/2),cr=(cG-cz)/2,cq=cs*cs/(cF*cF)+cr*cr/(cE*cE);cq>1&&(cq=bt.sqrt(cq),cF=cq*cF,cE=cq*cE);var cp=cF*cF,co=cE*cE,cn=(cC==cB?-1:1)*bt.sqrt(bp((cp*co-cp*cr*cr-co*cs*cs)/(cp*cr*cr+co*cs*cs))),cm=cn*cF*cr/cE+(cH+cA)/2,cl=cn*-cE*cs/cF+(cG+cz)/2,ck=bt.asin(((cG-cl)/cE).toFixed(9)),cj=bt.asin(((cz-cl)/cE).toFixed(9));ck=cm>cH?bm-ck:ck,cj=cm>cA?bm-cj:cj,0>ck&&(ck=2*bm+ck),0>cj&&(cj=2*bm+cj),cB&&ck>cj&&(ck-=2*bm),!cB&&cj>ck&&(cj-=2*bm)}var ci=cj-ck;if(bp(ci)>cw){var ch=cj,cg=cA,cc=cz;cj=ck+cw*(cB&&cj>ck?1:-1),cA=cm+cF*bt.cos(cj),cz=cl+cE*bt.sin(cj),cu=bZ(cA,cz,cF,cE,cD,0,cB,cg,cc,[cj,ch,cm,cl])}ci=cj-ck;var cb=bt.cos(ck),bc=bt.sin(ck),bb=bt.cos(cj),ac=bt.sin(cj),ab=bt.tan(ci/4),Z=4/3*cF*ab,Y=4/3*cE*ab,X=[cH,cG],S=[cH+Z*bc,cG-Y*cb],Q=[cA+Z*ac,cz-Y*bb],N=[cA,cz];if(S[0]=2*X[0]-S[0],S[1]=2*X[1]-S[1],cy){return[S,Q,N][bI](cu)}cu=[S,Q,N][bI](cu).join()[bA](",");for(var J=[],E=0,f=cu.length;f>E;E++){J[E]=E%2?ct(cu[E-1],cu[E],cv).y:ct(cu[E],cu[E+1],cv).x}return J},bH=function(w,u,t,s,r,q,n,m,l){var k=1-l;return{x:bn(k,3)*w+3*bn(k,2)*l*t+3*k*l*l*r+bn(l,3)*n,y:bn(k,3)*u+3*bn(k,2)*l*s+3*k*l*l*q+bn(l,3)*m}},a4=a1(function(I,H,G,F,E,D,C,B){var A,z=E-2*G+I-(C-2*E+G),w=2*(G-I)-2*(E-G),u=I-G,t=(-w+bt.sqrt(w*w-4*z*u))/2/z,s=(-w-bt.sqrt(w*w-4*z*u))/2/z,r=[H,B],q=[I,C];return bp(t)>"1e12"&&(t=0.5),bp(s)>"1e12"&&(s=0.5),t>0&&1>t&&(A=bH(I,H,G,F,E,D,C,B,t),q.push(A.x),r.push(A.y)),s>0&&1>s&&(A=bH(I,H,G,F,E,D,C,B,s),q.push(A.x),r.push(A.y)),z=D-2*F+H-(B-2*D+F),w=2*(F-H)-2*(D-F),u=H-F,t=(-w+bt.sqrt(w*w-4*z*u))/2/z,s=(-w-bt.sqrt(w*w-4*z*u))/2/z,bp(t)>"1e12"&&(t=0.5),bp(s)>"1e12"&&(s=0.5),t>0&&1>t&&(A=bH(I,H,G,F,E,D,C,B,t),q.push(A.x),r.push(A.y)),s>0&&1>s&&(A=bH(I,H,G,F,E,D,C,B,s),q.push(A.x),r.push(A.y)),{min:{x:br[bK](0,q),y:br[bK](0,r)},max:{x:bs[bK](0,q),y:bs[bK](0,r)}}}),ax=a6._path2curve=a1(function(I,H){var G=!H&&b8(I);if(!H&&G.curve){return bz(G.curve)}for(var F=av(I),E=H&&av(H),D={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},C={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},B=(function(g,f,k){var j,h;if(!g){return["C",f.x,f.y,f.x,f.y,f.x,f.y]}switch(!(g[0] in {T:1,Q:1})&&(f.qx=f.qy=null),g[0]){case"M":f.X=g[1],f.Y=g[2];break;case"A":g=["C"][bI](bZ[bK](0,[f.x,f.y][bI](g.slice(1))));break;case"S":"C"==k||"S"==k?(j=2*f.x-f.bx,h=2*f.y-f.by):(j=f.x,h=f.y),g=["C",j,h][bI](g.slice(1));break;case"T":"Q"==k||"T"==k?(f.qx=2*f.x-f.qx,f.qy=2*f.y-f.qy):(f.qx=f.x,f.qy=f.y),g=["C"][bI](cd(f.x,f.y,f.qx,f.qy,g[1],g[2]));break;case"Q":f.qx=g[1],f.qy=g[2],g=["C"][bI](cd(f.x,f.y,g[1],g[2],g[3],g[4]));break;case"L":g=["C"][bI](ak(f.x,f.y,g[1],g[2]));break;case"H":g=["C"][bI](ak(f.x,f.y,g[1],f.y));break;case"V":g=["C"][bI](ak(f.x,f.y,f.x,g[1]));break;case"Z":g=["C"][bI](ak(f.x,f.y,f.X,f.Y))}return g}),A=function(e,d){if(e[d].length>7){e[d].shift();for(var f=e[d];f.length;){e.splice(d++,0,["C"][bI](f.splice(0,6)))}e.splice(d,1),u=bs(F.length,E&&E.length||0)}},z=function(e,d,k,j,h){e&&d&&"M"==e[h][0]&&"M"!=d[h][0]&&(d.splice(h,0,["M",j.x,j.y]),k.bx=0,k.by=0,k.x=e[h][1],k.y=e[h][2],u=bs(F.length,E&&E.length||0))},w=0,u=bs(F.length,E&&E.length||0);u>w;w++){F[w]=B(F[w],D),A(F,w),E&&(E[w]=B(E[w],C)),E&&A(E,w),z(F,E,D,C,w),z(E,F,C,D,w);var t=F[w],s=E&&E[w],r=t.length,q=E&&s.length;D.x=t[r-2],D.y=t[r-1],D.bx=bd(t[r-4])||D.x,D.by=bd(t[r-3])||D.y,C.bx=E&&(bd(s[q-4])||C.x),C.by=E&&(bd(s[q-3])||C.y),C.x=E&&s[q-2],C.y=E&&s[q-1]}return E||(G.curve=bz(F)),E?[F,E]:F},null,bz),am=(a6._parseDots=a1(function(w){for(var u=[],t=0,s=w.length;s>t;t++){var r={},q=w[t].match(/^([^:]*):?([\d\.]*)/);if(r.color=a6.getRGB(q[1]),r.color.error){return null}r.color=r.color.hex,q[2]&&(r.offset=q[2]+"%"),u.push(r)}for(t=1,s=u.length-1;s>t;t++){if(!u[t].offset){for(var n=bd(u[t-1].offset||0),m=0,l=t+1;s>l;l++){if(u[l].offset){m=u[l].offset;break}}m||(m=100,l=s),m=bd(m);for(var c=(m-n)/(l-t+1);l>t;t++){n+=c,u[t].offset=n+"%"}}}return u}),a6._tear=function(d,c){d==c.top&&(c.top=d.prev),d==c.bottom&&(c.bottom=d.next),d.next&&(d.next.prev=d.prev),d.prev&&(d.prev.next=d.next)}),cf=(a6._tofront=function(d,c){c.top!==d&&(am(d,c),d.next=null,d.prev=c.top,c.top.next=d,c.top=d)},a6._toback=function(d,c){c.bottom!==d&&(am(d,c),d.next=c.bottom,d.prev=null,c.bottom.prev=d,c.bottom=d)},a6._insertafter=function(e,d,f){am(e,f),d==f.top&&(f.top=e),d.next&&(d.next.prev=e),e.next=d.next,e.prev=d,d.next=e},a6._insertbefore=function(e,d,f){am(e,f),d==f.bottom&&(f.bottom=e),d.prev&&(d.prev.next=e),e.prev=d.prev,d.prev=e,e.next=d},a6.toMatrix=function(f,e){var h=bW(f),g={_:{transform:bE},getBBox:function(){return h}};return b2(g,e),g.matrix}),b2=(a6.transformPath=function(d,c){return ce(d,cf(d,c))},a6._extractTransform=function(U,T){if(null==T){return U._.transform}T=bB(T).replace(/\.{3}|\u2026/g,U._.transform||bE);var S=a6.parseTransformString(T),Q=0,P=0,O=0,N=1,M=1,L=U._,K=new aN;if(L.transform=S||[],S){for(var J=0,I=S.length;I>J;J++){var H,G,F,E,D,C=S[J],B=C.length,A=bB(C[0]).toLowerCase(),z=C[0]!=A,c=z?K.invert():0;"t"==A&&3==B?z?(H=c.x(0,0),G=c.y(0,0),F=c.x(C[1],C[2]),E=c.y(C[1],C[2]),K.translate(F-H,E-G)):K.translate(C[1],C[2]):"r"==A?2==B?(D=D||U.getBBox(1),K.rotate(C[1],D.x+D.width/2,D.y+D.height/2),Q+=C[1]):4==B&&(z?(F=c.x(C[2],C[3]),E=c.y(C[2],C[3]),K.rotate(C[1],F,E)):K.rotate(C[1],C[2],C[3]),Q+=C[1]):"s"==A?2==B||3==B?(D=D||U.getBBox(1),K.scale(C[1],C[B-1],D.x+D.width/2,D.y+D.height/2),N*=C[1],M*=C[B-1]):5==B&&(z?(F=c.x(C[3],C[4]),E=c.y(C[3],C[4]),K.scale(C[1],C[2],F,E)):K.scale(C[1],C[2],C[3],C[4]),N*=C[1],M*=C[2]):"m"==A&&7==B&&K.add(C[1],C[2],C[3],C[4],C[5],C[6]),L.dirtyT=1,U.matrix=K}}U.matrix=K,L.sx=N,L.sy=M,L.deg=Q,L.dx=P=K.e,L.dy=O=K.f,1==N&&1==M&&!Q&&L.bbox?(L.bbox.x+=+P,L.bbox.y+=+O):L.dirtyT=1}),bP=function(d){var c=d[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return 4==d.length?[c,0,d[2],d[3]]:[c,0];case"s":return 5==d.length?[c,1,1,d[3],d[4]]:3==d.length?[c,1,1]:[c,1]}},ba=a6._equaliseTransform=function(w,u){u=bB(u).replace(/\.{3}|\u2026/g,w),w=a6.parseTransformString(w)||[],u=a6.parseTransformString(u)||[];for(var t,s,r,q,n=bs(w.length,u.length),m=[],l=[],c=0;n>c;c++){if(r=w[c]||bP(u[c]),q=u[c]||bP(r),r[0]!=q[0]||"r"==r[0].toLowerCase()&&(r[2]!=q[2]||r[3]!=q[3])||"s"==r[0].toLowerCase()&&(r[3]!=q[3]||r[4]!=q[4])){return}for(m[c]=[],l[c]=[],t=0,s=bs(r.length,q.length);s>t;t++){t in r&&(m[c][t]=r[t]),t in q&&(l[c][t]=q[t])}}return{from:m,to:l}};a6._getContainer=function(g,c,k,j){var h;return h=null!=j||a6.is(g,"object")?g:bO.doc.getElementById(g),null!=h?h.tagName?null==c?{container:h,width:h.style.pixelWidth||h.offsetWidth,height:h.style.pixelHeight||h.offsetHeight}:{container:h,width:c,height:k}:{container:1,x:g,y:c,width:k,height:j}:void 0},a6.pathToRelative=aW,a6._engine={},a6.path2curve=ax,a6.matrix=function(h,g,m,l,k,j){return new aN(h,g,m,l,k,j)},function(e){function c(b){return b[0]*b[0]+b[1]*b[1]}function f(b){var d=bt.sqrt(c(b));b[0]&&(b[0]/=d),b[1]&&(b[1]/=d)}e.add=function(E,D,C,B,A,z){var w,u,t,s,r=[[],[],[]],q=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[E,C,A],[D,B,z],[0,0,1]];for(E&&E instanceof aN&&(n=[[E.a,E.c,E.e],[E.b,E.d,E.f],[0,0,1]]),w=0;3>w;w++){for(u=0;3>u;u++){for(s=0,t=0;3>t;t++){s+=q[w][t]*n[t][u]}r[w][u]=s}}this.a=r[0][0],this.b=r[1][0],this.c=r[0][1],this.d=r[1][1],this.e=r[0][2],this.f=r[1][2]},e.invert=function(){var g=this,d=g.a*g.d-g.b*g.c;return new aN(g.d/d,-g.b/d,-g.c/d,g.a/d,(g.c*g.f-g.d*g.e)/d,(g.b*g.e-g.a*g.f)/d)},e.clone=function(){return new aN(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(g,d){this.add(1,0,0,1,g,d)},e.scale=function(h,g,k,j){null==g&&(g=h),(k||j)&&this.add(1,0,0,1,k,j),this.add(h,0,0,g,0,0),(k||j)&&this.add(1,0,0,1,-k,-j)},e.rotate=function(h,g,l){h=a6.rad(h),g=g||0,l=l||0;var k=+bt.cos(h).toFixed(9),j=+bt.sin(h).toFixed(9);this.add(k,j,-j,k,g,l),this.add(1,0,0,1,-g,-l)},e.x=function(g,d){return g*this.a+d*this.c+this.e},e.y=function(g,d){return g*this.b+d*this.d+this.f},e.get=function(b){return +this[bB.fromCharCode(97+b)].toFixed(4)},e.toString=function(){return a6.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var b={};b.dx=this.e,b.dy=this.f;var j=[[this.a,this.c],[this.b,this.d]];b.scalex=bt.sqrt(c(j[0])),f(j[0]),b.shear=j[0][0]*j[1][0]+j[0][1]*j[1][1],j[1]=[j[1][0]-j[0][0]*b.shear,j[1][1]-j[0][1]*b.shear],b.scaley=bt.sqrt(c(j[1])),f(j[1]),b.shear/=b.scaley;var h=-j[0][1],d=j[1][1];return 0>d?(b.rotate=a6.deg(bt.acos(d)),0>h&&(b.rotate=360-b.rotate)):b.rotate=a6.deg(bt.asin(h)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},e.toTransformString=function(g){var d=g||this[bA]();return d.isSimple?(d.scalex=+d.scalex.toFixed(4),d.scaley=+d.scaley.toFixed(4),d.rotate=+d.rotate.toFixed(4),(d.dx||d.dy?"t"+[d.dx,d.dy]:bE)+(1!=d.scalex||1!=d.scaley?"s"+[d.scalex,d.scaley,0,0]:bE)+(d.rotate?"r"+[d.rotate,0,0]:bE)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(aN.prototype);var az=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);aF.safari="Apple Computer, Inc."==navigator.vendor&&(az&&az[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&az&&az[1]<8?function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){b.remove()})}:bY;for(var ao=function(){this.returnValue=!1},ad=function(){return this.originalEvent.preventDefault()},b4=function(){this.cancelBubble=!0},bR=function(){return this.originalEvent.stopPropagation()},be=function(e){var d=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,f=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft;return{x:e.clientX+f,y:e.clientY+d}},aB=function(){return bO.doc.addEventListener?function(h,g,m,l){var k=function(d){var c=be(d);return m.call(l,d,c.x,c.y)};if(h.addEventListener(g,k,!1),bF&&bw[g]){var j=function(a){for(var q=be(a),n=a,d=0,c=a.targetTouches&&a.targetTouches.length;c>d;d++){if(a.targetTouches[d].target==h){a=a.targetTouches[d],a.originalEvent=n,a.preventDefault=ad,a.stopPropagation=bR;break}}return m.call(l,a,q.x,q.y)};h.addEventListener(bw[g],j,!1)}return function(){return h.removeEventListener(g,k,!1),bF&&bw[g]&&h.removeEventListener(bw[g],k,!1),!0}}:bO.doc.attachEvent?function(h,g,m,l){var k=function(d){d=d||bO.win.event;var c=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,r=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft,q=d.clientX+r,n=d.clientY+c;return d.preventDefault=d.preventDefault||ao,d.stopPropagation=d.stopPropagation||b4,m.call(l,d,q,n)};h.attachEvent("on"+g,k);var j=function(){return h.detachEvent("on"+g,k),!0};return j}:void 0}(),ap=[],ae=function(F){for(var E,D=F.clientX,C=F.clientY,B=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,A=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft,z=ap.length;z--;){if(E=ap[z],bF&&F.touches){for(var w,u=F.touches.length;u--;){if(w=F.touches[u],w.identifier==E.el._drag.id){D=w.clientX,C=w.clientY,(F.originalEvent?F.originalEvent:F).preventDefault();break}}}else{F.preventDefault()}var t,s=E.el.node,r=s.nextSibling,q=s.parentNode,b=s.style.display;bO.win.opera&&q.removeChild(s),s.style.display="none",t=E.el.paper.getElementByPoint(D,C),s.style.display=b,bO.win.opera&&(r?q.insertBefore(s,r):q.appendChild(s)),t&&a7("raphael.drag.over."+E.el.id,E.el,t),D+=A,C+=B,a7("raphael.drag.move."+E.el.id,E.move_scope||E.el,D-E.el._drag.x,C-E.el._drag.y,D,C,F)}},b5=function(b){a6.unmousemove(ae).unmouseup(b5);for(var f,c=ap.length;c--;){f=ap[c],f.el._drag={},a7("raphael.drag.end."+f.el.id,f.end_scope||f.start_scope||f.move_scope||f.el,b)}ap=[]},bJ=a6.el={},af=bx.length;af--;){!function(b){a6[b]=bJ[b]=function(a,c){return a6.is(a,"function")&&(this.events=this.events||[],this.events.push({name:b,f:a,unbind:aB(this.shape||this.node||bO.doc,b,a,c||this)})),this},a6["un"+b]=bJ["un"+b]=function(a){for(var f=this.events||[],c=f.length;c--;){f[c].name!=b||!a6.is(a,"undefined")&&f[c].f!=a||(f[c].unbind(),f.splice(c,1),!f.length&&delete this.events)}return this}}(bx[af])}bJ.data=function(b,h){var g=aj[this.id]=aj[this.id]||{};if(0==arguments.length){return g}if(1==arguments.length){if(a6.is(b,"object")){for(var c in b){b[aA](c)&&this.data(c,b[c])}return this}return a7("raphael.data.get."+this.id,this,g[b],b),g[b]}return g[b]=h,a7("raphael.data.set."+this.id,this,h,b),this},bJ.removeData=function(b){return null==b?aj[this.id]={}:aj[this.id]&&delete aj[this.id][b],this},bJ.getData=function(){return a5(aj[this.id]||{})},bJ.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)},bJ.unhover=function(d,c){return this.unmouseover(d).unmouseout(c)};var bS=[];bJ.drag=function(b,n,m,l,k,j){function c(g){(g.originalEvent||g).preventDefault();var f=g.clientX,e=g.clientY,d=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,a=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft;if(this._drag.id=g.identifier,bF&&g.touches){for(var q,h=g.touches.length;h--;){if(q=g.touches[h],this._drag.id=q.identifier,q.identifier==this._drag.id){f=q.clientX,e=q.clientY;break}}}this._drag.x=f+a,this._drag.y=e+d,!ap.length&&a6.mousemove(ae).mouseup(b5),ap.push({el:this,move_scope:l,start_scope:k,end_scope:j}),n&&a7.on("raphael.drag.start."+this.id,n),b&&a7.on("raphael.drag.move."+this.id,b),m&&a7.on("raphael.drag.end."+this.id,m),a7("raphael.drag.start."+this.id,k||l||this,g.clientX+a,g.clientY+d,g)}return this._drag={},bS.push({el:this,start:c}),this.mousedown(c),this},bJ.onDragOver=function(b){b?a7.on("raphael.drag.over."+this.id,b):a7.unbind("raphael.drag.over."+this.id)},bJ.undrag=function(){for(var b=bS.length;b--;){bS[b].el==this&&(this.unmousedown(bS[b].start),bS.splice(b,1),a7.unbind("raphael.drag.*."+this.id))}!bS.length&&a6.unmousemove(ae).unmouseup(b5),ap=[]},aF.circle=function(f,c,h){var g=a6._engine.circle(this,f||0,c||0,h||0);return this.__set__&&this.__set__.push(g),g},aF.rect=function(h,c,m,l,k){var j=a6._engine.rect(this,h||0,c||0,m||0,l||0,k||0);return this.__set__&&this.__set__.push(j),j},aF.ellipse=function(g,c,k,j){var h=a6._engine.ellipse(this,g||0,c||0,k||0,j||0);return this.__set__&&this.__set__.push(h),h},aF.path=function(d){d&&!a6.is(d,bk)&&!a6.is(d[0],bj)&&(d+=bE);var c=a6._engine.path(a6.format[bK](a6,arguments),this);return this.__set__&&this.__set__.push(c),c},aF.image=function(h,c,m,l,k){var j=a6._engine.image(this,h||"about:blank",c||0,m||0,l||0,k||0);return this.__set__&&this.__set__.push(j),j},aF.text=function(f,c,h){var g=a6._engine.text(this,f||0,c||0,bB(h));return this.__set__&&this.__set__.push(g),g},aF.set=function(d){!a6.is(d,"array")&&(d=Array.prototype.splice.call(arguments,0,arguments.length));var c=new bX(d);return this.__set__&&this.__set__.push(c),c.paper=this,c.type="set",c},aF.setStart=function(b){this.__set__=b||this.set()},aF.setFinish=function(){var b=this.__set__;return delete this.__set__,b},aF.setSize=function(d,c){return a6._engine.setSize.call(this,d,c)},aF.setViewBox=function(g,c,k,j,h){return a6._engine.setViewBox.call(this,g,c,k,j,h)},aF.top=aF.bottom=null,aF.raphael=a6;var bo=function(t){var s=t.getBoundingClientRect(),r=t.ownerDocument,q=r.body,n=r.documentElement,m=n.clientTop||q.clientTop||0,l=n.clientLeft||q.clientLeft||0,k=s.top+(bO.win.pageYOffset||n.scrollTop||q.scrollTop)-m,j=s.left+(bO.win.pageXOffset||n.scrollLeft||q.scrollLeft)-l;return{y:k,x:j}};aF.getElementByPoint=function(k,j){var s=this,r=s.canvas,q=bO.doc.elementFromPoint(k,j);if(bO.win.opera&&"svg"==q.tagName){var n=bo(r),m=r.createSVGRect();m.x=k-n.x,m.y=j-n.y,m.width=m.height=1;var l=r.getIntersectionList(m,null);l.length&&(q=l[l.length-1])}if(!q){return null}for(;q.parentNode&&q!=r.parentNode&&!q.raphael;){q=q.parentNode}return q==s.canvas.parentNode&&(q=r),q=q&&q.raphael?s.getById(q.raphaelid):null},aF.getElementsByBBox=function(d){var c=this.set();return this.forEach(function(a){a6.isBBoxIntersect(a.getBBox(),d)&&c.push(a)}),c},aF.getById=function(d){for(var c=this.bottom;c;){if(c.id==d){return c}c=c.next}return null},aF.forEach=function(e,d){for(var f=this.bottom;f;){if(e.call(d,f)===!1){return this}f=f.next}return this},aF.getElementsByPoint=function(e,d){var f=this.set();return this.forEach(function(a){a.isPointInside(e,d)&&f.push(a)}),f},bJ.isPointInside=function(e,c){var f=this.realPath=al[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(f=a6.transformPath(f,this.attr("transform"))),a6.isPointInsidePath(f,e,c)},bJ.getBBox=function(d){if(this.removed){return{}}var c=this._;return d?((c.dirty||!c.bboxwt)&&(this.realPath=al[this.type](this),c.bboxwt=bW(this.realPath),c.bboxwt.toString=aM,c.dirty=0),c.bboxwt):((c.dirty||c.dirtyT||!c.bbox)&&((c.dirty||!this.realPath)&&(c.bboxwt=0,this.realPath=al[this.type](this)),c.bbox=bW(ce(this.realPath,this.matrix)),c.bbox.toString=aM,c.dirty=c.dirtyT=0),c.bbox)},bJ.clone=function(){if(this.removed){return null}var b=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(b),b},bJ.glow=function(j){if("text"==this.type){return null}j=j||{};var h={width:(j.width||10)+(+this.attr("stroke-width")||1),fill:j.fill||!1,opacity:j.opacity||0.5,offsetx:j.offsetx||0,offsety:j.offsety||0,color:j.color||"#000"},q=h.width/2,n=this.paper,m=n.set(),l=this.realPath||al[this.type](this);l=this.matrix?ce(l,this.matrix):l;for(var k=1;q+1>k;k++){m.push(n.path(l).attr({stroke:h.color,fill:h.fill?h.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(h.width/q*k).toFixed(3),opacity:+(h.opacity/q).toFixed(3)}))}return m.insertBefore(this).translate(h.offsetx,h.offsety)};var aL=function(t,s,r,q,n,m,k,j,c){return null==c?aU(t,s,r,q,n,m,k,j):a6.findDotsAtSegment(t,s,r,q,n,m,k,j,aT(t,s,r,q,n,m,k,j,c))},aq=function(d,c){return function(D,C,B){D=ax(D);for(var A,z,w,u,t,s="",r={},q=0,b=0,a=D.length;a>b;b++){if(w=D[b],"M"==w[0]){A=+w[1],z=+w[2]}else{if(u=aL(A,z,w[1],w[2],w[3],w[4],w[5],w[6]),q+u>C){if(c&&!r.start){if(t=aL(A,z,w[1],w[2],w[3],w[4],w[5],w[6],C-q),s+=["C"+t.start.x,t.start.y,t.m.x,t.m.y,t.x,t.y],B){return s}r.start=s,s=["M"+t.x,t.y+"C"+t.n.x,t.n.y,t.end.x,t.end.y,w[5],w[6]].join(),q+=u,A=+w[5],z=+w[6];continue}if(!d&&!c){return t=aL(A,z,w[1],w[2],w[3],w[4],w[5],w[6],C-q),{x:t.x,y:t.y,alpha:t.alpha}}}q+=u,A=+w[5],z=+w[6]}s+=w.shift()+w}return r.end=s,t=d?q:c?r:a6.findDotsAtSegment(A,z,w[0],w[1],w[2],w[3],w[4],w[5],1),t.alpha&&(t={x:t.x,y:t.y,alpha:t.alpha}),t}},ag=aq(1),b6=aq(),bU=aq(0,1);a6.getTotalLength=ag,a6.getPointAtLength=b6,a6.getSubpath=function(f,e,h){if(this.getTotalLength(f)-h<0.000001){return bU(f,e).end}var g=bU(f,h,1);return e?bU(g,e).end:g},bJ.getTotalLength=function(){var b=this.getPath();if(b){return this.node.getTotalLength?this.node.getTotalLength():ag(b)}},bJ.getPointAtLength=function(d){var c=this.getPath();if(c){return b6(c,d)}},bJ.getPath=function(){var d,c=a6._getPath[this.type];if("text"!=this.type&&"set"!=this.type){return c&&(d=c(this)),d}},bJ.getSubpath=function(e,c){var f=this.getPath();if(f){return a6.getSubpath(f,e,c)}};var bv=a6.easing_formulas={linear:function(b){return b},"<":function(b){return bn(b,1.7)},">":function(b){return bn(b,0.48)},"<>":function(k){var j=0.48-k/1.04,s=bt.sqrt(0.1734+j*j),r=s-j,q=bn(bp(r),1/3)*(0>r?-1:1),n=-s-j,m=bn(bp(n),1/3)*(0>n?-1:1),l=q+m+0.5;return 3*(1-l)*l*l+l*l*l},backIn:function(d){var c=1.70158;return d*d*((c+1)*d-c)},backOut:function(d){d-=1;var c=1.70158;return d*d*((c+1)*d+c)+1},elastic:function(b){return b==!!b?b:bn(2,-10*b)*bt.sin((b-0.075)*2*bm/0.3)+1},bounce:function(f){var e,h=7.5625,g=2.75;return 1/g>f?e=h*f*f:2/g>f?(f-=1.5/g,e=h*f*f+0.75):2.5/g>f?(f-=2.25/g,e=h*f*f+0.9375):(f-=2.625/g,e=h*f*f+0.984375),e}};bv.easeIn=bv["ease-in"]=bv["<"],bv.easeOut=bv["ease-out"]=bv[">"],bv.easeInOut=bv["ease-in-out"]=bv["<>"],bv["back-in"]=bv.backIn,bv["back-out"]=bv.backOut;var aS=[],at=a8.requestAnimationFrame||a8.webkitRequestAnimationFrame||a8.mozRequestAnimationFrame||a8.oRequestAnimationFrame||a8.msRequestAnimationFrame||function(b){setTimeout(b,16)},ai=function(){for(var S=+new Date,Q=0;Q<aS.length;Q++){var P=aS[Q];if(!P.el.removed&&!P.paused){var O,N,M=S-P.start,L=P.ms,K=P.easing,J=P.from,I=P.diff,H=P.to,G=(P.t,P.el),F={},E={};if(P.initstatus?(M=(P.initstatus*P.anim.top-P.prev)/(P.percent-P.prev)*L,P.status=P.initstatus,delete P.initstatus,P.stop&&aS.splice(Q--,1)):P.status=(P.prev+(P.percent-P.prev)*(M/L))/P.anim.top,!(0>M)){if(L>M){var D=K(M/L);for(var C in J){if(J[aA](C)){switch(ar[C]){case bl:O=+J[C]+D*L*I[C];break;case"colour":O="rgb("+[b9(b0(J[C].r+D*L*I[C].r)),b9(b0(J[C].g+D*L*I[C].g)),b9(b0(J[C].b+D*L*I[C].b))].join(",")+")";break;case"path":O=[];for(var B=0,A=J[C].length;A>B;B++){O[B]=[J[C][B][0]];for(var z=1,s=J[C][B].length;s>z;z++){O[B][z]=+J[C][B][z]+D*L*I[C][B][z]}O[B]=O[B].join(bC)}O=O.join(bC);break;case"transform":if(I[C].real){for(O=[],B=0,A=J[C].length;A>B;B++){for(O[B]=[J[C][B][0]],z=1,s=J[C][B].length;s>z;z++){O[B][z]=J[C][B][z]+D*L*I[C][B][z]}}}else{var c=function(d){return +J[C][d]+D*L*I[C][d]};O=[["m",c(0),c(1),c(2),c(3),c(4),c(5)]]}break;case"csv":if("clip-rect"==C){for(O=[],B=4;B--;){O[B]=+J[C][B]+D*L*I[C][B]}}break;default:var b=[][bI](J[C]);for(O=[],B=G.paper.customAttributes[C].length;B--;){O[B]=+b[B]+D*L*I[C][B]}}F[C]=O}}G.attr(F),function(e,g,f){setTimeout(function(){a7("raphael.anim.frame."+e,g,f)})}(G.id,G,P.anim)}else{if(function(f,h,g){setTimeout(function(){a7("raphael.anim.frame."+h.id,h,g),a7("raphael.anim.finish."+h.id,h,g),a6.is(f,"function")&&f.call(h)})}(P.callback,G,P.anim),G.attr(H),aS.splice(Q--,1),P.repeat>1&&!P.next){for(N in H){H[aA](N)&&(E[N]=P.totalOrigin[N])}P.el.attr(E),aI(P.anim,P.el,P.anim.percents[0],null,P.totalOrigin,P.repeat-1)}P.next&&!P.stop&&aI(P.anim,P.el,P.next,null,P.totalOrigin,P.repeat)}}}}a6.svg&&G&&G.paper&&G.paper.safari(),aS.length&&at(ai)},b9=function(b){return b>255?255:0>b?0:b};bJ.animateWith=function(w,u,t,s,r,q){var n=this;if(n.removed){return q&&q.call(n),n}var m=t instanceof aJ?t:a6.animation(t,s,r,q);aI(m,n,m.percents[0],null,n.attr());for(var l=0,c=aS.length;c>l;l++){if(aS[l].anim==u&&aS[l].el==w){aS[c-1].start=aS[l].start;break}}return n},bJ.onAnimation=function(b){return b?a7.on("raphael.anim.frame."+this.id,b):a7.unbind("raphael.anim.frame."+this.id),this},aJ.prototype.delay=function(d){var c=new aJ(this.anim,this.ms);return c.times=this.times,c.del=+d||0,c},aJ.prototype.repeat=function(d){var c=new aJ(this.anim,this.ms);return c.del=this.del,c.times=bt.floor(bs(d,0))||1,c},a6.animation=function(j,c,q,n){if(j instanceof aJ){return j}(a6.is(q,"function")||!q)&&(n=n||q||null,q=null),j=Object(j),c=+c||0;var m,l,k={};for(l in j){j[aA](l)&&bd(l)!=l&&bd(l)+"%"!=l&&(m=!0,k[l]=j[l])}return m?(q&&(k.easing=q),n&&(k.callback=n),new aJ({100:k},c)):new aJ(j,c)},bJ.animate=function(h,c,m,l){var k=this;if(k.removed){return l&&l.call(k),k}var j=h instanceof aJ?h:a6.animation(h,c,m,l);return aI(j,k,j.percents[0],null,k.attr()),k},bJ.setTime=function(d,c){return d&&null!=c&&this.status(d,br(c,d.ms)/d.ms),this},bJ.status=function(h,g){var m,l,k=[],j=0;if(null!=g){return aI(h,this,-1,br(g,1)),this}for(m=aS.length;m>j;j++){if(l=aS[j],l.el.id==this.id&&(!h||l.anim==h)){if(h){return l.status}k.push({anim:l.anim,status:l.status})}}return h?0:k},bJ.pause=function(b){for(var d=0;d<aS.length;d++){aS[d].el.id!=this.id||b&&aS[d].anim!=b||a7("raphael.anim.pause."+this.id,this,aS[d].anim)!==!1&&(aS[d].paused=!0)}return this},bJ.resume=function(b){for(var f=0;f<aS.length;f++){if(aS[f].el.id==this.id&&(!b||aS[f].anim==b)){var e=aS[f];a7("raphael.anim.resume."+this.id,this,e.anim)!==!1&&(delete e.paused,this.status(e.anim,e.status))}}return this},bJ.stop=function(b){for(var d=0;d<aS.length;d++){aS[d].el.id!=this.id||b&&aS[d].anim!=b||a7("raphael.anim.stop."+this.id,this,aS[d].anim)!==!1&&aS.splice(d--,1)}return this},a7.on("raphael.remove",aH),a7.on("raphael.clear",aH),bJ.toString=function(){return"Raphaël’s object"};var bX=function(e){if(this.items=[],this.length=0,this.type="set",e){for(var d=0,f=e.length;f>d;d++){!e[d]||e[d].constructor!=bJ.constructor&&e[d].constructor!=bX||(this[this.items.length]=this.items[this.items.length]=e[d],this.length++)}}},bD=bX.prototype;bD.push=function(){for(var f,e,h=0,g=arguments.length;g>h;h++){f=arguments[h],!f||f.constructor!=bJ.constructor&&f.constructor!=bX||(e=this.items.length,this[e]=this.items[e]=f,this.length++)}return this},bD.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},bD.forEach=function(f,e){for(var h=0,g=this.items.length;g>h;h++){if(f.call(e,this.items[h],h)===!1){return this}}return this};for(var a0 in bJ){bJ[aA](a0)&&(bD[a0]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b][bK](d,a)})}}(a0))}return bD.attr=function(h,c){if(h&&a6.is(h,bj)&&a6.is(h[0],"object")){for(var m=0,l=h.length;l>m;m++){this.items[m].attr(h[m])}}else{for(var k=0,j=this.items.length;j>k;k++){this.items[k].attr(h,c)}}return this},bD.clear=function(){for(;this.length;){this.pop()}},bD.splice=function(j,h){j=0>j?bs(this.length+j,0):j,h=bs(0,br(this.length-j,h));var q,n=[],m=[],l=[];for(q=2;q<arguments.length;q++){l.push(arguments[q])}for(q=0;h>q;q++){m.push(this[j+q])}for(;q<this.length-j;q++){n.push(this[j+q])}var k=l.length;for(q=0;q<k+n.length;q++){this.items[j+q]=this[j+q]=k>q?l[q]:n[q-k]}for(q=this.items.length=this.length-=h-k;this[q];){delete this[q++]}return new bX(m)},bD.exclude=function(e){for(var d=0,f=this.length;f>d;d++){if(this[d]==e){return this.splice(d,1),!0}}},bD.animate=function(w,u,t,s){(a6.is(t,"function")||!t)&&(s=t||null);var r,q,n=this.items.length,m=n,l=this;if(!n){return this}s&&(q=function(){!--n&&s.call(l)}),t=a6.is(t,bk)?t:q;var c=a6.animation(w,u,t,q);for(r=this.items[--m].animate(c);m--;){this.items[m]&&!this.items[m].removed&&this.items[m].animateWith(r,c,c),this.items[m]&&!this.items[m].removed||n--}return this},bD.insertAfter=function(d){for(var c=this.items.length;c--;){this.items[c].insertAfter(d)}return this},bD.getBBox=function(){for(var h=[],g=[],m=[],l=[],k=this.items.length;k--;){if(!this.items[k].removed){var j=this.items[k].getBBox();h.push(j.x),g.push(j.y),m.push(j.x+j.width),l.push(j.y+j.height)}}return h=br[bK](0,h),g=br[bK](0,g),m=bs[bK](0,m),l=bs[bK](0,l),{x:h,y:g,x2:m,y2:l,width:m-h,height:l-g}},bD.clone=function(e){e=this.paper.set();for(var d=0,f=this.items.length;f>d;d++){e.push(this.items[d].clone())}return e},bD.toString=function(){return"Raphaël‘s set"},bD.glow=function(d){var c=this.paper.set();return this.forEach(function(b){var a=b.glow(d);null!=a&&a.forEach(function(e){c.push(e)})}),c},bD.isPointInside=function(e,d){var f=!1;return this.forEach(function(a){return a.isPointInside(e,d)?(console.log("runned"),f=!0,!1):void 0}),f},a6.registerFont=function(j){if(!j.face){return j}this.fonts=this.fonts||{};var h={w:j.w,face:{},glyphs:{}},q=j.face["font-family"];for(var n in j.face){j.face[aA](n)&&(h.face[n]=j.face[n])}if(this.fonts[q]?this.fonts[q].push(h):this.fonts[q]=[h],!j.svg){h.face["units-per-em"]=bT(j.face["units-per-em"],10);for(var m in j.glyphs){if(j.glyphs[aA](m)){var l=j.glyphs[m];if(h.glyphs[m]={w:l.w,k:{},d:l.d&&"M"+l.d.replace(/[mlcxtrv]/g,function(b){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[b]||"M"})+"z"},l.k){for(var k in l.k){l[aA](k)&&(h.glyphs[m].k[k]=l.k[k])}}}}}return j},aF.getFont=function(w,u,t,s){if(s=s||"normal",t=t||"normal",u=+u||{normal:400,bold:700,lighter:300,bolder:800}[u]||400,a6.fonts){var r=a6.fonts[w];if(!r){var q=new RegExp("(^|\\s)"+w.replace(/[^\w\d\s+!~.:_-]/g,bE)+"(\\s|$)","i");for(var n in a6.fonts){if(a6.fonts[aA](n)&&q.test(n)){r=a6.fonts[n];break}}}var m;if(r){for(var l=0,c=r.length;c>l&&(m=r[l],m.face["font-weight"]!=u||m.face["font-style"]!=t&&m.face["font-style"]||m.face["font-stretch"]!=s);l++){}}return m}},aF.print=function(T,S,Q,P,O,N,M,L){N=N||"middle",M=bs(br(M||0,1),-1),L=bs(br(L||1,3),1);var K,J=bB(Q)[bA](bE),I=0,H=0,G=bE;if(a6.is(P,"string")&&(P=this.getFont(P)),P){K=(O||16)/P.face["units-per-em"];for(var F=P.face.bbox[bA](aE),E=+F[0],D=F[3]-F[1],C=0,B=+F[1]+("baseline"==N?D+ +P.face.descent:D/2),A=0,z=J.length;z>A;A++){if("\n"==J[A]){I=0,c=0,H=0,C+=D*L}else{var w=H&&P.glyphs[J[A-1]]||{},c=P.glyphs[J[A]];I+=H?(w.w||P.w)+(w.k&&w.k[J[A]]||0)+P.w*M:0,H=1}c&&c.d&&(G+=a6.transformPath(c.d,["t",I*K,C*K,"s",K,K,E,B,"t",(T-E)/K,(S-B)/K]))}}return this.path(G).attr({fill:"#000",stroke:"none"})},aF.add=function(g){if(a6.is(g,"array")){for(var c,k=this.set(),j=0,h=g.length;h>j;j++){c=g[j]||{},aD[aA](c.type)&&k.push(this[c.type]().attr(c))}}return k},a6.format=function(e,c){var f=a6.is(c,bj)?[0][bI](c):arguments;return e&&a6.is(e,bk)&&f.length-1&&(e=e.replace(aC,function(g,d){return null==f[++d]?bE:f[d]})),e||bE},a6.fullfill=function(){var e=/\{([^\}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,f=function(b,j,h){var g=h;return j.replace(d,function(l,k,q,n,m){k=k||n,g&&(k in g&&(g=g[k]),"function"==typeof g&&m&&(g=g()))}),g=(null==g||g==h?b:g)+""};return function(a,c){return String(a).replace(e,function(h,g){return f(h,g,c)})}}(),a6.ninja=function(){return bM.was?bO.win.Raphael=bM.is:delete Raphael,a6},a6.st=bD,function(f,c,h){function g(){/in/.test(f.readyState)?setTimeout(g,9):a6.eve("raphael.DOMload")}null==f.readyState&&f.addEventListener&&(f.addEventListener(c,h=function(){f.removeEventListener(c,h,!1),f.readyState="complete"},!1),f.readyState="loading"),g()}(document,"DOMContentLoaded"),a7.on("raphael.DOMload",function(){aG=!0}),function(){if(a6.svg){var cb="hasOwnProperty",bc=String,bb=parseFloat,ac=parseInt,ab=Math,Z=ab.max,Y=ab.abs,X=ab.pow,W=/[, ]+/,V=a6.eve,U="",T=" ",S="http://www.w3.org/1999/xlink",Q={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},P={};a6.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var N=function(g,b){if(b){"string"==typeof g&&(g=N(g));for(var a in b){b[cb](a)&&("xlink:"==a.substring(0,6)?g.setAttributeNS(S,a.substring(6),bc(b[a])):g.setAttribute(a,bc(b[a])))}}else{g=a6._g.doc.createElementNS("http://www.w3.org/2000/svg",g),g.style&&(g.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return g},L=function(C,z){var q="linear",l=C.id+z,h=0.5,g=0.5,f=C.node,d=C.paper,b=f.style,cj=a6._g.doc.getElementById(l);if(!cj){if(z=bc(z).replace(a6._radial_gradient,function(k,j,n){if(q="radial",j&&n){h=bb(j),g=bb(n);var m=2*(g>0.5)-1;X(h-0.5,2)+X(g-0.5,2)>0.25&&(g=ab.sqrt(0.25-X(h-0.5,2))*m+0.5)&&0.5!=g&&(g=g.toFixed(5)-0.00001*m)}return U}),z=z.split(/\s*\-\s*/),"linear"==q){var ci=z.shift();if(ci=-bb(ci),isNaN(ci)){return null}var ch=[0,0,ab.cos(a6.rad(ci)),ab.sin(a6.rad(ci))],cg=1/(Z(Y(ch[2]),Y(ch[3]))||1);ch[2]*=cg,ch[3]*=cg,ch[2]<0&&(ch[0]=-ch[2],ch[2]=0),ch[3]<0&&(ch[1]=-ch[3],ch[3]=0)}var cc=a6._parseDots(z);if(!cc){return null}if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),C.gradient&&l!=C.gradient.id&&(d.defs.removeChild(C.gradient),delete C.gradient),!C.gradient){cj=N(q+"Gradient",{id:l}),C.gradient=cj,N(cj,"radial"==q?{fx:h,fy:g}:{x1:ch[0],y1:ch[1],x2:ch[2],y2:ch[3],gradientTransform:C.matrix.invert()}),d.defs.appendChild(cj);for(var B=0,A=cc.length;A>B;B++){cj.appendChild(N("stop",{offset:cc[B].offset?cc[B].offset:B?"100%":"0%","stop-color":cc[B].color||"#fff"}))}}}return N(f,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),b.fill=U,b.opacity=1,b.fillOpacity=1,1},J=function(e){var d=e.getBBox(1);N(e.pattern,{patternTransform:e.matrix.invert()+" translate("+d.x+","+d.y+")"})},I=function(cz,cy,cx){if("path"==cz.type){for(var cw,cv,cu,ct,cs,cr=bc(cy).toLowerCase().split("-"),cq=cz.paper,cn=cx?"end":"start",cl=cz.node,cj=cz.attrs,ch=cj["stroke-width"],cc=cr.length,q="classic",l=3,b=3,a=5;cc--;){switch(cr[cc]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":q=cr[cc];break;case"wide":b=5;break;case"narrow":b=2;break;case"long":l=5;break;case"short":l=2}}if("open"==q?(l+=2,b+=2,a+=2,cu=1,ct=cx?4:1,cs={fill:"none",stroke:cj.stroke}):(ct=cu=l/2,cs={fill:cj.stroke,stroke:"none"}),cz._.arrows?cx?(cz._.arrows.endPath&&P[cz._.arrows.endPath]--,cz._.arrows.endMarker&&P[cz._.arrows.endMarker]--):(cz._.arrows.startPath&&P[cz._.arrows.startPath]--,cz._.arrows.startMarker&&P[cz._.arrows.startMarker]--):cz._.arrows={},"none"!=q){var cp="raphael-marker-"+q,co="raphael-marker-"+cn+q+l+b;a6._g.doc.getElementById(cp)?P[cp]++:(cq.defs.appendChild(N(N("path"),{"stroke-linecap":"round",d:Q[q],id:cp})),P[cp]=1);var cm,ck=a6._g.doc.getElementById(co);ck?(P[co]++,cm=ck.getElementsByTagName("use")[0]):(ck=N(N("marker"),{id:co,markerHeight:b,markerWidth:l,orient:"auto",refX:ct,refY:b/2}),cm=N(N("use"),{"xlink:href":"#"+cp,transform:(cx?"rotate(180 "+l/2+" "+b/2+") ":U)+"scale("+l/a+","+b/a+")","stroke-width":(1/((l/a+b/a)/2)).toFixed(4)}),ck.appendChild(cm),cq.defs.appendChild(ck),P[co]=1),N(cm,cs);var ci=cu*("diamond"!=q&&"oval"!=q);cx?(cw=cz._.arrows.startdx*ch||0,cv=a6.getTotalLength(cj.path)-ci*ch):(cw=ci*ch,cv=a6.getTotalLength(cj.path)-(cz._.arrows.enddx*ch||0)),cs={},cs["marker-"+cn]="url(#"+co+")",(cv||cw)&&(cs.d=a6.getSubpath(cj.path,cw,cv)),N(cl,cs),cz._.arrows[cn+"Path"]=cp,cz._.arrows[cn+"Marker"]=co,cz._.arrows[cn+"dx"]=ci,cz._.arrows[cn+"Type"]=q,cz._.arrows[cn+"String"]=cy}else{cx?(cw=cz._.arrows.startdx*ch||0,cv=a6.getTotalLength(cj.path)-cw):(cw=0,cv=a6.getTotalLength(cj.path)-(cz._.arrows.enddx*ch||0)),cz._.arrows[cn+"Path"]&&N(cl,{d:a6.getSubpath(cj.path,cw,cv)}),delete cz._.arrows[cn+"Path"],delete cz._.arrows[cn+"Marker"],delete cz._.arrows[cn+"dx"],delete cz._.arrows[cn+"Type"],delete cz._.arrows[cn+"String"]}for(cs in P){if(P[cb](cs)&&!P[cs]){var cg=a6._g.doc.getElementById(cs);cg&&cg.parentNode.removeChild(cg)}}}},H={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},G=function(b,q,n){if(q=H[bc(q).toLowerCase()]){for(var m=b.attrs["stroke-width"]||"1",l={round:m,square:m,butt:0}[b.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,k=[],j=q.length;j--;){k[j]=q[j]*m+(j%2?1:-1)*l}N(b.node,{"stroke-dasharray":k.join(",")})}},F=function(cn,cm){var cl=cn.node,ck=cn.attrs,cj=cl.style.visibility;cl.style.visibility="hidden";for(var ci in cm){if(cm[cb](ci)){if(!a6._availableAttrs[cb](ci)){continue}var ch=cm[ci];switch(ck[ci]=ch,ci){case"blur":cn.blur(ch);break;case"href":case"title":var q=N("title"),j=a6._g.doc.createTextNode(ch);q.appendChild(j),cl.appendChild(q);break;case"target":var g=cl.parentNode;if("a"!=g.tagName.toLowerCase()){var q=N("a");g.insertBefore(q,cl),q.appendChild(cl),g=q}"target"==ci?g.setAttributeNS(S,"show","blank"==ch?"new":ch):g.setAttributeNS(S,ci,ch);break;case"cursor":cl.style.cursor=ch;break;case"transform":cn.transform(ch);break;case"arrow-start":I(cn,ch);break;case"arrow-end":I(cn,ch,1);break;case"clip-rect":var a=bc(ch).split(W);if(4==a.length){cn.clip&&cn.clip.parentNode.parentNode.removeChild(cn.clip.parentNode);var cg=N("clipPath"),cc=N("rect");cg.id=a6.createUUID(),N(cc,{x:a[0],y:a[1],width:a[2],height:a[3]}),cg.appendChild(cc),cn.paper.defs.appendChild(cg),N(cl,{"clip-path":"url(#"+cg.id+")"}),cn.clip=cc}if(!ch){var t=cl.getAttribute("clip-path");if(t){var s=a6._g.doc.getElementById(t.replace(/(^url\(#|\)$)/g,U));s&&s.parentNode.removeChild(s),N(cl,{"clip-path":U}),delete cn.clip}}break;case"path":"path"==cn.type&&(N(cl,{d:ch?ck.path=a6._pathToAbsolute(ch):"M0,0"}),cn._.dirty=1,cn._.arrows&&("startString" in cn._.arrows&&I(cn,cn._.arrows.startString),"endString" in cn._.arrows&&I(cn,cn._.arrows.endString,1)));break;case"width":if(cl.setAttribute(ci,ch),cn._.dirty=1,!ck.fx){break}ci="x",ch=ck.x;case"x":ck.fx&&(ch=-ck.x-(ck.width||0));case"rx":if("rx"==ci&&"rect"==cn.type){break}case"cx":cl.setAttribute(ci,ch),cn.pattern&&J(cn),cn._.dirty=1;break;case"height":if(cl.setAttribute(ci,ch),cn._.dirty=1,!ck.fy){break}ci="y",ch=ck.y;case"y":ck.fy&&(ch=-ck.y-(ck.height||0));case"ry":if("ry"==ci&&"rect"==cn.type){break}case"cy":cl.setAttribute(ci,ch),cn.pattern&&J(cn),cn._.dirty=1;break;case"r":"rect"==cn.type?N(cl,{rx:ch,ry:ch}):cl.setAttribute(ci,ch),cn._.dirty=1;break;case"src":"image"==cn.type&&cl.setAttributeNS(S,"href",ch);break;case"stroke-width":(1!=cn._.sx||1!=cn._.sy)&&(ch/=Z(Y(cn._.sx),Y(cn._.sy))||1),cn.paper._vbSize&&(ch*=cn.paper._vbSize),cl.setAttribute(ci,ch),ck["stroke-dasharray"]&&G(cn,ck["stroke-dasharray"],cm),cn._.arrows&&("startString" in cn._.arrows&&I(cn,cn._.arrows.startString),"endString" in cn._.arrows&&I(cn,cn._.arrows.endString,1));break;case"stroke-dasharray":G(cn,ch,cm);break;case"fill":var r=bc(ch).match(a6._ISURL);if(r){cg=N("pattern");var n=N("image");cg.id=a6.createUUID(),N(cg,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),N(n,{x:0,y:0,"xlink:href":r[1]}),cg.appendChild(n),function(d){a6._preload(r[1],function(){var f=this.offsetWidth,k=this.offsetHeight;N(d,{width:f,height:k}),N(n,{width:f,height:k}),cn.paper.safari()})}(cg),cn.paper.defs.appendChild(cg),N(cl,{fill:"url(#"+cg.id+")"}),cn.pattern=cg,cn.pattern&&J(cn);break}var l=a6.getRGB(ch);if(l.error){if(("circle"==cn.type||"ellipse"==cn.type||"r"!=bc(ch).charAt())&&L(cn,ch)){if("opacity" in ck||"fill-opacity" in ck){var h=a6._g.doc.getElementById(cl.getAttribute("fill").replace(/^url\(#|\)$/g,U));if(h){var e=h.getElementsByTagName("stop");N(e[e.length-1],{"stop-opacity":("opacity" in ck?ck.opacity:1)*("fill-opacity" in ck?ck["fill-opacity"]:1)})}}ck.gradient=ch,ck.fill="none";break}}else{delete cm.gradient,delete ck.gradient,!a6.is(ck.opacity,"undefined")&&a6.is(cm.opacity,"undefined")&&N(cl,{opacity:ck.opacity}),!a6.is(ck["fill-opacity"],"undefined")&&a6.is(cm["fill-opacity"],"undefined")&&N(cl,{"fill-opacity":ck["fill-opacity"]})}l[cb]("opacity")&&N(cl,{"fill-opacity":l.opacity>1?l.opacity/100:l.opacity});case"stroke":l=a6.getRGB(ch),cl.setAttribute(ci,l.hex),"stroke"==ci&&l[cb]("opacity")&&N(cl,{"stroke-opacity":l.opacity>1?l.opacity/100:l.opacity}),"stroke"==ci&&cn._.arrows&&("startString" in cn._.arrows&&I(cn,cn._.arrows.startString),"endString" in cn._.arrows&&I(cn,cn._.arrows.endString,1));break;case"gradient":("circle"==cn.type||"ellipse"==cn.type||"r"!=bc(ch).charAt())&&L(cn,ch);break;case"opacity":ck.gradient&&!ck[cb]("stroke-opacity")&&N(cl,{"stroke-opacity":ch>1?ch/100:ch});case"fill-opacity":if(ck.gradient){h=a6._g.doc.getElementById(cl.getAttribute("fill").replace(/^url\(#|\)$/g,U)),h&&(e=h.getElementsByTagName("stop"),N(e[e.length-1],{"stop-opacity":ch}));break}default:"font-size"==ci&&(ch=ac(ch,10)+"px");var b=ci.replace(/(\-.)/g,function(d){return d.substring(1).toUpperCase()});cl.style[b]=ch,cn._.dirty=1,cl.setAttribute(ci,ch)}}}D(cn,cm),cl.style.visibility=cj},E=1.2,D=function(B,A){if("text"==B.type&&(A[cb]("text")||A[cb]("font")||A[cb]("font-size")||A[cb]("x")||A[cb]("y"))){var z=B.attrs,w=B.node,u=w.firstChild?ac(a6._g.doc.defaultView.getComputedStyle(w.firstChild,U).getPropertyValue("font-size"),10):10;if(A[cb]("text")){for(z.text=A.text;w.firstChild;){w.removeChild(w.firstChild)}for(var t,s=bc(A.text).split("\n"),q=[],l=0,e=s.length;e>l;l++){t=N("tspan"),l&&N(t,{dy:u*E,x:z.x}),t.appendChild(a6._g.doc.createTextNode(s[l])),w.appendChild(t),q[l]=t}}else{for(q=w.getElementsByTagName("tspan"),l=0,e=q.length;e>l;l++){l?N(q[l],{dy:u*E,x:z.x}):N(q[0],{dy:0})}}N(w,{x:z.x,y:z.y}),B._.dirty=1;var b=B._getBBox(),a=z.y-(b.y+b.height/2);a&&a6.is(a,"finite")&&N(q[0],{dy:a})}},c=function(e,d){this[0]=this.node=e,e.raphael=!0,this.id=a6._oid++,e.raphaelid=this.id,this.matrix=a6.matrix(),this.realPath=null,this.paper=d,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},O=a6.el;c.prototype=O,O.constructor=c,a6._engine.path=function(f,e){var h=N("path");e.canvas&&e.canvas.appendChild(h);var g=new c(h,e);return g.type="path",F(g,{fill:"none",stroke:"#000",path:f}),g},O.rotate=function(b,h,g){if(this.removed){return this}if(b=bc(b).split(W),b.length-1&&(h=bb(b[1]),g=bb(b[2])),b=bb(b[0]),null==g&&(h=g),null==h||null==g){var d=this.getBBox(1);h=d.x+d.width/2,g=d.y+d.height/2}return this.transform(this._.transform.concat([["r",b,h,g]])),this},O.scale=function(b,k,j,h){if(this.removed){return this}if(b=bc(b).split(W),b.length-1&&(k=bb(b[1]),j=bb(b[2]),h=bb(b[3])),b=bb(b[0]),null==k&&(k=b),null==h&&(j=h),null==j||null==h){var d=this.getBBox(1)}return j=null==j?d.x+d.width/2:j,h=null==h?d.y+d.height/2:h,this.transform(this._.transform.concat([["s",b,k,j,h]])),this},O.translate=function(b,d){return this.removed?this:(b=bc(b).split(W),b.length-1&&(d=bb(b[1])),b=bb(b[0])||0,d=+d||0,this.transform(this._.transform.concat([["t",b,d]])),this)},O.transform=function(a){var g=this._;if(null==a){return g.transform}if(a6._extractTransform(this,a),this.clip&&N(this.clip,{transform:this.matrix.invert()}),this.pattern&&J(this),this.node&&N(this.node,{transform:this.matrix}),1!=g.sx||1!=g.sy){var f=this.attrs[cb]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":f})}return this},O.hide=function(){return !this.removed&&this.paper.safari(this.node.style.display="none"),this},O.show=function(){return !this.removed&&this.paper.safari(this.node.style.display=""),this},O.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),V.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),a6._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var d in this){this[d]="function"==typeof this[d]?a6._removedFactory(d):null}this.removed=!0}},O._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var d={};try{d=this.node.getBBox()}catch(f){}finally{d=d||{}}return e&&this.hide(),d},O.attr=function(B,A){if(this.removed){return this}if(null==B){var z={};for(var w in this.attrs){this.attrs[cb](w)&&(z[w]=this.attrs[w])}return z.gradient&&"none"==z.fill&&(z.fill=z.gradient)&&delete z.gradient,z.transform=this._.transform,z}if(null==A&&a6.is(B,"string")){if("fill"==B&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}if("transform"==B){return this._.transform}for(var u=B.split(W),t={},s=0,r=u.length;r>s;s++){B=u[s],t[B]=B in this.attrs?this.attrs[B]:a6.is(this.paper.customAttributes[B],"function")?this.paper.customAttributes[B].def:a6._availableAttrs[B]}return r-1?t:t[u[0]]}if(null==A&&a6.is(B,"array")){for(t={},s=0,r=B.length;r>s;s++){t[B[s]]=this.attr(B[s])}return t}if(null!=A){var q={};q[B]=A}else{null!=B&&a6.is(B,"object")&&(q=B)}for(var k in q){V("raphael.attr."+k+"."+this.id,this,q[k])}for(k in this.paper.customAttributes){if(this.paper.customAttributes[cb](k)&&q[cb](k)&&a6.is(this.paper.customAttributes[k],"function")){var j=this.paper.customAttributes[k].apply(this,[].concat(q[k]));this.attrs[k]=q[k];for(var a in j){j[cb](a)&&(q[a]=j[a])}}}return F(this,q),this},O.toFront=function(){if(this.removed){return this}"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a6._tofront(this,b),this},O.toBack=function(){if(this.removed){return this}var b=this.node.parentNode;return"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a6._toback(this,this.paper),this.paper,this},O.insertAfter=function(e){if(this.removed){return this}var d=e.node||e[e.length-1].node;return d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),a6._insertafter(this,e,this.paper),this},O.insertBefore=function(e){if(this.removed){return this}var d=e.node||e[0].node;return d.parentNode.insertBefore(this.node,d),a6._insertbefore(this,e,this.paper),this},O.blur=function(g){var f=this;if(0!==+g){var j=N("filter"),h=N("feGaussianBlur");f.attrs.blur=g,j.id=a6.createUUID(),N(h,{stdDeviation:+g||1.5}),j.appendChild(h),f.paper.defs.appendChild(j),f._blur=j,N(f.node,{filter:"url(#"+j.id+")"})}else{f._blur&&(f._blur.parentNode.removeChild(f._blur),delete f._blur,delete f.attrs.blur),f.node.removeAttribute("filter")}return f},a6._engine.circle=function(h,g,m,l){var k=N("circle");h.canvas&&h.canvas.appendChild(k);var j=new c(k,h);return j.attrs={cx:g,cy:m,r:l,fill:"none",stroke:"#000"},j.type="circle",N(k,j.attrs),j},a6._engine.rect=function(k,j,s,r,q,n){var m=N("rect");k.canvas&&k.canvas.appendChild(m);var l=new c(m,k);return l.attrs={x:j,y:s,width:r,height:q,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},l.type="rect",N(m,l.attrs),l},a6._engine.ellipse=function(j,h,q,n,m){var l=N("ellipse");j.canvas&&j.canvas.appendChild(l);var k=new c(l,j);return k.attrs={cx:h,cy:q,rx:n,ry:m,fill:"none",stroke:"#000"},k.type="ellipse",N(l,k.attrs),k},a6._engine.image=function(k,j,s,r,q,n){var m=N("image");N(m,{x:s,y:r,width:q,height:n,preserveAspectRatio:"none"}),m.setAttributeNS(S,"href",j),k.canvas&&k.canvas.appendChild(m);var l=new c(m,k);return l.attrs={x:s,y:r,width:q,height:n,src:j},l.type="image",l},a6._engine.text=function(j,h,n,m){var l=N("text");j.canvas&&j.canvas.appendChild(l);var k=new c(l,j);return k.attrs={x:h,y:n,"text-anchor":"middle",text:m,font:a6._availableAttrs.font,stroke:"none",fill:"#000"},k.type="text",F(k,k.attrs),k},a6._engine.setSize=function(e,d){return this.width=e||this.width,this.height=d||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a6._engine.create=function(){var u=a6._getContainer.apply(0,arguments),t=u&&u.container,s=u.x,r=u.y,q=u.width,n=u.height;if(!t){throw new Error("SVG container not found.")}var m,l=N("svg"),k="overflow:hidden;";return s=s||0,r=r||0,q=q||512,n=n||342,N(l,{height:n,version:1.1,width:q,xmlns:"http://www.w3.org/2000/svg"}),1==t?(l.style.cssText=k+"position:absolute;left:"+s+"px;top:"+r+"px",a6._g.doc.body.appendChild(l),m=1):(l.style.cssText=k+"position:relative",t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l)),t=new a6._Paper,t.width=q,t.height=n,t.canvas=l,t.clear(),t._left=t._top=0,m&&(t.renderfix=function(){}),t.renderfix(),t},a6._engine.setViewBox=function(w,u,t,s,r){V("raphael.setViewBox",this,this._viewBox,[w,u,t,s,r]);var q,n,m=Z(t/this.width,s/this.height),k=this.top,g=r?"meet":"xMinYMin";for(null==w?(this._vbSize&&(m=1),delete this._vbSize,q="0 0 "+this.width+T+this.height):(this._vbSize=m,q=w+T+u+T+t+T+s),N(this.canvas,{viewBox:q,preserveAspectRatio:g});m&&k;){n="stroke-width" in k.attrs?k.attrs["stroke-width"]:1,k.attr({"stroke-width":n}),k._.dirty=1,k._.dirtyT=1,k=k.prev}return this._viewBox=[w,u,t,s,!!r],this},a6.prototype.renderfix=function(){var h,g=this.canvas,m=g.style;try{h=g.getScreenCTM()||g.createSVGMatrix()}catch(l){h=g.createSVGMatrix()}var k=-h.e%1,j=-h.f%1;(k||j)&&(k&&(this._left=(this._left+k)%1,m.left=this._left+"px"),j&&(this._top=(this._top+j)%1,m.top=this._top+"px"))},a6.prototype.clear=function(){a6.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;){b.removeChild(b.firstChild)}this.bottom=this.top=null,(this.desc=N("desc")).appendChild(a6._g.doc.createTextNode("Created with Raphaël "+a6.version)),b.appendChild(this.desc),b.appendChild(this.defs=N("defs"))},a6.prototype.remove=function(){V("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}};var M=a6.st;for(var K in O){O[cb](K)&&!M[cb](K)&&(M[K]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(K))}}}(),function(){if(a6.vml){var co="hasOwnProperty",cn=String,cm=parseFloat,cl=Math,ck=cl.round,cj=cl.max,ci=cl.min,ch=cl.abs,cg="fill",cc=/[, ]+/,cb=a6.eve,bc=" progid:DXImageTransform.Microsoft",bb=" ",ac="",ab={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Y=/([clmz]),?([^clmz]*)/gi,W=/ progid:\S+Blur\([^\)]+\)/g,U=/-?[^,\s-]+/g,S="position:absolute;left:0;top:0;width:1px;height:1px",P=21600,N={path:1,rect:1,image:1},L={circle:1,ellipse:1},J=function(B){var A=/[ahqstv]/gi,z=a6._pathToAbsolute;if(cn(B).match(A)&&(z=a6._path2curve),A=/[clmz]/g,z==a6._pathToAbsolute&&!cn(B).match(A)){var w=cn(B).replace(Y,function(j,h,r){var m=[],l="m"==h.toLowerCase(),k=ab[h];return r.replace(U,function(d){l&&2==m.length&&(k+=m+ab["m"==h?"l":"L"],m=[]),m.push(ck(d*P))}),k+m});return w}var u,t,s=z(B);w=[];for(var q=0,n=s.length;n>q;q++){u=s[q],t=s[q][0].toLowerCase(),"z"==t&&(t="x");for(var f=1,b=u.length;b>f;f++){t+=ck(u[f]*P)+(f!=b-1?",":ac)}w.push(t)}return w.join(bb)},I=function(g,f,j){var h=a6.matrix();return h.rotate(-g,0.5,0.5),{dx:h.x(f,j),dy:h.y(f,j)}},c=function(cq,cp,H,G,F,E){var D=cq._,C=cq.matrix,B=D.fillpos,A=cq.node,z=A.style,w=1,u="",n=P/cp,j=P/H;if(z.visibility="hidden",cp&&H){if(A.coordsize=ch(n)+bb+ch(j),z.rotation=E*(0>cp*H?-1:1),E){var cs=I(E,G,F);G=cs.dx,F=cs.dy}if(0>cp&&(u+="x"),0>H&&(u+=" y")&&(w=-1),z.flip=u,A.coordorigin=G*-n+bb+F*-j,B||D.fillsize){var cr=A.getElementsByTagName(cg);cr=cr&&cr[0],A.removeChild(cr),B&&(cs=I(E,C.x(B[0],B[1]),C.y(B[0],B[1])),cr.position=cs.dx*w+bb+cs.dy*w),D.fillsize&&(cr.size=D.fillsize[0]*ch(cp)+bb+D.fillsize[1]*ch(H)),A.appendChild(cr)}z.visibility="visible"}};a6.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var Z=function(w,u,t){for(var s=cn(u).toLowerCase().split("-"),r=t?"end":"start",q=s.length,n="classic",m="medium",l="medium";q--;){switch(s[q]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":n=s[q];break;case"wide":case"narrow":l=s[q];break;case"long":case"short":m=s[q]}}var b=w.node.getElementsByTagName("stroke")[0];b[r+"arrow"]=n,b[r+"arrowlength"]=m,b[r+"arrowwidth"]=l},X=function(cH,cG){cH.attrs=cH.attrs||{};var cF=cH.node,cE=cH.attrs,cD=cF.style,cC=N[cH.type]&&(cG.x!=cE.x||cG.y!=cE.y||cG.width!=cE.width||cG.height!=cE.height||cG.cx!=cE.cx||cG.cy!=cE.cy||cG.rx!=cE.rx||cG.ry!=cE.ry||cG.r!=cE.r),cA=L[cH.type]&&(cE.cx!=cG.cx||cE.cy!=cG.cy||cE.r!=cG.r||cE.rx!=cG.rx||cE.ry!=cG.ry),cy=cH;for(var cx in cG){cG[co](cx)&&(cE[cx]=cG[cx])}if(cC&&(cE.path=a6._getPath[cH.type](cH),cH._.dirty=1),cG.href&&(cF.href=cG.href),cG.title&&(cF.title=cG.title),cG.target&&(cF.target=cG.target),cG.cursor&&(cD.cursor=cG.cursor),"blur" in cG&&cH.blur(cG.blur),(cG.path&&"path"==cH.type||cC)&&(cF.path=J(~cn(cE.path).toLowerCase().indexOf("r")?a6._pathToAbsolute(cE.path):cE.path),"image"==cH.type&&(cH._.fillpos=[cE.x,cE.y],cH._.fillsize=[cE.width,cE.height],c(cH,1,1,0,0,0))),"transform" in cG&&cH.transform(cG.transform),cA){var cs=+cE.cx,cB=+cE.cy,cz=+cE.rx||+cE.r||0,cw=+cE.ry||+cE.r||0;cF.path=a6.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ck((cs-cz)*P),ck((cB-cw)*P),ck((cs+cz)*P),ck((cB+cw)*P),ck(cs*P)),cH._.dirty=1}if("clip-rect" in cG){var cv=cn(cG["clip-rect"]).split(cc);if(4==cv.length){cv[2]=+cv[2]+ +cv[0],cv[3]=+cv[3]+ +cv[1];var cu=cF.clipRect||a6._g.doc.createElement("div"),ct=cu.style;ct.clip=a6.format("rect({1}px {2}px {3}px {0}px)",cv),cF.clipRect||(ct.position="absolute",ct.top=0,ct.left=0,ct.width=cH.paper.width+"px",ct.height=cH.paper.height+"px",cF.parentNode.insertBefore(cu,cF),cu.appendChild(cF),cF.clipRect=cu)}cG["clip-rect"]||cF.clipRect&&(cF.clipRect.style.clip="auto")}if(cH.textpath){var cr=cH.textpath.style;cG.font&&(cr.font=cG.font),cG["font-family"]&&(cr.fontFamily='"'+cG["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ac)+'"'),cG["font-size"]&&(cr.fontSize=cG["font-size"]),cG["font-weight"]&&(cr.fontWeight=cG["font-weight"]),cG["font-style"]&&(cr.fontStyle=cG["font-style"])}if("arrow-start" in cG&&Z(cy,cG["arrow-start"]),"arrow-end" in cG&&Z(cy,cG["arrow-end"],1),null!=cG.opacity||null!=cG["stroke-width"]||null!=cG.fill||null!=cG.src||null!=cG.stroke||null!=cG["stroke-width"]||null!=cG["stroke-opacity"]||null!=cG["fill-opacity"]||null!=cG["stroke-dasharray"]||null!=cG["stroke-miterlimit"]||null!=cG["stroke-linejoin"]||null!=cG["stroke-linecap"]){var cq=cF.getElementsByTagName(cg),cp=!1;if(cq=cq&&cq[0],!cq&&(cp=cq=O(cg)),"image"==cH.type&&cG.src&&(cq.src=cG.src),cG.fill&&(cq.on=!0),(null==cq.on||"none"==cG.fill||null===cG.fill)&&(cq.on=!1),cq.on&&cG.fill){var F=cn(cG.fill).match(a6._ISURL);if(F){cq.parentNode==cF&&cF.removeChild(cq),cq.rotate=!0,cq.src=F[1],cq.type="tile";var C=cH.getBBox(1);cq.position=C.x+bb+C.y,cH._.fillpos=[C.x,C.y],a6._preload(F[1],function(){cH._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{cq.color=a6.getRGB(cG.fill).hex,cq.src=ac,cq.type="solid",a6.getRGB(cG.fill).error&&(cy.type in {circle:1,ellipse:1}||"r"!=cn(cG.fill).charAt())&&V(cy,cG.fill,cq)&&(cE.fill="none",cE.gradient=cG.fill,cq.rotate=!1)}}if("fill-opacity" in cG||"opacity" in cG){var A=((+cE["fill-opacity"]+1||2)-1)*((+cE.opacity+1||2)-1)*((+a6.getRGB(cG.fill).o+1||2)-1);A=ci(cj(A,0),1),cq.opacity=A,cq.src&&(cq.color="none")}cF.appendChild(cq);var z=cF.getElementsByTagName("stroke")&&cF.getElementsByTagName("stroke")[0],w=!1;!z&&(w=z=O("stroke")),(cG.stroke&&"none"!=cG.stroke||cG["stroke-width"]||null!=cG["stroke-opacity"]||cG["stroke-dasharray"]||cG["stroke-miterlimit"]||cG["stroke-linejoin"]||cG["stroke-linecap"])&&(z.on=!0),("none"==cG.stroke||null===cG.stroke||null==z.on||0==cG.stroke||0==cG["stroke-width"])&&(z.on=!1);var u=a6.getRGB(cG.stroke);z.on&&cG.stroke&&(z.color=u.hex),A=((+cE["stroke-opacity"]+1||2)-1)*((+cE.opacity+1||2)-1)*((+u.o+1||2)-1);var n=0.75*(cm(cG["stroke-width"])||1);if(A=ci(cj(A,0),1),null==cG["stroke-width"]&&(n=cE["stroke-width"]),cG["stroke-width"]&&(z.weight=n),n&&1>n&&(A*=n)&&(z.weight=1),z.opacity=A,cG["stroke-linejoin"]&&(z.joinstyle=cG["stroke-linejoin"]||"miter"),z.miterlimit=cG["stroke-miterlimit"]||8,cG["stroke-linecap"]&&(z.endcap="butt"==cG["stroke-linecap"]?"flat":"square"==cG["stroke-linecap"]?"square":"round"),cG["stroke-dasharray"]){var j={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=j[co](cG["stroke-dasharray"])?j[cG["stroke-dasharray"]]:ac}w&&cF.appendChild(z)}if("text"==cy.type){cy.paper.canvas.style.display=ac;var h=cy.paper.span,g=100,f=cE.font&&cE.font.match(/\d+(?:\.\d*)?(?=px)/);cD=h.style,cE.font&&(cD.font=cE.font),cE["font-family"]&&(cD.fontFamily=cE["font-family"]),cE["font-weight"]&&(cD.fontWeight=cE["font-weight"]),cE["font-style"]&&(cD.fontStyle=cE["font-style"]),f=cm(cE["font-size"]||f&&f[0])||10,cD.fontSize=f*g+"px",cy.textpath.string&&(h.innerHTML=cn(cy.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var d=h.getBoundingClientRect();cy.W=cE.w=(d.right-d.left)/g,cy.H=cE.h=(d.bottom-d.top)/g,cy.X=cE.x,cy.Y=cE.y+cy.H/2,("x" in cG||"y" in cG)&&(cy.path.v=a6.format("m{0},{1}l{2},{1}",ck(cE.x*P),ck(cE.y*P),ck(cE.x*P)+1));for(var b=["x","y","text","font","font-family","font-weight","font-style","font-size"],a=0,k=b.length;k>a;a++){if(b[a] in cG){cy._.dirty=1;break}}switch(cE["text-anchor"]){case"start":cy.textpath.style["v-text-align"]="left",cy.bbx=cy.W/2;break;case"end":cy.textpath.style["v-text-align"]="right",cy.bbx=-cy.W/2;break;default:cy.textpath.style["v-text-align"]="center",cy.bbx=0}cy.textpath.style["v-text-kern"]=!0}},V=function(A,z,w){A.attrs=A.attrs||{};var u=(A.attrs,Math.pow),t="linear",s=".5 .5";if(A.attrs.gradient=z,z=cn(z).replace(a6._radial_gradient,function(g,f,h){return t="radial",f&&h&&(f=cm(f),h=cm(h),u(f-0.5,2)+u(h-0.5,2)>0.25&&(h=cl.sqrt(0.25-u(f-0.5,2))*(2*(h>0.5)-1)+0.5),s=f+bb+h),ac}),z=z.split(/\s*\-\s*/),"linear"==t){var r=z.shift();if(r=-cm(r),isNaN(r)){return null}}var n=a6._parseDots(z);if(!n){return null}if(A=A.shape||A.node,n.length){A.removeChild(w),w.on=!0,w.method="none",w.color=n[0].color,w.color2=n[n.length-1].color;for(var e=[],d=0,b=n.length;b>d;d++){n[d].offset&&e.push(n[d].offset+bb+n[d].color)}w.colors=e.length?e.join():"0% "+w.color,"radial"==t?(w.type="gradientTitle",w.focus="100%",w.focussize="0 0",w.focusposition=s,w.angle=0):(w.type="gradient",w.angle=(270-r)%360),A.appendChild(w)}return 1},T=function(e,d){this[0]=this.node=e,e.raphael=!0,this.id=a6._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=d,this.matrix=a6.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},Q=a6.el;T.prototype=Q,Q.constructor=T,Q.transform=function(G){if(null==G){return this._.transform}var F,E=this.paper._viewBoxShift,D=E?"s"+[E.scale,E.scale]+"-1-1t"+[E.dx,E.dy]:ac;E&&(F=G=cn(G).replace(/\.{3}|\u2026/g,this._.transform||ac)),a6._extractTransform(this,D+G);var C,B=this.matrix.clone(),A=this.skew,z=this.node,w=~cn(this.attrs.fill).indexOf("-"),u=!cn(this.attrs.fill).indexOf("url(");if(B.translate(1,1),u||w||"image"==this.type){if(A.matrix="1 0 0 1",A.offset="0 0",C=B.split(),w&&C.noRotation||!C.isSimple){z.style.filter=B.toFilter();var t=this.getBBox(),s=this.getBBox(1),n=t.x-s.x,b=t.y-s.y;z.coordorigin=n*-P+bb+b*-P,c(this,1,1,n,b,0)}else{z.style.filter=ac,c(this,C.scalex,C.scaley,C.dx,C.dy,C.rotate)}}else{z.style.filter=ac,A.matrix=cn(B),A.offset=B.offset()}return F&&(this._.transform=F),this},Q.rotate=function(b,h,g){if(this.removed){return this}if(null!=b){if(b=cn(b).split(cc),b.length-1&&(h=cm(b[1]),g=cm(b[2])),b=cm(b[0]),null==g&&(h=g),null==h||null==g){var d=this.getBBox(1);h=d.x+d.width/2,g=d.y+d.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",b,h,g]])),this}},Q.translate=function(b,d){return this.removed?this:(b=cn(b).split(cc),b.length-1&&(d=cm(b[1])),b=cm(b[0])||0,d=+d||0,this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d),this.transform(this._.transform.concat([["t",b,d]])),this)},Q.scale=function(b,k,j,h){if(this.removed){return this}if(b=cn(b).split(cc),b.length-1&&(k=cm(b[1]),j=cm(b[2]),h=cm(b[3]),isNaN(j)&&(j=null),isNaN(h)&&(h=null)),b=cm(b[0]),null==k&&(k=b),null==h&&(j=h),null==j||null==h){var d=this.getBBox(1)}return j=null==j?d.x+d.width/2:j,h=null==h?d.y+d.height/2:h,this.transform(this._.transform.concat([["s",b,k,j,h]])),this._.dirtyT=1,this},Q.hide=function(){return !this.removed&&(this.node.style.display="none"),this},Q.show=function(){return !this.removed&&(this.node.style.display=ac),this},Q._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},Q.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a6.eve.unbind("raphael.*.*."+this.id),a6._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}this.removed=!0}},Q.attr=function(B,A){if(this.removed){return this}if(null==B){var z={};for(var w in this.attrs){this.attrs[co](w)&&(z[w]=this.attrs[w])}return z.gradient&&"none"==z.fill&&(z.fill=z.gradient)&&delete z.gradient,z.transform=this._.transform,z}if(null==A&&a6.is(B,"string")){if(B==cg&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}for(var u=B.split(cc),t={},s=0,r=u.length;r>s;s++){B=u[s],t[B]=B in this.attrs?this.attrs[B]:a6.is(this.paper.customAttributes[B],"function")?this.paper.customAttributes[B].def:a6._availableAttrs[B]}return r-1?t:t[u[0]]}if(this.attrs&&null==A&&a6.is(B,"array")){for(t={},s=0,r=B.length;r>s;s++){t[B[s]]=this.attr(B[s])}return t}var l;null!=A&&(l={},l[B]=A),null==A&&a6.is(B,"object")&&(l=B);for(var k in l){cb("raphael.attr."+k+"."+this.id,this,l[k])}if(l){for(k in this.paper.customAttributes){if(this.paper.customAttributes[co](k)&&l[co](k)&&a6.is(this.paper.customAttributes[k],"function")){var j=this.paper.customAttributes[k].apply(this,[].concat(l[k]));this.attrs[k]=l[k];for(var a in j){j[co](a)&&(l[a]=j[a])}}}l.text&&"text"==this.type&&(this.textpath.string=l.text),X(this,l)}return this},Q.toFront=function(){return !this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a6._tofront(this,this.paper),this},Q.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a6._toback(this,this.paper)),this)},Q.insertAfter=function(b){return this.removed?this:(b.constructor==a6.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a6._insertafter(this,b,this.paper),this)},Q.insertBefore=function(b){return this.removed?this:(b.constructor==a6.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a6._insertbefore(this,b,this.paper),this)},Q.blur=function(f){var e=this.node.runtimeStyle,g=e.filter;return g=g.replace(W,ac),0!==+f?(this.attrs.blur=f,e.filter=g+bb+bc+".Blur(pixelradius="+(+f||1.5)+")",e.margin=a6.format("-{0}px 0 0 -{0}px",ck(+f||1.5))):(e.filter=g,e.margin=0,delete this.attrs.blur),this},a6._engine.path=function(h,g){var m=O("shape");m.style.cssText=S,m.coordsize=P+bb+P,m.coordorigin=g.coordorigin;var l=new T(m,g),k={fill:"none",stroke:"#000"};h&&(k.path=h),l.type="path",l.path=[],l.Path=ac,X(l,k),g.canvas.appendChild(m);var j=O("skew");return j.on=!0,m.appendChild(j),l.skew=j,l.transform(ac),l},a6._engine.rect=function(u,t,s,r,q,n){var m=a6._rectPath(t,s,r,q,n),l=u.path(m),k=l.attrs;return l.X=k.x=t,l.Y=k.y=s,l.W=k.width=r,l.H=k.height=q,k.r=n,k.path=m,l.type="rect",l},a6._engine.ellipse=function(h,g,m,l,k){var j=h.path();return j.attrs,j.X=g-l,j.Y=m-k,j.W=2*l,j.H=2*k,j.type="ellipse",X(j,{cx:g,cy:m,rx:l,ry:k}),j},a6._engine.circle=function(g,f,k,j){var h=g.path();return h.attrs,h.X=f-j,h.Y=k-j,h.W=h.H=2*j,h.type="circle",X(h,{cx:f,cy:k,r:j}),h},a6._engine.image=function(B,A,z,w,u,t){var s=a6._rectPath(z,w,u,t),r=B.path(s).attr({stroke:"none"}),q=r.attrs,n=r.node,j=n.getElementsByTagName(cg)[0];return q.src=A,r.X=q.x=z,r.Y=q.y=w,r.W=q.width=u,r.H=q.height=t,q.path=s,r.type="image",j.parentNode==n&&n.removeChild(j),j.rotate=!0,j.src=A,j.type="tile",r._.fillpos=[z,w],r._.fillsize=[u,t],n.appendChild(j),c(r,1,1,0,0,0),r},a6._engine.text=function(z,w,u,t){var s=O("shape"),r=O("path"),q=O("textpath");w=w||0,u=u||0,t=t||"",r.v=a6.format("m{0},{1}l{2},{1}",ck(w*P),ck(u*P),ck(w*P)+1),r.textpathok=!0,q.string=cn(t),q.on=!0,s.style.cssText=S,s.coordsize=P+bb+P,s.coordorigin="0 0";var n=new T(s,z),f={fill:"#000",stroke:"none",font:a6._availableAttrs.font,text:t};n.shape=s,n.path=r,n.textpath=q,n.type="text",n.attrs.text=cn(t),n.attrs.x=w,n.attrs.y=u,n.attrs.w=1,n.attrs.h=1,X(n,f),s.appendChild(q),s.appendChild(r),z.canvas.appendChild(s);var b=O("skew");return b.on=!0,s.appendChild(b),n.skew=b,n.transform(ac),n},a6._engine.setSize=function(f,e){var g=this.canvas.style;return this.width=f,this.height=e,f==+f&&(f+="px"),e==+e&&(e+="px"),g.width=f,g.height=e,g.clip="rect(0 "+f+" "+e+" 0)",this._viewBox&&a6._engine.setViewBox.apply(this,this._viewBox),this},a6._engine.setViewBox=function(z,w,u,t,s){a6.eve("raphael.setViewBox",this,this._viewBox,[z,w,u,t,s]);var r,q,n=this.width,m=this.height,g=1/cj(u/n,t/m);return s&&(r=m/t,q=n/u,n>u*r&&(z-=(n-u*r)/2/r),m>t*q&&(w-=(m-t*q)/2/q)),this._viewBox=[z,w,u,t,!!s],this._viewBoxShift={dx:-z,dy:-w,scale:g},this.forEach(function(b){b.transform("...")}),this};var O;a6._engine.initWin=function(e){var d=e.document;d.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!d.namespaces.rvml&&d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),O=function(b){return d.createElement("<rvml:"+b+' class="rvml">')}}catch(f){O=function(b){return d.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a6._engine.initWin(a6._g.win),a6._engine.create=function(){var u=a6._getContainer.apply(0,arguments),t=u.container,s=u.height,r=u.width,q=u.x,n=u.y;if(!t){throw new Error("VML container not found.")}var m=new a6._Paper,l=m.canvas=a6._g.doc.createElement("div"),k=l.style;return q=q||0,n=n||0,r=r||512,s=s||342,m.width=r,m.height=s,r==+r&&(r+="px"),s==+s&&(s+="px"),m.coordsize=1000*P+bb+1000*P,m.coordorigin="0 0",m.span=a6._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(m.span),k.cssText=a6.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,s),1==t?(a6._g.doc.body.appendChild(l),k.left=q+"px",k.top=n+"px",k.position="absolute"):t.firstChild?t.insertBefore(l,t.firstChild):t.appendChild(l),m.renderfix=function(){},m},a6.prototype.clear=function(){a6.eve("raphael.clear",this),this.canvas.innerHTML=ac,this.span=a6._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a6.prototype.remove=function(){a6.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}return !0};var M=a6.st;for(var K in Q){Q[co](K)&&!M[co](K)&&(M[K]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(K))}}}(),bM.was?bO.win.Raphael=a6:Raphael=a6,a6});
/*! iScroll v5.1.2 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(e,f,b){var a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(k){e.setTimeout(k,1000/60)};var g=(function(){var q={};var r=f.createElement("div").style;var m=(function(){var w=["t","webkitT","MozT","msT","OT"],t,u=0,s=w.length;for(;u<s;u++){t=w[u]+"ransform";if(t in r){return w[u].substr(0,w[u].length-1)}}return false})();function n(s){if(m===false){return false}if(m===""){return s}return m+s.charAt(0).toUpperCase()+s.substr(1)}q.getTime=Date.now||function k(){return new Date().getTime()};q.extend=function(u,t){for(var s in t){u[s]=t[s]}};q.addEvent=function(w,u,t,s){w.addEventListener(u,t,!!s)};q.removeEvent=function(w,u,t,s){w.removeEventListener(u,t,!!s)};q.prefixPointerEvent=function(s){return e.MSPointerEvent?"MSPointer"+s.charAt(9).toUpperCase()+s.substr(10):s};q.momentum=function(B,u,w,s,C,D){var t=B-u,z=b.abs(t)/w,E,A;D=D===undefined?0.0006:D;E=B+(z*z)/(2*D)*(t<0?-1:1);A=z/D;if(E<s){E=C?s-(C/2.5*(z/8)):s;t=b.abs(E-B);A=t/z}else{if(E>0){E=C?C/2.5*(z/8):0;t=b.abs(B)+E;A=t/z}}return{destination:b.round(E),duration:A}};var l=n("transform");q.extend(q,{hasTransform:l!==false,hasPerspective:n("perspective") in r,hasTouch:"ontouchstart" in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:n("transition") in r});q.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!(/Chrome\/\d/.test(e.navigator.appVersion));q.extend(q.style={},{transform:l,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin")});q.hasClass=function(t,u){var s=new RegExp("(^|\\s)"+u+"(\\s|$)");return s.test(t.className)};q.addClass=function(t,u){if(q.hasClass(t,u)){return}var s=t.className.split(" ");s.push(u);t.className=s.join(" ")};q.removeClass=function(t,u){if(!q.hasClass(t,u)){return}var s=new RegExp("(^|\\s)"+u+"(\\s|$)","g");t.className=t.className.replace(s," ")};q.offset=function(s){var u=-s.offsetLeft,t=-s.offsetTop;while(s=s.offsetParent){u-=s.offsetLeft;t-=s.offsetTop}return{left:u,top:t}};q.preventDefaultException=function(u,t){for(var s in t){if(t[s].test(u[s])){return true}}return false};q.extend(q.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});q.extend(q.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(s){return s*(2-s)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(s){return b.sqrt(1-(--s*s))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var s=4;return(t=t-1)*t*((s+1)*t+s)+1}},bounce:{style:"",fn:function(s){if((s/=1)<(1/2.75)){return 7.5625*s*s}else{if(s<(2/2.75)){return 7.5625*(s-=(1.5/2.75))*s+0.75}else{if(s<(2.5/2.75)){return 7.5625*(s-=(2.25/2.75))*s+0.9375}else{return 7.5625*(s-=(2.625/2.75))*s+0.984375}}}}},elastic:{style:"",fn:function(s){var t=0.22,u=0.4;if(s===0){return 0}if(s==1){return 1}return(u*b.pow(2,-10*s)*b.sin((s-t/4)*(2*b.PI)/t)+1)}}});q.tap=function(u,s){var t=f.createEvent("Event");t.initEvent(s,true,true);t.pageX=u.pageX;t.pageY=u.pageY;u.target.dispatchEvent(t)};q.click=function(u){var t=u.target,s;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(t.tagName)){s=f.createEvent("MouseEvents");s.initMouseEvent("click",true,true,u.view,1,t.screenX,t.screenY,t.clientX,t.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,0,null);s._constructed=true;t.dispatchEvent(s)}};return q})();var h;function d(m,k){this.wrapper=typeof m=="string"?f.querySelector(m):m;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.pageTurnMethod="swipe";this.options={zoomMin:1,zoomMax:4,startZoom:1,resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,infiniteUseTransform:true,deceleration:0.004,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/,className:/crownix_form_field_label|crownix_hyperlink/},HWCompositing:true,useTransition:true,useTransform:true,isGuideMode:false};for(var l in k){this.options[l]=k[l]}this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"";this.options.useTransition=g.hasTransition&&this.options.useTransition;this.options.useTransform=g.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.doubleTap===true){this.options.doubleTap="doubleTap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;if(this.options.infiniteElements){this.options.probeType=3}this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform;if(this.options.probeType==3){this.options.useTransition=false}if(this.options.pageTurnMethod){this.pageTurnMethod=this.options.pageTurnMethod}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this.doubleTapFlag=false;this.lastTap=0;this.saveScrollX;this.saveScrollY;this.saveScale;this.scale=b.min(b.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax);this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();this.resetPosition()}d.prototype={version:"5.1.2",_init:function(){this._initEvents();if(this.options.zoom){this._initZoom()}if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}if(this.options.infiniteElements){this._initInfinite()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(k){if(k.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(l){if(l.startedScroll){return}if(g.eventType[l.type]!=1&&l.bubbleScroll!==true){if(l.button!==0){return}}if(!this.enabled||(this.initiated&&g.eventType[l.type]!==this.initiated)){return}if(this.options.preventDefault&&!g.isBadAndroid&&!g.preventDefaultException(l.target,this.options.preventDefaultException)){l.preventDefault()}var k=l.touches?l.touches[0]:l,m;this.initiated=g.eventType[l.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=g.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;m=this.getComputedPosition();this._translate(b.round(m.x),b.round(m.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=k.pageX;this.pointY=k.pageY;l.startedScroll=true;this._execEvent("beforeScrollStart")},_move:function(r){if(!this.enabled||g.eventType[r.type]!==this.initiated){return}if(this.options.preventDefault){r.preventDefault()}var u=r.touches?r.touches[0]:r,m=u.pageX-this.pointX,l=u.pageY-this.pointY,s=g.getTime(),k,w,q,n;this.pointX=u.pageX;this.pointY=u.pageY;this.distX+=m;this.distY+=l;q=b.abs(this.distX);n=b.abs(this.distY);if(this.doubleTapFlag||s-this.endTime>300&&(q<10&&n<10)){return}var t=null;if(q>n+this.options.directionLockThreshold){t="h"}else{if(n>=q+this.options.directionLockThreshold){t="v"}else{t="n"}}var t=null;if(q>n+this.options.directionLockThreshold){t="h"}else{if(n>=q+this.options.directionLockThreshold){t="v"}else{t="n"}}if(!this.directionLocked&&!this.options.freeScroll){this.directionLocked=t}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){r.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}l=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){r.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}m=0}}m=this.hasHorizontalScroll?m:0;l=this.hasVerticalScroll?l:0;k=this.x+m;w=this.y+l;if(k>0||k<this.maxScrollX){k=this.options.bounce?this.x+m/3:this.x;if(this._events.pullOut){this._execEvent("pullOut",{newX:k,deltaX:m})}}if(w>0||w<this.maxScrollY){w=this.options.bounce?this.y+l/3:this.y}if(this.options.parentScroll&&((k==0&&this.maxScrollX==0&&t!="v")||(k==0&&this.directionY==-1&&t!="v")||(k==this.maxScrollX&&this.directionX==1&&t!="v")||(w==0&&this.maxScrollY==0&&t!="h")||(w==0&&this.directionY==-1&&t!="h")||(w==this.maxScrollY&&this.directionY==1&&t!="h"))){r.bubbleScroll=true;this.options.parentScroll._start(r);this._end(r)}this.directionX=m>0?-1:m<0?1:0;this.directionY=l>0?-1:l<0?1:0;if(((k==0&&this.maxScrollX==0&&t!="v")||(k==0&&this.directionX==-1&&t!="v")||(k==this.maxScrollX&&this.directionX==1&&t!="v")||(w==0&&this.maxScrollY==0&&t!="h")||(w==0&&this.directionY==-1&&t!="h")||(w==this.maxScrollY&&this.directionY==1&&t!="h"))){if(this.options.parentScroll){r.bubbleScroll=true;this.options.parentScroll._start(r);this._end(r)}}if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(k,w);this.deltaX=m;this.deltaY=l;this._execEvent("scrollMove");if(s-this.startTime>300){this.startTime=s;this.startX=this.x;this.startY=this.y;if(this.options.probeType==1){this._execEvent("scroll")}}if(this.options.probeType>1){this._execEvent("scroll")}},_end:function(u){if(!this.enabled||(g.eventType[u.type]&&g.eventType[u.type]!==this.initiated)){return}if(this._events.pullEnd){this._execEvent("pullEnd")}if(this.indicators){for(var s=this.indicators.length;s--;){this.indicators[s]._end(u)}}if(this.options.preventDefault&&!g.preventDefaultException(u.target,this.options.preventDefaultException)){u.preventDefault()}var z=u.changedTouches?u.changedTouches[0]:u,m,l,r=g.getTime()-this.startTime,k=b.round(this.x),C=b.round(this.y),B=b.abs(k-this.startX),A=b.abs(C-this.startY),n=0,w="";this.isInTransition=0;this.initiated=0;this.endTime=g.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(k,C);if(!this.moved){if(this.options.tap&&this.options.doubleTap){if(u.type.indexOf("mouse")>=0){return}if(this.doubleTapFlag){clearTimeout(this.doubleTapFlag);this.doubleTapFlag=null;g.tap(u,this.options.doubleTap)}else{var t=this;this.doubleTapFlag=setTimeout(function(){t.doubleTapFlag=null;g.tap(u,t.options.tap)},250)}}else{if(this.options.tap){if(u.type.indexOf("mouse")>=0){return}g.tap(u,this.options.tap)}}if(this.options.click){g.click(u)}if(u.type=="pointerup"||u.type=="MSPointerUp"||u.type=="mouseup"||u.type=="touchend"){this._execEvent("toolbarToggle")}this._execEvent("scrollCancel");return}if(this._events.flick&&r<200&&B<100&&A<100){this._execEvent("flick");return}if(this.options.momentum&&r<300){m=this.hasHorizontalScroll?g.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:k,duration:0};l=this.hasVerticalScroll?g.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:C,duration:0};k=m.destination;C=l.destination;n=b.max(m.duration,l.duration);this.isInTransition=1}if(this.options.snap){var q=this._nearestSnap(k,C);this.currentPage=q;n=this.options.snapSpeed||b.max(b.max(b.min(b.abs(k-q.x),1000),b.min(b.abs(C-q.y),1000)),300);k=q.x;C=q.y;this.directionX=0;this.directionY=0;w=this.options.bounceEasing}if(k!=this.x||C!=this.y){if(k>0||k<this.maxScrollX||C>0||C<this.maxScrollY){w=g.ease.quadratic}this.scrollTo(k,C,n,w);return}this._execEvent("scrollEnd")},_resize:function(){if(!this.enabled){return}var k=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){k.refresh();k._execEvent("resize")},this.options.resizePolling)},resetPosition:function(m){if(this.options.isGuideMode){return}var k=this.x,n=this.y;m=m||0;if(!this.hasHorizontalScroll||this.x>0){k=0}else{if(this.x<this.maxScrollX){k=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){n=0}else{if(this.y<this.maxScrollY){n=this.maxScrollY}}if(this.options.keepCenter){var l=this._getMarginToCenter(this.scale);k=l.left>0?l.left:k;n=l.top>0?l.top:n}if(b.floor(k)==b.floor(this.x)&&b.floor(n)==b.floor(this.y)){return false}this.scrollTo(k,n,m,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var l=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=b.round(this.scroller.offsetWidth*this.scale);this.scrollerHeight=b.round(this.scroller.offsetHeight*this.scale);this.maxScrollX=this.wrapperWidth-this.scrollerWidth;var k;if(this.options.infiniteElements){this.options.infiniteLimit=this.options.infiniteLimit||b.floor(2147483645/this.infiniteElementHeight);k=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight}this.maxScrollY=k!==undefined?k:this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=g.offset(this.wrapper);this.resetPosition();this._execEvent("refresh")},on:function(l,k){if(!this._events[l]){this._events[l]=[]}this._events[l].push(k)},off:function(m,l){if(!this._events[m]){return}var k=this._events[m].indexOf(l);if(k>-1){this._events[m].splice(k,1)}},_execEvent:function(n){if(!this._events[n]){return}var m=0,k=this._events[n].length;if(!k){return}for(;m<k;m++){this._events[n][m].apply(this,[].slice.call(arguments,1))}},scrollBy:function(k,n,l,m){k=this.x+k;n=this.y+n;l=l||0;this.scrollTo(k,n,l,m)},scrollTo:function(k,n,l,m){m=m||g.ease.circular;this.isInTransition=this.options.useTransition&&l>0;if(!l||(this.options.useTransition&&m.style)){this._transitionTimingFunction(m.style);this._transitionTime(l);this._translate(b.floor(k),b.floor(n))}else{this._animate(b.floor(k),b.floor(n),l,m.fn)}},scrollToKeepCenter:function(k,q,m,n){if(this.options.keepCenter){var l=this._getMarginToCenter(this.scale);k+=l.left>0?l.left:0;q+=l.top>0?l.top:0}this.scrollTo(k,q,m,n);this._execEvent("scrollToKeepCenter")},scrollToElement:function(l,n,k,s,r){l=l.nodeType?l:this.scroller.querySelector(l);if(!l){return}var q=g.offset(l);q.left-=this.wrapperOffset.left;q.top-=this.wrapperOffset.top;if(k===true){k=b.round(l.offsetWidth/2-this.wrapper.offsetWidth/2)}if(s===true){s=b.round(l.offsetHeight/2-this.wrapper.offsetHeight/2)}q.left-=k||0;q.top-=s||0;q.left=q.left*this.scale;q.top=q.top*this.scale;q.left=q.left>0?0:q.left<this.maxScrollX?this.maxScrollX:q.left;q.top=q.top>0?0:q.top<this.maxScrollY?this.maxScrollY:q.top;n=n===undefined||n===null||n==="auto"?b.max(b.abs(this.x-q.left),b.abs(this.y-q.top)):n;if(this.options.keepCenter){var m=this._getMarginToCenter(this.scale);q.left=m.left>0?m.left:q.left;q.top=m.top>0?m.top:q.top}this.scrollTo(q.left,q.top,n,r);this._execEvent("scrollToElement")},scrollToElementWithFrame:function(m,q,l,t){m=m.nodeType?m:this.scroller.querySelector(m);if(!m){return}var s=g.offset(m);this.wrapperOffset=g.offset(this.wrapper);s.left-=this.wrapperOffset.left;s.top-=this.wrapperOffset.top;var k=b.round(m.offsetWidth/2-this.wrapper.offsetWidth/2);var r=b.round(m.offsetHeight/2-this.wrapper.offsetHeight/2+l/2);s.left=s.left*this.scale;s.top=s.top*this.scale;s.left-=k||0;s.top-=r||0;s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left;s.top=s.top>0?0:s.top<this.maxScrollY-l?this.maxScrollY-l:s.top;var n=this._getMarginToCenter(this.scale);s.left=n.left>0?n.left:s.left;q=q===undefined||q===null||q==="auto"?b.max(b.abs(this.x-s.left),b.abs(this.y-s.top)):q;t=t||g.ease.circular;this.isInTransition=false;if(!q||(this.options.useTransition&&t.style)){this._transitionTimingFunction(t.style);this._transitionTime(q);this._translate(s.left,s.top)}else{this._animate(s.left,s.top,q,t.fn)}this._execEvent("scrollToElementWithFrame")},save:function(){this.saveScrollX=this.x;this.saveScrollY=this.y;this.saveScale=this.scale},restore:function(){if(this.scale!==this.saveScale){this.zoom(this.saveScale)}this.scrollTo(this.saveScrollX,this.saveScrollY,0);this.refresh();this._execEvent("restore")},_transitionTime:function(l){l=l||0;this.scrollerStyle[g.style.transitionDuration]=l+"ms";if(!l&&g.isBadAndroid){}if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].transitionTime(l)}}},_transitionTimingFunction:function(l){this.scrollerStyle[g.style.transitionTimingFunction]=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].transitionTimingFunction(l)}}},_translate:function(k,m){if(this.options.useTransform){this.scrollerStyle[g.style.transform]="translate("+k+"px,"+m+"px) scale("+this.scale+") "+this.translateZ}else{k=b.round(k);m=b.round(m);this.scrollerStyle.left=k+"px";this.scrollerStyle.top=m+"px"}this.x=k;this.y=m;if(this.indicators){for(var l=this.indicators.length;l--;){this.indicators[l].updatePosition()}}},_initEvents:function(k){var l=k?g.removeEvent:g.addEvent,m=this.options.bindToWrapper?this.wrapper:e;l(e,"orientationchange",this);l(e,"resize",this);if(this.options.click){l(this.wrapper,"click",this,true)}if(!this.options.disableMouse&&!g.hasTouch){l(this.wrapper,"mousedown",this);l(m,"mousemove",this);l(m,"mousecancel",this);l(m,"mouseup",this);l(this.wrapper,"mouseleave",this)}if(g.hasPointer&&!this.options.disablePointer&&!g.hasTouch){l(this.wrapper,g.prefixPointerEvent("pointerdown"),this);l(m,g.prefixPointerEvent("pointermove"),this);l(m,g.prefixPointerEvent("pointercancel"),this);l(m,g.prefixPointerEvent("pointerup"),this);l(this.wrapper,g.prefixPointerEvent("pointerleave"),this)}if(g.hasTouch&&!this.options.disableTouch){l(this.wrapper,"touchstart",this);l(m,"touchmove",this);l(m,"touchcancel",this);l(m,"touchend",this);l(this.wrapper,"touchleave",this)}l(this.scroller,"transitionend",this);l(this.scroller,"webkitTransitionEnd",this);l(this.scroller,"oTransitionEnd",this);l(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var l=e.getComputedStyle(this.scroller,null),k,m;if(this.options.useTransform){l=l[g.style.transform].split(")")[0].split(", ");k=+(l[12]||l[4]);m=+(l[13]||l[5])}else{k=+l.left.replace(/[^-\d.]/g,"");m=+l.top.replace(/[^-\d.]/g,"")}return{x:k,y:m}},_initIndicators:function(){var m=this.options.interactiveScrollbars,q=typeof this.options.scrollbars!="string",s=[],l;var r=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollX){l={el:c("h",m,this.options.scrollbars),interactive:m,defaultScrollbars:true,customStyle:q,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(l.el);s.push(l)}if(this.options.scrollY){l={el:c("v",m,this.options.scrollbars),interactive:m,defaultScrollbars:true,customStyle:q,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(l.el);s.push(l)}}if(this.options.indicators){s=s.concat(this.options.indicators)}for(var n=s.length;n--;){this.indicators.push(new j(this,s[n]))}function k(u){if(r.indicators){for(var t=r.indicators.length;t--;){u.call(r.indicators[t])}}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){k(function(){this.fade()})});this.on("scrollCancel",function(){k(function(){this.fade()})});this.on("scrollStart",function(){k(function(){this.fade(1)})});this.on("beforeScrollStart",function(){k(function(){this.fade(1,true)})})}this.on("refresh",function(){k(function(){this.refresh()})});this.on("destroy",function(){k(function(){this.destroy()});delete this.indicators})},_initZoom:function(){this.scrollerStyle[g.style.transformOrigin]="0 0"},_zoomStart:function(n){var l=b.abs(n.touches[0].pageX-n.touches[1].pageX),k=b.abs(n.touches[0].pageY-n.touches[1].pageY);this.touchesDistanceStart=b.sqrt(l*l+k*k);this.startScale=this.scale;var m={top:0,left:0};if(this.options.keepCenter){m=this._getMarginToCenter(1)}this.originX=b.abs(n.touches[0].pageX+n.touches[1].pageX)/2+this.wrapperOffset.left-this.x-m.left;this.originY=b.abs(n.touches[0].pageY+n.touches[1].pageY)/2+this.wrapperOffset.top-this.y-m.top;this._execEvent("zoomStart")},_zoom:function(q){if(!this.enabled||g.eventType[q.type]!==this.initiated){return}if(this.options.preventDefault){q.preventDefault()}var n=b.abs(q.touches[0].pageX-q.touches[1].pageX),l=b.abs(q.touches[0].pageY-q.touches[1].pageY),t=b.sqrt(n*n+l*l),r=1/this.touchesDistanceStart*t*this.startScale,m,k,s;this.scaled=true;if(r<this.options.zoomMin){r=0.5*this.options.zoomMin*b.pow(2,r/this.options.zoomMin)}else{if(r>this.options.zoomMax){r=2*this.options.zoomMax*b.pow(0.5,this.options.zoomMax/r)}}m=r/this.startScale;k=this.originX-this.originX*m+this.startX;s=this.originY-this.originY*m+this.startY;this.scale=r;this.scrollTo(k,s,0)},_zoomEnd:function(n){if(!this.enabled||g.eventType[n.type]!==this.initiated){return}if(this.options.preventDefault){n.preventDefault()}var q,m,k;this.isInTransition=0;this.initiated=0;if(this.scale>this.options.zoomMax){this.scale=this.options.zoomMax}else{if(this.scale<this.options.zoomMin){this.scale=this.options.zoomMin}}this.refresh();k=this.scale/this.startScale;q=this.originX-this.originX*k+this.startX;m=this.originY-this.originY*k+this.startY;if(q>0){q=0}else{if(q<this.maxScrollX){q=this.maxScrollX}}if(m>0){m=0}else{if(m<this.maxScrollY){m=this.maxScrollY}}if(this.options.keepCenter){var l=this._getMarginToCenter(this.scale);q+=l.left>0?l.left:0;m+=l.top>0?l.top:0}if(this.x!=q||this.y!=m){this.scrollTo(q,m,this.options.bounceTime)}this.scaled=false;this._execEvent("zoomEnd")},zoom:function(q,k,r,n){if(!this.enabled){return}this._execEvent("zoomStart");if(q<this.options.zoomMin){q=this.options.zoomMin}else{if(q>this.options.zoomMax){q=this.options.zoomMax}}if(q==this.scale){return}var m=q/this.scale;k=k===undefined?this.wrapperWidth/2:k;r=r===undefined?this.wrapperHeight/2:r;n=n===undefined?300:n;k=k+this.wrapperOffset.left-this.x;r=r+this.wrapperOffset.top-this.y;k=k-k*m+this.x;r=r-r*m+this.y;this.scale=q;this.refresh();if(k>0){k=0}else{if(k<this.maxScrollX){k=this.maxScrollX}}if(r>0){r=0}else{if(r<this.maxScrollY){r=this.maxScrollY}}if(this.options.keepCenter){var l=this._getMarginToCenter(q);k=l.left>0?l.left:k;r=l.top>0?l.top:r}this.scrollTo(k,r,n);this._execEvent("zoomEnd")},zoomAndScrollTo:function(m,k,n){if(!this.enabled){return}this._execEvent("zoomStart");var l=m/this.scale;this.scale=m;k=this.wrapperWidth/2-k*m;n=this.wrapperHeight/2-n*m;this.refresh();this.scrollTo(k,n);this._execEvent("zoomEnd")},_getMarginToCenter:function(l){var m=(this.wrapperWidth-(parseInt(this.scrollerStyle.width)+parseInt(this.scrollerStyle.paddingLeft)*2)*l)/2;var k=(this.wrapperHeight-(parseFloat(this.scrollerStyle.height)+parseInt(this.scrollerStyle.paddingTop)*2)*l)/2;m=m<0?0:m;k=k<0?0:k;return{left:m,top:k}},_wheelZoom:function(m){var l,n,k=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){k._execEvent("zoomEnd")},400);if("deltaX" in m){l=-m.deltaY/b.abs(m.deltaY)}else{if("wheelDeltaX" in m){l=m.wheelDeltaY/b.abs(m.wheelDeltaY)}else{if("wheelDelta" in m){l=m.wheelDelta/b.abs(m.wheelDelta)}else{if("detail" in m){l=-m.detail/b.abs(m.wheelDelta)}else{return}}}}n=this.scale+l/5;this.zoom(n,m.pageX,m.pageY,0)},_initWheel:function(){g.addEvent(this.wrapper,"wheel",this);g.addEvent(this.wrapper,"mousewheel",this);g.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){g.removeEvent(this.wrapper,"wheel",this);g.removeEvent(this.wrapper,"mousewheel",this);g.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(r){if(!this.enabled){return}r.preventDefault();r.stopPropagation();var n,l,s,q,k=this;if(this.wheelTimeout===undefined){k._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){k._execEvent("scrollEnd");k.wheelTimeout=undefined},400);if("deltaX" in r){if(r.deltaMode===1){n=-r.deltaX*this.options.mouseWheelSpeed;l=-r.deltaY*this.options.mouseWheelSpeed}else{n=-r.deltaX;l=-r.deltaY}}else{if("wheelDeltaX" in r){n=r.wheelDeltaX/120*this.options.mouseWheelSpeed;l=r.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in r){n=l=r.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in r){n=l=-r.detail/3*this.options.mouseWheelSpeed}else{return}}}}n*=this.options.invertWheelDirection;l*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){n=l;l=0}if(this.options.snap){s=this.currentPage.pageX;q=this.currentPage.pageY;if(n>0){s--}else{if(n<0){s++}}if(l>0){q--}else{if(l<0){q++}}this.goToPage(s,q);return}s=this.x+b.round(this.hasHorizontalScroll?n:0);q=this.y+b.round(this.hasVerticalScroll?l:0);if(this.maxScrollX==0&&this.maxScrollY==0){if(n>0){h=false;this._execEvent("prevPage");return}else{h=false;this._execEvent("nextPage");return}}if(s>0){s=0;if(!this.hasVerticalScroll&&this.x==0){h=false;this._execEvent("prevPage");return}}else{if(s<this.maxScrollX){s=this.maxScrollX;if(!this.hasVerticalScroll&&this.x==this.maxScrollX){h=true;this._execEvent("nextPage");return}}}if(q>0){q=0;if(this.y==0){h=false;this._execEvent("prevPage");return}}else{if(q<this.maxScrollY){q=this.maxScrollY;if(this.y==this.maxScrollY){h=true;this._execEvent("nextPage");return}}}if(this.options.keepCenter){var m=this._getMarginToCenter(this.scale);s+=m.left>0?m.left:0;q+=m.top>0?m.top:0}this.scrollTo(s,q,0);if(this.options.probeType>1){this._execEvent("scroll")}this._execEvent("scrollMove")},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var w=0,t,r=0,q,u,s,A=0,z,C=this.options.snapStepX||this.wrapperWidth,B=this.options.snapStepY||this.wrapperHeight,k;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){u=b.round(C/2);s=b.round(B/2);while(A>-this.scrollerWidth){this.pages[w]=[];t=0;z=0;while(z>-this.scrollerHeight){this.pages[w][t]={x:b.max(A,this.maxScrollX),y:b.max(z,this.maxScrollY),width:C,height:B,cx:A-u,cy:z-s};z-=B;t++}A-=C;w++}}else{k=this.options.snap;t=k.length;q=-1;for(;w<t;w++){if(w===0||k[w].offsetLeft<=k[w-1].offsetLeft){r=0;q++}if(!this.pages[r]){this.pages[r]=[]}A=b.max(-k[w].offsetLeft,this.maxScrollX);z=b.max(-k[w].offsetTop,this.maxScrollY);u=A-b.round(k[w].offsetWidth/2);s=z-b.round(k[w].offsetHeight/2);this.pages[r][q]={x:A,y:z,width:k[w].offsetWidth,height:k[w].offsetHeight,cx:u,cy:s};if(A>this.maxScrollX){r++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=b.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=b.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var k=this.options.snapSpeed||b.max(b.max(b.min(b.abs(this.x-this.startX),1000),b.min(b.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,k)})},_nearestSnap:function(n,s){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var r=0,q=this.pages.length,k=0;if(b.abs(n-this.absStartX)<this.snapThresholdX&&b.abs(s-this.absStartY)<this.snapThresholdY){return this.currentPage}if(n>0){n=0}else{if(n<this.maxScrollX){n=this.maxScrollX}}if(s>0){s=0}else{if(s<this.maxScrollY){s=this.maxScrollY}}for(;r<q;r++){if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}}q=this.pages[r].length;for(;k<q;k++){if(s>=this.pages[0][k].cy){s=this.pages[0][k].y;break}}if(r==this.currentPage.pageX){r+=this.directionX;if(r<0){r=0}else{if(r>=this.pages.length){r=this.pages.length-1}}n=this.pages[r][0].x}if(k==this.currentPage.pageY){k+=this.directionY;if(k<0){k=0}else{if(k>=this.pages[0].length){k=this.pages[0].length-1}}s=this.pages[0][k].y}return{x:n,y:s,pageX:r,pageY:k}},goToPage:function(k,r,l,q){q=q||this.options.bounceEasing;if(k>=this.pages.length){k=this.pages.length-1}else{if(k<0){k=0}}if(r>=this.pages[k].length){r=this.pages[k].length-1}else{if(r<0){r=0}}var n=this.pages[k][r].x,m=this.pages[k][r].y;l=l===undefined?this.options.snapSpeed||b.max(b.max(b.min(b.abs(n-this.x),1000),b.min(b.abs(m-this.y),1000)),300):l;this.currentPage={x:n,y:m,pageX:k,pageY:r};this.scrollTo(n,m,l,q)},next:function(l,n){var k=this.currentPage.pageX,m=this.currentPage.pageY;k++;if(k>=this.pages.length&&this.hasVerticalScroll){k=0;m++}this.goToPage(k,m,l,n)},prev:function(l,n){var k=this.currentPage.pageX,m=this.currentPage.pageY;k--;if(k<0&&this.hasVerticalScroll){k=0;m--}this.goToPage(k,m,l,n)},_initKeys:function(m){var l={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var k;if(typeof this.options.keyBindings=="object"){for(k in this.options.keyBindings){if(typeof this.options.keyBindings[k]=="string"){this.options.keyBindings[k]=this.options.keyBindings[k].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(k in l){this.options.keyBindings[k]=this.options.keyBindings[k]||l[k]}g.addEvent(e,"keydown",this);g.addEvent(e,"keyup",this);this.on("destroy",function(){g.removeEvent(e,"keydown",this);g.removeEvent(e,"keyup",this)})},_keydown:function(r){if(!this.enabled){return}var k=this.options.snap,s=k?this.currentPage.pageX:this.x,q=k?this.currentPage.pageY:this.y,m=g.getTime(),l=this.keyTime||0,n=0.25,t;if(this.options.useTransition&&this.isInTransition){t=this.getComputedPosition();this._translate(b.round(t.x),b.round(t.y));this.isInTransition=false}this.keyAcceleration=m-l<200?b.min(this.keyAcceleration+n,50):0;switch(r.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){s+=k?1:this.wrapperWidth}else{q+=k?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){s-=k?1:this.wrapperWidth}else{q-=k?1:this.wrapperHeight}break;case this.options.keyBindings.end:s=k?this.pages.length-1:this.maxScrollX;q=k?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:s=0;q=0;break;case this.options.keyBindings.left:s+=k?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:q+=k?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=k?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:q-=k?1:5+this.keyAcceleration>>0;break;default:return}switch(r.keyCode){case this.options.keyBindings.pageUp:if(this.y===0||!this.hasVerticalScroll){h=false;this._execEvent("prevPage")}else{h=true}break;case this.options.keyBindings.pageDown:if(this.y===this.maxScrollY||!this.hasVerticalScroll){h=true;this._execEvent("nextPage")}else{h=false}break}if(k){this.goToPage(s,q);return}if(s>0){s=0;this.keyAcceleration=0}else{if(s<this.maxScrollX){s=this.maxScrollX;this.keyAcceleration=0}}if(q>0){q=0;this.keyAcceleration=0}else{if(q<this.maxScrollY){q=this.maxScrollY;this.keyAcceleration=0}else{h=undefined}}if(this.pageTurnMethod==="swipe"){if(h){q=0}else{if(h==false){q=this.maxScrollY}}}else{if(this.pageTurnMethod==="scroll"){if(this.y!==q){this._execEvent("scrollMove")}}}this.scrollTo(s,q,0);this.resetPosition();this.keyTime=m},_keyup:function(k){switch(k.keyCode){case this.options.keyBindings.pageUp:case this.options.keyBindings.pageDown:if(this.pageTurnMethod==="scroll"){this._execEvent("scrollEnd")}break;default:return}},_animate:function(w,u,n,k){var s=this,r=this.x,q=this.y,l=g.getTime(),t=l+n;function m(){var z=g.getTime(),B,A,C;if(z>=t){s.isAnimating=false;s._translate(w,u);if(!s.resetPosition(s.options.bounceTime)){s._execEvent("scrollEnd")}return}z=(z-l)/n;C=k(z);B=(w-r)*C+r;A=(u-q)*C+q;s._translate(B,A);if(s.isAnimating){a(m)}if(s.options.probeType==3){s._execEvent("scroll")}}this.isAnimating=true;m()},_initInfinite:function(){var k=this.options.infiniteElements;this.infiniteElements=typeof k=="string"?f.querySelectorAll(k):k;this.infiniteLength=this.infiniteElements.length;this.infiniteMaster=this.infiniteElements[0];this.infiniteElementHeight=this.infiniteMaster.offsetHeight;this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight;this.options.cacheSize=this.options.cacheSize||1000;this.infiniteCacheBuffer=b.round(this.options.cacheSize/4);this.options.dataset.call(this,0,this.options.cacheSize);this.on("refresh",function(){var l=b.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=b.floor((this.infiniteLength-l)/2);this.reorderInfinite(true)});this.on("scroll",this.reorderInfinite);this.on("scrollEnd",function(){this.reorderInfinite(true)})},reorderInfinite:function(r){var k=-this.y+this.wrapperHeight/2;var l=b.max(b.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,0),n=b.floor(l/this.infiniteLength),t=l-n*this.infiniteLength;var s=0;var q=0;var m=[];var u=b.floor(l/this.infiniteCacheBuffer);while(q<this.infiniteLength){s=q*this.infiniteElementHeight+n*this.infiniteHeight;if(t>q){s+=this.infiniteElementHeight*this.infiniteLength}if(this.infiniteElements[q]._top!==s||r){this.infiniteElements[q]._phase=s/this.infiniteElementHeight;if(this.infiniteElements[q]._phase<this.options.infiniteLimit||r){this.infiniteElements[q]._top=s;if(this.options.infiniteUseTransform){this.infiniteElements[q].style[g.style.transform]="translate(0, "+s+"px)"+this.translateZ}else{this.infiniteElements[q].style.top=s+"px"}m.push(this.infiniteElements[q])}}q++}if(this.cachePhase!=u&&(u===0||l-this.infiniteCacheBuffer>0)){this.options.dataset.call(this,b.max(u*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize)}this.cachePhase=u;this.updateContent(m,r)},updateContent:function(n,q){if(this.infiniteCache===undefined){return}for(var m=0,k=n.length;m<k;m++){if(n[m]._phase>=0){this.options.dataFiller.call(this,n[m],this.infiniteCache[n[m]._phase],n[m]._phase,q)}}},updateCache:function(r,n){var q=this.infiniteCache===undefined;this.infiniteCache={};for(var m=0,k=n.length;m<k;m++){this.infiniteCache[r++]=n[m]}if(q){this.updateContent(this.infiniteElements)}},refreshInfinite:function(k){this.options.infiniteLimit=k-1;this.options.dataset.call(this,b.max(this.cachePhase*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize);this.refresh()},handleEvent:function(l){switch(l.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(l);var k=this.options.parentScroll;if(this.options.zoom&&l.touches&&l.touches.length>1){this._zoomStart(l)}else{if(!this.options.zoom&&k&&k.zoom&&l.touches&&l.touches.length>1){k._zoomStart(l)}}break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&l.touches&&l.touches[1]){this._zoom(l);return}this._move(l);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":case"mouseleave":case"pointerleave":case"touchleave":if(this.scaled){this._zoomEnd(l);return}this._end(l);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(l);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if(this.options.wheelAction=="zoom"){this._wheelZoom(l);return}this._wheel(l);break;case"keydown":this._keydown(l);break;case"keyup":this._keyup(l);break}},setScrollTop:function(k){h=k},getScrollTop:function(){return h},getMaxScrollY:function(){return this.maxScrollY},isMoving:function(){if(this.directionX||this.directionY){return true}return false}};function c(n,l,m){var q=f.createElement("div"),k=f.createElement("div");if(m===true){q.style.cssText="position:absolute;z-index:9999";k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}k.className="iScrollIndicator";if(n=="h"){if(m===true){q.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";k.style.height="100%"}q.className="iScrollHorizontalScrollbar"}else{if(m===true){q.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";k.style.width="100%"}q.className="iScrollVerticalScrollbar"}q.style.cssText+=";overflow:hidden";if(!l){q.style.pointerEvents="none"}q.appendChild(k);return q}function j(k,l){this.wrapper=typeof l.el=="string"?f.querySelector(l.el):l.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=k;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var m in l){this.options[m]=l[m]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){g.addEvent(this.indicator,"touchstart",this);g.addEvent(e,"touchend",this)}if(!this.options.disablePointer){g.addEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this);g.addEvent(e,g.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){g.addEvent(this.indicator,"mousedown",this);g.addEvent(e,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[g.style.transform]=this.scroller.translateZ;this.wrapperStyle[g.style.transitionDuration]=g.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}j.prototype={handleEvent:function(k){switch(k.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(k);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(k);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(k);break}},destroy:function(){if(this.options.interactive){g.removeEvent(this.indicator,"touchstart",this);g.removeEvent(this.indicator,g.prefixPointerEvent("pointerdown"),this);g.removeEvent(this.indicator,"mousedown",this);g.removeEvent(e,"touchmove",this);g.removeEvent(e,g.prefixPointerEvent("pointermove"),this);g.removeEvent(e,"mousemove",this);g.removeEvent(e,"touchend",this);g.removeEvent(e,g.prefixPointerEvent("pointerup"),this);g.removeEvent(e,"mouseup",this)}if(this.options.defaultScrollbars){if(this.wrapper.parentNode){this.wrapper.parentNode.removeChild(this.wrapper)}}},_start:function(l){if(!this.scroller.enabled){return}var k=l.touches?l.touches[0]:l;l.preventDefault();l.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=k.pageX;this.lastPointY=k.pageY;this.startTime=g.getTime();if(!this.options.disableTouch){g.addEvent(e,"touchmove",this)}if(!this.options.disablePointer){g.addEvent(e,g.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){g.addEvent(e,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(r){var l=r.touches?r.touches[0]:r,m,k,s,q,n=g.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;m=l.pageX-this.lastPointX;this.lastPointX=l.pageX;k=l.pageY-this.lastPointY;this.lastPointY=l.pageY;s=this.x+m;q=this.y+k;this._pos(s,q);this.scroller._execEvent("scroll");this.scroller._execEvent("scrollMove");r.preventDefault();r.stopPropagation()},_end:function(m){if(!this.initiated){return}this.initiated=false;m.preventDefault();m.stopPropagation();g.removeEvent(e,"touchmove",this);g.removeEvent(e,g.prefixPointerEvent("pointermove"),this);g.removeEvent(e,"mousemove",this);if(this.scroller.options.snap){var k=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var l=this.options.snapSpeed||b.max(b.max(b.min(b.abs(this.scroller.x-k.x),1000),b.min(b.abs(this.scroller.y-k.y),1000)),300);if(this.scroller.x!=k.x||this.scroller.y!=k.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=k;this.scroller.scrollTo(k.x,k.y,l,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(k){k=k||0;this.indicatorStyle[g.style.transitionDuration]=k+"ms";if(!k&&g.isBadAndroid){this.indicatorStyle[g.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(k){this.indicatorStyle[g.style.transitionTimingFunction]=k},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){g.addClass(this.wrapper,"iScrollBothScrollbars");g.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{g.removeClass(this.wrapper,"iScrollBothScrollbars");g.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var k=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=b.max(b.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){if(this.scroller.options.infiniteLimit){this.indicatorHeight=b.max(this.wrapperHeight*this.wrapperHeight/(this.scroller.infiniteElementHeight*this.scroller.options.infiniteLimit+2),20)}else{this.indicatorHeight=b.max(b.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8)}this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var k=this.options.listenX&&b.round(this.sizeRatioX*this.scroller.x)||0,l=this.options.listenY&&b.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(k<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=b.max(this.indicatorWidth+k,8);this.indicatorStyle.width=this.width+"px"}k=this.minBoundaryX}else{if(k>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=b.max(this.indicatorWidth-(k-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";k=this.maxPosX+this.indicatorWidth-this.width}else{k=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(l<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=b.max(this.indicatorHeight+l*3,8);this.indicatorStyle.height=this.height+"px"}l=this.minBoundaryY}else{if(l>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=b.max(this.indicatorHeight-(l-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";l=this.maxPosY+this.indicatorHeight-this.height}else{l=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=k;this.y=l;if(this.scroller.options.useTransform){this.indicatorStyle[g.style.transform]="translate("+k+"px,"+l+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=k+"px";this.indicatorStyle.top=l+"px"}},_pos:function(k,l){if(k<0){k=0}else{if(k>this.maxPosX){k=this.maxPosX}}if(l<0){l=0}else{if(l>this.maxPosY){l=this.maxPosY}}k=this.options.listenX?b.round(k/this.sizeRatioX):this.scroller.x;l=this.options.listenY?b.round(l/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(k,l)},fade:function(n,m){if(m&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var l=n?250:500,k=n?0:300;n=n?"1":"0";this.wrapperStyle[g.style.transitionDuration]=l+"ms";this.fadeTimeout=setTimeout((function(q){this.wrapperStyle.opacity=q;this.visible=+q}).bind(this,n),k)}};d.utils=g;if(typeof module!="undefined"&&module.exports){module.exports=d}else{e.IScroll=d}})(window,document,Math);
/*! $.noUiSlider
 @version 5.0.0
 @author Leon Gersen https://twitter.com/LeonGersen
 @license WTFPL http://www.wtfpl.net/about/
 @documentation http://refreshless.com/nouislider/
*/
(function(a){if(a.zepto&&!a.fn.removeData){throw new ReferenceError("Zepto is loaded without the data module.")}a.fn.crownixNoUiSlider=function(D,j){var h=a(document),C=a("body"),N=".nui",O=a.fn.val,P=["crownix-noUi-base","crownix-noUi-origin","crownix-noUi-handle","crownix-noUi-input","crownix-noUi-active","crownix-noUi-state-tap","crownix-noUi-target","-lower","-upper","crownix-noUi-connect","crownix-noUi-horizontal","crownix-noUi-vertical","crownix-noUi-background","crownix-noUi-stacking","crownix-noUi-block","crownix-noUi-state-blocked","crownix-noUi-ltr","crownix-noUi-rtl","crownix-noUi-dragable","crownix-noUi-extended","crownix-noUi-state-drag"],L=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};function r(V,W){return(W*100)/(V[1]-V[0])}function F(V,W){return r(V,V[0]<0?W+Math.abs(V[0]):W-V[0])}function u(V,W){return((W*(V[1]-V[0]))/100)+V[0]}function e(V){return V instanceof a||(a.zepto&&a.zepto["isZ"](V))}function B(V){return !isNaN(parseFloat(V))&&isFinite(V)}function b(W,V){if(!a.isArray(W)){W=[W]}a.each(W,function(){if(typeof this==="function"){this.call(V)}})}function S(W,V){return function(){var X=[null,null];X[V]=a(this).val();W.val(X,true)}}function A(V,W){return Math.round(V/W)*W}function H(W,V){W=W.toFixed(V.decimals);if(parseFloat(W)===0){W=W.replace("-0","0")}return W.replace(".",V.serialization["mark"])}function g(W,V,X){if(W.length===1){return W[0]}var Y=W[0].offset()[X]+W[1].offset()[X];return W[V<Y/2?0:1]}function U(W,V){return parseFloat(W.toFixed(V))}function T(Y){Y.preventDefault();var ab=Y.type.indexOf("touch")===0,W=Y.type.indexOf("mouse")===0,Z=Y.type.indexOf("pointer")===0,V,aa,X=Y;if(Y.type.indexOf("MSPointer")===0){Z=true}if(Y.originalEvent){Y=Y.originalEvent}if(ab){V=Y.changedTouches[0].pageX;aa=Y.changedTouches[0].pageY}if(W||Z){if(!Z&&window.pageXOffset===undefined){window.pageXOffset=document.documentElement.scrollLeft;window.pageYOffset=document.documentElement.scrollTop}V=Y.clientX+window.pageXOffset;aa=Y.clientY+window.pageYOffset}return a.extend(X,{pointX:V,pointY:aa,cursor:W})}function s(W,V,Z,X){var Y=X.target;W=W.replace(/\s/g,N+" ")+N;return V.on(W,function(ab){var aa=Y.attr("disabled");aa=!(aa===undefined||aa===null);if(Y.hasClass("crownix-noUi-state-tap")||aa){return false}Z(T(ab),X,Y.data("base").data("options"))})}function f(V){var W=this.target;if(V===undefined){return this.element.data("value")}if(V===true){V=this.element.data("value")}else{this.element.data("value",V)}if(V===undefined){return}a.each(this.elements,function(){if(typeof this==="function"){this.call(W,V)}else{this[0][this[1]](V)}})}function w(Y,W,V){if(e(W)){var X=[],Z=Y.data("target");if(Y.data("options").direction){V=V?0:1}W.each(function(){a(this).on("change"+N,S(Z,V));X.push([a(this),"val"])});return X}if(typeof W==="string"){W=[a('<input type="hidden" name="'+W+'">').appendTo(Y).addClass(P[3]).change(function(aa){aa.stopPropagation()}),"val"]}return[W]}function c(Y,W,V){var X=[];a.each(V.to[W],function(Z){X=X.concat(w(Y,V.to[W][Z],W))});return{element:Y,elements:X,target:Y.data("target"),val:f}}function q(V,X){var W=V.data("target");if(!W.hasClass(P[14])){if(!X){W.addClass(P[15]);setTimeout(function(){W.removeClass(P[15])},450)}W.addClass(P[14]);b(V.data("options").block,W)}}function G(W,X){var V=W.data("options");X=U(X,7);W.data("target").removeClass(P[14]);W.css(V.style,X+"%").data("pct",X);if(W.is(":first-child")){W.toggleClass(P[13],X>50)}if(V.direction){X=100-X}W.data("store").val(H(u(V.range,X),V))}function d(aa,ab){var Z=aa.data("base"),Y=Z.data("options"),W=Z.data("handles"),V=0,X=100;if(!B(ab)){return false}if(Y.step){ab=A(ab,Y.step)}if(W.length>1){if(aa[0]!==W[0][0]){V=U(W[0].data("pct")+Y.margin,7)}else{X=U(W[1].data("pct")-Y.margin,7)}}ab=Math.min(Math.max(ab,V),X<0?100:X);if(ab===aa.data("pct")){return[!V?false:V,X===100?false:X]}G(aa,ab);return true}function n(X,W,Y,V){X.addClass(P[5]);setTimeout(function(){X.removeClass(P[5])},300);d(W,Y);b(V,X.data("target"));X.data("target").change()}function t(W,aa,ad){var ae=aa.handles,V,ac=W[aa.point]-aa.start[aa.point];ac=(ac*100)/aa.size;if(ae.length===1){V=d(ae[0],aa.positions[0]+ac);if(V!==true){if(a.inArray(ae[0].data("pct"),V)>=0){q(aa.base,!ad.margin)}return}}else{var ab,Y,Z,X;if(ad.step){ac=A(ac,ad.step)}ab=Z=aa.positions[0]+ac;Y=X=aa.positions[1]+ac;if(ab<0){Y+=-1*ab;ab=0}else{if(Y>100){ab-=(Y-100);Y=100}}if(Z<0&&!ab&&!ae[0].data("pct")){return}if(Y===100&&X>100&&ae[1].data("pct")===100){return}G(ae[0],ab);G(ae[1],Y)}b(ad.slide,aa.target)}function z(W,X,V){if(X.handles.length===1){X.handles[0].data("grab").removeClass(P[4])}if(W.cursor){C.css("cursor","").off(N)}h.off(N);X.target.removeClass(P[14]+" "+P[20]).change();b(V.set,X.target)}function E(W,X,V){if(X.handles.length===1){X.handles[0].data("grab").addClass(P[4])}W.stopPropagation();s(L.move,h,t,{start:W,base:X.base,target:X.target,handles:X.handles,positions:[X.handles[0].data("pct"),X.handles[X.handles.length-1].data("pct")],point:V.orientation?"pointY":"pointX",size:V.orientation?X.base.height():X.base.width()});s(L.end,h,z,{target:X.target,handles:X.handles});if(W.cursor){C.css("cursor",a(W.target).css("cursor"));if(X.handles.length>1){X.target.addClass(P[20])}C.on("selectstart"+N,function(){return false})}}function K(Y,ab,W){var aa=ab.base,Z,ac,V,X;Y.stopPropagation();if(W.orientation){V=Y.pointY;X=aa.height()}else{V=Y.pointX;X=aa.width()}Z=g(aa.data("handles"),V,W.style);ac=((V-aa.offset()[W.style])*100)/X;n(aa,Z,ac,[W.slide,W.set])}function m(Y,Z,V){var X=Z.base.data("handles"),aa,W;W=V.orientation?Y.pointY:Y.pointX;W=W<Z.base.offset()[V.style];aa=W?0:100;W=W?0:X.length-1;n(Z.base,X[W],aa,[V.slide,V.set])}function k(X,Z){function W(aa){if(aa.length!==2){return false}aa=[parseFloat(aa[0]),parseFloat(aa[1])];if(!B(aa[0])||!B(aa[1])){return false}if(aa[1]<aa[0]){return false}return aa}var V={resolution:function(aa,ab){switch(aa){case 1:case 0.1:case 0.01:case 0.001:case 0.0001:case 0.00001:aa=aa.toString().split(".");ab.decimals=aa[0]==="1"?0:aa[1].length;break;case undefined:ab.decimals=2;break;default:return false}return true},mark:function(ab,ac,aa){if(!ab){ac[aa]["mark"]=".";return true}switch(ab){case".":case",":return true;default:return false}},to:function(af,ag,ab){function aa(ah){return e(ah)||typeof ah==="string"||typeof ah==="function"||ah===false||(e(ah[0])&&typeof ah[0][ah[1]]==="function")}function ae(ai){var ah=[[],[]];if(aa(ai)){ah[0].push(ai)}else{a.each(ai,function(aj,ak){if(aj>1){return}if(aa(ak)){ah[aj].push(ak)}else{ah[aj]=ah[aj].concat(ak)}})}return ah}if(!af){ag[ab]["to"]=[[],[]]}else{var ad,ac;af=ae(af);if(ag.direction&&af[1].length){af.reverse()}for(ad=0;ad<ag.handles;ad++){for(ac=0;ac<af[ad].length;ac++){if(!aa(af[ad][ac])){return false}if(!af[ad][ac]){af[ad].splice(ac,1)}}}ag[ab]["to"]=af}return true}},Y={handles:{r:true,t:function(aa){aa=parseInt(aa,10);return(aa===1||aa===2)}},range:{r:true,t:function(ab,ac,aa){ac[aa]=W(ab);return ac[aa]&&ac[aa][0]!==ac[aa][1]}},start:{r:true,t:function(ab,ac,aa){if(ac.handles===1){if(a.isArray(ab)){ab=ab[0]}ab=parseFloat(ab);ac.start=[ab];return B(ab)}ac[aa]=W(ab);return !!ac[aa]}},connect:{r:true,t:function(ab,ac,aa){if(ab==="lower"){ac[aa]=1}else{if(ab==="upper"){ac[aa]=2}else{if(ab===true){ac[aa]=3}else{if(ab===false){ac[aa]=0}else{return false}}}}return true}},orientation:{t:function(ab,ac,aa){switch(ab){case"horizontal":ac[aa]=0;break;case"vertical":ac[aa]=1;break;default:return false}return true}},margin:{r:true,t:function(ab,ac,aa){ab=parseFloat(ab);ac[aa]=r(ac.range,ab);return B(ab)}},direction:{r:true,t:function(ab,ac,aa){switch(ab){case"ltr":ac[aa]=0;break;case"rtl":ac[aa]=1;ac.connect=[0,2,1,3][ac.connect];break;default:return false}return true}},behaviour:{r:true,t:function(ab,ac,aa){ac[aa]={tap:ab!==(ab=ab.replace("tap","")),extend:ab!==(ab=ab.replace("extend","")),drag:ab!==(ab=ab.replace("drag","")),fixed:ab!==(ab=ab.replace("fixed",""))};return !ab.replace("none","").replace(/\-/g,"")}},serialization:{r:true,t:function(ab,ac,aa){return V.to(ab.to,ac,aa)&&V.resolution(ab.resolution,ac)&&V.mark(ab.mark,ac,aa)}},slide:{t:function(aa){return a.isFunction(aa)}},set:{t:function(aa){return a.isFunction(aa)}},block:{t:function(aa){return a.isFunction(aa)}},step:{t:function(ab,ac,aa){ab=parseFloat(ab);ac[aa]=r(ac.range,ab);return B(ab)}}};a.each(Y,function(aa,ad){var ac=X[aa],ab=ac!==undefined;if((ad.r&&!ab)||(ab&&!ad.t(ac,X,aa))){if(console&&console.log&&console.group){console.group("Invalid noUiSlider initialisation:");console.log("Option:\t",aa);console.log("Value:\t",ac);console.log("Slider(s):\t",Z);console.groupEnd()}throw new RangeError("noUiSlider")}})}function l(V){this.data("options",a.extend(true,{},V));V=a.extend({handles:2,margin:0,connect:false,direction:"ltr",behaviour:"tap",orientation:"horizontal"},V);V.serialization=V.serialization||{};k(V,this);V.style=V.orientation?"top":"left";return this.each(function(){var ab=a(this),X,aa,W=[],Z,Y=a("<div/>").appendTo(ab);if(ab.data("base")){throw new Error("Slider was already initialized.")}ab.data("base",Y).addClass([P[6],P[16+V.direction],P[10+V.orientation]].join(" "));for(X=0;X<V.handles;X++){Z=a("<div><div/></div>").appendTo(Y);Z.addClass(P[1]);Z.children().addClass([P[2],P[2]+P[7+V.direction+(V.direction?-1*X:X)]].join(" "));Z.data({base:Y,target:ab,options:V,grab:Z.children(),pct:-1}).attr("data-style",V.style);Z.data({store:c(Z,X,V.serialization)});W.push(Z)}switch(V.connect){case 1:ab.addClass(P[9]);W[0].addClass(P[12]);break;case 3:W[1].addClass(P[12]);case 2:W[0].addClass(P[9]);case 0:ab.addClass(P[12]);break}Y.addClass(P[0]).data({target:ab,options:V,handles:W});ab.val(V.start);if(!V.behaviour["fixed"]){for(X=0;X<W.length;X++){s(L.start,W[X].children(),E,{base:Y,target:ab,handles:[W[X]]})}}if(V.behaviour["tap"]){s(L.start,Y,K,{base:Y,target:ab})}if(V.behaviour["extend"]){ab.addClass(P[19]);if(V.behaviour["tap"]){s(L.start,ab,m,{base:Y,target:ab})}}if(V.behaviour["drag"]){aa=Y.find("."+P[9]).addClass(P[18]);if(V.behaviour["fixed"]){aa=aa.add(Y.children().not(aa).data("grab"))}s(L.start,aa,E,{base:Y,target:ab,handles:W})}})}function J(){var W=a(this).data("base"),V=[];a.each(W.data("handles"),function(){V.push(a(this).data("store").val())});if(V.length===1){return V[0]}if(W.data("options").direction){return V.reverse()}return V}function I(V,W){if(!a.isArray(V)){V=[V]}return this.each(function(){var X=a(this).data("base"),ab,Z,Y=Array.prototype.slice.call(X.data("handles"),0),aa=X.data("options");if(Y.length>1){Y[2]=Y[0]}if(aa.direction){V.reverse()}for(Z=0;Z<Y.length;Z++){ab=V[Z%2];if(ab===null||ab===undefined){continue}if(a.type(ab)==="string"){ab=ab.replace(",",".")}ab=F(aa.range,parseFloat(ab));if(aa.direction){ab=100-ab}if(d(Y[Z],ab)!==true){Y[Z].data("store").val(true)}if(W===true){b(aa.set,a(this))}}})}function Q(W){var V=[[W,""]];a.each(W.data("base").data("handles"),function(){V=V.concat(a(this).data("store").elements)});a.each(V,function(){if(this.length>1){this[0].off(N)}});W.removeClass(P.join(" "));W.empty().removeData("base options")}function M(V){return this.each(function(){var X=a(this).val()||false,Y=a(this).data("options"),W=a.extend({},Y,V);if(X!==false){Q(a(this))}if(!V){return}a(this)["crownixNoUiSlider"](W);if(X!==false&&W.start===Y.start){a(this).val(X)}})}a.fn.val=function(){if(this.hasClass(P[6])){return arguments.length?I.apply(this,arguments):J.apply(this)}return O.apply(this,arguments)};return(j?M:l).call(this,D)}}(window.jQuery||window.Zepto));
/*! jQuery UI - v1.10.4 - 2014-04-13
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.datepicker.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,j){return typeof h==="number"?this.each(function(){var k=this;setTimeout(function(){b(k).focus();if(j){j.call(k)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(k){if(k!==f){return this.css("zIndex",k)}if(this.length){var h=b(this[0]),g,j;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){j=parseInt(h.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(j,g){var l,k,h,m=j.nodeName.toLowerCase();if("area"===m){l=j.parentNode;k=l.name;if(!j.href||!k||l.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+k+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(m)?!j.disabled:"a"===m?j.href||g:g)&&c(j)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(j){var g=b.attr(j,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(j,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(r,q,n,s){b.each(h,function(){q-=parseFloat(b.css(r,"padding"+this))||0;if(n){q-=parseFloat(b.css(r,"border"+this+"Width"))||0}if(s){q-=parseFloat(b.css(r,"margin"+this))||0}});return q}b.fn["inner"+g]=function(n){if(n===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,n)+"px")})};b.fn["outer"+g]=function(n,q){if(typeof n!=="number"){return m["outer"+g].call(this,n)}return this.each(function(){b(this).css(k,l(this,n,true,q)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},hasScroll:function(k,h){if(b(k).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",j=false;if(k[g]>0){return true}k[g]=1;j=(k[g]>0);k[g]=0;return j}})})(jQuery);(function(d,f){d.extend(d.ui,{crownixdatepicker:{version:"1.10.4"}});var e="crownixdatepicker",b;function g(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="crownix-ui-datepicker-div";this._inlineClass="crownix-ui-datepicker-inline";this._appendClass="crownix-ui-datepicker-append";this._triggerClass="crownix-ui-datepicker-trigger";this._dialogClass="crownix-ui-datepicker-dialog";this._disableClass="crownix-ui-datepicker-disabled";this._unselectableClass="crownix-ui-datepicker-unselectable";this._currentClass="crownix-ui-datepicker-current-day";this._dayOverClass="crownix-ui-datepicker-days-cell-over";this.locale="ko";this.regional=[];this.regional.en={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"MM/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-MM-dd",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:"년"};this.regional.ja={closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/MM/dd",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:"年"};this.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-MM-dd",firstDay:1,isRTL:false,showMonthAfterYear:true,yearSuffix:"年"};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false,japanYear:null,checkZero:0,useMirroring:false};d.extend(this._defaults,this.regional.en);this.dpDiv=c(d("<div id='"+this._mainDivId+"' class='crownix-ui-datepicker crownix-ui-widget crownix-ui-widget-content crownix-ui-helper-clearfix crownix-ui-corner-all'></div>"))}d.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(h){a(this._defaults,h||{});return this},setLanguage:function(h){this.setDefaults(this.regional[h]);this.locale=h;return this},_attachDatepicker:function(l,h){var m,k,j;m=l.nodeName.toLowerCase();k=(m==="div"||m==="span");if(!l.id){this.uuid+=1;l.id="dp"+this.uuid}j=this._newInst(d(l),k);j.settings=d.extend({},h||{});if(m==="input"){this._connectDatepicker(l,j)}else{if(k){this._inlineDatepicker(l,j)}}},_newInst:function(j,h){var k=j[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:k,input:j,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:(!h?this.dpDiv:c(d("<div class='"+this._inlineClass+" crownix-ui-datepicker crownix-ui-widget crownix-ui-widget-content crownix-ui-helper-clearfix crownix-ui-corner-all'></div>")))}},_connectDatepicker:function(k,j){var h=d(k);j.append=d([]);j.trigger=d([]);if(h.hasClass(this.markerClassName)){return}this._attachments(h,j);h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(j);d.data(k,e,j);if(j.settings.disabled){this._disableDatepicker(k)}},_attachments:function(l,q){var k,n,j,r=this._get(q,"appendText"),m=this._get(q,"isRTL");if(q.append){q.append.remove()}if(r){q.append=d("<span class='"+this._appendClass+"'>"+r+"</span>");l[m?"before":"after"](q.append)}l.unbind("focus",this._showDatepicker);if(q.trigger){q.trigger.remove()}k=this._get(q,"showOn");if(k==="focus"||k==="both"){var h=this;l.focus(function(s){if(!this.readOnly){m2soft.crownix.Util.browser.mobile&&d(this).blur();if(d(this).attr("noDefaultAction")==="false"){h._showDatepicker(s)}}});l.on(m2soft.crownix.Util.ActionEvents.start+" touchstart",function(s){if(!this.readOnly&&d(this).attr("noDefaultAction")==="false"){h._showDatepicker(s)}})}if(k==="button"||k==="both"){n=this._get(q,"buttonText");j=this._get(q,"buttonImage");q.trigger=d(this._get(q,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:j,alt:n,title:n}):d("<button type='button'></button>").addClass(this._triggerClass).html(!j?n:d("<img/>").attr({src:j,alt:n,title:n})));l[m?"before":"after"](q.trigger);q.trigger.click(function(){if(d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._lastInput===l[0]){d.crownixdatepicker._hideDatepicker()}else{if(d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._lastInput!==l[0]){d.crownixdatepicker._hideDatepicker();d.crownixdatepicker._showDatepicker(l[0])}else{d.crownixdatepicker._showDatepicker(l[0])}}return false})}},_autoSize:function(q){if(this._get(q,"autoSize")&&!q.inline){var l,j,k,n,m=new Date(2009,12-1,20),h=this._get(q,"dateFormat");if(h.match(/[DM]/)){l=function(r){j=0;k=0;for(n=0;n<r.length;n++){if(r[n].length>j){j=r[n].length;k=n}}return k};m.setMonth(l(this._get(q,(h.match(/MM/)?"monthNames":"monthNamesShort"))));m.setDate(l(this._get(q,(h.match(/DD/)?"dayNames":"dayNamesShort")))+20-m.getDay())}q.input.attr("size",this._formatDate(q,m).length)}},_inlineDatepicker:function(j,h){var k=d(j);if(k.hasClass(this.markerClassName)){return}k.addClass(this.markerClassName).append(h.dpDiv);d.data(j,e,h);this._setDate(h,this._getDefaultDate(h),true);this._updateDatepicker(h);this._updateAlternate(h);if(h.settings.disabled){this._disableDatepicker(j)}h.dpDiv.css("display","block")},_dialogDatepicker:function(r,j,n,k,q){var h,u,m,t,s,l=this._dialogInst;if(!l){this.uuid+=1;h="dp"+this.uuid;this._dialogInput=d("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);l=this._dialogInst=this._newInst(this._dialogInput,false);l.settings={};d.data(this._dialogInput[0],e,l)}a(l.settings,k||{});j=(j&&j.constructor===Date?this._formatDate(l,j):j);this._dialogInput.val(j);this._pos=(q?(q.length?q:[q.pageX,q.pageY]):null);if(!this._pos){u=document.documentElement.clientWidth;m=document.documentElement.clientHeight;t=document.documentElement.scrollLeft||document.body.scrollLeft;s=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(u/2)-100+t,(m/2)-150+s]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");l.settings.onSelect=n;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(d.blockUI){d.blockUI(this.dpDiv)}d.data(this._dialogInput[0],e,l);return this},_destroyDatepicker:function(k){var l,h=d(k),j=d.data(k,e);if(!h.hasClass(this.markerClassName)){return}l=k.nodeName.toLowerCase();d.removeData(k,e);if(l==="input"){j.append.remove();j.trigger.remove();h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(l==="div"||l==="span"){h.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(l){var m,k,h=d(l),j=d.data(l,e);if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();if(m==="input"){l.disabled=false;j.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(m==="div"||m==="span"){k=h.children("."+this._inlineClass);k.children().removeClass("crownix-ui-state-disabled");k.find("select.crownix-ui-datepicker-month, select.crownix-ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=d.map(this._disabledInputs,function(n){return(n===l?null:n)})},_disableDatepicker:function(l){var m,k,h=d(l),j=d.data(l,e);if(!h.hasClass(this.markerClassName)){return}m=l.nodeName.toLowerCase();if(m==="input"){l.disabled=true;j.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(m==="div"||m==="span"){k=h.children("."+this._inlineClass);k.children().addClass("crownix-ui-state-disabled");k.find("select.crownix-ui-datepicker-month, select.crownix-ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=d.map(this._disabledInputs,function(n){return(n===l?null:n)});this._disabledInputs[this._disabledInputs.length]=l},_isDisabledDatepicker:function(j){if(!j){return false}for(var h=0;h<this._disabledInputs.length;h++){if(this._disabledInputs[h]===j){return true}}return false},_getInst:function(j){try{return d.data(j,e)}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(q,j,n){var k,h,m,r,l=this._getInst(q);if(arguments.length===2&&typeof j==="string"){return(j==="defaults"?d.extend({},d.crownixdatepicker._defaults):(l?(j==="all"?d.extend({},l.settings):this._get(l,j)):null))}k=j||{};if(typeof j==="string"){k={};k[j]=n}if(l){if(this._curInst===l){this._hideDatepicker()}h=this._getDateDatepicker(q,true);m=this._getMinMaxDate(l,"min");r=this._getMinMaxDate(l,"max");a(l.settings,k);if(m!==null&&k.dateFormat!==f&&k.minDate===f){l.settings.minDate=this._formatDate(l,m)}if(r!==null&&k.dateFormat!==f&&k.maxDate===f){l.settings.maxDate=this._formatDate(l,r)}if("disabled" in k){if(k.disabled){this._disableDatepicker(q)}else{this._enableDatepicker(q)}}this._attachments(d(q),l);this._autoSize(l);this._setDate(l,h);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(k,h,j){this._optionDatepicker(k,h,j)},_refreshDatepicker:function(j){var h=this._getInst(j);if(h){this._updateDatepicker(h)}},_setDateDatepicker:function(k,h){var j=this._getInst(k);if(j){this._setDate(j,h);this._updateDatepicker(j);this._updateAlternate(j)}},_getDateDatepicker:function(k,h){var j=this._getInst(k);if(j&&!j.inline){this._setDateFromField(j,h)}return(j?this._getDate(j):null)},_doKeyDown:function(l){var j,h,n,m=d.crownixdatepicker._getInst(l.target),q=true,k=m.dpDiv.is(".crownix-ui-datepicker-rtl");m._keyEvent=true;if(d.crownixdatepicker._datepickerShowing){switch(l.keyCode){case 9:d.crownixdatepicker._hideDatepicker();q=false;break;case 13:n=d("td."+d.crownixdatepicker._dayOverClass+":not(."+d.crownixdatepicker._currentClass+")",m.dpDiv);if(n[0]){d.crownixdatepicker._selectDay(l.target,m.selectedMonth,m.selectedYear,n[0])}j=d.crownixdatepicker._get(m,"onSelect");if(j){h=d.crownixdatepicker._formatDate(m);j.apply((m.input?m.input[0]:null),[h,m])}else{d.crownixdatepicker._hideDatepicker()}return false;case 27:d.crownixdatepicker._hideDatepicker();break;case 33:d.crownixdatepicker._adjustDate(l.target,(l.ctrlKey?-d.crownixdatepicker._get(m,"stepBigMonths"):-d.crownixdatepicker._get(m,"stepMonths")),"M");break;case 34:d.crownixdatepicker._adjustDate(l.target,(l.ctrlKey?+d.crownixdatepicker._get(m,"stepBigMonths"):+d.crownixdatepicker._get(m,"stepMonths")),"M");break;case 35:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._clearDate(l.target)}q=l.ctrlKey||l.metaKey;break;case 36:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._gotoToday(l.target)}q=l.ctrlKey||l.metaKey;break;case 37:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._adjustDate(l.target,(k?+1:-1),"D")}q=l.ctrlKey||l.metaKey;if(l.originalEvent.altKey){d.crownixdatepicker._adjustDate(l.target,(l.ctrlKey?-d.crownixdatepicker._get(m,"stepBigMonths"):-d.crownixdatepicker._get(m,"stepMonths")),"M")}break;case 38:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._adjustDate(l.target,-7,"D")}q=l.ctrlKey||l.metaKey;break;case 39:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._adjustDate(l.target,(k?-1:+1),"D")}q=l.ctrlKey||l.metaKey;if(l.originalEvent.altKey){d.crownixdatepicker._adjustDate(l.target,(l.ctrlKey?+d.crownixdatepicker._get(m,"stepBigMonths"):+d.crownixdatepicker._get(m,"stepMonths")),"M")}break;case 40:if(l.ctrlKey||l.metaKey){d.crownixdatepicker._adjustDate(l.target,+7,"D")}q=l.ctrlKey||l.metaKey;break;default:q=false}}else{if(l.keyCode===36&&l.ctrlKey){d.crownixdatepicker._showDatepicker(this)}else{q=false}}if(q){l.preventDefault();l.stopPropagation()}},_doKeyPress:function(k){var j,h,l=d.crownixdatepicker._getInst(k.target);if(d.crownixdatepicker._get(l,"constrainInput")){j=d.crownixdatepicker._possibleChars(d.crownixdatepicker._get(l,"dateFormat"));h=String.fromCharCode(k.charCode==null?k.keyCode:k.charCode);return k.ctrlKey||k.metaKey||(h<" "||!j||j.indexOf(h)>-1)}},_doKeyUp:function(k){var h,l=d.crownixdatepicker._getInst(k.target);if(l.input.val()!==l.lastVal){try{h=d.crownixdatepicker.parseDate(d.crownixdatepicker._get(l,"dateFormat"),(l.input?l.input.val():null),d.crownixdatepicker._getFormatConfig(l),d.crownixdatepicker._get(l,"japanYear"),d.crownixdatepicker._get(l,"checkZero"));if(h){d.crownixdatepicker._setDateFromField(l);d.crownixdatepicker._updateAlternate(l);d.crownixdatepicker._updateDatepicker(l)}}catch(j){}}return true},_showDatepicker:function(j){j=j.target||j;if(j.nodeName.toLowerCase()!=="input"){j=d("input",j.parentNode)[0]}if(d.crownixdatepicker._isDisabledDatepicker(j)||d.crownixdatepicker._lastInput===j){return}var l,r,k,n,q,h,m;l=d.crownixdatepicker._getInst(j);if(d.crownixdatepicker._curInst&&d.crownixdatepicker._curInst!==l){d.crownixdatepicker._curInst.dpDiv.stop(true,true);if(l&&d.crownixdatepicker._datepickerShowing){d.crownixdatepicker._hideDatepicker(d.crownixdatepicker._curInst.input[0])}}r=d.crownixdatepicker._get(l,"beforeShow");k=r?r.apply(j,[j,l]):{};if(k===false){return}a(l.settings,k);l.lastVal=null;d.crownixdatepicker._lastInput=j;d.crownixdatepicker._setDateFromField(l);if(d.crownixdatepicker._inDialog){j.value=""}if(!d.crownixdatepicker._pos){d.crownixdatepicker._pos=d.crownixdatepicker._findPos(j);d.crownixdatepicker._pos[1]+=j.offsetHeight}n=false;d(j).parents().each(function(){n|=d(this).css("position")==="fixed";return !n});q={left:d.crownixdatepicker._pos[0],top:d.crownixdatepicker._pos[1]};d.crownixdatepicker._pos=null;l.dpDiv.empty();l.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.crownixdatepicker._updateDatepicker(l);q=d.crownixdatepicker._checkOffset(l,q,n);l.dpDiv.css({position:(d.crownixdatepicker._inDialog&&d.blockUI?"static":(n?"fixed":"absolute")),display:"none",left:q.left+"px",top:q.top+"px"});if(!l.inline){h=d.crownixdatepicker._get(l,"showAnim");m=d.crownixdatepicker._get(l,"duration");(d(j).zIndex()<d("#crownix-html5-viewer").zIndex())?l.dpDiv.zIndex(d("#crownix-html5-viewer").zIndex()+1):l.dpDiv.zIndex(d(j).zIndex()+1);d.crownixdatepicker._datepickerShowing=true;if(d.effects&&d.effects.effect[h]){l.dpDiv.show(h,d.crownixdatepicker._get(l,"showOptions"),m)}else{l.dpDiv[h||"show"](h?m:null)}if(d.crownixdatepicker._shouldFocusInput(l)){l.input.focus()}d.crownixdatepicker._curInst=l}},_updateDatepicker:function(k){this.maxRows=4;b=k;k.dpDiv.empty().append(this._generateHTML(k));this._attachHandlers(k);k.dpDiv.find("."+this._dayOverClass+" a").mouseover();var m,h=this._getNumberOfMonths(k),l=h[1],j=17;k.dpDiv.removeClass("crownix-ui-datepicker-multi-2 crownix-ui-datepicker-multi-3 crownix-ui-datepicker-multi-4").width("");if(l>1){k.dpDiv.addClass("crownix-ui-datepicker-multi-"+l).css("width",(j*l)+"em")}k.dpDiv[(h[0]!==1||h[1]!==1?"add":"remove")+"Class"]("crownix-ui-datepicker-multi");k.dpDiv[(this._get(k,"isRTL")?"add":"remove")+"Class"]("crownix-ui-datepicker-rtl");if(k===d.crownixdatepicker._curInst&&d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._shouldFocusInput(k)){k.input.focus()}if(k.yearshtml){m=k.yearshtml;setTimeout(function(){if(m===k.yearshtml&&k.yearshtml){k.dpDiv.find("select.crownix-ui-datepicker-year:first").replaceWith(k.yearshtml)}m=k.yearshtml=null},0)}},_shouldFocusInput:function(h){return h.input&&h.input.is(":visible")&&!h.input.is(":disabled")&&!h.input.is(":focus")},_checkOffset:function(n,l,k){var m=n.dpDiv.outerWidth(),s=n.dpDiv.outerHeight(),r=n.input?n.input.outerWidth():0,h=n.input?n.input.outerHeight():0,q=document.documentElement.clientWidth+(k?0:d(document).scrollLeft()),j=document.documentElement.clientHeight+(k?0:d(document).scrollTop());l.left-=(this._get(n,"isRTL")?(m-r):0);l.left-=(k&&l.left===n.input.offset().left)?d(document).scrollLeft():0;l.top-=(k&&l.top===(n.input.offset().top+h))?d(document).scrollTop():0;l.left-=Math.min(l.left,(l.left+m>q&&q>m)?Math.abs(l.left+m-q):0);l.top-=Math.min(l.top,(l.top+s>j&&j>s)?Math.abs(s+h):0);return l},_findPos:function(l){var h,k=this._getInst(l),j=this._get(k,"isRTL");while(l&&(l.type==="hidden"||l.nodeType!==1||d.expr.filters.hidden(l))){l=l[j?"previousSibling":"nextSibling"]}h=d(l).offset();return[h.left,h.top]},_hideDatepicker:function(k){var j,n,m,h,l=this._curInst;if(!l||(k&&l!==d.data(k,e))){return}if(this._datepickerShowing){j=this._get(l,"showAnim");n=this._get(l,"duration");m=function(){d.crownixdatepicker._tidyDialog(l)};if(d.effects&&(d.effects.effect[j]||d.effects[j])){l.dpDiv.hide(j,d.crownixdatepicker._get(l,"showOptions"),n,m)}else{l.dpDiv[(j==="slideDown"?"slideUp":(j==="fadeIn"?"fadeOut":"hide"))]((j?n:null),m)}if(!j){m()}this._datepickerShowing=false;h=this._get(l,"onClose");if(h){h.apply((l.input?l.input[0]:null),[(l.input?l.input.val():""),l])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(h){h.dpDiv.removeClass(this._dialogClass).unbind(".crownix-ui-datepicker-calendar")},_checkExternalClick:function(j){if(!d.crownixdatepicker._curInst){return}var h=d(j.target),k=d.crownixdatepicker._getInst(h[0]);if(((h[0].id!==d.crownixdatepicker._mainDivId&&h.parents("#"+d.crownixdatepicker._mainDivId).length===0&&!h.hasClass(d.crownixdatepicker.markerClassName)&&!h.closest("."+d.crownixdatepicker._triggerClass).length&&d.crownixdatepicker._datepickerShowing&&!(d.crownixdatepicker._inDialog&&d.blockUI)))||(h.hasClass(d.crownixdatepicker.markerClassName)&&d.crownixdatepicker._curInst!==k)){d.crownixdatepicker._hideDatepicker()}},_adjustDate:function(m,l,k){var j=d(m),h=this._getInst(j[0]);if(this._isDisabledDatepicker(j[0])){return}this._adjustInstDate(h,l+(k==="M"?this._get(h,"showCurrentAtPos"):0),k);this._updateDatepicker(h)},_gotoToday:function(l){var h,k=d(l),j=this._getInst(k[0]);if(this._get(j,"gotoCurrent")&&j.currentDay){j.selectedDay=j.currentDay;j.drawMonth=j.selectedMonth=j.currentMonth;j.drawYear=j.selectedYear=j.currentYear}else{h=new Date();j.selectedDay=h.getDate();j.drawMonth=j.selectedMonth=h.getMonth();j.drawYear=j.selectedYear=h.getFullYear()}this._notifyChange(j);this._adjustDate(k)},_selectMonthYear:function(m,h,l){var k=d(m),j=this._getInst(k[0]);j["selected"+(l==="M"?"Month":"Year")]=j["draw"+(l==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(j);this._adjustDate(k)},_selectDay:function(n,l,h,m){var j,k=d(n);if(d(m).hasClass(this._unselectableClass)||this._isDisabledDatepicker(k[0])){return}j=this._getInst(k[0]);j.selectedDay=j.currentDay=d(j.settings.useMirroring?"button":"a",m).html();j.selectedMonth=j.currentMonth=l;j.selectedYear=j.currentYear=h;this._selectDate(n,this._formatDate(j,j.currentDay,j.currentMonth,j.currentYear))},_clearDate:function(j){var h=d(j);this._selectDate(h,"")},_selectDate:function(n,j){var k,m=d(n),l=this._getInst(m[0]);j=(j!=null?j:this._formatDate(l));if(l.input){l.input.val(j)}this._updateAlternate(l);k=this._get(l,"onSelect");if(k){k.apply((l.input?l.input[0]:null),[j,l])}else{if(l.input){l.input.trigger("change")}}if(l.inline){this._updateDatepicker(l)}else{this._lastInput=l.input[0];if(typeof(l.input[0])=="object"){l.input.focus()}var h=this;setTimeout(function(){h._hideDatepicker();h._lastInput=null})}},_updateAlternate:function(m){var l,k,h,j=this._get(m,"altField");if(j){l=this._get(m,"altFormat")||this._get(m,"dateFormat");k=this._getDate(m);japanYear=this._get(m,"japanYear");checkZero=this._get(m,"checkZero");h=this.formatDate(l,k,this._getFormatConfig(m),japanYear,checkZero);d(j).each(function(){d(this).val(h)})}},noWeekends:function(j){var h=j.getDay();return[(h>0&&h<6),""]},iso8601Week:function(h){var j,k=new Date(h.getTime());k.setDate(k.getDate()+4-(k.getDay()||7));j=k.getTime();k.setMonth(0);k.setDate(1);return Math.floor(Math.round((j-k)/86400000)/7)+1},parseDate:function(m,l,k,j,h){if(m==null||l==null){throw"Invalid arguments"}l=(typeof l==="object"?l.toString():l+"");if(l===""){return null}return new Date(m2soft.crownix.DateParser.getDateFromFormat(m,l,d.crownixdatepicker.locale,f,j,h))},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(n,k,m,l,h){if(!k){return""}var j=new Date();k.setHours(j.getHours());k.setMinutes(j.getMinutes());k.setSeconds(j.getSeconds());return m2soft.crownix.DateParser.formatDate(n,k,d.crownixdatepicker.locale,l,h)},_possibleChars:function(m){var l,k="",j=false,h=function(n){var q=(l+1<m.length&&m.charAt(l+1)===n);if(q){l++}return q};for(l=0;l<m.length;l++){if(j){if(m.charAt(l)==="'"&&!h("'")){j=false}else{k+=m.charAt(l)}}else{switch(m.charAt(l)){case"d":case"m":case"y":case"@":k+="0123456789";break;case"D":case"M":return null;case"'":if(h("'")){k+="'"}else{j=true}break;default:k+=m.charAt(l)}}}return k},_get:function(j,h){return j.settings[h]!==f?j.settings[h]:this._defaults[h]},_setDateFromField:function(s,h){if(s.input.val()===s.lastVal){return}var n=this._get(s,"dateFormat"),l=s.lastVal=s.input?s.input.val():null,m=this._getDefaultDate(s),q=m,r=this._getFormatConfig(s),t=this._get(s,"japanYear"),k=this._get(s,"checkZero");try{q=this.parseDate(n,l,r,t,k)||m}catch(j){l=(h?"":l)}s.selectedDay=q.getDate();s.drawMonth=s.selectedMonth=q.getMonth();s.drawYear=s.selectedYear=q.getFullYear();s.currentDay=(l?q.getDate():0);s.currentMonth=(l?q.getMonth():0);s.currentYear=(l?q.getFullYear():0);this._adjustInstDate(s)},_getDefaultDate:function(h){return this._restrictMinMax(h,this._determineDate(h,this._get(h,"defaultDate"),new Date()))},_determineDate:function(m,j,n){var l=function(r){var q=new Date();q.setDate(q.getDate()+r);return q},k=function(A){try{return d.crownixdatepicker.parseDate(d.crownixdatepicker._get(m,"dateFormat"),A,d.crownixdatepicker._getFormatConfig(m),d.crownixdatepicker._get(m,"japanYear"),d.crownixdatepicker._get(m,"checkZero"))}catch(z){}var r=(A.toLowerCase().match(/^c/)?d.crownixdatepicker._getDate(m):null)||new Date(),s=r.getFullYear(),w=r.getMonth(),q=r.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,t=u.exec(A);while(t){switch(t[2]||"d"){case"d":case"D":q+=parseInt(t[1],10);break;case"w":case"W":q+=parseInt(t[1],10)*7;break;case"m":case"M":w+=parseInt(t[1],10);q=Math.min(q,d.crownixdatepicker._getDaysInMonth(s,w));break;case"y":case"Y":s+=parseInt(t[1],10);q=Math.min(q,d.crownixdatepicker._getDaysInMonth(s,w));break}t=u.exec(A)}return new Date(s,w,q)},h=(j==null||j===""?n:(typeof j==="string"?k(j):(typeof j==="number"?(isNaN(j)?n:l(j)):new Date(j.getTime()))));h=(h&&h.toString()==="Invalid Date"?n:h);if(h){h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0)}return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(h){if(!h){return null}h.setHours(h.getHours()>12?h.getHours()+2:0);return h},_setDate:function(q,l,n){var h=!l,k=q.selectedMonth,m=q.selectedYear,j=this._restrictMinMax(q,this._determineDate(q,l,new Date()));q.selectedDay=q.currentDay=j.getDate();q.drawMonth=q.selectedMonth=q.currentMonth=j.getMonth();q.drawYear=q.selectedYear=q.currentYear=j.getFullYear();if((k!==q.selectedMonth||m!==q.selectedYear)&&!n){this._notifyChange(q)}this._adjustInstDate(q);if(q.input){q.input.val(h?"":this._formatDate(q))}},_getDate:function(j){var h=(!j.currentYear||(j.input&&j.input.val()==="")?null:this._daylightSavingAdjust(new Date(j.currentYear,j.currentMonth,j.currentDay)));return h},_attachHandlers:function(j){var h=this._get(j,"stepMonths"),k="#"+j.id.replace(/\\\\/g,"\\");j.dpDiv.find("[data-handler]").map(function(){var l={prev:function(){d.crownixdatepicker._adjustDate(k,-h,"M")},next:function(){d.crownixdatepicker._adjustDate(k,+h,"M")},hide:function(){d.crownixdatepicker._hideDatepicker()},today:function(){d.crownixdatepicker._gotoToday(k)},selectDay:function(){d.crownixdatepicker._selectDay(k,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){d.crownixdatepicker._selectMonthYear(k,this,"M");return false},selectYear:function(){d.crownixdatepicker._selectMonthYear(k,this,"Y");return false}};d(this).bind(this.getAttribute("data-event"),l[this.getAttribute("data-handler")])})},_generateHTML:function(af){var H,G,aa,S,m,aj,ad,W,am,P,aq,w,A,z,j,ai,t,K,al,Y,ar,J,O,u,n,ab,U,X,V,s,M,B,ae,ah,l,ak,ao,T,C,ag=new Date(),I=this._daylightSavingAdjust(new Date(ag.getFullYear(),ag.getMonth(),ag.getDate())),an=this._get(af,"isRTL"),ap=this._get(af,"showButtonPanel"),Z=this._get(af,"hideIfNoPrevNext"),N=this._get(af,"navigationAsDateFormat"),D=this._getNumberOfMonths(af),r=this._get(af,"showCurrentAtPos"),Q=this._get(af,"stepMonths"),L=(D[0]!==1||D[1]!==1),k=this._daylightSavingAdjust((!af.currentDay?new Date(9999,9,9):new Date(af.currentYear,af.currentMonth,af.currentDay))),q=this._getMinMaxDate(af,"min"),E=this._getMinMaxDate(af,"max"),h=af.drawMonth-r,ac=af.drawYear,at=this._get(af,"japanYear"),F=this._get(af,"checkZero");if(h<0){h+=12;ac--}if(E){H=this._daylightSavingAdjust(new Date(E.getFullYear(),E.getMonth()-(D[0]*D[1])+1,E.getDate()));H=(q&&H<q?q:H);while(this._daylightSavingAdjust(new Date(ac,h,1))>H){h--;if(h<0){h=11;ac--}}}af.drawMonth=h;af.drawYear=ac;G=this._get(af,"prevText");G=(!N?G:this.formatDate(G,this._daylightSavingAdjust(new Date(ac,h-Q,1)),this._getFormatConfig(af)),at,F);aa=(this._canAdjustMonth(af,-1,ac,h)?"<a class='crownix-ui-datepicker-prev crownix-ui-corner-all' data-handler='prev' data-event='click' title='"+G+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(an?"e":"w")+"'>◀</span></a>":(Z?"":"<a class='crownix-ui-datepicker-prev crownix-ui-corner-all crownix-ui-state-disabled' title='"+G+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(an?"e":"w")+"'>◀</span></a>"));S=this._get(af,"nextText");S=(!N?S:this.formatDate(S,this._daylightSavingAdjust(new Date(ac,h+Q,1)),this._getFormatConfig(af)),at,F);m=(this._canAdjustMonth(af,+1,ac,h)?"<a class='crownix-ui-datepicker-next crownix-ui-corner-all' data-handler='next' data-event='click' title='"+S+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(an?"w":"e")+"'>▶</span></a>":(Z?"":"<a class='crownix-ui-datepicker-next crownix-ui-corner-all crownix-ui-state-disabled' title='"+S+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(an?"w":"e")+"'>▶</span></a>"));aj=this._get(af,"currentText");ad=(this._get(af,"gotoCurrent")&&af.currentDay?k:I);aj=(!N?aj:this.formatDate(aj,ad,this._getFormatConfig(af),at,F));W=(!af.inline?"<button type='button' class='crownix-ui-datepicker-close crownix-ui-state-default crownix-ui-priority-primary crownix-ui-corner-all' data-handler='hide' data-event='click'>"+this._get(af,"closeText")+"</button>":"");am=(ap)?"<div class='crownix-ui-datepicker-buttonpane crownix-ui-widget-content'>"+(an?W:"")+(this._isInRange(af,ad)?"<button type='button' class='crownix-ui-datepicker-current crownix-ui-state-default crownix-ui-priority-secondary crownix-ui-corner-all' data-handler='today' data-event='click'>"+aj+"</button>":"")+(an?"":W)+"</div>":"";P=parseInt(this._get(af,"firstDay"),10);P=(isNaN(P)?0:P);aq=this._get(af,"showWeek");w=this._get(af,"dayNames");A=this._get(af,"dayNamesMin");z=this._get(af,"monthNames");j=this._get(af,"monthNamesShort");ai=this._get(af,"beforeShowDay");t=this._get(af,"showOtherMonths");K=this._get(af,"selectOtherMonths");changeMonth=this._get(af,"changeMonth");al=this._getDefaultDate(af);Y="";ar;for(J=0;J<D[0];J++){O="";this.maxRows=4;for(u=0;u<D[1];u++){n=this._daylightSavingAdjust(new Date(ac,h,af.selectedDay));ab=" crownix-ui-corner-all";U="";if(L){U+="<div class='crownix-ui-datepicker-group";if(D[1]>1){switch(u){case 0:U+=" crownix-ui-datepicker-group-first";ab=" crownix-ui-corner-"+(an?"right":"left");break;case D[1]-1:U+=" crownix-ui-datepicker-group-last";ab=" crownix-ui-corner-"+(an?"left":"right");break;default:U+=" crownix-ui-datepicker-group-middle";ab="";break}}U+="'>"}U+="<div class='crownix-ui-datepicker-header crownix-ui-widget-header crownix-ui-helper-clearfix"+ab+"'>"+(/all|left/.test(ab)&&J===0&&!changeMonth?(an?m:aa):"")+(/all|right/.test(ab)&&J===0&&!changeMonth?(an?aa:m):"")+this._generateMonthYearHeader(af,h,ac,q,E,J>0||u>0,z,j)+"</div><table class='crownix-ui-datepicker-calendar'><thead><tr>";X=(aq?"<th class='crownix-ui-datepicker-week-col'>"+this._get(af,"weekHeader")+"</th>":"");for(ar=0;ar<7;ar++){V=(ar+P)%7;X+="<th"+((ar+P+6)%7>=5?" class='crownix-ui-datepicker-week-end'":"")+"><span title='"+w[V]+"'>"+A[V]+"</span></th>"}U+=X+"</tr></thead><tbody>";s=this._getDaysInMonth(ac,h);if(ac===af.selectedYear&&h===af.selectedMonth){af.selectedDay=Math.min(af.selectedDay,s)}M=(this._getFirstDayOfMonth(ac,h)-P+7)%7;B=Math.ceil((M+s)/7);ae=(L?this.maxRows>B?this.maxRows:B:B);this.maxRows=ae;ah=this._daylightSavingAdjust(new Date(ac,h,1-M));for(l=0;l<ae;l++){U+="<tr>";ak=(!aq?"":"<td class='crownix-ui-datepicker-week-col'>"+this._get(af,"calculateWeek")(ah)+"</td>");for(ar=0;ar<7;ar++){ao=(ai?ai.apply((af.input?af.input[0]:null),[ah]):[true,""]);T=(ah.getMonth()!==h);C=(T&&!K)||!ao[0]||(q&&ah<q)||(E&&ah>E);ak+="<td class='"+((ar+P+6)%7>=5?" crownix-ui-datepicker-week-end":"")+(T?" crownix-ui-datepicker-other-month":"")+((ah.getTime()===n.getTime()&&h===af.selectedMonth&&af._keyEvent)||(al.getTime()===ah.getTime()&&al.getTime()===n.getTime())?" "+this._dayOverClass:"")+(C?" "+this._unselectableClass+" crownix-ui-state-disabled":"")+(T&&!t?"":" "+ao[1]+(ah.getTime()===k.getTime()?" "+this._currentClass:"")+(ah.getTime()===I.getTime()?" crownix-ui-datepicker-today":""))+"'"+((!T||t)&&ao[2]?" title='"+ao[2].replace(/'/g,"&#39;")+"'":"")+(C?"":" data-handler='selectDay' data-event='click' data-month='"+ah.getMonth()+"' data-year='"+ah.getFullYear()+"'")+">"+(T&&!t?"&#xa0;":(C?"<span class='crownix-ui-state-default'>"+ah.getDate()+"</span>":(af.settings.useMirroring?"<button ":"<a ")+"class='crownix-ui-state-default"+(ah.getTime()===I.getTime()?" crownix-ui-state-highlight":"")+(ah.getTime()===k.getTime()?" crownix-ui-state-active":"")+(T?" crownix-ui-priority-secondary":"")+"' href='#'>"+ah.getDate()+(af.settings.useMirroring?"</button>":"</a>")))+"</td>";ah.setDate(ah.getDate()+1);ah=this._daylightSavingAdjust(ah)}U+=ak+"</tr>"}h++;if(h>11){h=0;ac++}U+="</tbody></table>"+(L?"</div>"+((D[0]>0&&u===D[1]-1)?"<div class='crownix-ui-datepicker-row-break'></div>":""):"");O+=U}Y+=O}Y+=am;af._keyEvent=false;return Y},_generateMonthYearHeader:function(m,k,z,q,u,A,s,h){var E,j,F,C,n,B,w,r,l=this._get(m,"changeMonth"),G=this._get(m,"changeYear"),H=this._get(m,"showMonthAfterYear"),t="<div class='crownix-ui-datepicker-title'>",D="";if(A||!l){D+="<span class='crownix-ui-datepicker-month'>"+s[k]+"</span>"}else{E=(q&&q.getFullYear()===z);j=(u&&u.getFullYear()===z);D+="<select class='crownix-ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(F=0;F<12;F++){if((!E||F>=q.getMonth())&&(!j||F<=u.getMonth())){D+="<option value='"+F+"'"+(F===k?" selected='selected'":"")+">"+h[F]+"</option>"}}D+="</select>"}if(!H){t+=D+(A||!(l&&G)?"&#xa0;":"")}if(!m.yearshtml){m.yearshtml="";if(A||!G){t+="<span class='crownix-ui-datepicker-year'>"+z+"</span>"}else{C=this._get(m,"yearRange").split(":");n=new Date().getFullYear();B=function(J){var I=(J.match(/c[+\-].*/)?z+parseInt(J.substring(1),10):(J.match(/[+\-].*/)?n+parseInt(J,10):parseInt(J,10)));return(isNaN(I)?n:I)};w=B(C[0]);r=Math.max(w,B(C[1]||""));w=(q?Math.max(w,q.getFullYear()):w);r=(u?Math.min(r,u.getFullYear()):r);m.yearshtml+="<select class='crownix-ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;w<=r;w++){m.yearshtml+="<option value='"+w+"'"+(w===z?" selected='selected'":"")+">"+w+"</option>"}m.yearshtml+="</select>";t+=m.yearshtml;m.yearshtml=null}}t+=this._get(m,"yearSuffix");if(H){t+=(A||!(l&&G)?"&#xa0;":"")+D}t+="</div>";return t},_adjustInstDate:function(l,q,n){var k=l.drawYear+(n==="Y"?q:0),m=l.drawMonth+(n==="M"?q:0),h=Math.min(l.selectedDay,this._getDaysInMonth(k,m))+(n==="D"?q:0),j=this._restrictMinMax(l,this._daylightSavingAdjust(new Date(k,m,h)));l.selectedDay=j.getDate();l.drawMonth=l.selectedMonth=j.getMonth();l.drawYear=l.selectedYear=j.getFullYear();if(n==="M"||n==="Y"){this._notifyChange(l)}},_restrictMinMax:function(l,j){var k=this._getMinMaxDate(l,"min"),m=this._getMinMaxDate(l,"max"),h=(k&&j<k?k:j);return(m&&h>m?m:h)},_notifyChange:function(j){var h=this._get(j,"onChangeMonthYear");if(h){h.apply((j.input?j.input[0]:null),[j.selectedYear,j.selectedMonth+1,j])}},_getNumberOfMonths:function(j){var h=this._get(j,"numberOfMonths");return(h==null?[1,1]:(typeof h==="number"?[1,h]:h))},_getMinMaxDate:function(j,h){return this._determineDate(j,this._get(j,h+"Date"),null)},_getDaysInMonth:function(h,j){return 32-this._daylightSavingAdjust(new Date(h,j,32)).getDate()},_getFirstDayOfMonth:function(h,j){return new Date(h,j,1).getDay()},_canAdjustMonth:function(l,n,k,m){var h=this._getNumberOfMonths(l),j=this._daylightSavingAdjust(new Date(k,m+(n<0?n:h[0]*h[1]),1));if(n<0){j.setDate(this._getDaysInMonth(j.getFullYear(),j.getMonth()))}return this._isInRange(l,j)},_isInRange:function(m,k){var j,r,l=this._getMinMaxDate(m,"min"),h=this._getMinMaxDate(m,"max"),s=null,n=null,q=this._get(m,"yearRange");if(q){j=q.split(":");r=new Date().getFullYear();s=parseInt(j[0],10);n=parseInt(j[1],10);if(j[0].match(/[+\-].*/)){s+=r}if(j[1].match(/[+\-].*/)){n+=r}}return((!l||k.getTime()>=l.getTime())&&(!h||k.getTime()<=h.getTime())&&(!s||k.getFullYear()>=s)&&(!n||k.getFullYear()<=n))},_getFormatConfig:function(h){var j=this._get(h,"shortYearCutoff");j=(typeof j!=="string"?j:new Date().getFullYear()%100+parseInt(j,10));return{shortYearCutoff:j,dayNamesShort:this._get(h,"dayNamesShort"),dayNames:this._get(h,"dayNames"),monthNamesShort:this._get(h,"monthNamesShort"),monthNames:this._get(h,"monthNames")}},_formatDate:function(l,h,m,k){if(!h){l.currentDay=l.selectedDay;l.currentMonth=l.selectedMonth;l.currentYear=l.selectedYear}var j=(h?(typeof h==="object"?h:this._daylightSavingAdjust(new Date(k,m,h))):this._daylightSavingAdjust(new Date(l.currentYear,l.currentMonth,l.currentDay)));return this.formatDate(this._get(l,"dateFormat"),j,this._getFormatConfig(l),this._get(l,"japanYear"),this._get(l,"checkZero"))}});function c(j){var h="button, .crownix-ui-datepicker-prev, .crownix-ui-datepicker-next, .crownix-ui-datepicker-calendar td a";return j.delegate(h,"mouseout",function(){d(this).removeClass("crownix-ui-state-hover");if(this.className.indexOf("crownix-ui-datepicker-prev")!==-1){d(this).removeClass("crownix-ui-datepicker-prev-hover")}if(this.className.indexOf("crownix-ui-datepicker-next")!==-1){d(this).removeClass("crownix-ui-datepicker-next-hover")}}).delegate(h,"mouseover",function(){if(!d.crownixdatepicker._isDisabledDatepicker(b.inline?j.parent()[0]:b.input[0])){d(this).parents(".crownix-ui-datepicker-calendar").find(b.settings.useMirroring?"button":"a").removeClass("crownix-ui-state-hover");d(this).addClass("crownix-ui-state-hover");if(this.className.indexOf("crownix-ui-datepicker-prev")!==-1){d(this).addClass("crownix-ui-datepicker-prev-hover")}if(this.className.indexOf("crownix-ui-datepicker-next")!==-1){d(this).addClass("crownix-ui-datepicker-next-hover")}}})}function a(k,j){d.extend(k,j);for(var h in j){if(j[h]==null){k[h]=j[h]}}return k}d.fn.crownixdatepicker=function(j){if(!this.length){return this}if(!d.crownixdatepicker.initialized){d(document).bind(m2soft.crownix.Util.ActionEvents.start+" touchstart",d.crownixdatepicker._checkExternalClick);d.crownixdatepicker.initialized=true}if(d("#"+d.crownixdatepicker._mainDivId).length===0){d("body").append(d.crownixdatepicker.dpDiv)}var h=Array.prototype.slice.call(arguments,1);if(typeof j==="string"&&(j==="isDisabled"||j==="getDate"||j==="widget")){return d.crownixdatepicker["_"+j+"Datepicker"].apply(d.crownixdatepicker,[this[0]].concat(h))}if(j==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return d.crownixdatepicker["_"+j+"Datepicker"].apply(d.crownixdatepicker,[this[0]].concat(h))}return this.each(function(){typeof j==="string"?d.crownixdatepicker["_"+j+"Datepicker"].apply(d.crownixdatepicker,[this].concat(h)):d.crownixdatepicker._attachDatepicker(this,j)})};d.crownixdatepicker=new g();d.crownixdatepicker.initialized=false;d.crownixdatepicker.uuid=new Date().getTime();d.crownixdatepicker.version="1.10.4"})(jQuery);m2soft.ns("m2soft.crownix.ImageLoader");m2soft.crownix.ImageLoader.loadImage=(function(f){var c=function(r,t,q){var m=document.createElement("img"),n,s;m.onerror=t;m.onload=function(){if(s&&!(q&&q.noRevoke)){c.revokeObjectURL(s)}if(t){t(c.scale(m,q))}};if(c.isInstanceOf("Blob",r)||c.isInstanceOf("File",r)){n=s=c.createObjectURL(r);m._type=r.type}else{if(typeof r==="string"){n=r;if(q&&q.crossOrigin){m.crossOrigin=q.crossOrigin}}else{return false}}if(n){m.src=n;return m}return c.readFile(r,function(w){var u=w.target;if(u&&u.result){m.src=u.result}else{if(t){t(w)}}})},k=(window.createObjectURL&&window)||(window.URL&&URL.revokeObjectURL&&URL)||(window.webkitURL&&webkitURL);c.createCanvas=function(r,m,n){if(n&&f.OffscreenCanvas){return new OffscreenCanvas(r,m)}var q=document.createElement("canvas");q.width=r;q.height=m;return q};if(!f.document){return}var h="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=";var e=document.createElement("img");e.onload=function(){c.orientation=e.width===2&&e.height===3;if(c.orientation){var n=c.createCanvas(1,1,true);var m=n.getContext("2d");m.drawImage(e,1,1,1,1,0,0,1,1);c.orientationCropBug=m.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}};e.src=h;c.isInstanceOf=function(m,n){return Object.prototype.toString.call(n)==="[object "+m+"]"};c.transformCoordinates=function(){return};c.getTransformedOptions=function(m){return m};c.renderImageToCanvas=function(q,u,s,n,m,t,z,w,A,r){q.getContext("2d").drawImage(u,s,n,m,t,z,w,A,r);return q};c.hasCanvasOption=function(m){return m.canvas||m.crop};c.scale=function(K,q){q=q||{};var I=5000000;if(m2soft.crownix.Util.browser.ios&&(K.width*K.height>I)){q.maxWidth=Math.floor(Math.sqrt((K.width/K.height)*I));q.maxHeight=Math.floor(Math.sqrt((K.height/K.width)*I))}var n=document.createElement("canvas"),s=K.getContext||(c.hasCanvasOption(q)&&n.getContext),F=K.naturalWidth||K.width,B=K.naturalHeight||K.height,r=F,u=B,H,E,A,t,w,m,D,C,J,z=function(){var L=Math.max((A||r)/r,(t||u)/u);if(L>1){r=Math.ceil(r*L);u=Math.ceil(u*L)}},G=function(){var L=Math.min((H||r)/r,(E||u)/u);if(L<1){r=Math.ceil(r*L);u=Math.ceil(u*L)}};if(s){q=c.getTransformedOptions(q);D=q.left||0;C=q.top||0;if(q.sourceWidth){w=q.sourceWidth;if(q.right!==undefined&&q.left===undefined){D=F-w-q.right}}else{w=F-D-(q.right||0)}if(q.sourceHeight){m=q.sourceHeight;if(q.bottom!==undefined&&q.top===undefined){C=B-m-q.bottom}}else{m=B-C-(q.bottom||0)}r=w;u=m}H=q.maxWidth;E=q.maxHeight;A=q.minWidth;t=q.minHeight;if(s&&H&&E&&q.crop){r=H;u=E;J=w/m-H/E;if(J<0){m=E*w/H;if(q.top===undefined&&q.bottom===undefined){C=(B-m)/2}}else{if(J>0){w=H*m/E;if(q.left===undefined&&q.right===undefined){D=(F-w)/2}}}}else{if(q.contain||q.cover){A=H=H||A;t=E=E||t}if(q.cover){G();z()}else{z();G()}}if(s){n.width=r;n.height=u;c.transformCoordinates(n,q);return c.renderImageToCanvas(n,K,D,C,w,m,0,0,r,u)}K.width=r;K.height=u;return K};c.createObjectURL=function(m){return k?k.createObjectURL(m):false};c.revokeObjectURL=function(m){return k?k.revokeObjectURL(m):false};c.readFile=function(n,r,q){if(window.FileReader){var m=new FileReader();m.onload=m.onerror=r;q=q||"readAsDataURL";if(m[q]){m[q](n);return m}}return false};if(window.navigator&&window.navigator.platform&&(/iP(hone|od|ad)/).test(window.navigator.platform)){var d=c.renderImageToCanvas;c.detectSubsampling=function(m){var n,q;if(m.width*m.height>1024*1024){n=document.createElement("canvas");n.width=n.height=1;q=n.getContext("2d");q.drawImage(m,-m.width+1,0);return q.getImageData(0,0,1,1).data[3]===0}return false};c.detectVerticalSquash=function(s,w){var A=s.naturalHeight||s.height,n=document.createElement("canvas"),m=n.getContext("2d"),r,u,t,z,q;if(w){A/=2}n.width=1;n.height=A;m.drawImage(s,0,0);r=m.getImageData(0,0,1,A).data;u=0;t=A;z=A;while(z>u){q=r[(z-1)*4+3];if(q===0){t=z}else{u=z}z=(t+u)>>1}return(z/A)||1};c.renderImageToCanvas=function(t,I,E,D,C,s,H,G,u,z){if(I._type==="image/jpeg"){var r=t.getContext("2d"),n=document.createElement("canvas"),B=1024,m=n.getContext("2d"),q,F,A,w;n.width=B;n.height=B;r.save();q=c.detectSubsampling(I);if(q){E/=2;D/=2;C/=2;s/=2}F=c.detectVerticalSquash(I,q);if(q||F!==1){D*=F;u=Math.ceil(B*u/C);z=Math.ceil(B*z/s/F);G=0;w=0;while(w<s){H=0;A=0;while(A<C){m.clearRect(0,0,B,B);m.drawImage(I,E,D,C,s,-A,-w,C,s);r.drawImage(n,0,0,B,B,H,G,u,z);A+=B;H+=u}w+=B;G+=z}r.restore();return t}}return d(t,I,E,D,C,s,H,G,u,z)}}var g=c.hasCanvasOption;c.hasCanvasOption=function(m){return g(m)||m.orientation};c.transformCoordinates=function(s,r){var n=s.getContext("2d"),t=s.width,m=s.height,q=r.orientation;if(!q){return}if(q>4){s.width=m;s.height=t}switch(q){case 2:n.translate(t,0);n.scale(-1,1);break;case 3:n.translate(t,m);n.rotate(Math.PI);break;case 4:n.translate(0,m);n.scale(1,-1);break;case 5:n.rotate(0.5*Math.PI);n.scale(1,-1);break;case 6:n.rotate(0.5*Math.PI);n.translate(0,-m);break;case 7:n.rotate(0.5*Math.PI);n.translate(t,-m);n.scale(-1,1);break;case 8:n.rotate(-0.5*Math.PI);n.translate(-t,0);break}};c.getTransformedOptions=function(m){if(!m.orientation||m.orientation===1){return m}var q={},n;for(n in m){if(m.hasOwnProperty(n)){q[n]=m[n]}}switch(m.orientation){case 2:q.left=m.right;q.right=m.left;break;case 3:q.left=m.right;q.top=m.bottom;q.right=m.left;q.bottom=m.top;break;case 4:q.top=m.bottom;q.bottom=m.top;break;case 5:q.left=m.top;q.top=m.left;q.right=m.bottom;q.bottom=m.right;break;case 6:q.left=m.top;q.top=m.right;q.right=m.bottom;q.bottom=m.left;break;case 7:q.left=m.bottom;q.top=m.right;q.right=m.top;q.bottom=m.left;break;case 8:q.left=m.bottom;q.top=m.left;q.right=m.top;q.bottom=m.right;break}if(m.orientation>4){q.maxWidth=m.maxHeight;q.maxHeight=m.maxWidth;q.minWidth=m.minHeight;q.minHeight=m.minWidth;q.sourceWidth=m.sourceHeight;q.sourceHeight=m.sourceWidth}return q};var j=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);c.blobSlice=j&&function(){var m=this.slice||this.webkitSlice||this.mozSlice;return m.apply(this,arguments)};c.metaDataParsers={jpeg:{65505:[]}};c.parseMetaData=function(n,u,m){m=m||{};var r=this,t=m.maxMetaDataSize||262144,s={},q=!(window.DataView&&n&&n.size>=12&&n.type==="image/jpeg"&&c.blobSlice);if(q||!c.readFile(c.blobSlice.call(n,0,t),function(F){var C=F.target.result,G=new DataView(C),A=2,z=G.byteLength-4,E=A,w,B,H,D;if(G.getUint16(0)===65496){while(A<z){w=G.getUint16(A);if((w>=65504&&w<=65519)||w===65534){B=G.getUint16(A+2)+2;if(A+B>G.byteLength){console.log("Invalid meta data: Invalid segment size.");break}H=c.metaDataParsers.jpeg[w];if(H){for(D=0;D<H.length;D+=1){H[D].call(r,G,A,B,s,m)}}A+=B;E=A}else{break}}if(!m.disableImageHead&&E>6){if(C.slice){s.imageHead=C.slice(0,E)}else{s.imageHead=new Uint8Array(C).subarray(0,E)}}}else{console.log("Invalid JPEG file: Missing JPEG marker.")}u(s)},"readAsArrayBuffer")){u(s)}};c.ExifMap=function(){return this};c.ExifMap.prototype.map={Orientation:274};c.ExifMap.prototype.get=function(m){return this[m]||this[this.map[m]]};c.getExifThumbnail=function(t,s,r){var q,n,m;if(!r||s+r>t.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}q=[];for(n=0;n<r;n+=1){m=t.getUint8(s+n);q.push((m<16?"0":"")+m.toString(16))}return"data:image/jpeg,%"+q.join("%")};c.exifTagTypes={1:{getValue:function(n,m){return n.getUint8(m)},size:1},2:{getValue:function(n,m){return String.fromCharCode(n.getUint8(m))},size:1,ascii:true},3:{getValue:function(q,m,n){return q.getUint16(m,n)},size:2},4:{getValue:function(q,m,n){return q.getUint32(m,n)},size:4},5:{getValue:function(q,m,n){return q.getUint32(m,n)/q.getUint32(m+4,n)},size:8},9:{getValue:function(q,m,n){return q.getInt32(m,n)},size:4},10:{getValue:function(q,m,n){return q.getInt32(m,n)/q.getInt32(m+4,n)},size:8}};c.exifTagTypes[7]=c.exifTagTypes[1];c.getExifValue=function(B,A,s,z,q,m){var C=c.exifTagTypes[z],n,r,D,t,w,u;if(!C){console.log("Invalid Exif data: Invalid tag type.");return}n=C.size*q;r=n>4?A+B.getUint32(s+8,m):(s+8);if(r+n>B.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(q===1){return C.getValue(B,r,m)}D=[];for(t=0;t<q;t+=1){D[t]=C.getValue(B,r+t*C.size,m)}if(C.ascii){w="";for(t=0;t<D.length;t+=1){u=D[t];if(u==="\u0000"){break}w+=u}return w}return D};c.parseExifTag=function(t,n,s,r,q){var m=t.getUint16(s,r);q.exif[m]=c.getExifValue(t,n,s,t.getUint16(s+2,r),t.getUint32(s+4,r),r)};c.parseExifTags=function(u,r,n,t,s){var w,m,q;if(n+6>u.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}w=u.getUint16(n,t);m=n+2+12*w;if(m+4>u.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(q=0;q<w;q+=1){this.parseExifTag(u,r,n+2+12*q,t,s)}return u.getUint32(m,t)};c.parseExifData=function(u,r,n,s,z){if(z.disableExif){return}var t=r+10,m,w,q;if(u.getUint32(r+4)!==1165519206){return}if(t+8>u.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(u.getUint16(r+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(u.getUint16(t)){case 18761:m=true;break;case 19789:m=false;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(u.getUint16(t+2,m)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}w=u.getUint32(t+4,m);s.exif=new c.ExifMap();w=c.parseExifTags(u,t,t+w,m,s);if(w&&!z.disableExifThumbnail){q={exif:{}};w=c.parseExifTags(u,t,t+w,m,q);if(q.exif[513]){s.exif.Thumbnail=c.getExifThumbnail(u,t+q.exif[513],q.exif[514])}}if(s.exif[34665]&&!z.disableExifSub){c.parseExifTags(u,t,t+s.exif[34665],m,s)}if(s.exif[34853]&&!z.disableExifGps){c.parseExifTags(u,t,t+s.exif[34853],m,s)}};c.metaDataParsers.jpeg[65505].push(c.parseExifData);var l,b,a;c.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"};c.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}};c.ExifMap.prototype.getText=function(n){var m=this.get(n);switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[n][m];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(m[0],m[1],m[2],m[3]);case"ComponentsConfiguration":return this.stringValues[n][m[0]]+this.stringValues[n][m[1]]+this.stringValues[n][m[2]]+this.stringValues[n][m[3]];case"GPSVersionID":return m[0]+"."+m[1]+"."+m[2]+"."+m[3]}return String(m)};l=c.ExifMap.prototype.tags;b=c.ExifMap.prototype.map;for(a in l){if(l.hasOwnProperty(a)){b[l[a]]=a}}c.ExifMap.prototype.getAll=function(){var m={},q,n;for(q in this){if(this.hasOwnProperty(q)){n=l[q];if(n){m[n]=this.getText(n)}}}return m};return c}(this));m2soft.ns("m2soft.crownix.PageSwiper");(function(){var a=function(b,d){var h=Math.min(b.width()/10,m2soft.crownix.util.Unit.inToPx(1)),c=h*1.6;transX=0;var j=$(m2soft.crownix.resource.Icon.PREV_PAGE).attr("id","crownix-swipe-icon-prev").attr("class","crownix-swipe-icon").css({left:0,width:h+"px","margin-left":-h*1.2+"px",}).appendTo(b);var f=$(m2soft.crownix.resource.Icon.NEXT_PAGE).attr("id","crownix-swipe-icon-next").attr("class","crownix-swipe-icon").css({right:0,width:h+"px","margin-right":-h*1.2+"px",}).appendTo(b);var g=function(l,k,q,n,m){l.css({transition:!m?"none":"all "+m+"ms ease-in",transform:["translateX(",k,"px) translateY(",q,"px) scale(",n,")"].join("")})};var e=function(k){setTimeout(function(){d.viewer.movePage(k)},200)};this.pullOut=function(l){if(!d.options.swipe.useOnZoom&&d.scroll.hasHorizontalScroll){return}var k=2;if(d.options.swipe.sensitivity>=1&&d.options.swipe.sensitivity<=3){k=d.options.swipe.sensitivity}if(l.deltaX==0){transX=this.distX*k/3}else{if(l.newX<0){transX=-(b.width()-(this.scrollerWidth+l.newX))*k}else{if(l.newX>0){transX=l.newX*k}}}if((transX>0&&d.currentPage==1)||(transX<0&&d.currentPage==d.totalPage)){return}if(transX>0){j.show();f.hide()}else{f.show();j.hide()}g(transX>0?j:f,transX>0?Math.min(transX,c):Math.max(transX,-c),0,Math.abs(transX)>c?1.4:1,0)};this.pullEnd=function(){if(transX>c&&d.currentPage>1){g(j,c*1.6,0,3,200);j.fadeOut(200);e(d.currentPage-1)}else{if(transX<-c&&d.currentPage<d.totalPage){g(f,-c*1.6,0,3,200);f.fadeOut(200);e(d.currentPage+1)}else{g(j,0,0,1,200);g(f,0,0,1,200)}}transX=0};this.cancel=function(){if(transX>0){j.fadeOut(200)}else{if(transX<0){f.fadeOut(200)}}transX=0}};m2soft.crownix.PageSwiper=m2soft.crownix.util.SingleTone(a)})();m2soft.ns("m2soft.crownix.Report");m2soft.crownix.Report=function(H,g){var j=m2soft.crownix.Resource;var c=m2soft.crownix.Util;var k=m2soft.crownix.Message;var s=m2soft.crownix.Map;var e=m2soft.crownix.Painter;var B=m2soft.crownix.Report;var F=m2soft.crownix.WorkerUtil;var E=m2soft.crownix.MMLTokenizer;var w=m2soft.crownix.NoteManager;var l=c.isSupportSVG();var n=H;var b=g;var u=0;var Q={};var q;var A=this;var a=-1;var z=1;var f=0;var d=false;var J="";var m="";var N;var M;var P=[];var C={};var T={};var r=1;var t=0;var h=true;var K=function(){this.title="";this.mrd="";this.mrdpath="";this.mrdparam="";this.dataServerURL="";this.fontList=new s();this.faceAttrList={};this.textAttrList={};this.lineAttrList={};this.boxAttrList={};this.firstPage=9007199254740992;this.lastPage=-1;this.page={};this.pageInfo={};this.formFieldMode=undefined;this.dataServerURL="";this.variableList={};this.inqueryAttrList={};this.indexedImageList={};this.pginit=false;this.initNextPage=[]};K.prototype.insertPage=function(Y,aa,Z,X){if(Y<this.firstPage){this.firstPage=Y}if(Y>this.lastPage){this.lastPage=Y}if(n.stateLess){this.page[Y]=[aa,Z]}else{this.page[Y]=X}};var U=function(Y){var X=Y.tagName;switch(Y.state){case"open":C[X]&&C[X](Y.xml);break;case"close":if(X==="page"){T[X]&&T[X](Y.pageNum,Y.pageOpenOffset,Y.findOffset,Y.xml)}else{T[X]&&T[X](Y.xml)}break}};var S=function(){if(F.isAvailable()){if(q){q.terminate&&q.terminate()}q=F.makeLocalWorker(E);q.addEventListener("message",function(X){var Y=X.data.method;if(Y&&Y==="finalize"){A.onLoad&&A.onLoad(X.data.isValid);q.terminate()}else{U(X.data)}})}else{q=E.call({addEventListener:function(){},postMessage:U})}C.mml=function(X){if(B.debug){k.log("[Tokenizer] mmlOpen : ",X)}var Z=/<MML version="([^"]*)">/;u=parseFloat(Z.exec(X)[1]);var Y=u>=2.4?"document":"head";T.license=function(aa){n.license.init($(aa).text());if((n.license.isAllowedFeature("Note")&&n.options.enableNote)===true){if(l){n.noteManager=new w(b,n)}else{n.dialog.show(j.get("unsupported_note_error"))}}};C[Y]=function(aa){if(B.debug){k.log("[Tokenizer] documentOpen : ",aa)}var ab=/<DOCUMENT index="([^"]*)">/;if(aa&&ab.test(aa)){t=parseInt(ab.exec(aa)[1])}t++;var ac=Q[t];T.head=function(ad){if(B.debug){k.log("[Tokenizer] headClose")}if(!ac&&ad){ac=D(ad);Q[t]=ac}if(u>=2.4&&!n.isAppendReport&&ac.dataServerURL!=""&&Object.keys(ac.inqueryAttrList).length>0){n.inquery.setData(ac.dataServerURL,ac.variableList,ac.inqueryAttrList,n.openFile,n.mrdPath,n.mrdParam,ac.formFieldMode,n.options,n.license,n.encType);if(!n.toolbar.isEnableItem("inquery")){n.toolbar.enableToolbarItem(["inquery"])}}else{if(n.toolbar.isEnableItem("inquery")){n.toolbar.disableToolbarItem(["inquery"])}}};T.page=function(aj,ad,ae,ai){var af=$(ai);if(B.debug){k.log("[Tokenizer] pageClose")}if(n.stateLess){N=++n.totalPage;if(ac.page[n.totalPage]){return}ac.insertPage(n.totalPage,ad,ae);aj=n.totalPage}else{if(!aj||ac.page[aj]){return}ac.insertPage(aj,ad,ae,ai);if(n.totalPage==0){N=n.totalPage=1}}ac.pageInfo[aj]={width:af.attr("wd"),height:af.attr("ht")};if(af.attr("pb")==="1"&&!n.isAppendReport){ac.initNextPage.push(aj)}if(n.license.isAllowedFeature("FormField")&&ac.formFieldMode){try{n.formManager.buildFormField(af,aj,n.options.formField.allowDuplicate)}catch(ag){k.log(ag.stack);n.dialog.show(ag.message);n.client&&n.client.abort();n.toolbar.disableAllItems();$("#m2soft-crownix-page").remove();return}}n.layerManager.buildLayer(af,aj);n.drilldownManager.buildDrilldown(aj,af);if(n.options.scrollOptions.useInfiniteScroll){var al=ac.pageInfo[aj];if(aj===1){k.progress.hide(b);n.documentScroller.insertPageFrame(aj,(al.width/10.3),(al.height/10.3));n.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","storage"])}else{if(n.stateLess){n.documentScroller.insertPageFrame(aj,(al.width/10.3),(al.height/10.3))}}if(n.useWebFont){var ak=n.fontLoader.getFontList(t).length;var ah=n.fontLoader.isFinished(t,ak);if(ah){n.fontLoader.hideMessage()}else{n.fontLoader.firstPageFontCount=ak;n.fontLoader.onFirstPageDraw=n.documentScroller.drawVisiblePages.bind(null,true)}}n.dialog.pagenum(n.currentPage,n.totalPage,true)}else{if(n.currentPage===0){if(n.useWebFont){var ak=n.fontLoader.getFontList(t).length;var ah=n.fontLoader.isFinished(t,ak);if(ah===true){n.fontLoader.hideMessage()}k.progress.hide(b);if(h){n.movePage(1)}n.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","storage"]);if(ah===false){n.fontLoader.firstPageFontCount=ak;n.fontLoader.onFirstPageDraw=n.redrawPage}}else{k.progress.hide(b);if(h){n.movePage(1)}n.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","storage"])}}n.dialog.pagenum(n.currentPage,n.totalPage,true);if(e.updatePageNum){e.updatePageNum()}}};T.mmlfooter=function(ad){if(B.debug){k.log("[Tokenizer] mmlFooterClose : "+ad)}L(ad)};T.err=function(ad){O(ad)};T.document=function(){ac=null}};T.mml=function(){t=-1}}};S();var D=this.parseHead=function(X){var Y=new K();$(X).each(function(){var Z=this.tagName;if(Z==="INFORMATION"){$(this).children("TITLE").each(function(){Y.title=$(this).text()});$(this).children("MRD").each(function(){Y.mrd=$(this).text()});$(this).children("MRDPATH").each(function(){Y.mrdpath=$(this).text()});$(this).children("MRDPARAM").each(function(){Y.mrdparam=$(this).text()});$(this).children("PGINFO").each(function(){if(a==-1){a=parseInt($(this).attr("cover"))}if($(this).attr("startnum")){z=n.startPageNo=parseInt($(this).attr("startnum"))}if($(this).attr("pginit")==="1"){d=true;Y.pginit=true}f=parseInt($(this).attr("exceptpg"))||0})}else{if(Z==="TITLE"){Y.title=$(this).text()}else{if(Z==="MRD"){Y.mrd=$(this).text()}else{if(Z==="FONTLIST"){if(n.useWebFont&&t===1){n.fontLoader.showMessage()}$(this).children().each(function(){Y.fontList.put($(this).attr("id"),$(this).attr("name"));if(n.useWebFont){n.fontLoader.load(Number(t).toString(),$(this).attr("name"))}})}else{if(Z==="TALIST"){$(this).children().each(function(){Y.textAttrList[$(this).attr("id")]={fi:$(this).attr("fi"),pt:$(this).attr("pt"),cl:$(this).attr("cl"),cb:$(this).attr("cb"),ci:$(this).attr("ci"),cu:$(this).attr("cu"),cs:$(this).attr("cs"),cr:$(this).attr("cr"),sc:$(this).attr("sc"),ls:$(this).attr("ls"),ss:$(this).attr("ss"),es:$(this).attr("es"),}})}else{if(Z==="FALIST"){$(this).children().each(function(){Y.faceAttrList[$(this).attr("id")]={fc:$(this).attr("fc")||"#FFFFFF",al:$(this).attr("al")||1,pt:$(this).attr("pt")||0,}})}else{if(Z==="LALIST"){$(this).children().each(function(){Y.lineAttrList[$(this).attr("id")]={st:$(this).attr("st")||0,wd:e.adjustWidth($(this).attr("wd")),lc:$(this).attr("lc")||"#000000",al:$(this).attr("al")||1,ap:$(this).attr("ap")||0,at:$(this).attr("at")||0,as:$(this).attr("as")||1,db:$(this).attr("db")||0}})}else{if(Z==="DSURL"){Y.dataServerURL=$(this).text()}else{if(Z==="VALIST"){$(this).children().each(function(){Y.variableList[$(this).attr("key")]=$(this).text()})}else{if(Z==="IQLIST"){var ae=$(this).attr("an");$(this).children().each(function(){var ag=$(this).attr("va");Y.inqueryAttrList[ag]={id:$(this).attr("va"),va:$(this).attr("va"),ty:$(this).attr("ty")||"co",ca:$(this).attr("ca")||"",rq:$(this).attr("rq")||0,il:$(this).attr("il")||0,db:$(this).attr("db")||0,ds:$(this).attr("ds"),qr:$(this).attr("qr"),sp:$(this).attr("sp"),pv:$(this).attr("pv"),sd:$(this).attr("sd"),ad:$(this).attr("ad"),se:$(this).attr("se")||"@",sc:$(this).attr("sc"),ac:$(this).attr("ac"),cl:$(this).attr("cl")||j.language||"korean",mu:$(this).attr("mu"),pa:new Array(),an:ae};$(this).children("IQSP_PALIST").each(function(){var ah=0;$(this).children().each(function(){Y.inqueryAttrList[ag].pa[ah]=$(this).attr("va");ah++})})})}else{if(Z==="IMLIST"){$(this).children().each(function(){var ah=$(this);var ag=Y.indexedImageList[ah.attr("id")]=new Image();ag.onload=ag.onerror=ag.onabort=function(){this.finished=true};ag.src=ah.attr("va");if(B.debug){k.log("[indexed image] "+ah.attr("id")+" : "+ah.attr("va"))}})}else{if(Z==="FLLIST"){$(this).children().each(function(){n.layerManager.createLayer($(this))})}else{if(Z==="HLCOLOR"){var ac=['<style class="crownix-hyperlink-style" type="text/css">'];var ab=$(this).attr("hu");var af=(ab==="1"||ab==="2")?"text-decoration: none;":"";var ad=ab==="2"?"text-decoration: underline;":"";ac.push("#m2soft-crownix-text a:link { color:"+$(this).attr("lc")+"; "+af+"}");ac.push("#m2soft-crownix-text a:visited { color:"+$(this).attr("vc")+";}");ac.push("#m2soft-crownix-text a:hover { color:"+$(this).attr("hc")+"; "+ad+"}");ac.push("</style>");$(ac.join("\n")).appendTo("head")}}}}}}}}}}}}}if(u<=2.1){if(Z==="FORMMODE"){n.isFormEditMode=true;Y.formFieldMode=$(this).text()==="1";if((n.license.isAllowedFeature("Note")&&n.options.enableNote)&&l&&(n.license.isAllowedFeature("FormField")&&Y.formFieldMode)){n.noteManager.setFormFieldMode(true)}}}else{if(u>=2.4){if(Z==="FF_ALIST"||Z==="FF_A"){var aa;if(Z==="FF_ALIST"){aa=$(this).children("FF_A")}else{aa=$(this)}aa.each(function(){var ah=$(this);var ag={id:ah.attr("id"),commonFieldHintingType:ah.attr("sh"),commonFieldHintingColor:ah.attr("hc"),commonFieldHintingDisplayType:ah.attr("hct"),requiredFieldHintingColor:ah.attr("rhc"),formLoadComplete:ah.attr("elc"),};if(Y.formFieldMode===undefined){Y.formFieldMode=(n.isFormEditMode||ah.attr("fm")==="1")}if(n.isFormEditMode===undefined){n.isFormEditMode=Y.formFieldMode}n.isFormExportMode=ah.attr("fe")==="1";if((n.license.isAllowedFeature("FormField")&&Y.formFieldMode)){try{n.formManager.addFormAttr(ag)}catch(ai){k.log(ai.stack);n.dialog.show(ai.message);n.client&&n.client.abort();initialize();return}}if((n.license.isAllowedFeature("Note")&&n.options.enableNote)===true&&l&&(n.license.isAllowedFeature("FormField")&&Y.formFieldMode)){n.noteManager.setFormFieldMode(true)}})}else{if(Z==="TTS"){if(!n.ttsManager){n.ttsManager=new m2soft.crownix.TTSManager(n,$(this).attr("md"))}}}}}if(u>=2.7){if(Z==="BALIST"){$(this).children().each(function(){var ag=$(this);Y.boxAttrList[ag.attr("id")]={td:ag.attr("td")||"0",va:ag.attr("va")||"0",ha:ag.attr("ha")||"0",ml:parseInt(ag.attr("ml")||"0"),mt:parseInt(ag.attr("mt")||"0"),mr:parseInt(ag.attr("mr")||"0"),mb:parseInt(ag.attr("mb")||"0"),ls:parseInt(ag.attr("ls")||"0"),it:parseInt(ag.attr("it")||"0"),ln:parseInt(ag.attr("ln")||"4"),ep:ag.attr("ep")||"0"}})}}});if(B.debug){k.log("[HEAD TITLE]"+Y.title);k.log("[HEAD MRD]"+Y.mrd);k.log("[HEAD DATASERVERURL]"+Y.dataServerURL);k.log("[HEAD FONTLIST]\n"+Y.fontList.toString());k.log("[HEAD VALIST]\n"+JSON.stringify(Y.variableList));k.log("[HEAD IQLIST]\n"+decodeURIComponent($.param(Y.inqueryAttrList)))}return Y};var L=function(X){$(X).each(function(){var Y=this.tagName;if(Y==="MMLFOOTER"){$(this).children("REPORTINFO").each(function(){J=$(this).attr("subreportname")});if(n.options.useTableOfContents){var Z=$(this).children("TC");if(Z.length===0){n.dialog.show(j.get("no_table_of_contents"))}else{n.tableOfContents.makeDom(JSON.parse(Z.text()))}}}})};var O=function(X){$(X).each(function(){var Y=this.tagName;if(Y==="ERR"){m=$(this).attr("msg")}})};var I=function(X){P.forEach(function(Y){if(Y<=X){X++}});return X};var G=function(Y){Y=n.options.scrollOptions.useInfiniteScroll?Y:I(Y);for(var X in Q){if(Q[X].page[Y]){return Q[X].page[Y]}}return null};var W=function(X){if(n.totalPage==1){n.toolbar.disableToolbarItem(["next","last","move"])}else{if(X==1){n.toolbar.disableToolbarItem(["first","prev"]);n.toolbar.enableToolbarItem(["next","last"])}else{if(X==n.totalPage){n.toolbar.disableToolbarItem(["next","last"]);n.toolbar.enableToolbarItem(["first","prev"])}else{n.toolbar.enableToolbarItem(["first","prev","next","last"])}}}};var V=function(ac,ae){var aa=[];var ab=Object.keys(ae.page).map(Number).sort(function(ag,af){return ag-af});var ad=function(ag,af){aa.push(ab.slice(ag,af+1));return af+1};var Z=ae.initNextPage.map(Array.prototype.indexOf,ab).reduce(ad,0);if(Z<=ab.length-1){aa.push(ab.slice(Z,ab.length))}for(var Y=0;Y<aa.length;Y++){var X=aa[Y];if(X.indexOf(ac)>-1){return{currentPage:X.indexOf(ac)+1,totalPage:X.length}}}};this.onLoad=null;this.toData=function(){return{id:this.id,value:this.value,type:this.type}};this.getMmlVersion=function(){return u};this.getDocumentList=function(){return Q};this.getPage=function(Y){var X=G(Y);if(X==null){return null}if(n.stateLess){return M.slice(X[0],X[1])}else{return X}};this.getHeadForPage=function(Y){Y=n.options.scrollOptions.useInfiniteScroll?Y:I(Y);for(var X in Q){if(Q[X].page[Y]){return Q[X]}}return null};this.hasPage=function(X){return G(X)!=null};this.getCoverPage=function(){return a};this.getDocumentIndex=function(Y){for(var X in Q){var Z=Q[X];var aa=Object.keys(Z.page).some(function(ab){return ab==Y});if(aa){return X}}};this.getPageInfo=function(ac,ae){var ag={};if(n.stateLess&&d&&ae==="1"){var X=0,ab=0,Y=false,Z=false,ad=null;for(var ah in Q){var af=Q[ah];if(Y&&af.pginit){break}if(af.pginit){X=af.firstPage-1;ab=0}for(var aa in af.page){ab++;if(ac==aa){Y=true;ad=af;if(ah==0){Z=true}}}}if(Z){if(ad&&ad.initNextPage.length>0){ag=V(ac,ad);ag={currentPage:ag.currentPage-a+(z-1),totalPage:ag.totalPage-a+(z-1)}}else{ag={currentPage:ac-a+(z-1),totalPage:ab-a+(z-1)}}}else{if(ad&&ad.initNextPage.length>0){ag=V(ac,ad)}else{ag={currentPage:ac-X,totalPage:ab}}}}else{var ah=this.getDocumentIndex(ac);var ad=Q[ah];if(n.stateLess&&ae=="1"&&ad&&ad.initNextPage.length>0){if(ah==0){ag=V(ac,ad);ag={currentPage:ag.currentPage-a+(z-1),totalPage:ag.totalPage-a+(z-1)}}else{ag=V(ac,ad)}}else{ag={currentPage:ac-a+(z-1),totalPage:N-a-f+(z-1)}}}return ag};this.getSubReportName=function(){return J};this.getDocErrMsg=function(){return m};this.parseMML=function(Z,Y,ab){M=Z;Y=I(Y);try{if(Y!=undefined){S()}if(F.isAvailable()){q.postMessage({mml:Z,pageNum:Y,method:ab})}else{var X=q.parse(Z,Y);A.onLoad&&A.onLoad(X)}}catch(aa){k.log(aa.stack);throw new Error(j.get("parsing_error_mml"))}};this.getTotalPage=function(){return N};this.setTotalPage=function(X){N=n.totalPage=X};this.findPage=function(X){return I(X)};this.removePage=function(aa){if(!aa){return}var ab,Y=false;for(var Z=0,X=aa.length;Z<X;Z++){ab=aa[Z];if(P.indexOf(ab)==-1&&ab>0&&ab<=N){P.push(ab);n.noteManager&&n.noteManager.removeNote(ab);n.formManager&&n.formManager.ignoreField(ab,true);n.totalPage--;Y=true}}if(Y){P.sort(c.ASCENDING_COMPARATOR);if(n.options.scrollOptions.useInfiniteScroll){n.documentScroller.removePage(Array.prototype.slice.call(aa))}else{if(n.currentPage>n.totalPage){n.viewer.moveLastPage()}else{if(P.indexOf(n.currentPage)!=-1){n.redrawPage()}else{n.dialog.pagenum(n.currentPage,n.totalPage)}}W(n.currentPage)}if(n.options.showThumbnail&&n.stateLess){n.thumbnail.create()}if(n.tableOfContents&&n.stateLess){n.tableOfContents.onRemovePage(P)}}};this.restorePage=function(aa){var ab,Y;for(var Z=0,X=aa.length;Z<X;Z++){ab=aa[Z];Y=P.indexOf(ab);if(Y!=-1){if(I(n.currentPage)>ab){n.currentPage++}P.splice(Y,1);n.noteManager&&n.noteManager.restoreNote(ab);n.formManager&&n.formManager.ignoreField(ab,false);n.totalPage++}}if(n.options.showThumbnail&&n.stateLess){n.thumbnail.create()}if(n.options.scrollOptions.useInfiniteScroll){n.documentScroller.restorePage(Array.prototype.slice.call(aa))}else{n.dialog.pagenum(n.currentPage,n.totalPage);W(n.currentPage)}if(n.tableOfContents&&n.stateLess){n.tableOfContents.onRestorePage(aa)}};this.getRemovedPage=function(){return P};this.isRemovedPage=function(X){return(P.indexOf(X)!=-1)};this.getMaxRatioPage=function(){var ab=0,X;for(var aa in Q){var Z=Q[aa].pageInfo;for(var ac in Z){var ad=Z[ac];var Y=ad.width/ad.height;if(Y>ab){ab=Y;X=ad}}}return X};this.getDestPageNum=function(X){var Y=P.filter(function(Z){return X>Z});return X-Y.length};this.getPaintCount=function(Z){var Y=1;var X=$(this.getPage(Z));X.children().each(function(ab,ad){var ac=ad.tagName.toLowerCase();var aa;if(ac==="cl"||ac==="ly"){aa=$(ad).attr("id");if(n.layerManager.getLayer(aa).visible){Y++}}});if(n.drilldownManager){Y+=n.drilldownManager.getOpenedDrilldownCount(Z)}return Y};this.isLoadTotalPage=function(){for(var X=1;X<=n.totalPage;X++){if(G(X)==null){return false}}return true};this.setIsDrawFirstPage=function(X){h=X}};m2soft.ns("m2soft.crownix.DrilldownManager");m2soft.crownix.DrilldownManager=(function(Y,J,ab){var h=m2soft.crownix.Painter;var l=m2soft.crownix.Resource;var e=m2soft.crownix.Util;var Z=m2soft.crownix.Util.Promise.DeferChain;var t=m2soft.crownix.ChannelManager;var N=m2soft.crownix.GuideManager;var g=m2soft.crownix.Constant;var q=Y;var s=q.openFile;var ad=q.viewer.movePage;var c=J;var K={};var A=null;var ac=null;var a=null;var B=null;var b=null;var I=0;var n=this;var L=0;var S=0;var X=0;var r;var k=false;var C=false;var T=false;var V;this.toggle=function(ai){if(k){q.dialog.show(l.get("image_export_disabled_before_done"));return}var ah=m.getDrillObject(ai);if(!ah){return $.Deferred().reject()}var ag=function(){return Z.push(w)};var af=function(){return $.Deferred().reject()};if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.startSync()}q.canvasManager.restore();if(ah.isOpend){W(ai).done(ag).fail(af)}else{F(ai).done(ag).fail(af)}return $.Deferred().resolve()};this.open=function(ag,af){if(k){q.dialog.show(l.get("image_export_disabled_before_done"));return}if(this.isOpened(ag)){return new $.Deferred().resolve()}if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.startSync()}q.canvasManager.restore();F(ag,af);return Z.push(w)};this.close=function(af){if(k){q.dialog.show(l.get("image_export_disabled_before_done"));return}if(!this.isOpened(af)){return new $.Deferred().resolve()}if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.startSync()}W(af);return Z.push(w)};this.reload=function(af){if(k){q.dialog.show(l.get("image_export_disabled_before_done"));return}if(!ae(af)){Z.push(w);return}if(r===undefined&&q.options.showDrilldownMsg){r=q.dialog.message(l.get("image_export_disabled_before_done"))}for(var ai in K){var ah=K[ai];if(ah.pagenum!=af){continue}ah.position.offsetX=0;ah.position.offsetY=0}var ag=m.getOpenedObjectID(af);ag=$.map(K,function(aj,ak){if(I==aj.pagenum&&aj.isOpend&&aj.depth==1){return ak}}).sort(function(ak,aj){if(K[ak].direction===K[aj].direction){return m.comparePosition(K[ak],K[aj])?-1:1}else{return 0}}).reverse();if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.startSync()}setTimeout(function(){F(ag,undefined,true);Z.push(w)},0);return Z.timingDefer};this.getDrilldownInfo=function(ag){var af=m.getDrillObject(ag);return{mrdPath:af.mrdPath,mrdParam:af.mrdParam,isOpened:af.isOpend,isLoaded:af.isLoaded,}};this.updateInfo=function(af,ah,ai,ak,ag,aj){af&&(I=af);A=ai;ac=ak;a=aj;B=ag;b=ah;m.updateDrilldownList(af,b)};this.buildDrilldown=function(af,ag){m.updateDrilldownList(af,ag)};this["export"]=function(){var af={};for(var ah in K){var ag=K[ah];af[ah]=d.serialize(ag)}return af};this["import"]=function(ag,am){if(!ag){return}var ah={};var ak=[];for(var af in ag){ak.push(af)}ak=ak.sort(function(ap,ao){var ar=JSON.parse(ag[ap]),aq=JSON.parse(ag[ao]);return ar.depth-aq.depth});for(var aj in ak){var af=ak[aj];var an=ag[af];var ai=ah[af]=d.deserialize(an,ah);if(ai.isLoaded&&q.isFormEditMode){q.report.parseHead(ai.$headMML.children());q.formManager.buildFormField(ai.$pageMML,ai.pagenum,true,ai.id)}}K=ah;var al=this;if(!am){setTimeout(function(){al.reload(q.currentPage)},0)}};this.toXML=function(){var ah=[];for(var aj in K){ah.push(aj)}ah=ah.sort(function(al,ak){return K[al].depth-K[ak].depth});var af="<drilldown>";for(var ag=0;ag<ah.length;ag++){var ai=K[ah[ag]];if(!ai.isOpend){continue}af+=d.toXML(ai)}af+="</drilldown>";return af};this.isOpened=function(ag){var af=m.getDrillObject(ag);return af&&af.isOpend};this.getDrilldownLength=function(){var ag=0;for(var af in K){ag++}return ag};this.expand=function(ag){if(k){q.dialog.show(l.get("image_export_disabled_before_done"));return}var af=$.map(K,function(ah,ai){if((I==ah.pagenum)&&(ah.depth>ag)&&ah.isOpend){return ai}}).sort(function(ai,ah){if(K[ai].direction===K[ah].direction){return m.comparePosition(K[ai],K[ah])?-1:1}else{return 0}});if(af.length>0){W(af)}if(ag>0){af=$.map(K,function(ah,ai){if(I==ah.pagenum&&((ah.depth==1&&!ah.isOpend)||(ah.depth!=1&&ah.depth<=ag&&!ah.isOpend&&ah.parent.isOpend))){return ai}}).sort(function(ai,ah){if(K[ai].direction===K[ah].direction){return m.comparePosition(K[ai],K[ah])?-1:1}else{return 0}}).reverse();if(af.length>0){F(af,{depth:ag})}else{f()}}else{f()}};this.drilldownNext=function(){if(X<S){X++}this.expand(X)};this.drilldownPrev=function(){if(X>0){X--}this.expand(X)};this.drilldownFinished=function(){f()};this.isOpening=function(){return k};this.stopDrilldown=function(){C=true};this.isFinished=function(){return T};this.disableForgery=function(){G()};this.rebuildDrilldown=function(af,ag){for(var ah in K){if(K[ah].pagenum==af&&K[ah].$pageMML){if(ag.length){q.formManager.buildFormField(K[ah].$pageMML,af,undefined,undefined,undefined,true,ag)}else{q.formManager.buildFormField(K[ah].$pageMML,undefined,undefined,undefined,true)}}}};this.hasOpenedDrilldown=function(af){return ae(af)};this.getOpenedDrilldownCount=function(af){return U(af)};this.addOpenCallback=function(af){V=af};var f=function(){P();q.toolbar.disableToolbarItem(["cancel"]);k=false;if(r){r.remove();r=undefined}C=false;t.getChannel("viewer:onDrawPage").publish()};var P=function(){X=0;for(id in K){var af=K[id];if(af.isOpend&&af.depth>X){X=af.depth}}};var F=function(ak,ai){var ah=[];if(Object.prototype.toString.call(ak)==="[object Array]"){ah=ak;ak=ah.pop()}q.toolbar.enableToolbarItem(["cancel"]);k=true;T=false;if(r===undefined&&q.options.showDrilldownMsg){r=q.dialog.message(l.get("image_export_disabled_before_done"))}var aj=m.getDrillObject(ak);if(!aj){f();return $.Deferred().resolve()}else{if(q.options.scrollOptions.useInfiniteScroll){var ag=aj.pagenum;ag&&(I=ag);A=$(q.documentScroller.getPageFrame(ag));ac=pageDom_.children("#"+g.TEXT_ID);a=pageDom_.children("#"+g.NOTE_ID);B=pageDom_.children("#"+g.CANVAS_ID);b=$(q.report.getPage(ag));m.updateDrilldownList(ag,b)}}if(!ai){ai={}}if(m.isInTheCurrentPage(aj)||$('.m2soft-crownix-page-frame[no="'+aj.pagenum+'"]').attr("loading-state")=="done"){if(m.isOverlapped(aj)){f();return $.Deferred().reject(l.get("drilldown_not_allowed"))}H(aj);var af=Z.push(function(){aj.isOpend=true;return z(aj,ai).pipe(function(){G();var am=O(aj,function(ap,ao,ar,at,aq,an){M(ap,ao,ar,at,aq,an)});var al=function(){var an=aj.children.sort(function(ap,ao){return(ap.position.originalBottom<ao.position.originalBottom)?-1:1}).reverse();an.forEach(function(ao){if(ai.depth&&aj.depth<ai.depth){ah.push(ao.id)}else{if(ao.isOpend){ah.push(ao.id)}}});if(C){ah=[]}f();if(ah.length>0){F(ah,ai)}};if(aj.isDrillOver){return j(aj,am.textDom,ai.callback,function(){al()})}else{return E(am.pageDom,am.canvasDom,am.textDom,am.documentSize,aj,am.withoutClear,ai.callback,function(){al()})}}).fail(function(al){aj.isOpend=false;q.dialog.show(al);f()})})}else{H(aj);var af=Z.push(function(){aj.isOpend=true;return z(aj,ai).pipe(function(){if(!aj.isLoaded){if(q.isFormEditMode){try{q.report.parseHead(aj.$headMML.children());q.formManager.buildFormField(aj.$pageMML,aj.pagenum,q.options.formField.allowDuplicate,aj.id)}catch(al){return defer.reject(al)}}aj.isLoaded=true;f()}}).fail(function(al){aj.isOpend=false;q.dialog.show(al)})})}Z.push(D);if(q.search.isCreate()){q.search.refreshMark()}return af};var z=function(ak,am){var af=new $.Deferred();if(ak.$pageMML&&!am.mrdPath&&!am.mrdParam){af.resolve(ak);return af}var ap=(am.mrdPath||ak.mrdPath);var an=/^(?:\/|[a-z]+:\/\/)/.test(ap);var ao="";var ag="";if(an){ao=ag=ap}else{var ai=Math.max(q.mrdPath.lastIndexOf("\\"),q.mrdPath.lastIndexOf("/"));var al=((ai>=0)?q.mrdPath.substring(0,ai+1):"");if(ak.parent){var aj=ak.parent;while(aj){var ar=Math.max(aj.mrdPath.lastIndexOf("\\"),aj.mrdPath.lastIndexOf("/"));ag=((ar>=0)?aj.mrdPath.substring(0,ar+1):"")+ag;aj=aj.parent}}ag+=ap;ao=al+ag}var aq=[(am.mrdParam||ak.mrdParam)," /rhyperlinkkey [",ak.id,"]"," /ronepgrpt",];ak.isLoaded=false;if(am.formRefresh){q.formManager.removeDrilldownField(ak.id)}if(!q.isFormEditMode){aq.push(" /rformmode [0]")}if(q.isPdfClientExport){aq.push(" /rpdfclientexport")}var at=function(){};var ah=function(au){if(au&&au.indexOf("</MML>")<0&&au.indexOf("</DOCUMENT>")<0){var aw;var av=au.indexOf("[ERS-");if(av>=0){aw=au.substr(av)}else{aw=l.get("execute_error")}af.reject(aw);return}if(!!au&&au.indexOf("<ERR")>=0){var aw=report.getDocErrMsg();if(aw.length>0){af.reject(aw);return}}var ax=$($.parseXML(au));ak.$pageMML=ax.find("PG");ak.$headMML=ax.find("HEAD");ak.boundary=m.getObjectBoundary(ak.$pageMML);m.updateDrilldownList(ak.pagenum,ak.$pageMML,ak);af.resolve(ak)};ak.currentMrdPath=ag;ak.currentMrdParam=aq.join("");ab(ao,ak.currentMrdParam,"","",at,ah,700,true);return af};var O=function(al,ai){var ap=A;var at=B[0];var ag=ac;var aq=b;var ao=I;var am=aq;var au=false;var ar=al;var ak=[al];while(ar){var an=ar.getDrillOverAncestor();ak.push(an);ar=an}ak.pop();while(ak.length>0){var aj=ak.pop();var an=aj.getDrillOverAncestor();if(an){ap=$("."+Q(an).split(" ")[0],A).first();ag=ap.find(".crownix-text:first");at=ap.find(".crownix-canvas:first")[0];au=true;var ah=an.getBoundaryWithChildren();var af={width:ah.right-ah.left+1,height:ah.bottom-ah.top+1}}else{ap=A;ag=ac;at=B[0];aq=b;au=false;var af=m.getAdjustPageSize(am,ao,an)}ai(ap,at,ag,af,aj,au)}return{pageDom:ap,canvasDom:at,textDom:ag,documentSize:af,withoutClear:au,}};var H=function(af){if(!af||af.isDrillOver){return $.Deferred().resolve()}var ak=af.divideOffset.isHorizontally;var am=function(an){return an&&ak!=an.divideOffset.isHorizontally};var ai=function(an){return ak==an.divideOffset.isHorizontally&&an.divideOffset.offset()==af.divideOffset.offset()};var ag=[];for(var al in K){var aj=K[al];if(aj.pagenum==af.pagenum&&aj!=af&&!aj.isDrillOver&&af.isSiblingOf(aj)&&(am(aj)||ai(aj))){ag.push(aj.id)}}for(var ah in ag){W(ag[ah],true)}return Z.timingDefer};var j=function(ah,ao,at,av){var ag=ah.boundary;var ai={top:ag.top,left:0};var au={width:ag.right-ag.left+1,height:ag.bottom-ag.top+1};var aj=ah.$pageMML;var ap=q.report.parseHead(ah.$headMML.children());var af=$.Deferred();var ar=$("<div>").addClass("crownix-text").addClass("crownix-text-index").css({height:au.height,width:au.width,position:"absolute"});var an=$("<canvas>").addClass("crownix-canvas").addClass("crownix-canvas-index").attr("height",au.height).attr("width",au.width).css({position:"absolute"});var al=$("<div>").append(an,ar).addClass("crownix-drilldown-page").css({top:"-9999999",left:"-9999999",height:au.height,width:au.width,position:"absolute"});if(!ah.isLoaded){if(q.isFormEditMode){try{q.formManager.buildFormField(ah.$pageMML,ah.pagenum,q.options.formField.allowDuplicate,ah.id)}catch(ak){return af.reject(ak)}}ah.isLoaded=true}al.appendTo(ao);var aq=new m2soft.crownix.Painter(q,an[0],ar,ad,c);var am={x:-ag.left,y:-ag.top};aq.setFormFieldMode(ap.formFieldMode);aq.drawPage(aj,ap,function(){if(q.isFormEditMode){q.formManager.bindEvent();if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.initFields()}}al.addClass(Q(ah)).css({top:ah.position.bottom()+1,left:ah.getDrillOverAncestor()?0:ag.left,});q.formManager.removePreventEvent();af.resolve();if(at){at()}if(av){av()}},"d",am,null,true);return af};var M=function(ao,ai,ak,ah,at,au){var ax=ai.getContext("2d");var aw=ax.getImageData(0,0,ai.width,ai.height);var aC=q.scroll.scale*window.devicePixelRatio||1;if(aC>q.options.maxScaleRatio){aC=q.options.maxScaleRatio}ao.height(ah.height);ao.width(ah.width);if(ak){ak.height(ah.height);ak.width(ah.width)}if(a){a.height(ah.height);a.width(ah.width);a.find("svg").attr({height:ah.height,width:ah.width});a.find("canvas").attr({height:ah.height,width:ah.width});q.shapeEditor.applySketchAttribute()}ai.style.width=ah.width+"px";ai.style.height=ah.height+"px";if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){ai.width=ah.width*aC;ai.height=ah.height*aC}else{ai.height=ah.height;ai.width=ah.width}if(!au){ax.save();ax.fillStyle="#FFFFFF";ax.fillRect(0,0,ai.width,ai.height);ax.restore()}var aq=m.getLineAdjustWidth(at,at.$containedTo);var al=at.divideOffset.isHorizontally;var am=at.divideOffset.offset();var ay=at.boundary;var av=0;if(at.isDrillOver){ax.putImageData(aw,0,0,0,0,aw.width,aw.height);var ar=0;var aB=0}else{if(al){var az=q.textOnCanvas&&!q.canvasManager.isFixedFrame()?Math.ceil(am*aC):am;ax.putImageData(aw,0,0,0,0,aw.width,az);av=ay.bottom-ay.top+1+aq;var ap=0;var an=av;var ag=0;var af=az-aq;if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){an=Math.ceil(av*aC)}var ar=aw.width;var aB=aw.height-af}else{var aA=q.textOnCanvas&&!q.canvasManager.isFixedFrame()?Math.ceil(am*aC):am;ax.putImageData(aw,0,0,0,0,aA,aw.height);av=ay.right-ay.left+1+aq;var ap=av;var an=0;var ag=aA-aq;var af=0;if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){ap=Math.ceil(av*aC)}var ar=aw.width-ag;var aB=aw.height}}if(ar>0&&aB>0){ax.putImageData(aw,ap,an,ag,af,ar,aB)}if(!at.isDrillOver){ak.children().each(function(){var aF=$(this);var aE=parseInt(aF.css("top"));var aD=parseInt(aF.css("left"));if(aF.hasClass("crownix-background-object")){return true}if(al&&aE>=am){aF.css({top:parseInt(aF.css("top"))+av})}if(!al&&aD>=am){aF.css({left:parseInt(aF.css("left"))+av})}})}m.updateDrilldownPosition(K,at,av);if(q.options.scrollOptions.useInfiniteScroll){var aj=parseFloat(q.documentScroller.scroller.style.height);q.documentScroller.scroller.style.height=(aj+(ay.bottom-ay.top))+"px"}q.scroll.refresh()};var E=function(ao,aj,ar,af,at,au,al,ay){var an=at.divideOffset.offset()+1;var am=at.divideOffset.isHorizontally;var ax=at.boundary;var aw=am?af.width:ax.right-ax.left+1;var av=am?ax.bottom-ax.top+1:af.height;var aB=q.scroll.scale*window.devicePixelRatio||1;if(aB>q.options.maxScaleRatio){aB=q.options.maxScaleRatio}an=q.canvasManager.isFixedFrame()?Math.ceil(an*1/aB):an;var aC=$("<div>").css({top:am?an:0,left:!am?an:0,height:av,width:aw,position:"absolute"});var ap=$("<canvas>").attr({width:q.textOnCanvas&&!q.canvasManager.isFixedFrame()?aw*aB:aw,height:q.textOnCanvas&&!q.canvasManager.isFixedFrame()?av*aB:av}).css({top:am?an:0,left:!am?an:0,width:aw,height:av,position:"absolute"})[0];var ah=ap.getContext("2d");ah.save();ah.fillStyle="#FFFFFF";ah.fillRect(0,0,ap.width,ap.height);ah.restore();if(q.textOnCanvas&&(!q.drilldownManager.getDrilldownLength()||!q.canvasManager.isFixedFrame())){ah.scale(aB,aB)}var ai=$.Deferred();var aA=new h(q,ap,aC,ad,c);var ag=at.$pageMML;var ak=q.report.parseHead(at.$headMML.children());if(!at.isLoaded){if(q.isFormEditMode){try{q.formManager.buildFormField(at.$pageMML,at.pagenum,q.options.formField.allowDuplicate,at.id)}catch(az){return ai.reject(az)}}at.isLoaded=true}aC.appendTo(ar);var aq={x:!am&&-ax.left,y:am&&-ax.top};aA.setFormFieldMode(ak.formFieldMode);aA.drawPage(ag,ak,function(){aC.children().each(function(){var aH=$(this);if(am){aH.css({top:parseInt(aH.css("top"))+an})}else{aH.css({left:parseInt(aH.css("left"))+an})}});aC.children().each(function(){var aH=(e.browser.msie&&this.tagName=="svg")?$(this).clone():$(this);aH.attr("class",(aH.attr("class")||"")+" "+Q(at)).appendTo(ar)});aC.remove();var aD=aj.getContext("2d");var aF=ap.getContext("2d");var aG=aF.getImageData(0,0,ap.width,ap.height),aE=q.textOnCanvas?Math.ceil((an-1)*aB):an-1;if(am){aD.putImageData(aG,0,aE,0,0,aG.width,aG.height)}else{aD.putImageData(aG,aE,0,0,0,aG.width,aG.height)}if(q.isFormEditMode){q.formManager.bindEvent();if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.initFields()}}q.formManager.removePreventEvent();ai.resolve();if(al){al()}if(ay){ay()}},"d",aq,null,au);return ai};var Q=function(ah){var ag=m.convertIDtoClassName(ah);var af=ah.parent;while(af){ag+=" "+m.convertIDtoClassName(af);af=af.parent}return ag};var G=function(){clearTimeout(L);ac.off("DOMSubtreeModified")};var D=function(){if(!q.textOnCanvas){L=m2soft.crownix.Forgery.detect(ac,B[0],q.isFormEditMode)}};var w=function(){setTimeout(function(){q.canvasManager.saveParts();q.canvasManager.moveParts();if(q.scroll&&(!q.noteManager||!q.noteManager.isFocusInTextBox())&&!N.getInstance(q).isEnabled){q.scroll.enable()}if(V&&typeof V==="function"){V();V=null}if(q.shareManager&&q.shareManager.isConnected()){q.shareManager.endSync()}T=true},0)};var W=function(ah){var ag=[];if(Object.prototype.toString.call(ah)==="[object Array]"){ag=ah;ah=ag.pop()}q.toolbar.enableToolbarItem(["cancel"]);k=true;T=false;if(r===undefined&&q.options.showDrilldownMsg){r=q.dialog.message(l.get("image_export_disabled_before_done"))}var af=Z.push(function(){var ak=function(am,ap){var an=ap||[];for(var ao in am){if(am[ao].children.length>0){ak(am[ao].children,an)}if(am[ao].isOpend&&an.indexOf(am[ao])<0){an.push(am[ao])}}return an};var al=m.getDrillObject(ah);if(!al){f();return}var ai=ak([al]);if(ai.length==0){return}if(m.isInTheCurrentPage(al)){G();for(var aj in ai){var al=ai[aj];al.isOpend=false;u(al);O(al,function(an,am,ao,aq,ap){aa(an,am,ao.children(),aq,ap);if(C){ag=[]}if(ag.length>0){setTimeout(function(){W(ag)},0)}else{f()}})}}else{for(var aj in ai){var al=ai[aj];al.isOpend=false}}});Z.push(D);return af};var u=function(af){$("."+m.convertIDtoClassName(af),A).remove()};var aa=function(am,ai,ax,ah,aq){var aw=ai.getContext("2d");var at=aw.getImageData(0,0,ai.width,ai.height);var aE=q.scroll.scale*window.devicePixelRatio||1;if(aE>q.options.maxScaleRatio){aE=q.options.maxScaleRatio}ai.style.width=ah.width+"px";ai.style.height=ah.height+"px";if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){ai.width=ah.width*aE;ai.height=ah.height*aE}else{ai.height=ah.height;ai.width=ah.width}am.height(ah.height);am.width(ah.width);if(ac){ac.height(ah.height);ac.width(ah.width)}aw.save();aw.fillStyle="#FFFFFF";aw.fillRect(0,0,ai.width,ai.height);aw.restore();var ao=m.getLineAdjustWidth(aq,aq.$containedTo);var aj=aq.divideOffset.isHorizontally;var ak=aq.divideOffset.offset();var ay=aq.boundary;var ar=0;if(aq.isDrillOver){aw.putImageData(at,0,0,0,0,at.width,at.height);var ap=0;var aD=0}else{if(aj){var aA=q.textOnCanvas&&!q.canvasManager.isFixedFrame()?Math.ceil(ak*aE):ak;aw.putImageData(at,0,0,0,0,at.width,aA);ar=ay.bottom-ay.top+1+ao;var an=0;var al=-ar;var ag=0;var af=aA+ar+1;if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){af=aA+Math.ceil(ar*aE);al=-Math.ceil(ar*aE)}var ap=at.width;var aD=at.height-af;var aC=0;var az=at.height-ar;var av=ai.width;var au=ai.height-az}else{var aB=q.textOnCanvas&&!q.canvasManager.isFixedFrame()?Math.ceil(ak*aE):ak;aw.putImageData(at,0,0,0,0,aB,at.height);ar=ay.right-ay.left+1+ao;var an=-ar;var al=0;var ag=aB+ar;var af=0;if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){ag=aB+Math.ceil(ar*aE);an=-Math.ceil(ar*aE)}var ap=at.width-ag;var aD=at.height;var aC=at.width-ar;var az=0;if(q.textOnCanvas&&!q.canvasManager.isFixedFrame()){aC=aB+Math.ceil(ar*aE)}var av=ai.width-aC;var au=ai.height}}if(ap>0&&aD>0){aw.putImageData(at,an,al,ag,af,ap,aD)}aw.save();aw.fillStyle="#FFFFFF";aw.fillRect(aC,az,av,au);aw.restore();if(!aq.isDrillOver){ax.each(function(){var aH=$(this);var aI=aH.hasClass("crownix-drilldown-page");var aF=parseInt(aH.css("top"))+(aI?0:aH.height());var aG=parseInt(aH.css("left"))+(aI?0:aH.width());if(aH.hasClass("crownix-background-object")){return true}if(aj&&aF>ak){aH.css({top:parseInt(aH.css("top"))-ar})}else{if(!aj&&aG>ak){aH.css({left:parseInt(aH.css("left"))-ar})}}})}m.updateDrilldownPosition(K,aq,-ar);q.scroll.refresh()};var d=function(al,au,aq,ah){var am=$(ah);var af=am.attr("hi");var an=m.adjustCoord(parseInt(am.attr("sy")));var ao=m.adjustCoord(parseInt(am.attr("sx")));var aj=m.adjustCoord(parseInt(am.attr("ey")));var ak=m.adjustCoord(parseInt(am.attr("ex")));this.id=af;this.$pageMML=null;this.$headMML=null;this.boundary=null;this.pagenum=al;this.mrdPath=am.attr("hdm");this.mrdParam=am.attr("hdp");this.currentMrdPath=this.mrdPath;this.currentMrdParam=this.mrdParam;this.$containedTo=au;this.isOpend=false;this.isLoaded=false;this.parent=aq;this.children=[];if(aq){aq.children.push(this)}if(aq&&aq.isDrillOver){an=an-aq.boundary.top;aj=aj-aq.boundary.top}else{if(aq&&aq.divideOffset.isHorizontally){an=an-aq.boundary.top+aq.position.originalBottom+1;aj=aj-aq.boundary.top+aq.position.originalBottom+1}else{if(aq&&!aq.divideOffset.isHorizontally){ao=ao-aq.boundary.left+aq.position.originalRight+1;ak=ak-aq.boundary.left+aq.position.originalRight+1}}}this.position={top:function(){return this.originalTop+this.offsetY},left:function(){return this.originalLeft+this.offsetX},right:function(){return this.originalRight+this.offsetX},bottom:function(){return this.originalBottom+this.offsetY},originalTop:an,originalLeft:ao,originalRight:ak,originalBottom:aj,offsetX:aq?aq.position.offsetX:0,offsetY:aq?aq.position.offsetY:0};var ai=this.position;var ap={0:"bottom",1:"right",2:"over"};this.direction=ap[am.attr("hdt")]||"bottom";var ag=this.direction;var ar=ag==="bottom";this.isDrillOver=ag=="over";if(this.isDrillOver){ag=ap[0]}var at=this;this.drillOverAncestor=undefined;this.divideOffset={offset:function(){var av=at.getDrillOverAncestor();if(av&&!ar){return ai[ag]()-av.boundary.left+1}else{return ai[ag]()+1}},isHorizontally:ar};this.elementTag=m.getOuterHTML(am);this.depth=aq?aq.depth+1:1;if(this.depth>S){S=this.depth}this.isDescendant=function(aw){if(this.children.length==0){return false}if(this.children.indexOf(aw)>=0){return true}else{var av=false;this.children.forEach(function(ax){av=ax.isDescendant(aw);if(av){return true}});return av}};this.isAncestor=function(av){if(this.parent){if(this.parent==av){return true}else{return this.parent.isAncestor(av)}}else{return false}}};var ae=function(af){return(U(af)>0)};var U=function(ag){var af=0;for(var ai in K){var ah=K[ai];if(ah.pagenum==ag&&ah.isOpend){af++}}return af};d.prototype.isSiblingOf=function(ah){var ag=this.getDrillOverAncestor();var af=ah.getDrillOverAncestor();return ag==af};d.prototype.getScreenBoundary=function(){var ah=$.extend({},this.boundary);if(this.isDrillOver){ah.bottom=ah.bottom-ah.top+this.position.bottom();ah.top=ah.top-ah.top+this.position.bottom()}else{if(this.divideOffset.isHorizontally){ah.bottom=ah.bottom-ah.top+this.position.bottom();ah.top=ah.top-ah.top+this.position.bottom()}else{ah.right=ah.right-ah.left+this.position.right();ah.left=ah.left-ah.left+this.position.right()}}var af=this.getDrillOverAncestor();if(!this.isDrillOver&&af){var ag=af.getScreenBoundary();ah.left+=ag.left+1;ah.right+=ag.left+1;ah.top+=ag.top+1;ah.bottom+=ag.top+1}return ah};d.prototype.getBoundaryWithChildren=function(){var al=this.getScreenBoundary();var ai={right:0,bottom:0};for(var ah in this.children){var ak=this.children[ah];if(!ak.isOpend){continue}var aj=ak.getBoundaryWithChildren();var af=m.getLineAdjustWidth(ak,ak.$containedTo);if(ak.isDrillOver){var ag=aj.bottom-aj.top+1+ak.position.originalBottom;ai.bottom=Math.max(ai.bottom,ag);ai.right=Math.max(ai.right,aj.right)}else{if(ak.divideOffset.isHorizontally){al.bottom+=aj.bottom-aj.top+1+af;al.right=Math.max(al.right,aj.right)}else{al.bottom=Math.max(al.bottom,aj.bottom);al.right+=aj.right-aj.left+1+af}}}al.bottom=Math.max(al.bottom,ai.bottom);al.right=Math.max(al.right,ai.right);return al};d.prototype.getDrillOverAncestor=function(af){if(this.drillOverAncestor!=undefined){return this.drillOverAncestor}var ag=this;while(ag){if(ag.parent&&ag.parent.isDrillOver){return ag.parent}ag=ag.parent}return null};d.serialize=function(ag){var af={pagenum:ag.pagenum,containedTo:m.getOuterHTML(ag.$containedTo),parentID:ag.parent&&ag.parent.id,element:ag.elementTag,isOpend:ag.isOpend,isLoaded:ag.isLoaded,pageMML:m.getOuterHTML(ag.$pageMML),headMML:m.getOuterHTML(ag.$headMML),boundary:ag.boundary&&JSON.stringify(ag.boundary),mrdPath:ag.currentMrdPath,mrdParam:ag.currentMrdParam,depth:ag.depth};return JSON.stringify(af)};d.deserialize=function(aj,ai){var ag=JSON.parse(aj);var af=ai[ag.parentID];var ah=new d(ag.pagenum,$(ag.containedTo),af,ag.element);ah.isOpend=ag.isOpend;ah.$pageMML=ag.pageMML&&$(ag.pageMML);ah.$headMML=ag.headMML&&$($.parseXML(ag.headMML)).find("HEAD");ah.boundary=JSON.parse(ag.boundary);ah.isLoaded=ag.isLoaded;ah.currentMrdPath=ag.mrdPath;ah.currentMrdParam=ag.mrdParam;ah.depth=ag.depth;return ah};d.toXML=function(ag){var af=['<obj pg="',ag.pagenum,'" did="',ag.id,'" path="',e.escapeXmlEntities(ag.currentMrdPath),'" param="',e.escapeXmlEntities(ag.currentMrdParam),'" />'];return af.join("")};var m={getDrillObject:function(af){return K[af]},getDrillObjectList:function(af){return $.map(af,function(ag){return K[ag]})},getOpenedObjectID:function(af){return $.map(K,function(ah,aj){var ai="."+m.convertIDtoClassName(ah);var ag=$(ai,A).length;if(ah.isOpend&&af==ah.pagenum&&ag==0){return aj}}).sort(function(ah,ag){return ah.indexOf(ag)==0})},adjustCoord:function(af){return m2soft.crownix.Painter.adjustCoord(af)},getLineAdjustWidth:function(ah,af){var ag=false;af.find("LN[rhi][ll]").each(function(ai,aj){if($(aj).attr("rhi").split(",").indexOf(ah.id)>=0){ag=true}return !ag});return ag?0:1},updateDrilldownList:function(af,ag,ah){K=$.extend(m.getAllDrillObject(af,ag,ah),K)},isOverlapped:function(ak){if(ak.isDrillOver){return false}var aj=false;var ah=function(at,ar,aq,ap,ao,an){return !at&&aq<ar&&ar<ao||at&&ap<ar&&ar<an};var am=ak.divideOffset.isHorizontally;var ag=ak.$containedTo;var ai=ak.parent;if(ai&&!ai.isDrillOver&&(ai.divideOffset.isHorizontally!=ak.divideOffset.isHorizontally)){return true}var af=$(ak.elementTag);var al=0;if(am){al=parseInt(af.attr("ey"))}else{al=parseInt(af.attr("ex"))}ag.find("*").each(function(){var ar=$(this);if(ar.attr("dr")){return true}if((ar.get(0).tagName=="RA"||ar.get(0).tagName=="TL")&&ar.attr("ba")==="1"){return true}var aq=parseInt(ar.attr("sy"));var ap=parseInt(ar.attr("sx"));var an=parseInt(ar.attr("ey"));var ao=parseInt(ar.attr("ex"));if(ah(am,al,ap,aq,ao,an)){aj=true}return !aj});return aj},getAdjustPageSize:function(ap,am,ak){var al=$(ap);var ag=m.getObjectBoundary(al);var aq=al.attr("wd")/10.3;var au=al.attr("ht")/10.3;var ao={right:0,bottom:0};for(var aj in K){var af=K[aj];if(!af||af.pagenum!=am||!af.isOpend||af.parent){continue}var an=af.getBoundaryWithChildren();var ai=m.getLineAdjustWidth(af,af.$containedTo);if(af.isDrillOver){var ar=an.bottom-an.top+1+af.position.originalBottom;ao.bottom=Math.max(ao.bottom,ar);ao.right=Math.max(ao.right,an.right)}else{if(af.divideOffset.isHorizontally){ag.bottom+=an.bottom-an.top+1+ai;ag.right=Math.max(ag.right,an.right)}else{ag.bottom=Math.max(ag.bottom,an.bottom);ag.right+=an.right-an.left+1+ai}}}ag.bottom=Math.max(ag.bottom,ao.bottom);ag.right=Math.max(ag.right,ao.right);var ah=aq;var at=au;au=Math.max(au,ag.bottom);aq=Math.max(aq,ag.right);at!=au&&au++;ah!=aq&&aq++;return{height:au,width:aq,}},updateDrilldownPosition:function(af,al,ao){var ap=al.divideOffset.isHorizontally;var am=al.divideOffset.offset();var ag=function(ar,aq){return ar.divideOffset.isHorizontally==aq.divideOffset.isHorizontally};var ai=function(aq){if(aq.isDrillOver){if(ap){return aq.position.bottom()>am}else{return aq.position.right()>am}}else{return ag(al,aq)&&m.comparePosition(al,aq)}};for(var aj in af){var an=af[aj];var ah=an.divideOffset.isHorizontally;var ak=an.isDrillOver;if(al.isDescendant(an)||al.isAncestor(an)||al.pagenum!=an.pagenum||!al.isSiblingOf(an)){continue}if(ap&&ai(an)){an.position.offsetY+=ao}else{if(!ap&&ai(an)&&!an.isDrillOver){an.position.offsetX+=ao}}}},comparePosition:function(ah,ak){var af=[ah],aj=[ak];while(af[af.length-1].parent){af.push(af[af.length-1].parent)}while(aj[aj.length-1].parent){aj.push(aj[aj.length-1].parent)}while(af.length>0&&aj.length>0){var ag=af.pop(),ai=aj.pop();if(ag.id===ai.id){continue}if(ah.direction==="bottom"){return ai.position.originalBottom>ag.position.originalBottom}else{return ai.position.originalRight>ag.position.originalRight}}},getAllDrillObject:function(ag,ai,ah){var af={};ai.find("[hl=7]").each(function(){var aj=new d(ag,ai,ah,this);af[aj.id]=aj});return af},getObjectBoundary:function(ag){var af={top:0,left:0,bottom:0,right:0};ag.find("*").each(function(ai){var aj=$(this);if(!aj.attr("sx")){return}var ak={top:parseInt(aj.attr("sy")),left:parseInt(aj.attr("sx")),bottom:parseInt(aj.attr("ey")),right:parseInt(aj.attr("ex"))};if(ai==0){af=ak;return}if(ak.left<af.left){af.left=ak.left}if(ak.top<af.top){af.top=ak.top}if(ak.right>af.right){af.right=ak.right}if(ak.bottom>af.bottom){af.bottom=ak.bottom}});for(var ah in af){af[ah]=m.adjustCoord(af[ah])}return af},isInTheCurrentPage:function(af){return af.pagenum==I},convertIDtoClassName:function(af){return"drilldown-"+af.id.split(".").join("-")},findContainedDom:function(ah){while(ah){var ai=$("."+m.convertIDtoClassName(ah),A);var af=ai.find(".crownix-text:first");var ag=ai.find(".crownix-canvas:first");if(af.length>0&&ag.length>0){return{$pageDom:ai,$textDom:af,$canvasDom:ag}}ah=ah.parent}return{$pageDom:A,$textDom:ac,$canvasDom:B}},getOuterHTML:function(af){if(!af){return}if(e.browser.msie){return(new XMLSerializer()).serializeToString(af[0])}else{return af.prop("outerHTML")}}}});m2soft.ns("m2soft.crownix.TreeGrid");m2soft.crownix.TreeGrid=function(){var d=m2soft.crownix.Util,j=m2soft.crownix.Resource,f=m2soft.crownix.Constant,a=m2soft.crownix.Util.ActionEvents;var P,A,H,B,S,K,h,M,Q=false,k=false,O=0,u=0,t=0,I=[],D=[],q=20,L=10,F="crownix-tree-node",l="crownix-tree-open-node",e="crownix-tree-close-node",n=m2soft.crownix.TreeGrid.debug;var z=function(V,W){var T=-1;(function U(aa,Y){T++;W(aa,T,Y);var X=aa.children;if(aa.open&&X&&X instanceof Array){for(var Y=0,Z=X.length;Y<Z;Y++){U(aa.children[Y],Y)}}T--})(V)};var E=function(){var T=function(V,U){u=Math.max(U,u);if(V.children&&V.children.length>0){V.open=true}V.visible=true;O++};n&&console.time("init data");z(S,T);n&&console.timeEnd("init data");t=u};var g=function(X,Y,T){var W=0,U=[];var V=function(ab,Z,aa){if(ab&&ab.row&&ab.visible){W++;if(W>Y&&W<=T){var ac=ab.row;ac.index=Q?W:aa;ac.depth=Z;ac.pIndex=ab.parentRowIdx;ac.open=ab.open;ac.visible=ab.visible;U.push(ac)}}};n&&console.time("fetch data from tree");z(X,V);O=W;n&&console.timeEnd("fetch data from tree");n&&console.log("전체 열린 개수:",O,"패치된 개수:",U.length,"시작:",Y,"끝:",T);return U};var c=function(T){if(T==undefined){return}var U=0;z(S,function(V){if(V&&V.row&&T==U){V.open=!V.open}U++});n&&console.log("토클 노드:",T,"전체 열린 개수:",U);K.refreshInfinite(U)};var G=function(U){var T=0;z(S,function(W,V){if(V<U){W.open=true}else{if(V==U){W.open=false}}T++},U);n&&console.log("노드 뎁스 설정: ",U,"전체 열린 개수:",T);K.refreshInfinite(T)};var b=function(T){return{background:T.background||"#FFFFFF","text-align":T.align,"vertical-align":T.verticalAlign,color:T.font.color,"font-family":T.font.family,"font-size":(T.font.size/10)+"pt","font-weight":T.font.weight,"text-decoration":T.font.decoration,"font-style":T.font.style,"border-left":T.borderLeft,"border-right":T.borderRight,"border-top":T.borderTop,"border-bottom":T.borderBottom,}};var w=function(ac){var Z=$("<tr>"),U,T,V,Y,ab=ac.columns,W;Z.css({height:ac.height/10.3+"px",width:"100%"});for(var X=0,aa=ab.length;X<aa;X++){W=ab[X];U=$("<td>").attr("col-id",W.groupId).css({position:"absolute",left:W.x/10.3+"px",top:W.y/10.3+"px",width:W.width/10.3+"px",height:W.height/10.3+"px","box-sizing":"border-box",overflow:"hidden","z-index":ab.length-X}).css(b(W)).appendTo(Z);T=$("<div>").css({display:"table",width:"100%",height:"100%"}).appendTo(U);V=$("<pre>").css({display:"table-cell","vertical-align":W.verticalAlign,"white-space":"pre-wrap","word-break":"break-all",padding:"0px 1px",}).text(W.text).appendTo(T)}return Z};var r=function(X){var Z=X.template.row.columns;var U=X.template.parentRow;for(var Y=0,T=Z.length;Y<T;Y++){I.push(b(Z[Y]))}for(var Y=0;Y<U.length;Y++){var W=U[Y].columns;D.push([]);for(var V=0;V<W.length;V++){D[Y].push(b(W[V]))}}};var s=function(T){var U=w(T.template.header);A=$("<table>").css({position:"absolute","border-spacing":0,"border-collapse":"separate",}).append(U).appendTo(P);M="crownix-grid-scroller-"+T.gridId;B=$("<div>").attr({id:M}).css({position:"absolute",top:A.height()+"px",bottom:"0px",width:"100%",overflow:"hidden"}).appendTo(P)};var C=function(U,T){this.updateCache(U,g(S,U,U+T))};var N=function(U,T){U=$(U);if(T==undefined){U.hide();return}else{U.show()}U.attr("record-id",T.index);U.children("td").each(function(W){var Y=$(this),V=u-(u-T.depth)-1;if(u-T.depth>0){Y.css(D[V][W])}else{if(T.pIndex!=undefined){Y.css(D[T.pIndex][W])}else{Y.css(I[W])}}var X=Y.find("pre").text(T[W]);if(Q&&W==0){Y.css({"padding-left":(V*q+10)+"pt","text-align":"left"});if(Q&&T.depth<u){Y.attr("record-id",T.index).addClass(F);if(T.open){X.addClass(l);X.removeClass(e)}else{X.addClass(e);X.removeClass(l)}}else{Y.removeAttr("record-id");X.removeClass(F).removeClass(l).removeClass(e)}}});if(k&&h){h.refreshSelector(U,T.index,this)}};var J=function(T){H=$("<table>").css({width:"100%",height:"100%","border-spacing":0,"border-collapse":"separate",}).attr("id","crownix-grid");var V=B.height()/(T.template.row.height/10.3)+L;for(var U=1;U<=V;U++){var W=w(T.template.row);W.css("position","absolute").addClass("record");if(Q){W.children().first().on("click",function(X){c($(this).attr("record-id"))})}W.find("td").each(function(){var X=$(this)});W.appendTo(H)}H.appendTo(B);K=new IScroll("#"+M,{scrollY:true,scrollbars:true,freeScroll:true,interactiveScrollbars:true,mouseWheel:true,parentScroll:T.parentScroll,infiniteElements:"#"+M+" .record",infiniteLimit:O-1,dataset:C,dataFiller:N,cacheSize:500,doubleTap:false,shrinkScrollbars:"clip",useTransition:false,bounce:false,click:d.browser.mobile?true:false,HWCompositing:T.enableTranslateZ});P.on("DOMSubtreeModified",function(X){X.stopPropagation()})};var m=function(al){var W=[],an=[],ap=[],X,U,Z=S.children,aD=Z.length,aC=false,ah=false,ag=false,aF="",ar={},aj=P.width(),ab,ae=[],aA,at,ai="ontouchstart" in window,aw={start:ai?"touchstart":d.browser.msie?"mousedown":a.start,move:ai?"touchmove":d.browser.msie?"mousemove":a.move,end:ai?"touchend":d.browser.msie?"mouseup":a.end};var ay=function(){var aH=al.template.header.columns,aK,aN,aM,aJ,aL;for(var aI=0,aG=aH.length;aI<aG;aI++){aK=aH[aI];aN=aK.groupId;aM=aK.x;aJ=aK.x+aK.width;aL=ar[aN];if(!aL){ar[aN]={id:aN,left:aM,right:aJ}}else{if(aM<aL.left){aL.left=aM}if(aJ>aL.right){aL.right=aJ}}}};var az=function(){var aH;if(aF=="row"){aH=W}else{if(aF=="column"){aH=an}}for(var aI=Math.min(X,U);aI<=Math.max(X,U);aI++){var aG=aH.indexOf(aI);if(aG==-1){aH.push(aI)}else{if(ah){aH.splice(aG,1)}}}aH.sort(d.ASCENDING_COMPARATOR);n&console.log("선택된",aF,aH)};var ax=function(){an=[];W=[];P.find(".crownix-grid-selection").removeClass("crownix-grid-selection")};var aq=function(){var aM=ap.slice();an.forEach(function(aN){if(ap.indexOf(aN)==-1){ap.push(aN)}});if(ap.length>=Object.keys(ar).length){var aH=new m2soft.crownix.FormDialog("#"+f.CONTAINER_ID);aH.show(j.get("donot_hide_all_column"));ax();ap=aM;return}ap.sort(d.ASCENDING_COMPARATOR);ae.forEach(function(aO,aN){if(ap.indexOf(aN+1)!=-1){aO.show()}else{aO.hide()}});var aK=0;for(var aL in ar){var aJ=ar[aL];var aG=parseInt(aL);var aI=P.find('[col-id="'+aL+'"]');if(ap.indexOf(aG)!=-1){aI.hide();aK+=(aJ.right-aJ.left)/10.3}else{aI.show();aI.each(function(){$(this).css({transform:"translateX("+-aK+"px)"})})}}P.width(aj-aK-1);n&console.log("changeColumns",ap);ax()};var T=function(){var aI=0,aJ;for(var aH=0,aG=Z.length;aH<aG;aH++){aJ=Z[aH];if(W.indexOf(aH)!=-1){aJ.visible=false}if(aJ.visible){aI++}}K.refreshInfinite(aI+1);n&console.log("선택된 행:",W,"전체 보이는 행:",aI);W=[]};var aa=function(){for(var aG=Z.length-1;aG>=0;aG--){if(Z[aG].visible){return aG}}};var ad=function(){if(aF=="column"){P.find(".crownix-grid-selector-column").each(function(){var aG=$(this);var aI=aG.attr("col-id");var aH=P.find('[col-id="'+aI+'"]');if(aI>=Math.min(X,U)&&aI<=Math.max(X,U)){if(ah){if(an.indexOf(parseInt(aI))==-1){aH.addClass("crownix-grid-selection")}else{aH.removeClass("crownix-grid-selection")}}else{aH.addClass("crownix-grid-selection")}}else{if(an.indexOf(parseInt(aI))!=-1){aH.addClass("crownix-grid-selection")}else{aH.removeClass("crownix-grid-selection")}}})}else{if(aF=="row"){H.find(".crownix-grid-selector-row").each(function(){var aG=$(this);var aI=aG.parent().attr("record-id");var aH=H.find('[record-id="'+aI+'"]');if(aI>=Math.min(X,U)&&aI<=Math.max(X,U)){if(ah){if(W.indexOf(parseInt(aI))==-1){aH.addClass("crownix-grid-selection");aG.addClass("crownix-grid-selection")}else{aH.removeClass("crownix-grid-selection");aG.removeClass("crownix-grid-selection")}}else{aH.addClass("crownix-grid-selection");aG.addClass("crownix-grid-selection")}}else{if(W.indexOf(parseInt(aI))!=-1){aH.addClass("crownix-grid-selection");aG.addClass("crownix-grid-selection")}else{aH.removeClass("crownix-grid-selection");aG.removeClass("crownix-grid-selection")}}})}}};var ao=function(aH){if(!ai&&aH.which!=1){return}ah=aH.ctrlKey;ag=aH.shiftKey;if(!ah){ax()}var aG=$(aH.target);if(aG.hasClass("crownix-grid-selector-column")){aF="column";U=aG.attr("col-id")}else{if(aG.hasClass("crownix-grid-selector-row")){aF="row";U=aG.parent().attr("record-id")}else{return}}if(!ag){X=U}ad();$("body").on(aw.move,af);$("body").on(aw.end,Y)};var af=function(aH){aH.stopPropagation();var aG=ai?$(document.elementFromPoint(aH.originalEvent.changedTouches[0].clientX,aH.originalEvent.changedTouches[0].clientY)):$(aH.target);if(aF=="row"&&aG.hasClass("crownix-grid-selector-row")){U=aG.parent().attr("record-id")}else{if(aF=="column"&&aG.hasClass("crownix-grid-selector-column")){U=aG.attr("col-id")}}ad()};var Y=function(aG){$("body").off(aw.move,af);$("body").off(aw.end,Y);az();if(ai){aE(aG)}};var am=function(){ap=[];ax();for(var aH=0,aG=Z.length;aH<aG;aH++){Z[aH].visible=true}K.refreshInfinite(Z.length+1);aq()};var aE=function(aI){aI.preventDefault();aI.stopPropagation();ab&&ab.remove();var aH=$(this).hasClass("crownix-grid-selector-all");if(W.length==0&&an.length==0&&!aH){return}var aG;if(aH){aG=j.get("show_all")}else{if(aF=="row"){aG=j.get("hide_rows")}else{if(aF=="column"){aG=j.get("hide_columns")}}}ab=$('<div class="crownix-tooltip-button crownix-appear"><div class="crownix-tooltip-button-item">'+aG+"</div></div>").css({left:ai?aI.originalEvent.changedTouches[0].clientX:aI.pageX,top:ai?aI.originalEvent.changedTouches[0].clientY:aI.pageY}).on("click",function(){ab.remove();if(aH){am()}else{if(aF=="row"){T()}else{if(aF=="column"){aq()}}}}).appendTo("body")};var V=function(aI){aI.stopPropagation();var aH=parseInt($(this).attr("g-id"));while(true){var aG=ap.indexOf(++aH);if(aG!=-1){ap.splice(aG,1)}else{break}}aq()};var av=function(aK){aK.stopPropagation();var aJ=$(this);var aH=aJ.attr("type");var aM=aJ.parent().attr("record-id");var aI=0,aL;var aG;if(aH=="first"){aG=0}else{if(aH=="last"){aG=aa()+1}else{aG=parseInt(aM)+1}}for(aG,max=Z.length;aG<max;aG++){if(!Z[aG].visible){Z[aG].visible=true}else{break}}for(aG=0,max=Z.length;aG<max;aG++){if(Z[aG].visible){aI++}}K.refreshInfinite(aI+1)};var au=function(aG){if(aC||K.moved){return}P.css("z-index","1");H.css("padding-left","50px");B.css({left:"-50px","padding-right":"50px"});P.find(".crownix-grid-selector").css("visibility","visible");P.find(".crownix-grid-showtip").css("visibility","visible");$("#"+f.CONTAINER_ID).parent().on(aw.start,aB);aC=true};var aB=function(aG){ab&&ab.remove();if($(aG.target).parents(".crownix-grid-"+al.gridId).length==0){P.css("z-index","0");H.css("padding-left","0px");B.css({left:"0px","padding-right":"0px"});P.find(".crownix-grid-selector").css("visibility","hidden");P.find(".crownix-grid-showtip").css("visibility","hidden");ax();aC=false;$("#"+f.CONTAINER_ID).parent().off(aw.start,aB)}};var ak=function(){var aI=$('<div class="crownix-grid-showtip"><div>+</div></div>');var aL=$("<div>").addClass("crownix-grid-selector").addClass("crownix-grid-selector-all").css({top:"-20px",height:A.height()+20+"px","line-height":A.height()+20+"px","vertical-align":"middle","text-align":"center",color:"#47a3da"}).text("+").on(ai?aw.start:"click contextmenu",aE);aL.appendTo(A.find("tr"));var aH=$("<tr>").css("display","block");var aG=aI.clone(true).attr("g-id",0).addClass("crownix-grid-showtip-bottom").on(ai?aw.start:"click",V).prependTo(aL);ae=[];ae.push(aG);for(var aK in ar){var aJ=ar[aK];var aL=$("<div>").attr("col-id",aK).css({left:aJ.left/10.3,width:(aJ.right-aJ.left)/10.3,"box-sizing":"border-box"}).addClass("crownix-grid-selector").addClass("crownix-grid-selector-column").on(aw.start,ao).on("contextmenu",aE).appendTo(aH);aG=aI.clone(true).attr("g-id",aK).addClass("crownix-grid-showtip-bottom").on(ai?aw.start:"click",V).prependTo(aL);ae.push(aG)}aH.prependTo(A);aA=aI.clone(true).addClass("crownix-grid-showtip-right").attr("type","first").css("top",A.height()-11).on(ai?aw.start:"click",av).prependTo(P);at=aI.clone(true).addClass("crownix-grid-showtip-right").attr("type","last").on(ai?aw.start:"click",av).appendTo(P);H.find(".record").each(function(aN){var aO=$(this);var aM=aO.height();var aP=$("<div>").attr("uid",aN+"").addClass("crownix-grid-selector").addClass("crownix-grid-selector-row").css({height:aM+"px",}).on(aw.start,ao).on("contextmenu",aE).prependTo(aO);aI.clone(true).addClass("crownix-grid-showtip-right").on(ai?aw.start:"click",av).prependTo(aO)});aI.remove();aC=false;P.on("click",au)};var ac=function(aH,aI,aG){if(W.indexOf(aI)!=-1){aH.addClass("crownix-grid-selection");aH.children(".crownix-grid-selector").addClass("crownix-grid-selection")}else{aH.removeClass("crownix-grid-selection");aH.children(".crownix-grid-selector").removeClass("crownix-grid-selection")}if(aI<aD-1){if(Z[aI+1].visible){aH.children(".crownix-grid-showtip").hide()}else{aH.children(".crownix-grid-showtip").show()}}if(aG.y==0){if(!Z[0].visible){aA.show()}else{aA.hide()}}else{if(aG.y==aG.maxScrollY){if(!Z[aD-1].visible){at.show()}if(aI==aa()){aH.children(".crownix-grid-showtip").hide()}}else{aA.hide();at.hide()}}};ay();ak();this.refreshSelector=ac;this.getHideRowsInfo=function(){var aH=[];for(var aI=0,aG=Z.length;aI<aG;aI++){aH.push(Z[aI].visible?1:0)}return aH};this.getHideColsInfo=function(){return ap};this.refresh=function(){ak();T();aq()}};this.build=function(U,T){S=T;Q=T.template.tree;k=T.template.dynamic||T.template.type==3;E();r(T);this.draw(U);if(k&&!Q){h=new m(T)}};this.draw=function(T){if(K){K.destroy();K=null}P=$((typeof T==="string")?document.getElementById(T):T);s(S);J(S);if(k&&h){h.refresh()}};this.expandDepth=function(T){if(T<1||T>u||T==t){return t}else{G(T);t=T;return t}};this.nextDepth=function(){if(t>=u){return t}else{G(++t);return t}};this.prevDepth=function(){if(t<=1){return t}else{G(--t);return t}};this.exportTreeStructure=function(){var T={},V=-1;(function U(aa,W){var Y=aa.children;V++;W.o=aa.open?1:0;if(V<(u-1)&&Y&&Y instanceof Array){if(Y.length>0){W.c=[]}for(var X=0,Z=Y.length;X<Z;X++){W.c[X]={};U(aa.children[X],W.c[X])}}V--})(S,T);return T};this.exportDynamicStructure=function(){return{colGroup:h.getHideColsInfo(),row:h.getHideRowsInfo()}};this.isTree=function(){return Q};this.isDynamic=function(){return k}};m2soft.ns("m2soft.crownix.GridManager");m2soft.crownix.GridManager=function(){var b={},a;this.build=function(f,d,c,e){if(b[f]==undefined){c.parentScroll=e.scroll;c.enableTranslateZ=e.options.enableTranslateZ;c.gridId=f;b[f]=new m2soft.crownix.TreeGrid();b[f].build(d,c)}else{b[f].draw(d)}a=b[f]};this.exportGridParameter=function(){var f=[" /rtreegridinfo "];for(var g in b){var e=b[g];if(!e.isTree()){continue}f.push(g);f.push("[");f.push(JSON.stringify(e.exportTreeStructure()));f.push("]");f.push(" ")}var d=[];for(var g in b){var e=b[g];if(!e.isDynamic()){continue}var c=e.exportDynamicStructure();c.id=g;d.push(c)}if(d.length>0){f.push("/rdatagridshowinfo ");f.push("[");f.push(JSON.stringify(d));f.push("] ")}return f.join("")};this.expandDepth=function(c){return a.expandDepth(c)};this.nextDepth=function(){return a.nextDepth()};this.prevDepth=function(){return a.prevDepth()}};m2soft.ns("m2soft.crownix.CxGridResource");m2soft.crownix.CxGridResource.r={insert_1_above:{ko:"위에 1행 삽입",ja:"1行上に挿入",en:"Insert 1 row above"},insert_1_below:{ko:"아래 1행 삽입",ja:"1行下に挿入",en:"Insert 1 row below"},add_row:{ko:"행 추가",ja:"行追加",en:"Add Row"},delete_row:{ko:"행 삭제",ja:"行削除",en:"Delete Row"},cannot_delete_keep_row:{ko:"데이터 행 유지 옵션이 설정되어 기존 행은 삭제할 수 없습니다.",ja:"データ行がロックオンされているため、行を削除できません。",en:"Existing rows cannot be deleted because the option to keep data rows is set."},cannot_delete_summary_row:{ko:"요약부 행은 삭제할 수 없습니다.",ja:"要約部行は削除できません。",en:"Summary row cannot be deleted."},cannot_delete_all_row:{ko:"전체 행을 삭제할 수 없습니다. 적어도 데이터 행은 하나 이상 존재해야 합니다.",ja:"전체 행을 삭제할 수 없습니다. 적어도 데이터 행은 하나 이상 존재해야 합니다.",en:"전체 행을 삭제할 수 없습니다. 적어도 데이터 행은 하나 이상 존재해야 합니다."}};m2soft.crownix.CxGridResource.language="en";m2soft.crownix.CxGridResource.setLanguage=function(a){if(typeof a!="string"){return undefined}if(a.indexOf("ko")===0){this.language="ko"}else{if(a.indexOf("ja")===0){this.language="ja"}else{this.language="en"}}return this.language};m2soft.crownix.CxGridResource.setSystemLanguage=function(){this.setLanguage(navigator.language)||this.setLanguage(navigator.browserLanguage)||this.setLanguage(navigator.systemLanguage)||this.setLanguage(navigator.userLanguage)||this.setLanguage("en")};m2soft.crownix.CxGridResource.setSystemLanguage();m2soft.crownix.CxGridResource.get=function(a){try{return this.r[a][this.language]}catch(b){if(!!window.console&&typeof window.console.log==="function"){console.log("[Crownix HTML5 Viewer] resource not found: "+a)}return"RESOURCE_NOT_FOUND"}};m2soft.ns("m2soft.crownix.CxGridUtil");m2soft.crownix.CxGridUtil.toggleClass=function(a,b){if(a.className.indexOf(b)>=0){this.removeClass(a,b)}else{this.addClass(a,b)}};m2soft.crownix.CxGridUtil.addClass=function(a,b){if(a.className.indexOf(b)<0){a.className+=" "+b}};m2soft.crownix.CxGridUtil.removeClass=function(a,b){if(a.className.indexOf(b)>=0){a.className=a.className.replace(" "+b,"")}};m2soft.crownix.CxGridUtil.containsClass=function(a,b){if(a.className.indexOf(b)>=0){return true}return false};m2soft.crownix.CxGridUtil.transform=function(b,a){if(a!=undefined){b.style.transform=a;b.style["-webkit-transform"]=a;b.style["-ms-transform"]=a;b.style["-moz-transform"]=a;b.style["-o-transform"]=a}else{return b.style.transform}};m2soft.crownix.CxGridUtil.eventPath=function(a){var d=(a.composedPath&&a.composedPath())||a.path,c=a.target;if(d!=null){d=(d.indexOf(window)<0)?d.concat([window]):d;return d}if(c===window){return[window]}function b(g,f){f=f||[];var e=g.parentNode;if(!e){return f}else{return b(e,f.concat([e]))}}return[c].concat(b(c)).concat([window])};m2soft.ns("m2soft.crownix.CxGridWrapper");m2soft.crownix.CxGridWrapper=function(a){this.addRow=function(){if(a.isEditable()){a.addRow()}};this.removeRow=function(){if(a.isEditable()){a.removeRow()}}};m2soft.ns("m2soft.crownix.CxGridAside");m2soft.crownix.CxGridAside=function(l,n,t){var g=m2soft.crownix.CxGridUtil;var A=20;var b=1;var k;var s;var f;var u;var B;var m=[];var w={};var C=function(E,F,D){var G=document.createElement("span");G.setAttribute("id","crownix-cxgrid-aside-span");G.setAttribute("style","top: "+F+"px; width: "+A+"px; height: "+(D-b)+"px; line-height: "+(D-b)+"px");G.innerText=E+1;return G};var z=function(E){var D;E=E||window.event;if("which" in E){D=E.which==3}else{if("button" in E){D=E.button==2}}return D};var q=function(E){var D=function(H,F){H.stopPropagation();H.preventDefault();var G=z(H);if(!F||(F&&!G)){g.toggleClass(E,"crownix-cxgrid-selection")}w.click&&w.click({event:H,selectedIndex:m.indexOf(E),isSelected:g.containsClass(E,"crownix-cxgrid-selection"),isMouseEvent:F,isRightClick:G,})};E.addEventListener("mousedown",function(F){D(F,true)});E.addEventListener("touchstart",function(F){D(F,false)});E.addEventListener("contextmenu",function(F){F.stopPropagation();F.preventDefault()})};var h=function(E,F,D,H){var G=C(E,F,D);if(H){q(G)}m.splice(E,0,G);u.appendChild(G);u.style.height=t.offsetHeight+"px"};var j=function(D){if(u.contains(m[D])){u.removeChild(m[D])}m.splice(D,1)};var d=function(){k.addEventListener("mouseenter",function(){w.mouseenter&&w.mouseenter()});k.addEventListener("mouseleave",function(){w.mouseleave&&w.mouseleave()})};var c=function(){f=document.createElement("div");l.appendChild(f);k=document.createElement("div");l.appendChild(k);u=document.createElement("div");k.appendChild(u);f.setAttribute("id","crownix-cxgrid-aside-top");f.setAttribute("style","left: -"+(A+1)+"px; height: "+(l.offsetHeight-n.offsetHeight-2)+"px; float:left; width: "+(A-1)+"px;");k.setAttribute("id","crownix-cxgrid-aside-container-vertical");k.setAttribute("style","top: "+(l.offsetHeight-n.offsetHeight)+"px; left: -"+(A+1)+"px; float:left; width: "+A+"px; height: "+n.offsetHeight+"px;");u.setAttribute("id","crownix-cxgrid-aside-vertical");u.setAttribute("style","width: "+A+"px; height: "+t.offsetHeight+"px;");d()};var r=function(){c()};var a=function(D){for(var E=D;E<m.length;E++){if(E==0){m[E].style.top=0+"px"}else{m[E].style.top=parseInt(m[E-1].style.top)+parseInt(m[E-1].style.height)+b+"px"}m[E].innerText=E+1}};var e=function(){for(var D=0;D<m.length;D++){var E=m[D];if(g.containsClass(E,"crownix-cxgrid-selection")){g.removeClass(E,"crownix-cxgrid-selection")}}};this.paint=function(){r()};this.insertRow=function(E,F,D,G){h(E,F,D,G);a(E)};this.deleteRows=function(D){for(var E=0;E<D.length;E++){j(D[E])}a(D[D.length-1])};this.addRow=function(E,D,F){h(m.length,E,D,F)};this.getVerticalBody=function(){return u};this.show=function(){u.style.display="inline";f.style.display="inline"};this.hide=function(){u.style.display="none";f.style.display="none"};this.bind=function(D,E){w[D]=E};this.cancelAllSelction=function(){e()}};m2soft.ns("m2soft.crownix.CxGridMenu");m2soft.crownix.CxGridMenu=function(h,A,s){var g=m2soft.crownix.CxGridUtil;var b=8;var m;var n;var c=function(){m=document.createElement("div");m.setAttribute("id","crownix-cxgrid-menu");h.appendChild(m)};var r=function(){n=document.createElement("div");g.addClass(n,"crownix-cxgrid-triangle");m.appendChild(n)};var w=function(C){var B=document.createElement("span");g.addClass(B,"crownix-cxgrid-menu-item-label");B.innerText=C;return B};var a=function(B){B.addEventListener("mouseenter",function(){g.addClass(B,"crownix-cxgrid-menu-item-enter")});B.addEventListener("mouseleave",function(){g.removeClass(B,"crownix-cxgrid-menu-item-enter")})};var z=function(C,B){C.addEventListener("mousedown",B);C.addEventListener("touchstart",function(D){D.stopPropagation();D.preventDefault();B(D)})};var j=function(C,B){a(C);z(C,B)};var f=function(B){var C=document.createElement("div");g.addClass(C,"crownix-cxgrid-menu-item");C.appendChild(w(B.label));j(C,B.handler);return C};var e=function(){for(var B=0;B<A.length;B++){m.appendChild(f(A[B]))}};var l=function(){c();r();e()};var d=function(C){var B=s.isInScrollArea(C,C+m.offsetHeight);if(B>0){return true}return false};var q=function(){var B=m.offsetHeight-b*3;g.transform(m,"translateY(-"+B+"px)");g.transform(n,"translateY("+B+"px)")};var t=function(){g.transform(m,"");g.transform(n,"")};var u=function(B,C){if(!m){l()}m.style.left=(B+b)+"px";m.style.top=(C-b*1.5)+"px";m.style.display="inline";if(d(C)){q()}else{t()}};var k=function(){if(m){m.style.display="none"}};this.show=function(B,C){u(B,C)};this.hide=function(){k()}};m2soft.ns("m2soft.crownix.CxGridScroller");m2soft.crownix.CxGridScroller=function(q,A){var g=m2soft.crownix.CxGridUtil;var n;var e;var f;var k=false;var h;var b=0;var m=0;var E;var C={};var B=A.offsetHeight;var s=q.offsetHeight;var F=function(){n=document.createElement("div");q.insertBefore(n,q.firstChild);n.setAttribute("id","crownix-cxgrid-scroller-container");n.style.height=s+"px"};var z=function(){var J=s/B;return s*J};var w=function(){h=n.offsetHeight-f;b=(B-s)/h;if(h<=0){h=0;b=0}};var H=function(){e=document.createElement("span");n.appendChild(e);e.setAttribute("id","crownix-cxgrid-scroller-vertical-bar");e.style.height=z()+"px";f=e.offsetHeight};var j=function(){F();H();w()};var D=function(K){var J=m+K;return c(J)};var c=function(J){if(isNaN(J)||(m==0&&J<0)||(m==h&&J>h)){return false}if(J<0){J=0}if(J>h){J=h}m=J;g.transform(e,"translateY("+J+"px)");g.transform(A,"translateY("+(J*b*-1)+"px)");C.scroll&&C.scroll({scrollY:J});return true};var a=function(){var L=function(){k=false;C.mouseenter&&C.mouseenter()};var K=function(){k=false;C.mouseleave&&C.mouseleave()};var P=function(){k=false};var J=function(S){S.stopPropagation();S.preventDefault();if(k){D(S.pageY-E);E=S.pageY}};var M=function(S){k=true;E=S.pageY};var O=function(){e.style["background-color"]="rgba(112, 112, 112, 0.9)"};var N=function(){e.style["background-color"]="rgba(112, 112, 112, 0.5)"};var Q=function(T){var S=h/(B/s);if(D(S*(T.deltaY<0?-1:1))){T.stopPropagation();T.preventDefault()}};e.addEventListener("mousedown",M);e.addEventListener("mouseover",O);e.addEventListener("mouseleave",N);q.addEventListener("mousemove",J);q.addEventListener("mouseenter",L);q.addEventListener("mouseleave",K);q.addEventListener("mouseup",P);A.addEventListener("wheel",Q)};var I=function(){A.addEventListener("touchstart",function(J){C.touchstart&&C.touchstart();if(J.touches.length==1){E=J.touches[0].pageY}});A.addEventListener("touchmove",function(J){if(J.touches.length==1){if(Math.abs(E-J.touches[0].pageY)>2){J.preventDefault()}D(((E-J.touches[0].pageY)/b));E=J.touches[0].pageY}});A.addEventListener("touchend",function(J){C.touchend&&C.touchend()})};var d=function(){a();I()};var u=function(){j();d();if(s-B>=0){n.style.display="none"}};var t=function(){n.style.height=q.offHeight+"px";e.style.height=z()+"px";f=e.offsetHeight;w()};var l=function(){B=A.offsetHeight;s=q.offsetHeight;if(s-B>=0){n.style.display="none"}else{n.style.display="inline"}var J=(m==h);t();if(J){c(h)}};var r=function(K){var J=K/b;return c(J)};var G=function(J){var K=(J-s)/b;return c(K)};this.paint=function(){u()};this.bind=function(J,K){C[J]=K};this.getMax=function(){return h};this.getCurrentRect=function(){return{top:m*b,bottom:m*b+s}};this.update=function(){l()};this.scrollUsingByTopPosition=function(J){r(J)};this.scrollUsingByBottomPosition=function(J){G(J)};this.isInScrollArea=function(L,J){var K=this.getCurrentRect();if(K.top>L){return -1}if(K.bottom<J){return 1}return 0}};m2soft.ns("m2soft.crownix.CxGridCell");m2soft.crownix.CxGridCell=function(d,f,k){var q;var l;var b=false;var m=function(){return{"text-align":d.align,"vertical-align":d.verticalAlign,color:d.font.color,"font-family":d.font.family,"font-size":(d.font.size/10)+"pt","font-weight":d.font.weight,"text-decoration":d.font.decoration,"font-style":d.font.style,}};var n=function(){return{"border-left":d.borderLeft,"border-right":d.borderRight,"border-top":d.borderTop,"border-bottom":d.borderBottom}};var h=function(){return $("<td>").attr("id","crownix-cxgrid-td").attr("col-id",d.groupId).css({position:"absolute",left:d.x/10.3+"px",top:d.y/10.3+"px",width:d.width/10.3+"px",height:d.height/10.3+"px","box-sizing":"border-box",background:d.background||"#FFFFFF"}).css(n())};var r=function(u){var t,s;u.css(m());t=$("<div>").attr("id","crownix-cxgrid-text-wrapper").appendTo(u);s=$("<pre>").css({display:"table-cell","vertical-align":d.verticalAlign,"white-space":"pre-wrap","word-break":"break-all",padding:"0px 1px",}).text(f).appendTo(t)};var c=function(){k.put(d.ffMml,q,b,f)};var j=function(s){l=k.paint(s,d.ffMml,q,b,f)};var g=function(t,s){var u=h();t.appendChild(u[0]);if(d.ffMml&&d.ffMml!=""){if(s){c()}j(u)}else{r(u)}};var a=function(s){if(l){k.changeRepeatedIndex(l,s)}};var e=function(){if(l){k.remove(l)}};this.paint=function(t,s){g(t,s)};this.isFormField=function(){return l!==undefined};this.setFieldIndex=function(s){if(q!==undefined){a(s)}q=s};this.getFieldIndex=function(){return q};this.remove=function(){e()};this.setIsKeepDataCell=function(s){b=s}};m2soft.ns("m2soft.crownix.CxGridBody");m2soft.crownix.CxGridBody=function(ab){var E=m2soft.crownix.CxGridCell;var ah=m2soft.crownix.CxGridScroller;var Q=m2soft.crownix.CxGridAside;var ad=m2soft.crownix.CxGridMenu;var b=m2soft.crownix.CxGridUtil;var e=m2soft.crownix.CxGridResource;var f;var ao;var n;var m;var W;var F;var C;var Y;var af;var al;var J;var z;var L=[];var a=[];var O=1;var S;var ac=true;var I=function(){var ar=ao.getAllData();if(f.subTemplates){for(var aq in ar){if(aq==0){ar[aq]["data-position-top"]=0}else{if(ar[aq-1]["sub-template-idx"]!=undefined){ar[aq]["data-position-top"]=ar[aq-1]["data-position-top"]+f.subTemplates[ar[aq-1]["sub-template-idx"]].height}else{ar[aq]["data-position-top"]=ar[aq-1]["data-position-top"]+f.height}}}return ar[ar.length-1]["data-position-top"]+((ar[ar.length-1]["sub-template-idx"]!=undefined)?f.subTemplates[ar[ar.length-1]["sub-template-idx"]].height:f.height)}return f.height*ar.length};var A=function(aq){if(aq.length>0){for(var ar in aq){for(var at=aq[ar][0];at<=aq[ar][1];at++){Y.appendChild(L[at].dom)}}}};var D=function(){var ar=ao.getData(f.height,z,3,f.subTemplates);for(var aq=0;aq<L.length;aq++){if(ar.start<=aq&&aq<=ar.end){if(!Y.contains(L[aq].dom)){Y.appendChild(L[aq].dom)}}else{if(Y.contains(L[aq].dom)){Y.removeChild(L[aq].dom)}}}S=ar};var t=function(){z.bind("scroll",function(){ac&&D();b.transform(af.getVerticalBody(),b.transform(F));al.hide()})};var c=function(){var aq=document.createElement("div");aq.style.position="absolute";aq.style["z-index"]=12;b.addClass(aq,"crownix-cxgrid-selection");return aq};var g=function(aq,ar){ar.style.width=aq.style.width;ar.style.height=aq.style.height;aq.appendChild(ar)};var ae=function(at){if(at.hasChildNodes()){var ar=at.childNodes;for(var aq=0;aq<ar.length;aq++){if(b.containsClass(ar[aq],"crownix-cxgrid-selection")){at.removeChild(ar[aq])}}}};var u=function(aq){for(var ar=0;ar<a.length;ar++){if(a[ar]==aq){a.splice(ar,1);return}}};var ag=function(){af.bind("click",function(av){ap(L[av.selectedIndex].dom);if(av.isSelected){if(av.isMouseEvent&&av.isRightClick){al.show(0,L[av.selectedIndex].dom.offsetTop+L[av.selectedIndex].dom.offsetHeight/2);return}var at=c();var ar=L[av.selectedIndex].dom;a.push(av.selectedIndex);g(ar,at);if(!av.isMouseEvent||(av.isMouseEvent&&av.isRightClick)){al.show(0,ar.offsetTop+ar.offsetHeight/2)}else{al.hide()}}else{ae(L[av.selectedIndex].dom);u(av.selectedIndex);if(a.length>0){var aq=a[a.length-1];var au=L[aq].dom;if(!av.isMouseEvent){al.show(0,parseInt(au.style.top)+parseInt(au.style.height)/2)}else{al.hide()}}else{al.hide()}}})};var am=function(){return a.length>0};var B=function(){return Math.min.apply(null,a)};var K=function(){return Math.max.apply(null,a)};var H=function(){for(var aq=0;aq<a.length;aq++){ae(L[a[aq]].dom)}};var d=function(){a=[]};var M=function(){return[{label:e.get("insert_1_above"),handler:function(){if(am()){var aq=B();an();k(aq,aq);al.hide()}}},{label:e.get("insert_1_below"),handler:function(){if(am()){var aq=K();an();k(aq,aq+1);al.hide()}}},{label:e.get("delete_row"),handler:function(){if(am()){G(a);d();al.hide()}}}]};var T=function(){for(var aq=0;aq<m.children.length;aq++){if(m.children[aq].id=="crownix-cxgrid-header-container"){return m.children[aq]}}return null};var V=function(){var ar=I();var aq=T();W=document.createElement("div");m.appendChild(W);W.setAttribute("id","crownix-cxgrid-body-container");W.style.width=(n.offsetWidth)+"px";W.style.height=(n.offsetHeight-aq.offsetHeight)+"px";F=document.createElement("div");W.appendChild(F);F.setAttribute("id","crownix-cxgrid-body-body");F.style["min-height"]=W.style.height;F.style.height=ar+"px";C=document.createElement("table");F.appendChild(C);C.setAttribute("id","crownix-cxgrid-body-table");C.style.height=ar+"px";Y=document.createElement("tbody");C.appendChild(Y)};var U=function(aq){return aq["sub-template-idx"]==undefined?f:f.subTemplates[aq["sub-template-idx"]]};var s=function(ar){var at=U(ar);var aq=document.createElement("tr");Y.appendChild(aq);aq.setAttribute("id","crownix-cxgrid-body-table-row");aq.style.top=(ar["data-position-top"]!=undefined?ar["data-position-top"]:(f.height*(Y.children.length-1)))+"px";aq.style.width=at.width+"px";aq.style.height=at.height+"px";aq.addEventListener("click",function(){ap(aq)});return aq};var ap=function(ar){var au=parseInt(ar.style.top),aq=parseInt(ar.style.height);var at=z.isInScrollArea(au,au+aq);if(at<0){z.scrollUsingByTopPosition(au)}else{if(at>0){z.scrollUsingByBottomPosition(au+aq)}}};var Z=function(ar,aA){var aw=s(ar),ay=U(ar),au=[],ax=ay.columns,av=ar["sub-template-idx"]!==undefined;for(var at=0;at<ax.length;at++){var aq=ax[at];var az=new E(aq,ar[aq.id],J.fieldController);az.setFieldIndex(O);az.setIsKeepDataCell(ar["keep-data-row"]);az.paint(aw,!ab.isRepaint());au.push(az)}if(!av){O++}if(aA===undefined){aA=L.length}L.splice(aA,0,{cellArray:au,dom:aw})};var P=function(aq){var ar=!ao.isSubTemplateData(aq)&&!ao.isKeepDataRow(aq);af.addRow(L[aq].dom.offsetTop,L[aq].dom.offsetHeight,ar)};var N=function(){S=ao.getData(f.height,z,3,f.subTemplates);for(var aq in S.data){Z(S.data[aq]);P(aq)}};var aj=function(){f=ab.getOptions().body;ao=ab.getData();n=ab.getParent();m=ab.getContent();J=ab.getOptions();parentScroller=J.parentScroll;ab.addEventHandler("onActive",r);ab.addEventHandler("onInactive",aa);V();z=new ah(W,F);z.paint();t();al=new ad(F,M(),z);af=new Q(m,W,F);af.paint();ag();af.hide();N();D()};var ai=function(){var aq=I();F.style.height=aq+"px";C.style.height=aq+"px"};var X=function(au){var at=ao.getAllData();for(var ar=au;ar<L.length;ar++){var aq=L[ar].dom;aq.style.top=(at[ar]["data-position-top"]!=undefined?at[ar]["data-position-top"]:f.height*ar)+"px"}};var j=function(at,au){var aq=at.getFieldIndex();var ar=au.getFieldIndex();at.setFieldIndex("t");au.setFieldIndex(aq);at.setFieldIndex(ar)};var w=function(ar){var aq=[];var au=ao.getAllData();for(var at=ar;at<ao.getAllData().length;at++){if(au[at]["sub-template-idx"]===undefined){aq.push(L[at])}}return aq};var q=function(av){var aq=w(av);for(var ax=0;ax<aq.length-1;ax++){var aw=aq[ax].cellArray;var au=aq[ax+1].cellArray;for(var at=0;at<aw.length;at++){var ay=aw[at];var ar=au[at];if(ay.isFormField()){j(ay,ar)}}}};var k=function(aq,ar){ao.insert(aq,ar);ai();z.update();var at=ao.getAllData()[ar];Z(at,ar);X(ar);af.insertRow(ar,L[ar].dom.offsetTop,L[ar].dom.offsetHeight,!ao.isSubTemplateData(ar));A([[0,L.length-1]]);q(ar);D()};var l=function(at){var ax=[];for(var au=0;au<at.length;au++){var av=L[at[au]];var aw=av.cellArray;for(var ar=0;ar<aw.length;ar++){var aq=aw[ar];if(aq.isFormField()&&ax.indexOf(aq.getFieldIndex())<0){ax.push(aq.getFieldIndex());O--}aq.remove()}if(Y.contains(av.dom)){Y.removeChild(av.dom)}L.splice(at[au],1)}return ax};var ak=function(aq,ar){for(var at=0;at<ar.length;at++){if(aq<ar[at]){return at}}return ar.length};var h=function(au){au.sort(function(az,ay){return az-ay});var ar=w(au[0]-1);for(var av=0;av<ar.length;av++){var ax=ar[av].cellArray;for(var at=0;at<ax.length;at++){var aq=ax[at];if(aq.isFormField()){var aw=ak(aq.getFieldIndex(),au);if(aw>0){aq.setFieldIndex(aq.getFieldIndex()-aw)}}}}};var G=function(aq){if(ao.isKeepDataRow(aq)){console.log(e.get("cannot_delete_keep_row"));return}if(ao.isSubTemplateData(aq)){console.log(e.get("cannot_delete_summary_row"));return}aq.sort(function(au,at){return at-au});if(!ao.getFilteringDataCnt(aq)){an();console.log(e.get("cannot_delete_all_row"));return}ao.deleteData(aq);ai();z.update();var ar=l(aq);X(aq[aq.length-1]);af.deleteRows(aq);A([[0,L.length-1]]);h(ar);D()};var r=function(){af&&af.show()};var aa=function(){an();af&&af.hide();al.hide()};var an=function(){H();af.cancelAllSelction();d()};this.paint=function(){aj()};this.getContainer=function(){return W};this.getBody=function(){return F};this.addRow=function(){an();k(L.length-1,L.length)};this.removeRow=function(){an();G([L.length-1])}};m2soft.ns("m2soft.crownix.CxGridHeader");m2soft.crownix.CxGridHeader=function(a){var c=m2soft.crownix.CxGridCell;var l;var f;var j;var b;var h;var m;var d;var e;var n=[];var k=function(w){var u=l.columns,z=[];w.setAttribute("style","height: "+l.height+"px; width: 100%");for(var s=0,r=u.length;s<r;s++){var t=u[s];var q=new c(t,t.text);q.paint(w);n.push(q)}return{array:z,dom:w}};var g=function(){l=a.getOptions().header;f=a.getParent();j=a.getContent();b=document.createElement("div");j.appendChild(b);h=document.createElement("div");b.appendChild(h);m=document.createElement("table");h.appendChild(m);d=document.createElement("colgroup");m.appendChild(d);e=document.createElement("tbody");m.appendChild(e);var q=document.createElement("tr");e.appendChild(q);n.push(k(q));b.setAttribute("id","crownix-cxgrid-header-container");b.setAttribute("style","overflow: auto; width:"+l.width+"px; height: "+l.height+"px");h.setAttribute("id","crownix-cxgrid-header-body");m.setAttribute("id","crownix-cxgrid-header-table");m.setAttribute("style","position: absolute; border-spacing: 0px; border-collapse: separate;")};this.paint=function(){g()};this.getTable=function(){return m}};m2soft.ns("m2soft.crownix.CxGridData");m2soft.crownix.CxGridData=function(d){var r=d.header.columns;var b=d.data;var n=d.body;var q=function(s){return s["sub-template-idx"]==undefined?n:n.subTemplates[s["sub-template-idx"]]};var g=function(t){var u=[];for(var s in r){if(t[r[s].id]){u.push(t[r[s].id])}else{u.push("")}}return u};var a=function(w,t){var B=t.getCurrentRect(),s=B.bottom-B.top,u=s/w;var A=Math.floor(B.top/w),z=Math.ceil(A+u);if(z==b.length){z=b.length}return{start:A,end:z}};var j=function(u,z,A){var s=0;var w=b.length-1;while(s<=w){var t=Math.floor((w+s)/2);if(t==b.length-1){return t}if(b[t]["data-position-top"]<=A&&b[t+1]["data-position-top"]>A){return t}else{if(b[t]["data-position-top"]>A){w=t-1}else{s=t+1}}}};var k=function(t,s,A){var z=s.getCurrentRect();var w=j(t,A,z.top);var u=j(t,A,z.bottom);return{start:w,end:u}};var c=function(s){return JSON.parse(JSON.stringify(b[s]))};var m=function(t,u){for(var s in u.columns){if(t["column"+s]&&u.columns[s].ffMml!=undefined){t["column"+s]=""}}};var f=function(s,t){var u=c(s);var w=q(u);m(u,w);u["keep-data-row"]=false;b.splice(t,0,u)};var h=function(s){for(var t=0;t<s.length;t++){b.splice(s[t],1)}};var e=function(s){while(l(s)&&s>=0){s--}return s};var l=function(t){if(Array.isArray(t)){var s=t;for(var u=0;u<s.length;u++){if(b[s[u]]["sub-template-idx"]!=undefined){return true}}}else{return b[t]["sub-template-idx"]!=undefined}return false};this.setData=function(t){b=[];for(var s in t){b.push(g(t[s]))}};this.getAllData=function(){return b};this.getData=function(u,t,w,z){var s={};if(z){s=k(u,t,z)}else{s=a(u,t)}if(w!=undefined){s.start-=w;s.end+=w;if(s.start<0){s.start=0}if(s.end>=b.length){s.end=b.length-1}}return{start:s.start,end:s.end,data:b}};this.getHeaderData=function(){return r};this.exportJsonForRD=function(){var t=[];for(var w in b){var s={r:[]};var z=q(b[w]);for(var u in b[w]){if(u==="keep-data-row"||u==="sub-template-idx"||u==="data-position-top"){continue}if(z.columns[u.replace("column","")].ffMml!=undefined){s.r.push("")}else{s.r.push(b[w][u])}}if(b[w]["sub-template-idx"]!=undefined){s.sIdx=b[w]["sub-template-idx"]}t.push(s)}return t};this.insert=function(s,u){var t=e(s);if(t>=0){f(t,u)}};this.deleteData=function(s){h(s)};this.isSubTemplateData=function(s){return l(s)};this.isKeepDataRow=function(t){if(Array.isArray(t)){var s=t;for(var u=0;u<s.length;u++){if(b[s[u]]["keep-data-row"]){return true}}}else{return b[t]["keep-data-row"]}};this.getFilteringDataCnt=function(s){return b.filter(function(u,t){return s.indexOf(t)==-1&&u["sub-template-idx"]==undefined}).length}};m2soft.ns("m2soft.crownix.CxGrid");m2soft.crownix.CxGrid=function(){var k=m2soft.crownix.CxGridData;var D=m2soft.crownix.CxGridHeader;var E=m2soft.crownix.CxGridBody;var c=m2soft.crownix.CxGridFooter;var n=m2soft.crownix.CxGridUtil;var f=m2soft.crownix.CxGridResource;var j;var C;var L;var r;var G;var K;var I;var u;var J={onActive:[],onInactive:[]};var H=false;var d=false;var m=function(){G=document.createElement("div");r.appendChild(G);G.setAttribute("id","crownix-cxgrid-content")};var h=function(){K=document.createElement("div");r.appendChild(K);K.setAttribute("id","crownix-cxgrid-active")};var l=function(){K.style.display="inline"};var b=function(){K.style.display="none"};var z=function(N){if(J[N].length>0){for(var M=0;M<J[N].length;M++){if(J[N][M] instanceof Function){J[N][M](C)}}}};var F=function(N){var M=n.eventPath(N);if(M.indexOf(r)>=0){return true}return false};var q=function(){z("onActive");b();a();j.parentScroll.disable&&j.parentScroll.disable();H=true};var B=function(){j.parentScroll.enable&&j.parentScroll.enable();l();z("onInactive");document.body.removeEventListener("click",w,true);document.body.removeEventListener("touchstart",w,true);document.body.removeEventListener("wheel",w,true);H=false};var w=function(M){if(F(M)){return}B()};var a=function(){document.body.addEventListener("click",w,true);document.body.addEventListener("touchstart",w,true);document.body.addEventListener("wheel",w,true)};var t=function(){var M=function(P){P.stopPropagation();if(!H){q()}if(P.type=="wheel"){try{u.getBody().dispatchEvent(new WheelEvent("wheel",P))}catch(O){var N=document.createEvent("WheelEvent");N.initWheelEvent("wheel",true,true,P.view,P.detail,P.screenXArg,P.screenYArg,P.clientXArg,P.clientYArg,P.buttonArg,P.relatedTargetArg,P.modifiersListArg,P.deltaX,P.deltaY,P.deltaZ,P.deltaMode);u.getBody().dispatchEvent(N)}}};K.addEventListener("mousedown",M);K.addEventListener("touchstart",M);K.addEventListener("wheel",M);K.addEventListener("mouseenter",function(N){N.stopPropagation();j.parentScroll.disable&&j.parentScroll.disable()});K.addEventListener("mouseleave",function(N){if(!H){N.stopPropagation();j.parentScroll.enable&&j.parentScroll.enable()}})};var s=function(){if(!L){L=new k(j)}I=new D(this);u=new E(this);footer=new c(this)};var g=function(){footer.paint();footer.addButtons([{label:f.get("add_row"),handler:function(){u.addRow()}},{label:f.get("delete_row"),handler:function(){u.removeRow()}}]);footer.hide()};var A=function(){H=false;h();t();m();I.paint();u.paint();if(j.editable){g()}};var e=function(M){r=(typeof M==="string")?document.getElementById(M):M;if(!r){throw Error("[ERROR] cannot found element: "+r)}};this.build=function(M,N){e(M);j=N;C=j.gridId;s.call(this);A()};this.paint=function(M,N){d=true;e(M);j.fieldController=N.fieldController;j.parentScroll=N.parentScroll;s.call(this);A();d=false};this.getParent=function(){return r};this.getContent=function(){return G};this.getData=function(){return L};this.getHeader=function(){return I};this.getBody=function(){return u};this.getOptions=function(){return j};this.exportJsonForRD=function(){return{id:j.gridId,rows:L.exportJsonForRD()}};this.addEventHandler=function(N,M){if(N==="onActive"||N==="onInactive"){J[N].push(M)}};this.isRepaint=function(){return d};this.addRow=function(){u.addRow()};this.removeRow=function(){u.removeRow()};this.isEditable=function(){return j.editable};this.active=function(){q()};this.inactive=function(){B()}};m2soft.ns("m2soft.crownix.CxGridManager");m2soft.crownix.CxGridManager=function(){var d=m2soft.crownix.CxGridWrapper;var c={};var b=function(f){f.addEventHandler("onActive",function(g){e(g)})};var e=function(f){for(var g in c){if(g!=f){c[g].inactive()}}};var a=function(){for(var f in c){c[f].inactive()}};this.build=function(k,h,f){if(c[k]==undefined){var g=new m2soft.crownix.CxGridConverter();var j=g.convert(f);j.gridId=k;c[k]=new m2soft.crownix.CxGrid();c[k].build(h,j)}else{c[k].paint(h,f)}b(c[k])};this.exportGridParameter=function(){var h=[" /rdynamicgriddata "];var f=[];h.push("[");for(var j in c){var g=c[j];f.push(g.exportJsonForRD())}h.push(JSON.stringify(f));h.push("]");h.push(" ");return h.join("")};this.get=function(f){return new d(c[f])};this.inactive=function(){a()}};m2soft.ns("m2soft.crownix.CxGridConverter");m2soft.crownix.CxGridConverter=function(){var c=m2soft.crownix.Util;var b=function(g){var f={width:g.width/10.3,height:g.height/10.3,columns:[]};for(var d in g.columns){var e=g.columns[d];e.id="column"+d;e.label=e.text;if(e.ffMml){e.ffMml=c.base64.utf8Decode(e.ffMml)}f.columns.push(e)}return f};var a=function(l){var h=[];var e=l.children;var d=(l.template.type==5)||!l.isFormEditMode;for(var f in e){var j={"keep-data-row":d};var g=e[f].row;for(var k in g){j["column"+k]=g[k]}if(e[f].parentRowIdx!=undefined){j["sub-template-idx"]=e[f].parentRowIdx}h.push(j)}return h};this.convert=function(g){var f={data:[]};f.header=b(g.template.header);f.body=b(g.template.row);var e=[];for(var d in g.template.parentRow){e.push(b(g.template.parentRow[d]))}if(e.length>0){f.body.subTemplates=e}f.data=a(g);f.fieldController=g.fieldController;f.parentScroll=g.parentScroll;f.editable=g.isFormEditMode;return f}};m2soft.ns("m2soft.crownix.CxGridFooter");m2soft.crownix.CxGridFooter=function(a){var g=40;var f=20;var e=1;var r=a.getParent();var c;var h=function(){c=document.createElement("div");r.appendChild(c);c.setAttribute("id","crownix-cxgrid-footer");c.style.top=(r.offsetHeight-e)+"px";c.style.left=-(f+e)+"px";c.style.width=(r.offsetWidth+f-+e*2)+"px";c.style.height=g+"px"};var l=function(){a.addEventHandler("onActive",d);a.addEventHandler("onInactive",b)};var q=function(){if(c){c.style.display="table"}};var k=function(){if(c){c.style.display="none"}};var d=function(){q()};var b=function(){k()};var n=function(u){var t=document.createElement("div");t.setAttribute("id","crownix-cxgrid-footer-button-wrapper");var s=document.createElement("button");s.innerText=u.label;s.setAttribute("id","crownix-cxgrid-footer-button");s.addEventListener("click",function(){u.handler()});t.appendChild(s);return t};var m=function(t){var s=n(t);c.appendChild(s)};var j=function(t){for(var s=0;s<t.length;s++){m(t[s])}};this.paint=function(){h();l()};this.show=function(){q()};this.hide=function(){k()};this.addButtons=function(s){j(s)}};m2soft.ns("m2soft.crownix.Thumbnail");m2soft.crownix.Thumbnail=function(c){var j=m2soft.crownix.Util.ActionEvents,q=m2soft.crownix.Util;var m=[],n,l;var e=10;var a=$("<div>").css({position:"absolute",width:"100%",height:"100%",}).attr("id","crownix-thumbnail-wrapper");var h=$("<div>").css({position:"absolute",width:"100%","text-align":"center",margin:"auto"}).attr("id","crownix-thumbnail-scroller").appendTo(a);var g=function(r){$(this).on(q.browser.mobile?" touchend":j.end,{pageNumber:r.data.pageNumber},b)};var b=function(r){if(Math.abs(n.distY)>10){return}n.enabled=false;$(".crownix-thumbnail-canvas").removeClass("crownix-thumbnail-selected");$(r.currentTarget).addClass("crownix-thumbnail-selected");c.viewer.movePage(r.data.pageNumber);$(this).off(q.browser.mobile?" touchend":j.end,b);if(c.options.slide.closeOnSelect){c.slide.closeSlide()}};var k=function(s){var r=c.thumbnail.getThumbnail();if(r.parents(".crownix-open").length){r.each(function(){if($(this).parent().css("visibility")=="visible"){var t=s.keyCode||s.which;if(t==38&&c.currentPage!=1){c.viewer.movePage(c.currentPage-1)}if(t==40&&c.currentPage!=c.totalPage-(c.editor?c.editor.getAddedPages().length:0)){c.viewer.movePage(c.currentPage+1)}}})}};var d=function(){c.thumbnail.create()};var f=function(){if(n){n.destroy()}m=[];h.children().remove();$(document).off("keydown",k);$(window).off("orientationchange",d)};this.getThumbnail=function(){return a};this.create=function(){f();var C=c.report.getMaxRatioPage(),B=Math.floor(C.width/10.3),t=Math.floor(C.height/10.3),u=B/t,r=h.width()*0.8,z=h.width()*0.8/u;m=new Array(c.totalPage-(c.editor?c.editor.getAddedPages().length:0));e=$(window).height()/z*2;for(var w=0;w<e;w++){l=$("<div>").css({position:"absolute",width:"100%",margin:"auto",}).addClass("crownix-thumbnail-page");$("<canvas>").addClass("crownix-thumbnail-canvas").attr({width:r,height:z}).appendTo(l);$("<div>").css({"margin-bottom":"10px",height:"20px"}).addClass("crownix-thumbnail-pageNo").appendTo(l);l.appendTo(h)}var s=function(F,E){var D=m.slice(F,F+E);this.updateCache(F,D)};var A=function(K,H,I,L){var D=parseInt(I)+1;if(D>c.totalPage-(c.editor?c.editor.getAddedPages().length:0)){$(K).css("display","none");return}else{$(K).css("display","block")}var E=$(K).find("canvas")[0];var M=E.getContext("2d");$(E).off(q.browser.mobile?" touchstart":j.start,g);$(E).off(q.browser.mobile?" touchend":j.end,b);$(K).find("div").text(D);if(H||m[I]){var J=H?H:m[I];E.width=J.width;E.height=J.height;M.putImageData(J,0,0)}else{if(L){var G=new m2soft.crownix.ImageConverter();if($(E).width()){G.convertPage(c.report,D,E,function(N,O){m[I]=O;setTimeout(M.resotore,0)},c.totalPage-(c.editor?c.editor.getAddedPages().length:0))}}else{M.save();M.fillStyle="#FFFFFF";M.fillRect(0,0,E.width,E.height);M.fillStyle="#424949";M.font='Italic 15px "Arial"';M.textAlign="center";M.textBaseline="middle";M.fillText("Loading",E.width/2,E.height/2+20);M.fillStyle="#A6ACAF";for(var F=0;F<360;F+=40){M.beginPath();M.arc(E.width/2+Math.cos((Math.PI/180)*F)*10,E.height/2+Math.sin((Math.PI/180)*F)*10,1+F/40*0.2,0,2*Math.PI,true);M.fill();M.closePath()}M.restore()}}$(E).on(q.browser.mobile?" touchstart":j.start,{pageNumber:D},g);if(c.currentPage==(I+1)){$(E).addClass("crownix-thumbnail-selected")}else{$(E).removeClass("crownix-thumbnail-selected")}};n=new IScroll("#crownix-thumbnail-wrapper",{zoom:false,scrollX:false,scrollY:true,scrollbars:"custom",interactiveScrollbars:true,freeScroll:true,keepCenter:true,mouseWheel:true,click:true,infiniteElements:"#crownix-thumbnail-scroller .crownix-thumbnail-page",infiniteLimit:c.totalPage-(c.editor?c.editor.getAddedPages().length:0),dataset:s,dataFiller:A,cacheSize:20,bounce:false,});$(document).on("keydown",k);$(window).on("orientationchange",d)};this.scrollPage=function(s){if(!n){return}var r=s*n.infiniteElementHeight,t=-(s-1)*n.infiniteElementHeight,u=Math.floor(n.wrapperHeight/n.infiniteElementHeight),w=Math.max(n.infiniteElementHeight*u-r,n.maxScrollY);if(w<n.y){n.scrollTo(0,Math.max(t,w),500)}else{if(t>n.y){n.scrollTo(0,t,500)}else{if(n.enabled){n.refresh()}}}n.enabled=true}};m2soft.ns("m2soft.crownix.Slide");m2soft.crownix.Slide=(function(){var l=m2soft.crownix.Util,m=m2soft.crownix.Util.ActionEvents,C=m2soft.crownix.ChannelManager;var r,a,e,w,n,F;var q=0;var G=200;var N=0;var A;var u=0;var k;var t=false;var c=function(Q){if(r.options.slide.fixedLayout&&!l.browser.mobile){k=new K()}q=0;var P=E(r.options.slide.initSizeMenu);a=$("<div>").addClass("crownix-slide").attr("style","left:"+(-P+G)+"px !important").width(P);k?a.insertAfter("#"+Q):a.appendTo("#"+Q);var O=$("<div>").addClass("crownix-tab-menu").appendTo(a);w=$("<div>").addClass("crownix-tab-content").appendTo(a);n=$("<ul>").addClass("crownix-tab-button-group").appendTo(O);C.getChannel("toolbar:changeToolbarState").subscribe(B);if(k){C.getChannel("toolbar:changeToolbarState").subscribe(k.updateToolbarStateInFixedLayout);C.getChannel("theme:changeTheme").subscribe(f)}window.addEventListener("orientationchange",H,false)};var B=function(P){var O=P.isHide?0:(parseFloat(P.theme.toolbarWidth)*P.scale),Q=P.direction;if(P.isFloating){if(Q=="top"){a.css("top",O);a.height(a.height-O)}else{if(Q=="left"){if(!P.isHide){N=O+20}else{N=O}}else{if(Q=="bottom"){a.height(a.height-O)}}}}if(Q=="left"){if(a.hasClass("crownix-open")){a.css("left",N)}else{a.css("left",N-a.width()+G)}}};var b=function(){if(e){e.css("top",a.height()/2-e.height()/2)}};var j=function(P){if(t){return}if(a.hasClass("crownix-open")){a.removeClass("crownix-open");$(this).addClass("crownix-right-arrow");$(this).removeClass("crownix-left-arrow");a.css("left",N-a.width()+G)}else{a.addClass("crownix-open");$(this).removeClass("crownix-right-arrow");$(this).addClass("crownix-left-arrow");a.css("left",N)}if(!P.isTrigger){var O=r.search.destroy();O&&h()}};var I=function(U,P,S){$(".crownix-slide").css("display","block");var Q="crownix-tab"+q++;var O=$("<li>").addClass("crownix-tab").text(U).attr("id",Q).data("priority",S).on(l.browser.mobile?"touchstart":m.start,L);var T=$("<div>").attr("id",Q).data("priority",S).appendTo(w);if(!n.children().length){e=$("<div>").addClass("crownix-slide-toggle").addClass("crownix-right-arrow").css("left",a.width()).appendTo(a);b();if(k){k.onToggleSlide()}else{e.on(l.browser.mobile?"touchend":m.end,j)}if(r.options.slide.keepSpread){e.trigger(l.browser.mobile?"touchend":m.end)}}$(".crownix-tab").width(100/(n.children().length+1)+"%");O.appendTo(n);$(P).appendTo(T);M();return Q};var L=function(O){n.children().each(function(){if($(this).attr("id")==$(O.currentTarget).attr("id")){$(this).addClass("crownix-tab-background")}else{$(this).removeClass("crownix-tab-background")}});w.children().each(function(){if($(this).attr("id")==$(O.currentTarget).attr("id")){$(this).css("visibility","visible");F=$(this)}else{$(this).css("visibility","hidden")}})};var M=function(){n.children().sort(function(Q,P){var O=$(Q).data("priority"),S=$(P).data("priority");if(O===undefined&&S===undefined){return 0}else{if(O===undefined){return 1}else{if(S===undefined){return -1}else{if(O>S){return 1}else{return -1}}}}}).appendTo(n);h()};var d=function(O){$(".crownix-slide .crownix-tab-menu .crownix-tab-button-group #"+O).remove();$(".crownix-slide .crownix-tab-content #"+O).remove();if(n.children().length===0){if(a.hasClass("crownix-open")){e.trigger(l.browser.mobile?"touchend":m.end)}a.css("display","none");e&&e.remove()}else{h()}};var J=function(P,O){var Q=$(".crownix-slide .crownix-tab-content #"+P);Q.empty();O.appendTo(Q)};var h=function(){if(n.children().length>0){n.children().eq(0).trigger(l.browser.mobile?"touchstart":m.start)}};var H=function(){window.addEventListener("resize",g,false)};var g=function(){E(a.width())};var E=function(O){if(isNaN(O)&&O.indexOf("%")!=-1){O=A.parent().width()*parseInt(O)/100}if(A.parent().width()/2>G){return Math.max(G,Math.min(O,A.parent().width()/2))}else{return Math.max(A.parent().width()/2),Math.min(O,G)}};var z=function(){if(!a.hasClass("crownix-open")){A.attr("style","top: "+u+"px;left:"+N+"px !important;width: 100%;")}else{A.attr("style","top: "+u+"px;left:"+(a.width()+N)+"px !important;width: "+(A.parent().width()-a.width())+"px;")}};var D=function(){a.css({top:u,height:A.height(),"z-index":0})};var f=function(){if(!r.toolbar.isHideToolbar()&&r.toolbar.getDirection()=="top"){u=r.toolbar.getHeight();z();D()}};var K=function(){var P=function(){var T=function(V){V.preventDefault();V.stopPropagation();t=false;$(window).on(m.move,U);$(window).on(m.end,S)};var U=function(W){W.preventDefault();W.stopPropagation();if(Math.abs(W.originalEvent.offsetX)>5){t=true;k.offToggleSlide();a.addClass("crownix-slide-drag")}var V=E(W.originalEvent.x-N-A.parent().position().left);a.css({width:V});e.css({left:V});A.attr("style","top: "+u+"px;left:"+(V+N)+"px !important;width: "+(A.parent().width()-V-N)+"px;")};var S=function(V){V.preventDefault();V.stopPropagation();r.scroll.refresh();r.tableOfContents&&r.tableOfContents.refreshScroll();r.formManager.validator&&r.formManager.validator.updateScroll();$(window).off(m.move,U);$(window).off(m.end,S);if(t){k.onToggleSlide();a.removeClass("crownix-slide-drag")}};this.on=function(){e.on(m.start,T)};this.off=function(){e.off(m.start,T);$(window).off(m.move,U);$(window).off(m.end,S)}};var Q=function(S){if(t){return}z();if(!a.hasClass("crownix-open")){O.off()}else{O.on()}if(r.scroll){r.scroll.refresh()}};var O=new P();this.updateToolbarStateInFixedLayout=function(T){var S=T.isHide?0:(parseFloat(T.theme.toolbarWidth)*T.scale),U=T.direction;if(U=="top"){u=S}if(T.isFloating){if(U=="left"){if(!a.hasClass("crownix-open")){A.attr("style","left: 0px !important")}}z();D()}else{if(U=="left"){N=S+20}if(!T.isHide){z();D()}}};this.onToggleSlide=function(){e.on(l.browser.mobile?"touchend":m.end,j);e.on(m.end,Q)};this.offToggleSlide=function(){e.off(l.browser.mobile?"touchend":m.end,j);e.off(m.end,Q)}};var s=function(P,O){A=$("#"+m2soft.crownix.Constant.CONTAINER_ID);r=O;c(P);m=m2soft.crownix.Util.ActionEvents;this.closeSlide=function(){if(a.is(".crownix-open")){e.trigger(l.browser.mobile?"touchend":m.end)}};this.openSlide=function(Q){if(Q){$("#"+Q).trigger(l.browser.mobile?"touchend":m.end)}if(!a.is(".crownix-open")){e.trigger(l.browser.mobile?"touchend":m.end)}}};s.prototype={moveSlideToggleBtn:function(){b()},addSlideTab:function(Q,O,P){return I(Q,O,P)},destroySlide:function(){$(".crownix-slide").remove();window.removeEventListener("orientationchange",H,false);window.removeEventListener("resize",g,false)},removeTab:function(O){d(O)},redraw:function(P,O){J(P,O)},getSlide:function(){return a},getSelectedTab:function(){return F},isSelectedTab:function(O){return F&&(F[0].id==O)},isOpen:function(){return a.hasClass("crownix-open")}};$(window).resize(function(){if(k){E(a.width());z();D()}m2soft.crownix.Slide.prototype.moveSlideToggleBtn()});return s})();m2soft.ns("m2soft.crownix.TableOfContents");m2soft.crownix.TableOfContents=function(t){var q=m2soft.crownix.Resource;var r=m2soft.crownix.Util;var F=t;var z=F.options;var m=undefined,b="table-of-contents-container",J="table-of-contents",k="table-of-contents-focus",c,s,u,j,E="#00D8FF",e="#AFE1FF";var M,K=$('<div id="'+b+'">'),H=$('<div id="'+J+'">'),G=$('<div id="'+k+'" tabindex="-1" class="crownix-virtual-cursor">');var I=false;var a=function(){if(!M){M=new IScroll("#"+b,{scrollY:true,scrollX:true,scrollbars:true,freeScroll:true,interactiveScrollbars:true,mouseWheel:true,doubleTap:false,})}g();d();G.css(u);A(1)};var d=function(){if(typeof z.useTableOfContents==="boolean"&&z.useTableOfContents===true){c=E;s=e}else{if(typeof z.useTableOfContents==="object"){var O=z.useTableOfContents.highlight;c=(O&&O.field)||E;s=(O&&O.tree)||e}}u={"-webkit-box-shadow":"0px 0px 3px 3px "+c,"-moz-box-shadow":"0px 0px 3px 3px "+c,"box-shadow":"0px 0px 3px 3px "+c};j={"background-color":s}};var g=function(){var O=r.browser.mobile;var T=O?"touchstart":"click";var S=document.querySelectorAll("#"+J+" .expanded");var U=document.querySelectorAll("#"+J+" .tree-item");for(var P=0,Q=S.length;P<Q;P++){S[P].addEventListener(T,B)}for(var P=0,Q=U.length;P<Q;P++){U[P].addEventListener(T,w);if(!O){U[P].addEventListener("dblclick",B)}}};var L=function(O){$("#"+J+" ul > span").filter(function(){var P=Number($(this).attr("pg"));return(O.indexOf(P)!=-1)}).parent().css("display","none")};var n=function(O){O=[].slice.call(O);$("#"+J+" ul > span").filter(function(){var P=Number($(this).attr("pg"));return(O.indexOf(P)!=-1)}).parent().css("display","block")};var w=function(Q){Q.preventDefault();Q.stopPropagation();if($(this).hasClass("label")){return}var O=F.report.getDestPageNum($(this).attr("pg"));if(O>0){l($(this))}else{$("#"+J+" .selected").removeClass("selected").css("background-color","transparent");G.css({display:"none"})}if(F.options.scrollOptions.useInfiniteScroll){var P=F.documentScroller.getCurrentPageNumber();if(P!==O){F.viewer.movePage(O)}}else{if(F.currentPage!==O){I=true;F.viewer.movePage(O)}else{C(G)}}if(F.options.slide.closeOnSelect){F.slide.closeSlide()}};var B=function(Q){Q.preventDefault();Q.stopPropagation();var P=$(this);var O=P.siblings("ul");P.hasClass("opened")?N(O):h(O);P.toggleClass("opened");if(P[0].tagName==="SPAN"){P.prev().toggleClass("opened")}else{P.next().toggleClass("opened")}};var D=function(){M&&M.refresh()};var A=function(Q){$("#"+J+" .selected").removeClass("selected").css("background-color","transparent");G.hide();if(z.useTableOfContents&&z.useTableOfContents.highlight&&z.useTableOfContents.highlight.pageSync===true){var P=$("#"+J);var O;for(var S=Q;S>0;S--){O=P.find('span.tree-item.field[pg="'+S+'"]');if(O&&O.length>0){$(O[O.length-1]).addClass("selected").css(j);break}}}};var C=function(U){var Q=F.containerDom;var P=F.scroll;var O=U.position(),T=U.offset(),S=Q.offset();if(r.browser.mobile||S.left>T.left||S.top>T.top||(S.left+Q.outerWidth())<T.left||(S.top+Q.outerHeight())<T.top){setTimeout(function(){var V=-O.left,W=-O.top+45+$(document).scrollTop();if(V>0){V=0}else{if(V<P.maxScrollX){V=P.maxScrollX}}if(W>0){W=0}else{if(W<P.maxScrollY){W=P.maxScrollY}}P.scrollToKeepCenter(V,W,0)},r.browser.mobile?500:0)}};var f=function(P,O){G.prependTo(P);if(I){I=!I;C(G)}else{A(O)}};var l=function(V,Q){var U=m2soft.crownix.Painter.adjustCoord;var T=U(V.attr("le"));var S=U(V.attr("to"));var P=U(V.attr("ri"))-T;var O=U(V.attr("bo"))-S;G.css({left:T,top:S,width:P,height:O,display:"block"}).focus();$("#"+J+" .selected").removeClass("selected").css("background-color","transparent");V.addClass("selected").css(j)};var N=function(O){O.css({display:"none"});D()};var h=function(O){O.css({display:"block"});D()};this.onDrawPage=function(P,O){f(P,O)};this.onRemovePage=function(O){L(O)};this.onRestorePage=function(O){n(O)};this.makeDom=function(Y){var Z=Y.tree;var S=[],O=[],U=-1;var W=function(ab,ac){var aa=ab.rt;O[++U]=ac>0||ab.tl?'<ul style="display:none">':"<ul>";if(ab.cdr){O[++U]='<label class="expanded"></label>'}O[++U]='<span class="tree-item field';O[++U]=ab.cdr?'"':' last"';O[++U]=' pg="';O[++U]=ab.pg;O[++U]='" le="';O[++U]=aa.le;O[++U]='" to="';O[++U]=aa.to;O[++U]='" ri="';O[++U]=aa.ri;O[++U]='" bo="';O[++U]=aa.bo;O[++U]='">';O[++U]=r.escapeXmlEntities(ab.dt);O[++U]="</span>"};var X=function(aa,ab){O[++U]=ab>0?'<ul style="display:none">':"<ul>";O[++U]='<label class="expanded"></label>';O[++U]='<span class="tree-item label">';O[++U]=r.escapeXmlEntities(aa.tl);O[++U]="</span>"};var P=function(aa,ab){if(aa&&ab){O[++U]="</ul>"}O[++U]="</ul>"};var V=function(aa,ag){var ad,ae,af;for(var ab=0,ac=aa.length;ab<ac;ab++){ad=aa[ab];ae=(ab===ac-1);af=ad.tl;if(af){if(S[ag]!==af){S[ag]=af;X(ad,ag)}}W(ad,ag);if(ad.cdr){V(ad.cdr,ag+1)}if(ae){S[ag]=null}P(ad.tl,ae)}};for(var T=0,Q=Z.length;T<Q;T++){V(Z[T].cdr,0)}H[0].innerHTML=O.join("");F.slide.addSlideTab(q.get("table_of_contents"),K,0);K[0].appendChild(H[0]);a()};this.refreshScroll=function(){D()}};m2soft.ns("m2soft.crownix.Search");m2soft.crownix.Search=(function(){var l=m2soft.crownix.Resource;var k=m2soft.crownix.resource.Icon;var h=m2soft.crownix.Util;var Y=m2soft.crownix.Ajax;var t=m2soft.crownix.Map;var u=m2soft.crownix.ChannelManager;var r,d,L,M,ae,f,A,E,V,Q,D;var W,g,s,af=[],aa,U=[],e;var X=false;var ac=undefined;var S=false;var T=23;var F=$(k.SEARCH_ICON).css({width:T,height:T});var n=$(k.SEARCH_CANCEL).css({width:T,height:T});var q=function(){L=$("<div>").css("display","list-item").addClass("crownix-search-top").appendTo(d);f=$("<input>").css({position:"absolute",width:L.width()-7,height:"20px",border:"1px solid #737373c2",margin:"2px",padding:"1px 0px"}).attr("placeholder",l.get("search")).appendTo(L).on("keyup",b).focus();A=$("<button>").css({position:"absolute",height:f.innerHeight(),padding:0,right:0,border:"none",background:"transparent",cursor:"pointer",margin:"3px"}).on("click touchstart",z).hover(function(){$(this).css("background","lightgrey")},function(){$(this).css("background","white")}).addClass("crownix-search-toggle crownix-search-icon").appendTo(L);F.appendTo(A);var ah=$("<div>").css({position:"absolute",top:T}).on("click touchend",function(){ac=$(this).find("input").is(":checked")?"1":""}).appendTo(L);$("<input>").attr({type:"checkbox",id:"crownix-search-regCheck"}).css("margin","10px").appendTo(ah);$("<label>").css("font-size","10pt").attr("for","crownix-search-regCheck").text(l.get("search_reg")).appendTo(ah);M=$("<div>").css({position:"absolute",top:T*3,width:"100%",padding:"5px"}).addClass("crownix-search-middle").appendTo(d);ae=$("<div>").addClass("crownix-search-bottom").appendTo(d)};var z=function(ah){Z();if(h.browser.mobile){f.blur()}if($(this).hasClass("crownix-search-icon")){if(c()){$(this).removeClass("crownix-search-icon");$(this).empty();n.appendTo($(this));aa="";P().fail(function(ai){r.dialog.show(ai.message)})}}else{$(this).addClass("crownix-search-icon");$(this).empty();F.appendTo($(this));f.val("");g="";ag()}};var c=function(){if(!g){return false}try{if(ac){s=new RegExp(g,"gi")}else{s=new RegExp(g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi")}}catch(ah){r.dialog.show(l.get("search_reg_error"));return false}return true};var b=function(ah){var ai=(window.event)?ah.which:ah.keyCode;g=$(this).val();if((!g&&!A.hasClass("crownix-search-icon"))||((g&&ai==13)&&A.hasClass("crownix-search-icon"))){A.trigger("click")}if(ai!=13){A.addClass("crownix-search-icon");A.empty();F.appendTo(A)}};var Z=function(){af=[];M.empty();ae.empty();f.focus()};var P=function(){var ai=$.Deferred();if(!g){return ai}if(r.stateLess||r.report.isLoadTotalPage()){S=true;for(var aj=1;aj<=r.totalPage;aj++){if(r.report.hasPage(aj)){var al=$(r.report.getPage(aj));O(al,aj)}if(aj==r.totalPage){C();J()}}}else{S=false;var ah=new Y();ah.setConnectTimeout(r.options.timeout);ah.setHandler({done:function(am){if(am.responseText===undefined||am.responseText.indexOf("[ERS-")>=0){ai.reject({status:false,code:"error",message:l.get("search_server_error")});return}K(am.responseText,r.options.searchOption);ai.resolve()},error:function(an,am){ai.reject({status:false,code:"error",message:l.get("search_server_error")})},abort:function(){ai.reject({status:false,code:"error",message:l.get("search_server_error")})},timeout:function(){ai.reject({status:false,code:"error",message:l.get("search_server_error")})}});var ak={opcode:711,rdid:r.rdid,option:r.options.searchOption=="all"?r.options.searchOption:"page",reg:ac?ac:"",text:ac?s.toString().slice(s.toString().indexOf("/")+1,s.toString().lastIndexOf("/")):g,protocol:"sync"};if(r.options.enableSecure){ah.setRequestHeader("crownix-rdid",r.rdid);ah.setRequestHeader("crownix-encrypt-type","parameter")}ah.invoke(e+(r.rdid?"?rdid="+r.rdid:""),ak)}return ai};var K=function(ai,ah){Z();if(ah=="all"){af=JSON.parse(ai);C()}else{U=ai.split(",");if(ai){B()}}J()};var O=function(al,ak,ah,an){var ao=ah;var am=an;if(!al.children().length&&ah){var aj=r.layerManager.getLayer(ah);var ai=an?$(aj.group[an].mml):$(aj.mml);al=ai.find("PG").length>0?ai.find("PG"):ai.children()}al&&al.children().each(function(){var aq=$(this);var ap=this.tagName.toUpperCase();var au;if(ap==="TL"){if(aq.attr("ft")==="1"||aq.attr("ft")==="2"){au=h.formatPageNumber(aq.text(),r.report.getPageInfo(ak,aq.attr("ft")))}else{au=aq.text()}}else{if(ap==="FF"){var ar=aq.attr("ty");var at=r.formManager.getField(aq.attr("fi"),aq.attr("id"));if(at&&at.commonHidden==="1"){return}if(r.isFormEditMode&&at){if(ar==="cb"||ar==="rb"){au=at.getLabel()}else{if(ar==="fl"){au=at.getValue()}else{if(ar==="co"){au=at.getDisplayValue()}else{if(ar==="tf"||ar==="ta"){if(aq.attr("pw")!="1"&&aq.attr("hd")!="1"){au=at.getValue()}}else{if(ar==="pn"){au=at.getBackgroundText()}else{if(ar==="sm"){au=aq.text()}}}}}}}else{if(ar==="sm"){au=aq.text()}else{if(ar==="fl"){au=(aq.attr("vl")&&aq.attr("vl").substring(aq.attr("vl").lastIndexOf("/")+1))}else{if(ar==="cb"||ar==="rb"){au=aq.attr("lb")}else{if(ar==="co"){au=aq.attr("sv")}else{if(ar==="pn"){au=aq.attr("bt")}else{if(ar==="tf"||ar==="ta"){if(aq.attr("pw")!="1"&&aq.attr("hd")!="1"){au=aq.text()}}}}}}}}}else{if(ap==="PR"||ap==="TB"||ap==="TE"||ap==="FC"||ap==="SO"||ap==="SG"||ap==="LY"||ap==="CL"){O(aq,ak,aq.attr("id"))}else{if(ap==="LE"){O(aq,ak,ao,aq.attr("id"))}}}}if(au&&au.match(s)!==null&&au.length>0){af.push({page:ak,text:au,element:aq[0],layer:ao,cardLayer:am})}})};var C=function(){$("<div>").css({"float":"left","word-wrap":"break-word"}).text(l.get("validate_invalid_count").replace("%d",af.length).replace(/[(|)]/g,"")).appendTo(M);if(af.length){B()}};var B=function(){Q=$("<div>").css({"float":"left","margin-top":h.browser.mobile||h.browser.firefox?"":h.browser.msie||h.browser.edge?"2px":"3px","word-wrap":"break-word"}).appendTo(M);var ah=$("<div>").css({"float":"right","margin-right":"10px"}).appendTo(M);$("<button>",{type:"button"}).on("click",function(){X=false;I("minus")}).addClass("crownix-search-order-button").text("<").appendTo(ah);$("<button>",{type:"button"}).on("click",function(){X=false;I("plus")}).addClass("crownix-search-order-button").text(">").appendTo(ah)};var J=function(){E=$("<div>").css({position:"absolute",top:M.outerHeight()+T*3,width:"100%",height:d.height()-d.offset().top,overflow:"hidden"}).addClass("crownix-search-wrapper");D=$("<div>").appendTo(E);if(r.stateLess||r.options.searchOption=="all"||r.report.isLoadTotalPage()){a()}else{w()}E.appendTo(ae);V=new IScroll(".crownix-search-wrapper",{scrollY:true,scrollX:true,scrollbars:true,freeScroll:true,interactiveScrollbars:true,mouseWheel:true,doubleTap:false,});window.addEventListener("resize",m)};var a=function(){var ak=[],ai,al=0;for(var aj=0;aj<af.length;aj++){var ah=af[aj].page;if(!ak.length||ak.indexOf(ah)==-1){al=0;ak.push(ah);pageCount=$("<div>").addClass("crownix-search-pagecount").appendTo(D);ai=$("<ul>").addClass("crownix-search-page").data("page",ah).appendTo(D)}pageCount.text(l.get("page_no").replace("%d",ah)+l.get("validate_invalid_count").replace("%d",++al));G(af[aj]).appendTo(ai)}H()};var w=function(){var aj,ak;var ah=function(ap){var ao=$(r.report.getPage(ap));O(ao,ap);ak.text(l.get("page_no").replace("%d",ap)+l.get("validate_invalid_count").replace("%d",af.length));for(var an=0;an<af.length;an++){G(af[an]).appendTo(aj)}H()};var am=r.options.scrollOptions.useInfiniteScroll?r.documentScroller.getCurrentPageNumber():r.currentPage;for(var al=0;al<U.length;al++){var ai=parseInt(U[al]);ak=$("<div>").addClass("crownix-search-pagecount").text(isNaN(ai)?l.get("search_not_page"):l.get("page_no").replace("%d",ai)).css("cursor","pointer").data("page",ai).on("click touchend",function(){if(isNaN(ai)||am==$(this).data("page")){return}r.viewer.movePage($(this).data("page"))}).appendTo(D);aj=$("<ul>").addClass("crownix-search-page").data("page",ai).appendTo(D);if(am==ai){ah(ai)}if(al==U.length-1){V&&V.refresh()}}};var m=function(){E.css("height",d.height()-d.offset().top);V.refresh()};var G=function(ak){var ap=ak.text;var am=new t();var aq="";for(var al=0;al<ap.length;al++){var ah=s.exec(ap);if(ah==null){continue}am.put(ah.index,ah[0])}var an=0;var ao=am.toObject();for(var ai in ao){var aj=ao[ai].length;aq+=ap.substring(an,ai);aq+=ap.substr(ai,aj).bold();an=parseInt(ai)+aj}if(an!=ap.length){aq+=ap.substr(an,ap.length)}return $('<li><div style = "display: inline;">'+aq+"</div></li>").css("background",ad(ak)?"gray":"none").hover(function(){$(this).css("background","lightgrey")},function(){$(this).css("background",ad(ak)?"gray":"none")}).data("moveTarget",ak).on("click touchend",function(at){if(Math.abs(V.distY)>10){return}X=false;aa=ad($(at.currentTarget).data("moveTarget"))?"":$(at.currentTarget).data("moveTarget");var ar=r.options.scrollOptions.useInfiniteScroll?r.documentScroller.getCurrentPageNumber():r.currentPage;if(r.options.scrollOptions.useInfiniteScroll){if(ar!=ak.page){u.getChannel("viewer:onDrawPage").subscribe(I);r.documentScroller.scrollToPage(ak.page,r.documentScroller.drawVisiblePages.bind(null,true))}else{I()}}else{if(ar!=ak.page){r.viewer.movePage(ak.page)}I()}})};var I=function(ah){var ai=$.map(af,function(ak,aj){if(ad(ak)){return aj+1}})[0];if(ah=="plus"){if(ai==af.length){return}if(!aa){ai=0}++ai;aa=af[ai-1]}else{if(ah=="minus"){if(ai==1){return}--ai;aa=af[ai-1]}}Q&&Q.text(ai?"("+ai+")":"");E.find("li").each(function(aj){if(ad(af[aj])){V.scrollToElement(this,500);$(this).css("background","gray")}else{$(this).css("background","none")}});if(r.options.scrollOptions.useInfiniteScroll){if(ah&&aa&&r.documentScroller.getCurrentPageNumber()!=aa.page){u.getChannel("viewer:onDrawPage").subscribe(H);r.documentScroller.scrollToPage(aa.page,r.documentScroller.drawVisiblePages.bind(null,true))}else{H()}}else{if(ah&&aa&&r.currentPage!=aa.page){r.viewer.movePage(aa.page)}H()}};var ag=function(){$(".crownix-search-mark").empty();$(".crownix-search-mark-layer").empty()};var H=function(){ag();var ap=r.options.scrollOptions.useInfiniteScroll?r.documentScroller.getCurrentPageNumber():r.currentPage;for(var ao=0;ao<af.length;ao++){if(af[ao].page!=ap){continue}if(r.drilldownManager.hasOpenedDrilldown(af[ao].page)){return}var ak=af[ao].element;var an=af[ao].layer;var ai=af[ao].cardLayer;var at,ar,aq;if(an){aq=r.layerManager.getLayer(ai?af[ao].cardLayer:af[ao].layer);if(aa&&ad(af[ao])&&!X){X=true;r.layerManager.getLayer(af[ao].layer).show(af[ao].cardLayer)}at=aq.mrdPath;ar=aq.boundary}var aj=N($(ak).attr("le"),an)-(at?N(ar.left,an):0);var au=N($(ak).attr("to"),an)-(at?N(ar.top,an):0);var ah=N($(ak).attr("ri"),an)-aj-(at?N(ar.left,an):0);var aw=N($(ak).attr("bo"),an)-au-(at?N(ar.top,an):0);var am;if(ai){am=$(".crownix-search-mark-"+af[ao].cardLayer)}else{if(an){am=$(".crownix-search-mark-"+af[ao].layer)}else{if(r.options.scrollOptions.useInfiniteScroll){var av=r.documentScroller.getPageFrame(ap);am=$(av.querySelector(".crownix-search-mark"))}else{am=$(".crownix-search-mark")}}}var al=$("<div>").css({position:"absolute",left:aj,top:au,width:ah,height:aw,background:ad(af[ao])?"rgba(255, 141, 0, 0.37)":"rgba(255, 255, 0, 0.28)"}).appendTo(am);if(al[0]&&ad(af[ao])){r.scroll.scrollToElement(al[0],500);aq&&aq.scroll.scrollToElement(al[0],500)}}};var N=function(ah,ai){return m2soft.crownix.Painter.adjustCoord(ah,0,ai?0:undefined)};var ad=function(ah){return ah&&aa&&JSON.stringify(ah)==JSON.stringify(aa)&&ah.element.outerHTML==aa.element.outerHTML};var ab=function(){af=[];D.empty();w();I()};var j=function(ah,ai){r=ah;e=ai};j.prototype={open:function(){if(!d){d=$("<div>").addClass("crownix-search-slide");W=r.slide.addSlideTab(l.get("search"),d);q()}r.slide.openSlide(W)},destroy:function(ah){if(ah){r.toolbar.disableToolbarItem(["search"])}if(!d){return false}if((A.hasClass("crownix-search-icon")&&!ae.children().length)||ah){A=d=undefined;r.slide.removeTab(W);window.removeEventListener("resize",m);return true}},refresh:function(){var ah=V&&V.y;Z();P();I();H();V&&V.scrollTo(0,ah)},refreshMark:function(){if(!r.stateLess&&r.options.searchOption!="all"&&!S){ab()}else{H()}},isCreate:function(){if(!d||!E){return false}return true}};return j})();m2soft.ns("m2soft.crownix.storage.ExternalStorage");m2soft.crownix.storage.ExternalStorage=(function(){var d=m2soft.crownix.Resource;var h=m2soft.crownix.security.IKE;var j=m2soft.crownix.Util;var f=false;var g=function(k){this.url=k.infotalkUrl+"/storage";this.key=k.key;this.timeout=k.timeout||30;this.emit=k.emit;this.secure=false;this.dataVerification=false;this.compressRequest=false};var c=function(m,q,r,n,s){var k=new m2soft.crownix.Ajax();var l=$.Deferred();k.setConnectTimeout(r);k.setHandler({done:function(t){l.resolve(t.responseText)},error:function(u,t){if(t){l.reject({status:false,code:"error",message:t})}else{if(u.status==0){l.reject({status:false,code:"error",message:d.get("server_connect_error")})}else{l.reject({status:false,code:"error",message:d.get("request_server_error")})}}},abort:function(){l.reject({status:false,code:"abort",message:d.get("request_abort_error")})},timeout:function(){l.reject({status:false,code:"timeout",message:d.get("request_timeout_error")})},});if(this.secure){k.setRequestHeader("crownix-encrypt-type","content");k.setRequestHeader("crownix-rdid",n)}if(s){k.setRequestHeader("crownix-data-hash",s)}if(f){if(typeof q==="string"){k.setRequestHeader("crownix-formdata-encoding","gzip; charset=UTF-8")}else{k.setRequestHeader("crownix-formdata-encoding","gzip")}}k.invoke(m,q);return l};var b=function(l,m){var k;try{k=window.pako.gzip(l,m);if(m&&m.to==="string"){k=String.fromCharCode.apply(null,k)}f=true}catch(n){n&&console.log(n.message);f=false;k=l}return k};var e=function(m,t,n,l){var s;var k;var u;var q;var r=this;if(this.secure){h.request({serverUrl:url}).pipe(function(w){s=h.getAlgorithm(w);k=w;u=h.getKey(w);m.rdid=w;m=JSON.stringify(m).split("\\u0004").join("\u0004");if(r.dataVerification){q=j.sha256(m)}if(r.compressRequest){m=b(m,{to:"string"})}return crypt("encrypt",m,s,u)},function(w){return $.Deferred().reject({status:false,code:"security error",message:w})}).pipe(function(w){return c.call(r,r.url,w,t,k,q)},function(w){l(w)}).pipe(function(w){return crypt("decrypt",w,s,u)}).pipe(function(w){n(w)})}else{m=JSON.stringify(m).split("\\u0004").join("\u0004");if(this.dataVerification){q=j.sha256(m)}if(this.compressRequest){m=b(m)}c.call(this,this.url,m,t,null,q).pipe(function(w){n(w)},function(w){l({status:false,message:w.message})})}};var a=function(l,m,k){m=JSON.parse(m);m.mml=l;if(k){m.options=k}return m};g.prototype={exec:function(t,s,w,m,l,u,A){var k=t.method.trim().toUpperCase();var q={parameters:{key:t.key?t.key:this.key,method:k,mml:true,formData:true,info:true}};t=$.extend({},{mml:true,formData:true,info:true,includeNote:false,timeout:this.timeout,compressRequest:false},t);f=false;if(!t.mml&&!t.formData&&!t.info){u&&u({status:false,message:d.get("request_abort_error")});return}this.compressRequest=t.compressRequest;if(k==="PUT"){if(!this.isFormEditMode){t.formData=false}var r=s({includeFormData:t.formData,includeExtra:true,includeNote:t.includeNote,lastFocus:t.lastFocus});var z=t.formData?r.mmlData:r;var n=t.formData?r.formData:null;if(t.mml){q.parameters.mml=z.mml;t.info=true}else{q.parameters.mml=""}delete z.mml;if(t.info){q.parameters.info=JSON.stringify(z)}else{q.parameters.info=""}if(t.formData){q.parameters.formData=n}else{q.parameters.formData=""}}else{if(!t.mml){q.parameters.mml=false}if(!t.formData){q.parameters.formData=false}}this.emit("before-storage",{method:k});e.call(this,q,t.timeout,function(B){B=JSON.parse(B);if(B.status){var C={status:true};if(k==="GET"){var D=JSON.parse(B.message);if(D.mmlData===""&&D.formData===""){u&&u({status:false,message:d.get("file_not_found")});return}if(D.formData===""){D.formData=undefined}if(D.mmlData===""){D.mmlData=undefined}if(!D.mmlData){l(D.formData)}else{if(!D.formData){D.mmlData=a(D.mmlData,D.mmlInfo,A);m(D.mmlData)}else{D.mmlData=a(D.mmlData,D.mmlInfo,A);m(D)}}if(D.mmlData&&D.formData&&t.lastFocus){m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(function(){m2soft.crownix.FieldOrder.getInstance().moveNextRequiredField(D.mmlData.focusField)})}}else{if(k==="EXIST"){var D=JSON.parse(B.message);C.isExist={mml:D.mmlData==="true",formData:D.formData==="true"}}}u&&u(C)}else{u&&u({status:false,message:B.message})}},function(B){u&&u(B)})},setIsFormEditMode:function(k){this.isFormEditMode=k}};return g})();m2soft.ns("m2soft.crownix.WacomSignWindow");m2soft.crownix.WacomSignWindow=(function(){var f=m2soft.crownix.Constant;var j=m2soft.crownix.Util;var b=m2soft.crownix.Message;var A;var B=false;var C;var z;var q;var D;var k;var n;var m=null;var c=null;var t=null;var e=null;var l="";var s=function(E){r.debug&&b.log("Exception: "+E)};var a=function(E){r.debug&&b.log("CLEAR");d(E)};var d=function d(O){m=null;c=null;t=null;e=null;var H=function(){if(m.running){r.debug&&b.log("Signature SDK Service detected.");E()}else{A.show("WACOM Signature SDK Service not detected.");u()}};var M=function M(){if(m.running){r.debug&&b.log("Signature SDK Service detected.");clearTimeout(L);E()}else{A.show("WACOM Signature SDK Service not detected.");u()}};var E=function(){if(m.running){t=new m.SigCtl(K)}};var K=function(Q,P){if(m.ResponseStatus.OK==P){e=new m.DynamicCapture(I);t.PutLicence(l,F)}else{A.show("SigCtl constructor error: "+P);r.debug&&b.log("SigCtl constructor error: "+P)}};var F=function(Q,P){if(m.ResponseStatus.OK==P){e=new m.DynamicCapture(I)}else{A.show("SigCtl constructor error: "+P);r.debug&&b.log("SigCtl constructor error: "+P)}};var I=function(Q,P){if(m.ResponseStatus.OK==P){t.GetSignature(G)}else{A.show("DynCapt constructor error: "+P);r.debug&&b.log("DynCapt constructor error: "+P)}};var G=function(S,Q,P){if(m.ResponseStatus.OK==P){c=Q;t.GetProperty("Component_FileVersion",N)}else{A.show("SigCapt GetSignature error: "+P);r.debug&&b.log("SigCapt GetSignature error: "+P)}};var N=function(Q,S,P){if(m.ResponseStatus.OK==P){r.debug&&b.log("DLL: flSigCOM.dll  v"+S.text);e.GetProperty("Component_FileVersion",J)}else{A.show("SigCtl GetProperty error: "+P);r.debug&&b.log("SigCtl GetProperty error: "+P)}};var J=function(Q,S,P){if(m.ResponseStatus.OK==P){r.debug&&b.log("DLL: flSigCapt.dll v"+S.text);r.debug&&b.log("Test application ready.");r.debug&&b.log("Press 'Start' to capture a signature.");if("function"===typeof O){O()}}else{A.show("DynCapt GetProperty error: "+P);r.debug&&b.log("DynCapt GetProperty error: "+P)}};var L=setTimeout(H,1500);m=new WacomGSS_SignatureSDK(M,8000)};var h=function(F,E,I){var H=function(M,L,K){if(m.ResponseStatus.INVALID_SESSION==K){r.debug&&b.log("Error: invalid session. Restarting the session.");d(window.Capture)}else{if(m.DynamicCaptureResult.DynCaptOK!=K){r.debug&&b.log("Capture returned: "+K)}switch(K){case m.DynamicCaptureResult.DynCaptOK:c=L;r.debug&&b.log("Signature captured successfully");var J=m.RBFlags.RenderOutputBase64|m.RBFlags.RenderColor32BPP|m.RBFlags.RenderBackgroundTransparent;var N=D[0];F&&F.hide();c.RenderBitmap("png",N.clientWidth,N.clientHeight,0.7,0,16777215,J,0,0,G);break;case m.DynamicCaptureResult.DynCaptCancel:r.debug&&b.log("Signature capture cancelled");break;case m.DynamicCaptureResult.DynCaptPadError:A.show("No capture service available");r.debug&&b.log("No capture service available");break;case m.DynamicCaptureResult.DynCaptError:A.show("Tablet Error");r.debug&&b.log("Tablet Error");break;case m.DynamicCaptureResult.DynCaptIntegrityKeyInvalid:A.show("The integrity key parameter is invalid (obsolete)");r.debug&&b.log("The integrity key parameter is invalid (obsolete)");break;case m.DynamicCaptureResult.DynCaptNotLicensed:A.show("No valid Signature Capture licence found");r.debug&&b.log("No valid Signature Capture licence found");break;case m.DynamicCaptureResult.DynCaptAbort:A.show("Error - unable to parse document contents");r.debug&&b.log("Error - unable to parse document contents");break;default:A.show("Capture Error "+K);r.debug&&b.log("Capture Error "+K);break}}u()};var G=function(K,L,J){if(m.ResponseStatus.OK==J){r.debug&&b.log("base64_image:>"+L+"<");img=new Image();img.onload=function(){var N=D[0];var M=N.getContext("2d");M.clearRect(0,0,N.clientWidth,N.clientHeight);M.drawImage(img,0,0,N.clientWidth,N.clientHeight);var P=q.getFieldWrapper(C,z);var O="data:image/png;base64,"+L;P.setValue(O);q.trigger("change",C,z);if(k){k.sendFormField({formId:C,fieldId:z,value:O});k.sendEvent({formId:C,fieldId:z,type:"change"})}};img.src="data:image/png;base64,"+L}else{r.debug&&b.log("Signature Render Bitmap error: "+J)}};if(!m.running||null==e){r.debug&&b.log("Session error. Restarting the session.");d(window.Capture);return}e.Capture(t,I,E,null,null,H)};var g=function(){if(!m.running||null==c){r.debug&&b.log("Session error. Restarting the session.");d(window.DisplaySignatureDetails);return}c.GetIsCaptured(E);var E=function(J,K,I){if(m.ResponseStatus.OK==I){if(!K){r.debug&&b.log("No signature has been captured yet.");return}J.GetWho(G)}else{r.debug&&b.log("Signature GetWho error: "+I);if(m.ResponseStatus.INVALID_SESSION==I){r.debug&&b.log("Session error. Restarting the session.");d(window.DisplaySignatureDetails)}}};var G=function(K,J,I){if(m.ResponseStatus.OK==I){r.debug&&b.log("  Name:   "+J);var L=m.TimeZone.TimeLocal;c.GetWhen(L,F)}else{r.debug&&b.log("Signature GetWho error: "+I)}};var F=function(K,I,J){if(m.ResponseStatus.OK==J){r.debug&&b.log("  Date:   "+I.toString());c.GetWhy(H)}else{r.debug&&b.log("Signature GetWhen error: "+J)}};var H=function(J,K,I){if(m.ResponseStatus.OK==I){r.debug&&b.log("  Reason: "+K)}else{r.debug&&b.log("Signature GetWhy error: "+I)}}};var w=function(E){var E=$("#m2soft-crownix-container");overlay=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":f.WINDOW_OVERLAY_Z_INDEX,}).prependTo(E);overlay[0].addEventListener("touchstart",function(F){F.preventDefault()});if(B){overlay.fadeIn(100)}};var u=function(){overlay.remove();D.removeClass("crownix-formfield-blink");n.focusHiddenTab()};var r=function(E){l=E;n=m2soft.crownix.FieldOrder.getInstance();r.debug&&b.log("Wacom Sign Window")};r.prototype={constructor:m2soft.crownix.WacomSignWindow,show:function(J,G,H,I,K,M,N,F,E,L){D=J;q=I;C=G;z=H;B=M;A=E;k=L;w();if(!N){N=" "}if(!F){F=" "}a(setTimeout(function(){h(K,N,F)},1500))},};return r}());m2soft.ns("m2soft.crownix.NativeInterface");m2soft.crownix.NativeInterface=(function(){var Util=m2soft.crownix.Util;var R=m2soft.crownix.Resource;var Dialog=m2soft.crownix.FormDialog;var Constant=m2soft.crownix.Constant;if(!window.m2softFormFieldBridge){window.m2softFormFieldBridge={}}var bridge=window.m2softFormFieldBridge;var nativeInterface;var dialog=new Dialog("#"+Constant.CONTAINER_ID);if(nativeInterface===undefined){nativeInterface={}}nativeInterface.isInWebView=function(){return !!((Object.keys(bridge).length>0)||(Util.browser.uiwebview&&!Util.browser.chrome&&!Util.browser.firefox))};if(bridge.init){bridge.init(m2soft.crownix.Resource.language)}nativeInterface.setLocale=function(locale){if(bridge.setLocale){bridge.setLocale(locale)}else{if(nativeInterface.isInWebView()){if(window.webkit&&window.webkit.messageHandlers.setLocale){window.webkit.messageHandlers.setLocale.postMessage(locale)}else{document.location="crownixWebView://setLocale?locale="+locale}}}};nativeInterface.scanBarcodes=function(){var args=Array.prototype.slice.call(arguments);if(args.length===1&&typeof args[0]==="function"){bridge.onBarcodeScan=args[0]}else{if(args.length===2){var that=this;bridge.onBarcodeScan=function(data){that.getForm(args[0]).get(args[1]).setValue(data)}}else{return}}if(bridge.toBarcodeScan){bridge.toBarcodeScan()}else{if(Util.browser.uiwebview){if(window.webkit&&window.webkit.messageHandlers.scanBarcodes){window.webkit.messageHandlers.scanBarcodes.postMessage("")}else{document.location="crownixWebView://showScanBarcodes"}}}};nativeInterface.readNfcTag=function(){var shareManager=this.shareManager;var viewer=this.viewer;var args=Array.prototype.slice.call(arguments);var returnType;if(args.length===1&&typeof args[0]==="function"){returnType="array";bridge.onNFCRead=function(str){args[0](eval(str))}}else{if(args.length===2){returnType="string";bridge.onNFCRead=function(data){viewer.getForm(args[0]).get(args[1]).setValue(data);if(shareManager.isConnected()){shareManager.sendFormField({formId:args[0],fieldId:args[1],value:data});shareManager.sendEvent({formId:args[0],fieldId:args[1],type:"change"})}}}else{return}}if(bridge.toNFCRead){bridge.toNFCRead(returnType)}};nativeInterface.recordStart=function(field,callback){var fileName=field.id+".m4a";var mimeType="audio/mp4";bridge.onAudioRecord=function(base64){if(base64!==""){field.file=Util.base64.toBlob(base64,mimeType);field.value=fileName}else{field.file=null;field.value=""}if(callback&&typeof callback==="function"){callback()}};if(bridge.toAudioRecord){bridge.toAudioRecord(field.bitRate,field.sampleRate,field.recordTime)}else{if(Util.browser.uiwebview){if(window.webkit&&window.webkit.messageHandlers.showRecorder){window.webkit.messageHandlers.showRecorder.postMessage({bitRate:field.bitRate,sampleRate:field.sampleRate,recordTime:field.recordTime})}else{document.location="crownixWebView://showRecorder?bitRate="+field.bitRate+"&sampleRate="+field.sampleRate+"&recordTime="+field.recordTime}}else{dialog.show(R.get("record_no_mobile"));delete bridge.onAudioRecord}}};nativeInterface.textToSpeech=function(text){if(bridge.textToSpeech){bridge.textToSpeech(text)}else{if(nativeInterface.isInWebView()){if(window.webkit&&window.webkit.messageHandlers.textToSpeech){window.webkit.messageHandlers.textToSpeech.postMessage(text)}else{document.location="crownixWebView://textToSpeech?text="+text}}}};nativeInterface.stopToSpeech=function(){if(bridge.stopToSpeech){bridge.stopToSpeech()}else{if(nativeInterface.isInWebView()){if(window.webkit&&window.webkit.messageHandlers.stopToSpeech){window.webkit.messageHandlers.stopToSpeech.postMessage("")}else{document.location="crownixWebView://stopToSpeech"}}}};return nativeInterface})();m2soft.ns("m2soft.crownix.MirroringManager");m2soft.crownix.MirroringManager=(function(){var d=m2soft.crownix.Resource;var e,c=false,f=undefined,a=false;var h={x:0,y:0,scale:1};var b=function(j,n,k){e.movePage(k);if(!a){a=true;h.x=e.scroll.x;h.y=e.scroll.y;h.scale=e.scroll.scale}e.scroll.zoom(2.5);var m=-(j*e.scroll.scale)+(window.innerWidth/2);var l=-(n*e.scroll.scale)+(window.innerHeight/2);if(m>0){m=0}else{if(m<e.scroll.maxScrollX){m=e.scroll.maxScrollX}}if(l>0){l=0}else{if(l<e.scroll.maxScrollY){l=e.scroll.maxScrollY}}e.scroll.scrollTo(m,l,1000)};var g=function(j){if(j){e=j}};g.prototype={lockField:function(l,j){if(!e.options.mirroring.enable){return}this.unlockField();var k;if(l=="file"||l=="sg"||l=="pn"){k=$("#"+j+"-canvas").length?$("#"+j+"-canvas"):$("#"+j);k.length&&k.is("[auth=All]")&&k.attr("disabled","disabled")}else{if(l=="rb"||l=="cb"){k=$("label[for="+j+'][class*="crownix-radio-boundary"],label[for='+j+'][class*="crownix-checkbox-boundary"]')}else{k=$("#"+j)}k.length&&k.is("[auth=All]")&&k.attr("readonly","readonly")}k.length&&k.addClass("crownix-field-lock").addClass("crownix-formfield-blink-lock");if(((e.license.isAllowedFeature("Note")&&e.options.enableNote)===true&&Util.isSupportSVG())&&l!=="rb"&&l!=="cb"&&e.options.mirroring.scrollToNote&&!e.mirroringManager.externalEvent.isSubProcess()){e.noteManager.hideNote()}},unlockField:function(){if(!e.options.mirroring.enable){return}$('[id^="crownix_form_field"],label[for^="crownix_form_field"]').each(function(k,l){if($(l).hasClass("crownix-field-lock")){var j=$(l);j.removeClass("crownix-field-lock").removeClass("crownix-formfield-blink-lock");if($(l).is("[auth=All]")){if(j.is("canvas")){j.attr("disabled",false)}else{j.attr("readonly",false)}}j.removeClass("crownix-field-lock").removeClass("crownix-formfield-blink-lock").removeClass("crownix-formfield-blink")}});if((e.license.isAllowedFeature("Note")&&e.options.enableNote)===true&&Util.isSupportSVG()&&e.options.mirroring.scrollToNote&&!e.mirroringManager.externalEvent.isSubProcess()){e.noteManager.showNote()}},setFileName:function(m,j,k){if(!e.options.mirroring.enable){return}var l=e.formManager.getField(m,j);l.setFileName(k,"sharing")},drawNote:function(j){if(!e.options.mirroring.enable){return}if(j.type=="scribble"){e.noteManager.addElement(j.xml,j.pageNo,j.pageNo==e.currentPage)}else{if(j.type=="erase"){e.noteManager.removeElement(j.xml,j.pageNo,j.pageNo==e.currentPage)}else{if(j.type=="clearElement"){if(j.pageNo==e.currentPage){e.noteManager.clear(j.rebuild)}e.noteManager.removeAllElement(j.pageNo)}else{if(j.type=="text"){e.noteManager.addElement(j.xml,j.pageNo,j.pageNo==e.currentPage,j.oldXml);if(j.pageNo==e.currentPage){e.noteManager.redrawTextBox()}if(f){e.noteManager.setShapeAttribute(f.attr);e.noteManager.setTool(f.tool);e.noteManager.setMode(f.mode);f=undefined}c=false;e.noteManager.enableNote()}else{if(j.type=="start"){if(j.pageNo==e.currentPage){c=true}else{return}if(!f){f={attr:$.extend(true,{},e.noteManager.getShapeAttribute()),tool:e.noteManager.getToolName(),mode:e.noteManager.getMode()}}e.noteManager.setTool(j.tool);e.noteManager.setShapeAttribute(j.attribute);if(j.tool=="text"){e.noteManager.disableNote()}else{e.noteManager.draw(j)}}else{if(j.type=="clear"){if(j.pageNo==e.currentPage){e.noteManager.draw(j)}else{e.noteManager.removeAllElement(j.pageNo)}}else{if(c){e.noteManager.draw(j);if(j.type=="end"){if(f){e.noteManager.setShapeAttribute(f.attr);e.noteManager.setTool(f.tool);e.noteManager.setMode(f.mode);f=undefined}c=false}}if(!j.type&&e.options.mirroring.scrollToNote&&this.externalEvent.isSubProcess()){b(j.x,j.y,j.pageNo)}}}}}}}},sendEvent:function(m,j,l){if(!e.options.mirroring.enable){return}if(l&&m&&j){e.formManager.lock();e.formManager.trigger(l,m,j);e.formManager.unlock()}else{if(l==="layer-close"){if(e.layerManager){var k=e.layerManager.getActiveFloatingLayer();k.win.close()}}else{if(l==="layer-onOk"){if(e.layerManager){var k=e.layerManager.getActiveFloatingLayer();k.onOk()}}else{if(l==="layer-onCancel"){if(e.layerManager){var k=e.layerManager.getActiveFloatingLayer();k.onCancel()}}else{if(l==="HideWindow"){window.external.HideWindow()}else{if(l==="ShowTypingWindow"){window.external.ShowWindow("text")}else{if(l==="ShowSigningWindow"){window.external.ShowWindow("sign")}else{if(l==="ShowOverlay"){this.showOverlay()}}}}}}}}},showOverlay:function(){if($(".crownix-overlay.crownix-input-overlay").length<1){$("<div>").addClass("crownix-overlay").addClass("crownix-input-overlay").appendTo("body")}},submitFinished:function(j){viewer.importFormData(j);if(e.formManager.isAllFormSubmitted()){e.toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"]);e.viewer.setPreventPrintExport(false)}e.formManager.saved()},initFields:function(j){e.formManager.initFields(j)},movePage:function(j){e.movePage(j)},restoreScroll:function(){a=false;e.scroll.zoom(h.scale);e.scroll.scrollTo(h.x,h.y)},externalEvent:{sendEvent:function(l,j,k){window.external.SendEvent({formId:l,fieldId:j,eventType:k})},initFormField:function(j){window.external.InitFormField({formData:JSON.stringify(j)})},focusOut:function(){window.external.FocusOut({})},setValue:function(l,j,k){window.external.SetValue({formId:l,fieldId:j,value:k})},sendDraw:function(j){window.external.SendDraw({noteData:JSON.stringify(j)})},setSelected:function(k,j,l){window.external.SetSelected({formId:k,fieldId:j,isChecked:l})},selectedField:function(j){window.external.SelectedField(j)},setFocus:function(j){window.external.SetFocus({id:j})},setFileName:function(j){window.external.SetFileName({fullName:j})},isSubProcess:function(){return window.external.IsSubProcess},submitFinished:function(j){window.external.SubmitFinished({submitFormList:JSON.stringify(j)})},showCombobox:function(j,k){window.external.ShowCombobox({display:j.toString(),actual:k.toString()})},movePage:function(j){window.external.MovePage({pageNumber:j})},returnProtocol:function(j){window.external.ReturnProtocol({data:j})},closeMirroring:function(){window.external.CloseMirroring({})},returnReportFinished:function(j){if(!this.isSubProcess()){var k;if(j.isError||j.isError===undefined){if(j.isError===undefined){k="0\u0003"+j.message}else{k="0\u0003"+j.lastErrorMsg}}else{k="1"}this.returnProtocol(k)}},onChangeSignValue:function(j){if(this.isSubProcess()){window.external.OnChangeSignValue({value:j})}},validate:function(j){window.external.Validate({formIdList:JSON.stringify(j)})},hideWindow:function(){if(this.isSubProcess()){window.external.HideWindow({})}},getFormDataValue:function(m,j){var l="\u0003";var n=m&&m.split(l);var k=j&&j.split(l);if(j){data=e.formManager.getDataValue(n,k,l)}else{data=e.formManager.getFormDataValue(n,l)}if(e.options.mirroring.enable){this.returnProtocol(data?("1"+data):("0"+l+d.get("data_load_error")))}},setFormDataValue:function(l,n,t){var r="\u0003";var m=l&&l.split(r);var j=n&&n.split(r);var k=t&&t.split(r);var s=e.formManager.setFormDataValue(m,j,k);if(e.options.mirroring.enable){if(!s){for(var q=0;q<m.length;q++){this.setValue(m[q],j[q],k[q])}}this.returnProtocol(s?("0"+r+s):"1")}},reportFinished:function(){window.external.ReportFinished({})},sendMmlFormData:function(j){window.external.SendMmlFormData({data:JSON.stringify(j)})},lockField:function(k,j){try{window.external.LockField({type:k,elementId:j})}catch(l){console.log("LockField() function undefined")}},restoreScroll:function(){e.mirroringManager.externalEvent.movePage(e.currentPage);if(e.mirroringManager.externalEvent.isSubProcess()){this.restoreScroll()}else{window.external.RestoreScroll({})}}}};return g}());m2soft.ns("m2soft.crownix.Editor");m2soft.crownix.Editor=function(h){var d=h;var g={a4:794,a3:1123,b4:944};var e;var c;var b=[];var k;var j=function(l){if(l.originalEvent.data.message==="popup-opended"){var m=JSON.parse(JSON.stringify(cxEditor));c.postMessage(m,"*")}if(l.originalEvent.data.message==="addOverlay"){e.appendTo("body")}if(l.originalEvent.data.message==="complete"){cxEditor.complete(l.originalEvent.data.result.data,l.originalEvent.data.result.paperType)}if(l.originalEvent.data.message==="setLocalStorage"){cxEditor.setLocalStorage(l.originalEvent.data.data)}if(l.originalEvent.data.message==="removeOverlay"){cxEditor.removeOverlay()}};var f=function(l){k=l};var a=function(m,l){window.cxEditor={paperType:m.paperType,language:m2soft.crownix.Resource.language,storageEditorData:k,setLocalStorage:f,removeOverlay:function(){e.remove()},complete:function(q,r){e.remove();if(l&&typeof l.init=="function"){l.init()}d.totalPage-=b.length;b=[];for(var n=0;n<q.length;n++){b[n]={page:q[n],paperType:r,layout:0}}d.totalPage+=q.length;d.currentPage=Math.min(d.totalPage,d.currentPage);if(b.length&&d.currentPage!=d.totalPage){d.toolbar.enableToolbarItem(["next","last","move"])}if(d.totalPage==d.currentPage){d.toolbar.disableToolbarItem(["next","last","move"])}if(d.totalPage==1){d.toolbar.disableToolbarItem(["first","prev","next","last","move"])}if(l&&typeof l.complete=="function"){l.complete()}}}};this.init=function(l){d=l;b=[];k=""};this.addEditorPage=function(n,m){if(d.options&&(d.options.scrollOptions.useInfiniteScroll||d.options.mirroring.enable)){return}a(n,m);$(window).off("message.popupEditor").on("message.popupEditor",j);var l=["scrollbars=yes","resizable=yes","menubar=no","toolbar=no","width="+(g[n.paperType]+25),"height=1000"].join(", ");c=window.open(n.url,"crownix-editor-popup",l);e=$("<div>").css("z-index",10001).addClass("crownix-overlay").appendTo("body")};this.isAddedPage=function(l){return d.totalPage-b.length<l};this.toAddPageParameter=function(){var l=[" /raddedpagedata "];for(var m=0;m<b.length;m++){l.push("[");l.push(b[m].paperType);l.push("@");l.push(b[m].layout);l.push("@");l.push(b[m].page);l.push("] ")}return l.join("")};this.setStorageEditorData=function(l){f(l)};this.getStorageEditorData=function(l){return k};this.setAddedPages=function(l){b=l};this.getAddedPages=function(){return b}};m2soft.ns("m2soft.crownix.Viewer");m2soft.crownix.Viewer=(function(){var AjaxClient=m2soft.crownix.Ajax;var Toolbar=m2soft.crownix.Toolbar;var Report=m2soft.crownix.Report;var Painter=m2soft.crownix.Painter;var Message=m2soft.crownix.Message;var Dialog=m2soft.crownix.FormDialog;var Map=m2soft.crownix.Map;var R=m2soft.crownix.Resource;var FormManager=m2soft.crownix.FormManager;var FieldOrder=m2soft.crownix.FieldOrder;var DrilldownManager=m2soft.crownix.DrilldownManager;var Inquery=m2soft.crownix.Inquery;var Constant=m2soft.crownix.Constant;var Util=m2soft.crownix.Util;var License=m2soft.crownix.License;var Converter=m2soft.crownix.util.Converter;var Runtime=m2soft.crownix.Runtime;var IKE=m2soft.crownix.security.IKE;var WorkerUtil=m2soft.crownix.WorkerUtil;var ExportAgent=m2soft.crownix.ExportAgent;var ParameterBuilder=m2soft.crownix.ParameterBuilder;var LinkManager=m2soft.crownix.LinkManager;var PageSwiper=m2soft.crownix.PageSwiper;var Icon=m2soft.crownix.resource.Icon;var ShareManager=m2soft.crownix.ShareManager;var ChannelManager=m2soft.crownix.ChannelManager;var LayerManager=m2soft.crownix.LayerManager;var FormLayerManager=m2soft.crownix.FormLayerManager;var Slide=m2soft.crownix.Slide;var Thumbnail=m2soft.crownix.Thumbnail;var TableOfContents=m2soft.crownix.TableOfContents;var ExternalStorage=m2soft.crownix.storage.ExternalStorage;var Search=m2soft.crownix.Search;var NativeInterface=m2soft.crownix.NativeInterface;var NoteManager=m2soft.crownix.NoteManager;var GuideManager=m2soft.crownix.GuideManager;var PrintDialog=m2soft.crownix.PrintDialog;var CONTAINER_PADDING=12;var serverUrl_;var parentId_;var setting_={};var settingDefault={viewerWidth:0.9,viewerHeight:0.9,enableCloseButton:true,toolbarScale:1,enableToolbarNavigator:false,editor:{url:"",paperType:"a4"}};var mrdPath_;var mrdParam_;var mrdPlainParam_;var mrdData_;var options={};var optionsDefault={enableNote:false,enableSecure:false,includeNoteInPrint:undefined,includeNoteInExport:undefined,excludeNoteTypeInPrint:[],excludeNoteTypeInExport:[],scrollbarOnNote:{width:"18px",color:"rgba(0, 0, 0, 0.498039)"},scrollbarOnViewer:{width:"7px",color:"rgba(0, 0, 0, 0.5)"},isHyperlink:false,isInquery:false,defaultZoom:undefined,defaultZoomCentre:"center",noDataDialog:{show:true},showSubmitConfirm:{show:false},submitPreview:false,pdfPrintPreview:false,imageDrawOption:{useCanvas:true},useScrollTransition:true,swipe:{useOnZoom:true,sensitivity:2,useOnDesktop:false},exportMethod:"get",timeout:30,submitMsgPosition:undefined,showDrilldownMsg:true,keepZoomRatio:false,downloadProtocolFile:false,showPageNum:true,pdfReaderNotFoundMessage:undefined,downloadFileName:undefined,download:{partsave:undefined,deleteOnServer:true,printFileDelete:true,printFileName:undefined},infotalk:{timeout:30,dataVerification:false,contentType:null,protocol:null,compressRequest:false},saveMmlToPdf:false,saveMmlToExport:false,showXlsKeepFormDialog:false,pdfPrintSpoolName:undefined,textOnCanvas:false,maxScaleRatio:2.5,useFixedFrame:false,disableToolbarItemsOnError:undefined,cloudPrintSpoolName:undefined,scrollMovePage:true,scrollOptions:{disableTouch:false,disablePointer:false,disableMouse:false,zoomMin:0.25,zoomMax:2.5,pageMargin:12,useInfiniteScroll:false},enableTranslateZ:true,formField:{signatureMethod:"bottom",guideOnSignWindow:true,guideKeepSignWindow:false,guideAlignSignature:false,selectEntireText:false,allowDuplicate:false,useReportStyleOnSign:false,fontWeightOnTextSign:undefined,skipValidation:false,showValidationAlert:true,penDpi:96,fixedPenHeight:0,fixedSignHeight:0,penButtonPosition:"center",penLineCountPerText:-1,guideAlignPen:false,checkPenGuideString:false,excludeOnFormData:false,confirmOnPageOut:true,keepTabButton:false,tabCurrentMode:true,tabShowSignWindow:true,reuseSignature:false,penEventSkipTime:0,keyboardPen:{enable:false,autoComplete:0},scrollPen:{enable:false,autoScroll:800,windowHeight:70,windowPosition:"bottom",scrollbarSize:30},effect:{blinkSpeed:0,requiredOnly:false,fixed:true,type:null,fieldColor:"#FF0000",fieldType:[],invalidColor:null},skipTabOrder:false,signatureGuideMode:1,signatureGuideColor:false,moveWithSignFocus:false,textAttr:false,editAfterSubmit:false},clientSidePdf:{downloadFile:false,print:false,"export":false,vector:true,embeddedFont:false,compress:true},showInvalid:false,layer:{preload:false},useNativeSign:false,useWacomSign:false,wacomSignLicense:"",searchOption:"page",useIdCardCapture:false,useNumberKeyPad:false,viewCache:false,exportCache:false,noMessageOfSubmitSuccess:false,noMessageOfSubmitFail:false,showTabButton:true,dialog:{inputType:"number",autoFocus:true},mirroring:{eanble:false,syncPage:false,syncInvalid:true,excludeNoteType:[],scrollToNote:false},useCalendarComboBox:false,calendarComboStartYear:undefined,calendarComboEndYear:undefined,guideWindow:{width:250,height:200,headerColor:"#353535",bodyColor:"#4e4e4e",buttonColor:"#4598ff",submitColor:"#ff8145"},withSign:true,showPageLoadingOverlay:false,validateCheck:false,firstPageMovedEvent:false,slide:{closeOnSelect:false,fixedLayout:false,initSizeMenu:Util.browser.mobile&&$(window).width()<699?"50%":200,keepSpread:false},printDialog:{clientSidePdf:false,serverSidePdf:false,useSubPageOption:false,clientSideImage:false,maxCopy:undefined},textToSpeech:{enable:false,focusColor:"#ff0000",stopOnInput:true}};var preventPrintExport=false;var finishEventHandler;var go={};var report;var toolbar;var dialog;var inquery;var scroll;var client;var rdid="";var formManager=null;var formLayerManager;var drilldownManager;var layerManager=null;var mmlString;var eventHandler={};var parameterBuilder;var C;var encType;var oldRuntimeParam;var shareManager;var fieldEffector;var preventToolbarToggle=false;var zoomRatio=1;var packRatio=1;var zoomEnd=false;var isFinished=false;var isDownload=false;var isOverlay=false;var useWebFont=false;var useAdjustLetterSpace=true;var useAdjustCharacterScale=false;var stateLess=true;var isFirstPageDraw=true;var isError=false;var lastErrorMsg="";var pageCheckInterval=null;var containerDom;var pageDom;var canvasDom;var textDom;var noteDom;var preventDom;var searchDom;var loadingDom;var runtimeParam=new Runtime();var isSupportSVG=Util.isSupportSVG();var isDesktopBlink=!Util.browser.mobile&&(Util.browser.chrome||Util.browser.opera);var linkManager=new LinkManager(go);var canvasManager;var gadget;var slide,thumbnail,tableOfContents;var externalStorage;var extParamMap=new Map();var downloadPageLoadWorker;var lastDownloadPageNumber=-1;var reportingParam={};var editor;var moveFormField=function(formFieldId){var arrId=formFieldId.split(".");var formId=arrId[0];var fieldId=arrId[1];var field=formManager.getField(formId,fieldId);if(!field.id){dialog.show(R.get("formfield_not_exist"));return}go.viewer.movePage(field.page);var elementId="crownix_form_field_"+formId+"_"+fieldId;setTimeout(function(){var element=document.getElementById(elementId);FieldOrder.getInstance().blink(elementId,element.tagName);go.scroll.scrollToElement(element)},0)};var movePage=function(pageNumber,moveScrollTop,isRedraw){var prevPage=go.currentPage;if(scroll!==undefined&&moveScrollTop===undefined){scroll.setScrollTop(true)}if(validatePageNumber(pageNumber)===false){return}if(pageNumber==go.currentPage&&!isRedraw){return}if(drilldownManager&&drilldownManager.isOpening()){go.dialog.show(R.get("image_export_disabled_before_done"));return}if(!go.keepWindow){$("#"+Constant.WINDOW_CLOSE_ID).click()}if(!isRedraw){if(pageNumber==1){toolbar.disableToolbarItem(["first","prev"]);if(!isFinished||pageNumber!==go.totalPage){toolbar.enableToolbarItem(["next","last"])}}else{if(pageNumber==go.totalPage){if(isFinished){toolbar.disableToolbarItem(["next","last"])}toolbar.enableToolbarItem(["first","prev"])}else{toolbar.enableToolbarItem(["first","prev","next","last"])}}}if(isDownload){toolbar.disableToolbarItem(["save","print","print_pdf"])}if(shareManager){if(isRedraw){shareManager.reDrawPage()}}go.formManager.validator.inactiveTitle();if(stateLess){if(options.scrollOptions.useInfiniteScroll){drawPageFrame(pageNumber)}else{drawPage(pageNumber)}}else{downloadPage(pageNumber)}if(go.options.showThumbnail&&stateLess){thumbnail.scrollPage(pageNumber)}if(isFinished||options.firstPageMovedEvent){emit("page-moved",{currentPage:go.currentPage,prevPage:prevPage,formFieldModified:formManager.isModified(),documentTitle:getDocumentTitle(go.currentPage)})}if(isFinished){if(go.search.isCreate()){stateLess&&go.search.refreshMark()}if(go.options.validateCheck=="page"||typeof go.options.validateCheck=="object"&&go.options.validateCheck.type=="page"){go.formManager.validator.toggleSlide(prevPage)}}};var redrawPage=function(){if(go.currentPage==0){return}if(!scroll){return}var x=scroll.x,y=scroll.y,zoom=scroll.scale;movePage(go.currentPage,false,true);scroll.zoom(zoom,x,y,0);scroll.scrollTo(x,y,0)};var checkLastpage=function(pageNumber){if(isFinished&&pageNumber==go.totalPage){emit("lastpage",{currentPage:pageNumber})}};var drawPageFrame=function(pageNumber){var pageFrame=$(go.documentScroller.getPageFrame(pageNumber));var pageFrameWidth=parseInt(pageFrame[0].style.width);var pageFrameHeight=parseInt(pageFrame[0].style.height);var pageXml=$(report.getPage(pageNumber));var head=report.getHeadForPage(pageNumber);var width=pageXml.attr("wd")/10.3;var height=pageXml.attr("ht")/10.3;var nodata=pageXml.attr("nd");var textDom=pageFrame.children("#"+Constant.TEXT_ID);var canvasDom=pageFrame.children("#"+Constant.CANVAS_ID);var noteDom=pageFrame.children("#"+Constant.NOTE_ID);var searchDom=textDom.children(".crownix-search-mark");if(nodata==="1"&&options.noDataDialog.show){dialog.show(options.noDataDialog.message||R.get("no_data_message"),{title:options.noDataDialog.title,input:false})}if(parseInt(width)!=pageFrameWidth||parseInt(height)!=pageFrameHeight){if(parseInt(width)!=pageFrameWidth){if(pageFrameWidth<width){var scroller=go.documentScroller.scroller;var scrollerWidth=parseFloat(scroller.style.width);scroller.style.width=width+"px"}pageFrame.width(width)}if(parseInt(height)!=pageFrameHeight){if(pageFrameHeight<parseInt(height)){var scroller=go.documentScroller.scroller;var scrollerHeight=parseFloat(scroller.style.height);scroller.style.height=(scrollerHeight+(Math.abs(pageFrame.height()-height)))+"px"}else{var scroller=go.documentScroller.scroller;var scrollerHeight=parseFloat(scroller.style.height);scroller.style.height=(scrollerHeight-(Math.abs(pageFrame.height()-height)))+"px"}pageFrame.height(height)}go.scroll&&go.scroll.refresh()}go.currentPage=parseInt(pageNumber);canvasManager.setPage(pageNumber,report,textDom,canvasDom,scroll,pageXml);var scrollWidth=parseInt(options.scrollbarOnViewer.width);Util.changeScrollbar(scrollWidth,scrollWidth,options.scrollbarOnViewer.color,"","");if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){FieldOrder.getInstance().bind(textDom,scroll,pageNumber);var eventName=Util.browser.edge?"click touchstart":"mousedown pointerdown touchstart";pageFrame.on(eventName,function(e){var nodeName=e.target.nodeName;var id=$(e.target).attr("id");var className=$(e.target).attr("class");var forAttr=$(e.target).attr("for");var disabled=$(e.target).attr("disabled");if(id&&id.indexOf("crownix_form_field")!=-1||nodeName=="OPTION"){FieldOrder.getInstance().blur(true)}if((id&&(id.indexOf("crownix_form_field")!=-1)||(forAttr&&forAttr.indexOf("crownix_form_field_")!=-1)||(className==="crownix_form_field_label")||(className==="crownix_hyperlink"))&&(disabled!=="disabled")){preventToolbarToggle=true}else{preventToolbarToggle=false}})}if(isFirstPageDraw){var defaultZoom=options.defaultZoom;if(defaultZoom){var centre=options.defaultZoomCentre.toUpperCase();if(!isNaN(defaultZoom)){zoomRatio=Number(defaultZoom)}else{if(defaultZoom.toUpperCase()=="WIDTH"){zoomRatio=go.documentScroller.getWidthFitRatio()}else{if(defaultZoom.toUpperCase()=="HEIGHT"){zoomRatio=go.documentScroller.getHeightFitRatio()}}}scroll.zoom(zoomRatio);if(centre=="CENTER"){scroll.scrollTo(-((pageFrame.width()*zoomRatio-containerDom.width())/2),-((pageFrame.height()*zoomRatio-containerDom.height())/2),0)}else{if(centre=="LEFTTOP"){scroll.scrollTo(0,0,0)}}if(!isNaN(defaultZoom)){toolbar.setRatioText(Math.round(scroll.scale*100)+"%")}else{if(defaultZoom.toUpperCase()=="WIDTH"){$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Icon.FIT_WIDTH))}else{if(defaultZoom.toUpperCase()=="HEIGHT"){$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Icon.FIT_HEIGHT))}}}}isFirstPageDraw=false}canvasManager.redraw(pageNumber,report,pageFrame,textDom,canvasDom,noteDom,scroll,drawWithPainter,searchDom);if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){go.noteManager.prepare(noteDom,pageNumber);go.noteManager.setRatio(zoomRatio)}checkLastpage(pageNumber);if(shareManager&&shareManager.isConnected()){shareManager.initFields()}var eventName=Util.browser.edge?"click touchstart":"mousedown pointerdown touchstart";$(slide.getSlide()).on(eventName,function(e){preventToolbarToggle=true})};var drawPageImage=function(pageNumber){var pages=editor.getAddedPages();var originPageNum=go.totalPage-pages.length;var popPageNum=pageNumber-originPageNum;var image=new Image();var width,height;image.src=pages[popPageNum-1].page;image.onload=function(){width=image.width;height=image.height;go.currentPage=parseInt(pageNumber);$("#"+Constant.PAGE_ID).remove();$("#"+Constant.PAGE_LOADING_ID).remove();createPageDom(width,height);var ctx=canvasDom[0].getContext("2d");ctx.drawImage(image,0,0);refreshScroll();postDrawPage(pageNumber);m2soft.crownix.Forgery.detect(textDom,document.getElementById(Constant.CANVAS_ID),go.isFormEditMode);$("#"+Constant.PAGE_ID).css("visibility","visible");dialog.pagenum(go.currentPage,go.totalPage,false)}};var drawPage=function(pageNumber){if(editor&&editor.isAddedPage(pageNumber)){drawPageImage(pageNumber)}else{var pageXml=report.getPage(pageNumber);var page=$(pageXml);var head=report.getHeadForPage(pageNumber);var width=page.attr("wd")/10.3;var height=page.attr("ht")/10.3;var nodata=page.attr("nd");if(nodata==="1"&&options.noDataDialog.show){dialog.show(options.noDataDialog.message||R.get("no_data_message"),{title:options.noDataDialog.title})}go.currentPage=parseInt(pageNumber);go.textOnCanvas=options.textOnCanvas||(options.useFixedFrame&&page.find("FL").length>0)||page.attr("toc")=="1";$("#"+Constant.PAGE_ID).remove();$("#"+Constant.PAGE_LOADING_ID).remove();createPageDom(width,height);go.drilldownManager.updateInfo(pageNumber,page,pageDom,textDom,canvasDom,noteDom);refreshScroll();if(go.textOnCanvas){canvasManager.setPage(go.currentPage,report,textDom,canvasDom,scroll)}else{layerManager&&layerManager.clearAutoReload();drawWithPainter(document.getElementById(Constant.CANVAS_ID),textDom,page,head,function(){if(go.options.useTableOfContents&&go.tableOfContents){go.tableOfContents.onDrawPage(textDom,pageNumber)}if(go.ttsManager){go.ttsManager.makeParagraphs(page)}m2soft.crownix.Forgery.detect(textDom,document.getElementById(Constant.CANVAS_ID),go.isFormEditMode);$("#"+Constant.PAGE_ID).css("visibility","visible");if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){FieldOrder.getInstance().bind(textDom,scroll,pageNumber);var eventName=Util.browser.edge?"click touchstart":"mousedown pointerdown touchstart";$("#"+Constant.CONTAINER_ID).on(eventName,function(e){var nodeName=e.target.nodeName;var id=$(e.target).attr("id");var className=$(e.target).attr("class");var forAttr=$(e.target).attr("for");var disabled=$(e.target).attr("disabled");if(id&&id.indexOf("crownix_form_field")!=-1||nodeName=="OPTION"){FieldOrder.getInstance().blur(true)}if((id&&(id.indexOf("crownix_form_field")!=-1)||(forAttr&&forAttr.indexOf("crownix_form_field_")!=-1)||(className==="crownix_form_field_label")||(className==="crownix_hyperlink"))&&(disabled!=="disabled")){preventToolbarToggle=true}else{preventToolbarToggle=false}})}if(go.ttsManager){go.ttsManager.setFocus()}if(shareManager&&shareManager.isConnected()){shareManager.initFields()}go.finishDrawPage=true;ChannelManager.getChannel("viewer:onDrawPage").publish();ChannelManager.getChannel("tabOrder:movePage").publish();ChannelManager.getChannel("viewer:onReportFinished").publish();$("#"+Constant.PAGE_LOADING_ID).remove()});go.drilldownManager.reload(pageNumber)}postDrawPage(pageNumber)}};var postDrawPage=function(pageNumber){var scrollWidth=parseInt(options.scrollbarOnViewer.width);Util.changeScrollbar(scrollWidth,scrollWidth,options.scrollbarOnViewer.color,"","");var defaultZoom=function(defaultZoomRatio){var centre=options.defaultZoomCentre.toUpperCase();if(!isNaN(defaultZoomRatio)){zoomRatio=Number(defaultZoomRatio)}else{if(defaultZoomRatio.toUpperCase()=="WIDTH"){zoomRatio=getWidthFitRatio()}else{if(defaultZoomRatio.toUpperCase()=="HEIGHT"){zoomRatio=getHeightFitRatio()}}}scroll.zoom(zoomRatio);if(centre=="CENTER"){scroll.scrollTo(-((pageDom.width()*zoomRatio-containerDom.width())/2),-((pageDom.height()*zoomRatio-containerDom.height())/2),0)}else{if(centre=="LEFTTOP"){scroll.scrollTo(0,0,0)}}if(!isNaN(options.defaultZoom)){toolbar.setRatioText(Math.round(scroll.scale*100)+"%")}else{if(defaultZoomRatio.toUpperCase()=="WIDTH"){$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Icon.FIT_WIDTH))}else{if(defaultZoomRatio.toUpperCase()=="HEIGHT"){$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Icon.FIT_HEIGHT))}}}isFirstPageDraw=false;scroll.resetPosition(100)};if(options.defaultZoom&&!options.keepZoomRatio){defaultZoom(options.defaultZoom)}else{if(isFirstPageDraw&&options.defaultZoom&&options.keepZoomRatio){defaultZoom(options.defaultZoom)}else{if(!GuideManager.getInstance(go).isEnabled){pack()}else{if(zoomEnd!==false){scroll.zoom(zoomRatio,containerDom.width()/2,containerDom.height()/2,0)}}isFirstPageDraw=false}}if(!editor||!editor.isAddedPage(pageNumber)){if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){go.noteManager.drawPage(noteDom,pageNumber);go.noteManager.setRatio(zoomRatio)}if(go.textOnCanvas&&zoomEnd===false){canvasManager.redraw(go.currentPage,report,pageDom,textDom,canvasDom,noteDom,scroll,drawWithPainter,searchDom)}}checkLastpage(pageNumber);var eventName=Util.browser.edge?"click touchstart":"mousedown pointerdown touchstart";$(slide.getSlide()).on(eventName,function(e){preventToolbarToggle=true})};var drawWithPainter=function(canvasDom_,textDom_,page,head,callback,drawMedia){var painter=new Painter(go,canvasDom_,textDom_,movePage,serverUrl_);painter.useAdjustLetterSpace(useAdjustLetterSpace);painter.useAdjustCharacterScale(useAdjustCharacterScale);painter.setFormFieldMode(go.license.isAllowedFeature("FormField")&&head.formFieldMode);painter.drawPage(page,head,callback,drawMedia)};var drawWithPainterForPrint=function(canvasDom_,textDom_,page,head,callback){drawWithPainter(canvasDom_,textDom_,page,head,callback,"p")};var refreshScroll=function(){if(!!scroll){scroll.destroy()}var zoomMin=options.scrollOptions.zoomMin<0.1?0.1:options.scrollOptions.zoomMin;var zoomMax=options.scrollOptions.zoomMax>10?10:options.scrollOptions.zoomMax;if(zoomMin>10){zoomMin=10}var scrollOptions={zoom:true,zoomMin:zoomMin,zoomMax:zoomMax>zoomMin?zoomMax:zoomMin,useTransition:options.useScrollTransition,scrollX:true,scrollY:true,scrollbars:"custom",interactiveScrollbars:true,freeScroll:true,zoomStart:Math.min(1,options.scrollOptions.useInfiniteScroll?go.documentScroller.getWidthFitRatio():getWidthFitRatio()),keepCenter:true,tap:Util.hasTouch(),doubleTap:options.scrollOptions.doubleTap!=undefined?options.scrollOptions.doubleTap:Util.hasTouch(),mouseWheel:true,click:false,keyBindings:{pageUp:33,pageDown:34,end:-1,home:-1,left:-1,up:-1,right:-1,down:-1},HWCompositing:options.enableTranslateZ,pageTurnMethod:options.scrollOptions.useInfiniteScroll?"scroll":"swipe"};if(Util.browser.android||Util.browser.ios){scrollOptions.disablePointer=true;scrollOptions.disableTouch=false}if(options.scrollOptions.disableTouch){scrollOptions.disableTouch=true}if(options.scrollOptions.disablePointer){scrollOptions.disablePointer=true}if(options.scrollOptions.disableMouse){scrollOptions.disableMouse=true}go.scroll=scroll=new IScroll("#"+Constant.CONTAINER_ID,scrollOptions);scroll.on("zoomEnd",function(){zoomRatio=this.scale;zoomEnd=true;toolbar.setRatioText(Math.round(this.scale*100)+"%");if(editor&&editor.isAddedPage(go.currentPage)){return}if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){go.noteManager.setRatio(this.scale)}if(canvasManager.needRedraw){if(options.scrollOptions.useInfiniteScroll){go.documentScroller.clearLoadedPages(true);go.documentScroller.drawVisiblePages()}else{if(go.textOnCanvas&&!$(".crownix-pen-overflow").length){canvasManager.redraw(go.currentPage,report,pageDom,textDom,canvasDom,noteDom,scroll,drawWithPainter,searchDom)}}}});scroll.on("scrollMove",function(){if(go.textOnCanvas){if(go.drilldownManager.isFinished()){canvasManager.moveParts()}else{scroll.scrollTo(scroll.absStartX,scroll.absStartY)}}if(go.options.scrollOptions.useInfiniteScroll){go.documentScroller.updateScrollDirect(scroll.deltaY||scroll.wheelDeltaY);go.dialog.pagenum(go.documentScroller.getDisplayPageNumber(),go.totalPage,false);go.pageRenderer.pause()}});scroll.on("scrollEnd",function(){if(this.indicators&&isDesktopBlink){var evt=document.createEvent("UIEvents");evt.initUIEvent("resize",true,false,window,0);window.dispatchEvent(evt)}if(go.options.scrollOptions.useInfiniteScroll){go.documentScroller.updateScrollDirect(scroll.deltaY||scroll.wheelDeltaY);go.documentScroller.drawVisiblePages();go.dialog.pagenum(go.documentScroller.getDisplayPageNumber(),go.totalPage,false);if((!go.noteManager||!go.noteManager.isFocusInTextBox())&&!GuideManager.getInstance().isEnabled){go.documentScroller.resetToolbarItems()}}});scroll.on("beforeScrollStart",function(e){if(go.options.scrollOptions.useInfiniteScroll){go.pageRenderer.pause();go.dialog.pagenum(go.documentScroller.getDisplayPageNumber(),go.totalPage,false)}else{dialog.pagenum(go.currentPage,go.totalPage)}});scroll.on("toolbarToggle",function(e){if(!preventToolbarToggle){toolbar.toggle()}else{preventToolbarToggle=false}});scroll.on("zoomStart",function(e){zoomEnd=false;if(!options.scrollOptions.useInfiniteScroll){dialog.pagenum(go.currentPage,go.totalPage)}});scroll.on("resize",function(){if(Util.browser.mobile&&this.scale==packRatio){pack()}this.zoom(this.scale,containerDom.width()/2,containerDom.width()/2);this.resetPosition(100)});scroll.on("prevPage",function(){if(options.scrollOptions.useInfiniteScroll){return}if(!options.scrollMovePage){scroll.setScrollTop(true);return}if((drilldownManager&&drilldownManager.isOpening())||GuideManager.getInstance().isEnabled){return}if(go.currentPage!==1){go.viewer.movePage(go.currentPage-1,false)}else{if(go.currentPage==1){scroll.setScrollTop(true)}}});scroll.on("nextPage",function(){if(options.scrollOptions.useInfiniteScroll){return}if(!options.scrollMovePage){scroll.setScrollTop(false);return}if((drilldownManager&&drilldownManager.isOpening())||GuideManager.getInstance().isEnabled){return}if(go.currentPage<Number(go.totalPage)){go.viewer.movePage(go.currentPage+1,false)}else{if(go.currentPage==go.totalPage){scroll.setScrollTop(false)}}});if(!go.options.scrollOptions.useInfiniteScroll&&(Util.browser.mobile||options.swipe.useOnDesktop||navigator.maxTouchPoints>0)){scroll.on("pullOut",PageSwiper.getInstance(containerDom,go).pullOut);scroll.on("pullEnd",PageSwiper.getInstance(containerDom,go).pullEnd);scroll.on("zoomStart",PageSwiper.getInstance(containerDom,go).cancel)}$(scroll.scroller).bind("doubleTap",function(ev){if(getWidthFitRatio()==scroll.scale||scroll.scale==1){scroll.zoom(scroll.scale*2,ev.pageX,ev.pageY)}else{if(!pack()){scroll.zoom(1,ev.pageX,ev.pageY)}}});if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){$(scroll.scroller).on("mousedown touchstart",function(e){!!noteDom&&noteDom.find(":focus").blur()})}ChannelManager.getChannel("toolbar:changeContainer").subscribe(function(){scroll.refresh()});ChannelManager.getChannel("toolbar:changeToolbarState").subscribe(function(){scroll.refresh()})};var prevDoc=function(){linkManager.prevDoc()};var nextDoc=function(){linkManager.nextDoc()};var zoomIn=function(){scroll.zoom(zoomRatio+0.2,containerDom.width()/2,containerDom.height()/2);zoomRatio=scroll.scale;return zoomRatio};var zoomOut=function(){scroll.zoom(zoomRatio-0.2,containerDom.width()/2,containerDom.height()/2);zoomRatio=scroll.scale;return zoomRatio};var createViewerDom=function(){$(parentId_+" > *").remove();if(isOverlay){go.parentId=parentId_="#crownix-html5-viewer";var overlay=$("<div>").addClass("crownix-overlay").css("z-index",Constant.VIEWER_OVERLAY_Z_INDEX).prependTo("body").fadeIn(500);if(typeof setting_.viewerWidth!="number"||setting_.viewerWidth<0||setting_.viewerWidth>1){setting_.viewerWidth=0.9}if(typeof setting_.viewerHeight!="number"||setting_.viewerHeight<0||setting_.viewerHeight>1){setting_.viewerHeight=0.9}var parentDom=$('<div id="crownix-html5-viewer">').css({display:"none",position:"absolute",width:setting_.viewerWidth*100+"%",height:setting_.viewerHeight*100+"%",left:(100-setting_.viewerWidth*100)/2+"%",top:(100-setting_.viewerHeight*100)/2+"%","margin-left":window.pageXOffset,"margin-top":window.pageYOffset,border:"1px solid #666","z-index":Constant.VIEWER_Z_INDEX,}).prependTo("body");var tmpOverflowX=$("body").css("overflow-x");var tmpOverflowY=$("body").css("overflow-y");if(setting_.viewerWidth==1){$("body").css("overflow-x","hidden")}if(setting_.viewerWidth==1&&setting_.viewerHeight==1){$("body").css("overflow-y","hidden")}$('<span class="crownix-close-button">X</span>').bind("click",function(){unload();parentDom.remove();overlay.remove();$("body").css("overflow-x",tmpOverflowX);$("body").css("overflow-y",tmpOverflowY);FieldOrder.dispose();PageSwiper.dispose();formManager&&formManager.saved()}).css({display:setting_.enableCloseButton?"block":"none",}).appendTo(parentDom);parentDom.fadeIn(500)}containerDom=$("<div>").attr("id",Constant.CONTAINER_ID).addClass("crownix-container").addClass("crownix-container-gradient").addClass("notranslate").appendTo(parentId_);$('<div><iframe id="crownix-download-iframe" name="crownix-download-iframe" style="display: none"></iframe><form id="crownix-download-form" target="crownix-download-iframe" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="filename"/><input type="hidden" name="delete" value="true"/></form></div>').appendTo(parentId_)};var createPageDom=function(pageWidth,pageHeight){pageDom=$("<div>").attr("id",Constant.PAGE_ID).css({width:pageWidth,height:pageHeight,padding:options.scrollOptions.pageMargin}).prependTo("#"+Constant.CONTAINER_ID);canvasDom=$("<canvas>").attr({id:Constant.CANVAS_ID,width:pageWidth,height:pageHeight}).css({position:"absolute","z-index":1,width:Math.floor(pageWidth),height:Math.floor(pageHeight)});textDom=$("<div>").attr("id",Constant.TEXT_ID).addClass("crownix-text").css({position:"absolute",width:pageWidth,height:pageHeight,"z-index":2});searchDom=$("<div>").addClass("crownix-search-mark").css({position:"absolute",top:0,left:0,width:pageWidth,height:pageHeight,"pointer-events":"none"}).appendTo(textDom);if(!go.textOnCanvas){canvasDom.addClass("crownix-page");textDom.addClass("crownix-page")}if(options.showPageLoadingOverlay===true){loadingDom=$("<div>").attr("id",Constant.PAGE_LOADING_ID).appendTo(containerDom)}canvasDom.appendTo("#"+Constant.PAGE_ID);textDom.appendTo("#"+Constant.PAGE_ID);ChannelManager.getChannel("toolbar:changeToolbarState").subscribe(function(data){var theme=data.theme;var pageBorderWidth=parseFloat(theme.pageBorderWidth);var unit=theme.pageBorderWidth.substr(pageBorderWidth.toString().length);if(pageBorderWidth>1){setTimeout(function(){pageDom.css({width:pageWidth+pageBorderWidth*2+unit,height:pageHeight+pageBorderWidth*2+unit});scroll.refresh()},0)}});ChannelManager.getChannel("viewer:createPageDom").publish();if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){noteDom=$("<div>").attr("id",Constant.NOTE_ID).css({position:"absolute",display:"block",width:pageWidth,height:pageHeight,"z-index":3,}).appendTo("#"+Constant.PAGE_ID)}if(options.formField.readonly){preventDom=$("<div>").attr("id",Constant.PREVENTER_ID).css({position:"absolute",width:pageWidth,height:pageHeight,"z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo("#"+Constant.PAGE_ID)}};var getWidthFitRatio=function(){if(options.scrollOptions.useInfiniteScroll){return go.documentScroller.getWidthFitRatio()}if(!canvasDom){return 1}var containerWidth=containerDom.innerWidth()-2;var canvasWidth=canvasDom.innerWidth();var padding=CONTAINER_PADDING*2*containerWidth/canvasWidth;return(containerWidth-padding)/canvasWidth};var getHeightFitRatio=function(){if(options.scrollOptions.useInfiniteScroll){return go.documentScroller.getHeightFitRatio()}var containerHeight=containerDom.innerHeight()-2;var canvasHeight=canvasDom.innerHeight();var padding=CONTAINER_PADDING*2*containerHeight/canvasHeight;return(containerHeight-padding)/canvasHeight};var getZoomMin=function(){return Math.min(getHeightFitRatio(),getWidthFitRatio())};var pack=function(){if($("#"+Constant.PAGE_ID).length==0){return}this.moveScroll=function(){scroll.zoom(zoomRatio,containerDom.width()/2,containerDom.height()/2,0);if(scroll.getScrollTop()===false){scroll.scrollTo(containerDom.width()/2,scroll.getMaxScrollY())}else{scroll.scrollTo(containerDom.width()/2,0)}zoomRatio=scroll.scale;toolbar.setRatioText(Math.round(scroll.scale*100)+"%");scroll.resetPosition()};packRatio=getWidthFitRatio();if(packRatio<1){if(!options.keepZoomRatio||isFirstPageDraw){zoomRatio=packRatio}this.moveScroll();return true}else{if(!options.keepZoomRatio){zoomRatio=scroll.scale}this.moveScroll();dialog.pagenum(go.currentPage,go.totalPage);return false}};var checkError=function(xhr){if(xhr.getResponseHeader("crownix-status")==="error"){Message.progress.hide(parentId_);var errMsg;var errIndex=xhr.responseText.indexOf("[ERS-");if(errIndex>=0){var errNo=xhr.responseText.substr(errIndex+5,5);if(errNo!="16002"){clearInterval(pageCheckInterval);toolbar.disableToolbarItem(["cancel"])}errMsg=xhr.responseText.substr(errIndex)}else{clearInterval(pageCheckInterval);toolbar.disableToolbarItem(["cancel"]);errMsg=R.get("request_server_error")}dialog.show(errMsg);setError(errMsg);doFinishWork(false);return true}return false};var showErrMsgFromMML=function(mml){var errMsg;var errIndex=mml.indexOf("[ERS-");if(errIndex>=0){errMsg=mml.substr(errIndex)}else{errMsg=R.get("execute_error")}dialog.show(errMsg);Message.progress.hide(parentId_);setError(errMsg);doFinishWork(false)};var doFinishWork=function(done,data){toolbar.disableToolbarItem(["cancel"]);oldRuntimeParam=runtimeParam;runtimeParam=new Runtime();if(done){if(!!data&&data.indexOf("<ERR")>=0){var errMsg=report.getDocErrMsg();if(errMsg.length>0){dialog.show(errMsg)}setError(errMsg)}var currentPage=options.scrollOptions.useInfiniteScroll?go.documentScroller.getDisplayPageNumber():go.currentPage;dialog.pagenum(currentPage,go.totalPage,false);if(parseInt(go.totalPage)===1){toolbar.disableToolbarItem(["next","last","move"])}for(var i in report.getDocumentList()){preventPrintExport=preventPrintExport||(go.license.isAllowedFeature("FormField")&&report.getDocumentList()[i].formFieldMode&&!go.isFormExportMode)}if(!preventPrintExport){toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"])}if(go.isFormEditMode){toolbar.showToolbarItem(["storage-formdata"])}else{toolbar.hideToolbarItem(["storage-formdata"])}var docStackArr=[];if(!linkManager.isEmptyPrevDocStack()){docStackArr.push("prevDoc")}if(!linkManager.isEmptyNextDocStack()){docStackArr.push("nextDoc")}if(docStackArr.length>0){toolbar.showToolbarItem(["prevDoc","nextDoc"]);toolbar.disableToolbarItem(["prevDoc","nextDoc"]);toolbar.enableToolbarItem(docStackArr)}else{toolbar.hideToolbarItem(["prevDoc","nextDoc"])}if(go.isFormEditMode){formManager.fireLoadCompleteEvent();formManager.bindEvent()}if(!go.license.isAllowedFeature("ShareServer")){toolbar.hideToolbarItem(["share"]);if(shareManager){shareManager.unableLicense()}}if(isError&&options.disableToolbarItemsOnError){toolbar.disableToolbarItem(options.disableToolbarItemsOnError)}formManager.removePreventEvent();mmlString=data;if(externalStorage){externalStorage.setIsFormEditMode(go.isFormEditMode)}setTimeout(function(){if(!isFinished){go.reportFinished=isFinished=true;fireFinishEvent();if(go.textOnCanvas&&go.redrawOnFinished){if(options.scrollOptions.useInfiniteScroll){go.documentScroller.drawVisiblePages(true)}else{canvasManager.redraw(go.currentPage,report,pageDom,textDom,canvasDom,noteDom,scroll,drawWithPainter,searchDom)}}setTimeout(function(){if(go.options.showThumbnail){if(stateLess){thumbnail.create()}else{window.console.log(R.get("set_statelessmode").replace(/%s/g,R.get("thumbnail")))}}},0);if((!go.isFormEditMode||stateLess)&&!options.useFixedFrame){go.toolbar.enableToolbarItem(["search"])}if(go.isFormEditMode){FieldOrder.getInstance(go).redefineSkipTabOrder()}emit("report-finished",getReportInfo());checkLastpage(1);if(go.options.mirroring.enable){if(!go.mirroringManager.externalEvent.isSubProcess()){var dataObj;if(go.isFormEditMode){dataObj={mmlData:exportMML(),formData:exportFormData({includeExtra:true,includeNote:true})}}else{dataObj=exportMML()}go.mirroringManager.externalEvent.sendMmlFormData(dataObj)}else{if(!go.finishDrawPage){ChannelManager.getChannel("viewer:onReportFinished").subscribe(function(){go.mirroringManager.externalEvent.reportFinished();ChannelManager.removeChannel("viewer:onReportFinished")})}else{go.mirroringManager.externalEvent.reportFinished()}}}}if(shareManager&&shareManager.isConnected()){shareManager.reportFinished()}if(go.isFormEditMode&&stateLess){go.formManager.makeEnableSubmit()}if(!go.options.scrollOptions.useInfiniteScroll){if(go.finishDrawPage){GuideManager.getInstance(go).show()}else{ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(function(data){dialog.pagenum(go.currentPage,go.totalPage,false);GuideManager.getInstance(go).show()})}}go.formManager.validator.createInvalidList()},0)}else{var currentPage=options.scrollOptions.useInfiniteScroll?go.documentScroller.getDisplayPageNumber():go.currentPage;dialog.pagenum(currentPage,go.totalPage,false);if(pageCheckInterval){toolbar.enableToolbarItem(["cancel"])}setTimeout(function(){go.reportFinished=isFinished=true;emit("report-finished",{isError:isError,lastErrorMsg:lastErrorMsg});if(go.options.mirroring.enable){go.mirroringManager.externalEvent.reportFinished()}},0)}};var getReportInfo=function(){var reportname=[];var documentList=report.getDocumentList();if(Util.isArray(mrdPath_)&&documentList){for(var i in documentList){reportname.push(documentList[i].mrd)}}else{if(documentList.hasOwnProperty()){reportname=documentList[1].mrd}}return{reportname:reportname,reportlongname:mrdPath_,reportparams:mrdParam_,subreportname:report.getSubReportName()?report.getSubReportName().split("@@"):"",totalPage:go.totalPage,isError:isError,lastErrorMsg:lastErrorMsg}};var fireFinishEvent=function(){for(var i=0;i<finishEventHandler.length;i++){finishEventHandler[i].handler.apply(this,finishEventHandler[i].arg)}finishEventHandler=[]};var addFinishEventHandler=function(handler,arg){finishEventHandler.push({handler:handler,arg:arg})};var showMMLStorageDialog=function(viewer_){if(!m2soft.crownix.storage||!m2soft.crownix.storage.Window){dialog.show(R.get("unsupported_feature_localStorage"));return}var StorageWindow=m2soft.crownix.storage.Window;var storageWindow=new StorageWindow("mml",dialog);storageWindow.setDataGetter(function(exportOpts){return viewer_.exportMML(exportOpts)});storageWindow.setDataLoader(function(data){storageWindow.close();viewer_.importMML(data)});storageWindow.show({parent:parentId_})};var showFormDataStorageDialog=function(viewer_){if(!m2soft.crownix.storage||!m2soft.crownix.storage.Window||!go.isFormEditMode){dialog.show(R.get("unsupported_feature_localStorage"));return}var StorageWindow=m2soft.crownix.storage.Window;var storageWindow=new StorageWindow("formdata",dialog);storageWindow.setDataGetter(function(exportOpts){return viewer_.exportFormData(exportOpts)});storageWindow.setDataLoader(function(data){var load=function(){storageWindow.close();viewer_.importFormData(data);formManager.saved()};if(formManager.isModified()){dialog.show(R.get("storage_formfield_import"),{type:"confirm",inputHandler:function(result){if(result){load()}}})}else{load()}});storageWindow.show({parent:parentId_,closeOnError:true,})};var getMML=function(mrdPath,mrdParam,mrdPlainParam,mrdData,loadHandler,doneHandler,opcode,isSubMML){var client=new AjaxClient();client.setConnectTimeout(options.timeout);var worker=getEncryptWorker("decrypt");worker.addEventListener("message",function(msg){var xmlData=msg.data.text;var method=msg.data.method;var rdid=msg.data.rdid;if(method==="process"){loadHandler(xmlData,rdid,method)}else{if(method==="finalize"){doneHandler(xmlData,rdid,method);worker.terminate()}}});client.setHandler({load:function(xhr){if(checkError(xhr)){return}worker.postMessage({method:"process",rdid:xhr.getResponseHeader("crownix-rdid"),text:xhr.responseText})},done:function(xhr){if(checkError(xhr)){return}if(options.viewCache&&!isSubMML){var cacheKey=xhr.getResponseHeader("crownix-cache-key");go.cacheKey=cacheKey;if(options.exportCache){go.submitParameters.cache_key=cacheKey}}worker.postMessage({method:"finalize",rdid:xhr.getResponseHeader("crownix-rdid"),text:xhr.responseText})},error:function(xhr,message){Message.progress.hide(parentId_);worker.terminate();var errMsg=message;if(errMsg){dialog.show(errMsg)}else{if(xhr.status==0){errMsg=R.get("server_connect_error");dialog.show(R.get("server_connect_error"))}else{errMsg=R.get("request_server_error")+"("+xhr.status+")";dialog.show(R.get("request_server_error")+"("+xhr.status+")")}}setError(errMsg);doFinishWork(false)},abort:function(){Message.progress.hide(parentId_);worker.terminate();dialog.show(R.get("request_abort_error"));setError(R.get("request_abort_error"));doFinishWork(false)},timeout:function(){Message.progress.hide(parentId_);worker.terminate();dialog.show(R.get("request_timeout_error"));setError(R.get("request_timeout_error"));doFinishWork(false)}});var mrdPathLocal="";var mrdParamLocal="";var mrdPlainParamLocal="";var mrdDataLocal="";if(Util.isArray(mrdPath)){mrdPathLocal=JSON.stringify(mrdPath);mrdParamLocal=JSON.stringify(mrdParam);if(Util.isArray(mrdPlainParam)&&mrdPlainParam.length>0){mrdPlainParamLocal=JSON.stringify(mrdPlainParam)}if(Util.isArray(mrdData)&&mrdData.length>0){mrdDataLocal=JSON.stringify(mrdData)}}else{mrdPathLocal=mrdPath;mrdParamLocal=mrdParam;if(typeof mrdPlainParam=="string"&&mrdPlainParam!=""){mrdPlainParamLocal=mrdPlainParam}if(typeof mrdData=="string"&&mrdData!=""){mrdDataLocal=mrdData}}go.uuid=Util.uuid();var requestParam={opcode:opcode,mrd_path:mrdPathLocal,mrd_param:mrdParamLocal,mrd_plain_param:mrdPlainParamLocal,mrd_data:mrdDataLocal,runtime_param:runtimeParam.toJson(),mmlVersion:report.getMmlVersion(),protocol:"sync",use_cache:options.viewCache,html5_uuid:go.uuid};if(!extParamMap.isEmpty()){requestParam.ext_param=JSON.stringify(extParamMap.toObject())}if(encType>3&&linkManager.isEmptyPrevDocStack()&&go.drilldownManager.getDrilldownLength()==0){requestParam.enc_type=encType}if(rdid){requestParam.rdid=rdid}if(!isSubMML&&options.externalStorage){requestParam.es_key=options.externalStorage.key;requestParam.es_info=JSON.stringify(exportInfo({}))}for(var prop in reportingParam){if(!requestParam[prop]){requestParam[prop]=reportingParam[prop]}}var encryptWorker=getEncryptWorker("encrypt");encryptWorker.addEventListener("message",function(msg){var requestParam=msg.data.obj;var method=msg.data.method;if(method==="object"){if(options.enableSecure){client.setRequestHeader("crownix-rdid",rdid);client.setRequestHeader("crownix-encrypt-type","parameter")}client.invoke(serverUrl_,requestParam);encryptWorker.terminate()}});encryptWorker.postMessage({method:"object",obj:requestParam});return client};var setError=function(errMsg){isError=true;lastErrorMsg=errMsg};var openFileAsSingle=function(mrdPath,mrdParam,mrdData,mrdPlainParamLocal){Message.progress.show(parentId_);toolbar.enableToolbarItem(["cancel"]);var loadHandler=function(xmlData,rdid_,method){rdid=rdid_;report.parseMML(xmlData,undefined,method)};var doneHandler=function(xmlData,rdid_,method){rdid=rdid_;if(xmlData[0]==="0"){parameterBuilder=new ParameterBuilder(go,isIncludeNote);showErrMsgFromMML(xmlData)}else{report.onLoad=function(isValidXml){parameterBuilder=new ParameterBuilder(go,isIncludeNote);isValidXml?doFinishWork(true,xmlData):showErrMsgFromMML(xmlData)};report.parseMML(xmlData,undefined,method)}};client=getMML(mrdPath,mrdParam,mrdPlainParamLocal,mrdData,loadHandler,doneHandler,700)};var openFileAsMulti=function(mrdPath,mrdParam,mrdData,mrdPlainParamLocal){Message.progress.show(parentId_);toolbar.enableToolbarItem(["cancel"]);var loadHandler=function(xmlData,rdid_){rdid=rdid_;checkPage()};var doneHandler=function(xmlData,rdid_,method){rdid=rdid_;if(xmlData&&xmlData.length!=xmlData.indexOf("</MML>")+6){showErrMsgFromMML(xmlData);return}report.parseMML(xmlData,1,method);parameterBuilder=new ParameterBuilder(go,isIncludeNote);if(!pageCheckInterval){pageCheckInterval=setInterval(function(){checkPage()},500)}};client=getMML(mrdPath,mrdParam,mrdPlainParamLocal,mrdData,loadHandler,doneHandler,701)};var getEncryptWorker=function(type){if(options.enableSecure){var algorithm=IKE.getAlgorithm(rdid);var key=IKE.getKey(rdid);return WorkerUtil.getCryptoWorker(type,algorithm,key)}else{return WorkerUtil.getIdentifyWorker()}};var checkPage=function(){var client=new AjaxClient();client.setConnectTimeout(options.timeout);var worker=getCheckPageWorker();client.setHandler({load:function(xhr){},done:function(xhr){if(checkError(xhr)){worker.terminate();return}var status=xhr.getResponseHeader("crownix-status");worker.postMessage({method:"finalize",text:xhr.responseText,status:status})},error:function(xhr){worker.terminate();clearInterval(pageCheckInterval);var errMsg;if(xhr.status==0){errMsg=R.get("server_connect_error");dialog.show(R.get("server_connect_error"))}else{errMsg=R.get("request_server_error")+"("+xhr.status+")";dialog.show(R.get("request_server_error")+"("+xhr.status+")")}setError(errMsg);doFinishWork(false)},abort:function(){worker.terminate();dialog.show(R.get("request_abort_error"));clearInterval(pageCheckInterval);setError(R.get("request_abort_error"));doFinishWork(false)},timeout:function(){worker.terminate();dialog.show(R.get("request_timeout_error"));clearInterval(pageCheckInterval);setError(R.get("request_timeout_error"));doFinishWork(false)}});var requestParam={opcode:702,rdid:rdid,};go.rdid=rdid;var encryptWorker=getEncryptWorker("encrypt");encryptWorker.addEventListener("message",function(msg){var requestParam=msg.data.obj;var method=msg.data.method;if(method==="object"){if(options.enableSecure){client.setRequestHeader("crownix-rdid",rdid);client.setRequestHeader("crownix-encrypt-type","parameter")}client.invoke(serverUrl_+(rdid?"?rdid="+rdid:""),requestParam);encryptWorker.terminate()}});encryptWorker.postMessage({method:"object",obj:requestParam})};var getCheckPageWorker=function(){var worker=getEncryptWorker("decrypt");worker.addEventListener("message",function(msg){var totalPage=parseInt(msg.data.text);var method=msg.data.method;var status=msg.data.status;if(method==="finalize"&&Painter.updatePageNum){report.setTotalPage(totalPage);dialog.pagenum(go.currentPage,go.totalPage,true);Painter.updatePageNum();if(status==="done"){clearInterval(pageCheckInterval);doFinishWork(true);if(isFinished){checkLastpage(go.currentPage)}}worker.terminate()}});return worker};var downloadPage=function(pageNumber){if(lastDownloadPageNumber==pageNumber){return}else{lastDownloadPageNumber=pageNumber}if(editor&&editor.isAddedPage(pageNumber)){drawPageImage(pageNumber);return}if(report.hasPage(pageNumber)){drawPage(pageNumber);if(go.search.isCreate()){go.search.refreshMark()}}else{var client=new AjaxClient();client.setConnectTimeout(options.timeout);var worker=getDownloadPageLoadWorker(pageNumber);pageNumber=report.findPage(pageNumber);client.setHandler({load:function(xhr){},done:function(xhr){if(checkError(xhr)){clearInterval(pageCheckInterval);return}worker.postMessage({method:"finalize",text:xhr.responseText})},error:function(xhr){clearInterval(pageCheckInterval);worker.terminate();var errMsg;if(xhr.status==0){errMsg=R.get("server_connect_error");dialog.show(errMsg)}else{errMsg=R.get("request_server_error")+"("+xhr.status+")";dialog.show(errMsg)}setError(errMsg);doFinishWork(false)},abort:function(){dialog.show(R.get("request_abort_error"));worker.terminate();clearInterval(pageCheckInterval);setError(R.get("request_abort_error"));doFinishWork(false)},timeout:function(){dialog.show(R.get("request_timeout_error"));worker.terminate();clearInterval(pageCheckInterval);setError(R.get("request_timeout_error"));doFinishWork(false)}});var doc=report.getHeadForPage(pageNumber);var withHead=doc==null;var requestParam={opcode:703,page:pageNumber,withHead:withHead,mmlVersion:report.getMmlVersion(),rdid:rdid,};if(options.enableSecure){client.setRequestHeader("crownix-rdid",rdid);client.setRequestHeader("crownix-encrypt-type","parameter")}var encryptWorker=getEncryptWorker("encrypt");encryptWorker.addEventListener("message",function(msg){var requestParam=msg.data.obj;var method=msg.data.method;if(method==="object"){client.invoke(serverUrl_+(rdid?"?rdid="+rdid:""),requestParam);encryptWorker.terminate()}});encryptWorker.postMessage({method:"object",obj:requestParam})}};var getDownloadPageLoadWorker=function(pageNumber){if(downloadPageLoadWorker){downloadPageLoadWorker.terminate()}downloadPageLoadWorker=getEncryptWorker("decrypt");downloadPageLoadWorker.addEventListener("message",function(msg){var text=msg.data.text;var method=msg.data.method;if(method==="finalize"){if(text[0]!=="0"){report.onLoad=function(isValidXml){if(isFinished){isValidXml?doFinishWork(true,text):showErrMsgFromMML(text)}if(go.options.scrollOptions.useInfiniteScroll){drawPageFrame(pageNumber)}else{drawPage(pageNumber)}};report.parseMML(text,pageNumber,method)}else{showErrMsgFromMML(text)}if(go.search.isCreate()){go.search.refreshMark()}downloadPageLoadWorker.terminate()}});return downloadPageLoadWorker};var cancelReport=function(){var client=new AjaxClient();var clearPageCheckInterval=function(){clearInterval(pageCheckInterval);toolbar.disableToolbarItem(["cancel"]);dialog.pagenum(go.currentPage,go.totalPage,false)};client.setHandler({load:function(xhr){},done:function(xhr){clearPageCheckInterval()},error:function(xhr){clearPageCheckInterval();if(xhr.status==0){dialog.show(R.get("server_connect_error"))}else{dialog.show(R.get("request_server_error")+"("+xhr.status+")")}},abort:function(){clearPageCheckInterval()},timeout:function(){dialog.show(R.get("request_timeout_error"));clearPageCheckInterval()}});var requestParam={opcode:709,rdid:rdid,html5_uuid:go.uuid};var encryptWorker=getEncryptWorker("encrypt");encryptWorker.addEventListener("message",function(msg){var method=msg.data.method;if(method==="object"){var requestParam=msg.data.obj;if(options.enableSecure){client.setRequestHeader("crownix-rdid",rdid);client.setRequestHeader("crownix-encrypt-type","parameter")}client.invoke(serverUrl_+(rdid?"?rdid="+rdid:""),requestParam);encryptWorker.terminate()}});encryptWorker.postMessage({method:"object",obj:requestParam})};var downloadFile=function(type,callback){var exportAgent=new ExportAgent(go,dialog,toolbar,options);isDownload=true;var exportDownload=function(option){var exportParam=getParameterData(false,option);if(Util.isCloudServer()){exportAgent.downloadFileDirectUseBlob(serverUrl_,type,exportParam,oldRuntimeParam,linkManager,extParamMap);isDownload=false}else{if(go.options.downloadProtocolFile===false){exportAgent.downloadFile(serverUrl_,type,exportParam,oldRuntimeParam,callback,linkManager,extParamMap).always(function(){isDownload=false})}else{exportAgent.downloadFileDirect(serverUrl_,type,exportParam,oldRuntimeParam,linkManager,extParamMap);isDownload=false}}};if(type=="xls"&&options.showXlsKeepFormDialog==true){var contents=makeXlsDialogContents();dialog.show("",{type:"confirm",body:function(parent){contents.wrapper.appendTo(parent)},okHandler:function(){var temp=contents.layout.is(":checked")?65537:65538,pageRatio;if(contents.ratio.is(":checked")){pageRatio=contents.ratioInput.val();if(!isNaN(pageRatio)){pageRatio=Math.min(Math.max(pageRatio,10),400)}}exportDownload({xlsKeepFormNum:temp,xlsPageZoom:pageRatio})},cancelHandler:function(){isDownload=false}})}else{exportDownload()}};var showPdfWindow=function(pdfOptions){var exportAgent=new ExportAgent(go,dialog,toolbar,options);isDownload=true;if(Util.isCloudServer()){if(Util.browser.msie||Util.browser.edge){dialog.show(R.get("unsupported_download_error"));isDownload=false;return}exportAgent.showPdfWindowDirectUseBlob(serverUrl_,getParameterData(true,pdfOptions),oldRuntimeParam,linkManager,extParamMap);isDownload=false}else{if(go.options.downloadProtocolFile===false){exportAgent.showPdfWindow(serverUrl_,getParameterData(true,pdfOptions),oldRuntimeParam,linkManager,extParamMap).always(function(){isDownload=false})}else{exportAgent.showPdfWindowDirect(serverUrl_,getParameterData(true,pdfOptions),oldRuntimeParam,linkManager,extParamMap);isDownload=false}}};var showPrintWindow=function(){if(!Util.browser.ios){Message.progress.hide(parentId_)}var oldPrintWindow=document.getElementById("crownix-print-frame");if(oldPrintWindow){oldPrintWindow.remove()}go.isPrinting=true;var printWindow=$('<div id="crownix-print-frame">').css({position:"absolute",top:$("#"+Constant.CONTAINER_ID).offset().top,width:$("#m2soft-crownix-page").width()||$("#m2soft-document-scroller").width(),height:"100%"}).prependTo("body");if(!Util.browser.android){var printViewer=$('<iframe id="crownix-print-viewer">').css({width:"100%",height:"100%",});printViewer.prependTo(printWindow);var iframeDoc=printViewer.contents()[0];iframeDoc.open();iframeDoc.write('<!DOCTYPE html><head></head><body id="'+Constant.CONTAINER_ID+'" style="width: '+$("#crownix-print-viewer").width()+'px; margin: 0;"></body></html>');iframeDoc.close();printViewer.contents().find("head").append($("link").clone())}for(var i=0,max=go.totalPage;i<max;i++){var pageNum=i+1;var pageXml=report.getPage(pageNum);var docHead=report.getHeadForPage(pageNum);var page=$(pageXml);var pageWidth=Math.floor(page.attr("wd")/10.3);var pageHeight=Math.floor(page.attr("ht")/10.3);var pageStyle=page.attr("or")==="l"?"margin: 0; size: landscape;":"size: portrait;";var printPageDom=$("<div>").attr("id",Constant.PAGE_ID).addClass(Constant.PAGE_ID).css({width:pageWidth,height:pageHeight,position:"relative",visibility:"visible"});if(pageNum<go.totalPage){printPageDom.css({"page-break-after":"always"})}if(Util.browser.firefox){if(pageNum<=go.totalPage){printPageDom.css({"page-break-inside":"avoid"})}}if(!Util.browser.android&&i===0){var head=printViewer.contents()[0].getElementsByTagName("head")[0];var printStyle=$("<style>").attr("type","text/css").attr("media","print").append("body {margin: 0;padding: 0;}@page {"+pageStyle+"}").appendTo(head)}var printCanvasDom=$("<canvas>").attr("id",Constant.CANVAS_ID).attr("width",pageWidth).attr("height",pageHeight).addClass(Constant.CANVAS_ID).css({"z-index":1}).appendTo(printPageDom);var printTextDom=$("<div>").attr("id",Constant.TEXT_ID).addClass(Constant.TEXT_ID).css({width:pageWidth,height:pageHeight,"z-index":2,"-webkit-print-color-adjust":"exact"}).appendTo(printPageDom);var noteDom=$("<div>").attr("id",Constant.NOTE_ID).addClass(Constant.NOTE_ID).css({width:pageWidth,height:pageHeight,"z-index":3,overflow:"hidden"}).appendTo(printPageDom);if(Util.browser.safari){printPageDom.css({zoom:0.83})}else{if(Util.browser.ios){printPageDom.css({zoom:0.95})}}printCanvasDom.css("position","absolute");printTextDom.css("position","absolute");noteDom.css("position","absolute");if(!Util.browser.android){printPageDom.appendTo(printViewer.contents().find("body"))}else{printPageDom.appendTo(printWindow)}(function(page,printPageDom,printTextDom,printCanvasDom,pageNum){drawWithPainterForPrint(printCanvasDom[0],printTextDom,page,docHead,function(){go.drilldownManager.updateInfo(pageNum,page,printPageDom,printTextDom,printCanvasDom);go.drilldownManager.reload(pageNum)})})(page,printPageDom,printTextDom,printCanvasDom,pageNum);if(isIncludeNote("includeNoteInPrint")){go.noteManager.drawNote(noteDom,pageNum,"print")}}var iframeDom;var PARENT=window;if(!Util.browser.android){iframeDom=document.getElementById("crownix-print-viewer")}else{var temp=PARENT.parent;while(PARENT!=temp){PARENT=PARENT.parent;temp=PARENT.parent}printWindow.css({position:"absolute",top:"0px",left:"0px",})}setTimeout(function(){Message.progress.hide(parentId_);var iframeWindow;if(Util.browser.msie||Util.browser.edge){if(iframeDom.contentWindow){iframeDom.contentWindow.document.execCommand("print",false,null)}else{if(iframeDom.contentDocument){iframeDom.contentDocument.execCommand("print",false,null)}}}else{if(!Util.browser.android){iframeWindow=iframeDom.contentWindow||iframeDom.contentDocument;iframeWindow.focus();iframeWindow.print()}else{var body=$(PARENT.document).find("body");var contents=body.contents();var orgDisp=body.css("display");body.css("display","inline");contents.each(function(){if($(this).get(0).tagName){this.prevDisp=$(this).css("display");$(this).hide()}});printWindow.removeAttr("style").appendTo($(PARENT.document).find("body"));print();contents.each(function(){if($(this).get(0).tagName){$(this).css("display",this.prevDisp);delete this.prevDisp}});body.css("display",orgDisp)}}if(Util.browser.opera){iframeWindow.onfocus=function(){printWindow.remove()}}else{if(Util.browser.ios){Message.progress.hide(parentId_)}else{printWindow.remove()}}go.isPrinting=false;var pageXml=report.getPage(go.currentPage);var page=$(pageXml);go.drilldownManager.updateInfo(go.currentPage,page,pageDom,textDom,canvasDom);go.layerManager.refreshLayer(go.currentPage)},1000)};var showPrintWindowUsingBlob=function(data){var url=window.URL.createObjectURL(data);var pdfViewer;$("#crownix-pdf-viewer").remove();pdfViewer=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>');if(Util.browser.msie||Util.browser.edge){dialog.show(R.get("unsupported_download_error"));return}else{if(!Util.browser.mobile){if(Util.os.macos&&Util.browser.safari){pdfViewer.css({width:"100%",height:"100%"});var pdfWindow=new Window(R.get("print_pdfviewer_title"),pdfViewer,{isOverlay:true,buttonType:["close"]});pdfWindow.show()}else{if(Util.browser.firefox){pdfViewer.appendTo($("#m2soft-crownix-container")).css({display:"inline",position:"absolute",top:1,left:1,width:1,height:1,opacity:0,"z-index":-1})}else{pdfViewer.appendTo("body").css("display","none")}}pdfViewer=pdfViewer[0].contentDocument;pdfViewer.location.href=url}}};var checkStorageFeature=function(){if(shareManager&&shareManager.isConnected()){return}if(!m2soft.crownix.storage||!m2soft.crownix.storage.Window){dialog.show(R.get("unsupported_feature_localStorage"));throw R.get("unsupported_feature_localStorage")}};var exportInfo=function(option){return{mrd_path:mrdPath_,mrd_param:mrdParam_,mrd_data:mrdData_,drilldownInfo:go.drilldownManager["export"](),layerInfo:option.includeImage?go.layerManager["export"]():go.layerManager["export"]().replace(/<IM[^>]+>/g,"").replace(/<im(.*?)<(\/?)im>/g,""),options:options,preventPrintExport:preventPrintExport,useAdjustLetterSpace:useAdjustLetterSpace,useAdjustCharacterScale:useAdjustCharacterScale,useWebFont:useWebFont,isAppendReport:go.isAppendReport,removedPage:report.getRemovedPage(),version:"1.0",noteData:(option.includeNote===true&&go.noteManager)?go.noteManager["export"](go.totalPage):undefined,focusField:option.lastFocus?FieldOrder.getInstance().getCurr():undefined}};var exportMML=function(exportOpts){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(drilldownManager&&drilldownManager.isOpening()){throw Error(R.get("image_export_disabled_before_done"))}exportOpts=$.extend({},exportOpts);if(exportOpts.includeImage===undefined){exportOpts.includeImage=true}var exportData=exportInfo(exportOpts);exportData.mml=exportOpts.includeImage?mmlString:mmlString.replace(/<IM[^>]+>/g,"");return exportData};var importMML=function(data,openFileOptions,callback){var mmlData=data.mmlData||data;mrdPath_=mmlData.mrd_path||"";mrdParam_=mmlData.mrd_param||"";mrdData_=mmlData.mrd_data||"";mrdPlainParam_=Array.isArray(mrdPath_)?new Array(mrdPath_.length):"";options=$.extend({},optionsDefault);if(typeof openFileOptions==="object"){$.extend(true,options,openFileOptions)}else{if(typeof mmlData.options==="object"){$.extend(true,options,mmlData.options)}}preventPrintExport=mmlData.preventPrintExport;useAdjustLetterSpace=mmlData.useAdjustLetterSpace;useAdjustCharacterScale=mmlData.useAdjustCharacterScale;useWebFont=mmlData.useWebFont;isAppendReport=mmlData.isAppendReport;openMML(data,callback);if(!options.showPageNum){$(".crownix-dialog-message-pagenum").remove()}else{dialog.keepPageNum(options.showPageNum)}if(options.showThumbnail&&stateLess){slide.addSlideTab(R.get("thumbnail"),thumbnail.getThumbnail())}else{if(options&&options.showThumbnail&&stateLess&&thumbnail.getThumbnail()){slide.addSlideTab(R.get("thumbnail"),thumbnail.getThumbnail())}}};var exportFormData=function(exportOpts){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(!go.isFormEditMode){throw Error(R.get("unsupported_feature_without_formedit_mode"))}if(drilldownManager&&drilldownManager.isOpening()){throw Error(R.get("image_export_disabled_before_done"))}exportOpts=$.extend({},exportOpts);var exportData={};var data=formManager["export"](exportOpts.checkValid===true);formManager&&formManager.saved();if(exportOpts.includeExtra===true){exportData.formData=data;exportData.removedPage=report.getRemovedPage();exportData.drilldownInfo=go.drilldownManager["export"]();exportData.currentPage=go.currentPage;if(exportOpts.includeNote===true&&go.noteManager){exportData.noteData=go.noteManager["export"](go.totalPage)}}else{if(exportOpts.includeNote===true){exportData.formData=data;if(go.noteManager){exportData.noteData=go.noteManager["export"](go.totalPage)}}else{exportData=Converter.json2xml(data)}}return exportData};var importFormData=function(data){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(!go.isFormEditMode){throw Error(R.get("unsupported_feature_without_formedit_mode"))}if(typeof data==="string"&&data.indexOf("{")==0){data=JSON.parse(data)}if(typeof data==="object"){data.drilldownInfo&&go.drilldownManager["import"](data.drilldownInfo,true);data.removedPage&&report.removePage(data.removedPage);data.formData&&formManager["import"](data.formData);if(data.currentPage&&!(go.shareManager&&go.shareManager.isConnected())){movePage(data.currentPage)}if(data.noteData&&go.noteManager){go.noteManager.clear(true);go.noteManager["import"](data.noteData)}}else{if(typeof data==="string"){var data=Converter.xml2json(data,{arrayAccessFormPaths:["formdata.form","formdata.form.fields.field","formdata.formLayerList.layer","formdata.formLayerList.layer.formList",/formdata\.formLayerList\.layer\.formList\..*\.fields\.field/,]});if(data===null){throw Error(R.get("parsing_error_mml"))}formManager["import"](data)}}setTimeout(function(){movePage(go.currentPage>0?go.currentPage:1)},0);formManager&&formManager.removePreventEvent();go.formManager.validator.createInvalidList();if(go.isFormEditMode){FieldOrder.getInstance(go).redefineSkipTabOrder()}emit("formfield-finished")};var exportMmlFormData=function(exportOpts){return{mmlData:exportMML(exportOpts),formData:exportFormData(),version:"1.0",}};var openMML=function(data,callback){var mmlData=data.mmlData||data;initialize();go.isAppendReport=false;if(mmlData.layerInfo){layerManager["import"](mmlData.layerInfo)}if(data.formData){report.setIsDrawFirstPage(false)}var xmlData=mmlData.mml;report.onLoad=function(isValidXml){parameterBuilder=new ParameterBuilder(go,isIncludeNote);isValidXml?doFinishWork(true,xmlData):showErrMsgFromMML(xmlData);go.drilldownManager["import"](mmlData.drilldownInfo);report.removePage(mmlData.removedPage);if(mmlData.noteData&&go.noteManager){go.noteManager["import"](mmlData.noteData)}if(data.formData){setTimeout(function(){importFormData(data.formData)},0)}callback&&callback()};report.parseMML(xmlData,undefined,"finalize")};var isIncludeNote=function(optionName){if((go.license.isAllowedFeature("Note")&&options.enableNote)===true&&isSupportSVG){if(options[optionName]===undefined){return(go.noteManager.getMode()==="editable"||go.noteManager.getMode()==="disable")}else{return(options[optionName]===true)}}return false};var checkSupportedBrowser=function(){if(typeof document.createElement("canvas").getContext!=="function"){dialog.show(R.get("unsupported_canvas_error"));return false}return true};var submitFinished=function(result,submitFormList){if(formManager.isAllFormSubmitted()){toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"]);preventPrintExport=false}if(shareManager&&shareManager.isConnected()){if(result.status){shareManager.submitFinished(result,submitFormList)}else{shareManager.submitFailed()}}if(go.options.mirroring.enable&&result.status){go.mirroringManager.externalEvent.submitFinished(exportFormData())}emit("submit-finished",result);formManager.saved()};var initialize=function(){zoomRatio=1;rdid="";isFinished=false;isError=false;lastErrorMsg="";preventPrintExport=false;isFirstPageDraw=true;lastDownloadPageNumber=-1;if(options.saveMmlToPdf||options.saveMmlToExport){stateLess=false}go.toolbar=toolbar;go.inquery=inquery;go.scroll=scroll;go.client=client;go.rdid=rdid;go.mmlString=mmlString;go.eventHandler=eventHandler;go.parameterBuilder=parameterBuilder;go.options=options;go.stateLess=stateLess;go.useWebFont=useWebFont;go.isFormEditMode=undefined;go.isFormExportMode=false;go.currentPage=0;go.totalPage=0;go.containerDom=containerDom;go.mrdPath=mrdPath_;go.mrdParam=mrdParam_;go.mrdPlainParam=mrdPlainParam_;go.encType=encType;go.mrdData=mrdData_;go.startPageNo=0;go.openFile=openFile;go.exportMML=exportMML;go.exportFormData=exportFormData;go.importMML=importMML;go.importFormData=importFormData;go.emit=emit;go.options.download.deleteOnServer=!!options.download.deleteOnServer;go.options.download.printFileDelete=!!options.download.printFileDelete;go.textOnCanvas=options.textOnCanvas;var license=new License();drilldownManager=new DrilldownManager(go,serverUrl_,getMML);layerManager&&layerManager.clearAutoReload();layerManager=new LayerManager(getMML,go);formManager=new FormManager(submitFinished,getBuilder,go);formLayerManager=new FormLayerManager(formManager);fieldEffector=m2soft.crownix.FieldEffector.getInstance(go);go.fieldEffector=fieldEffector;go.canvasManager=canvasManager=new m2soft.crownix.CanvasManager(go);report=new Report(go,parentId_);if(go.slide){go.slide.destroySlide()}slide=new Slide(Constant.CONTAINER_ID,go);thumbnail=new Thumbnail(go);tableOfContents=new TableOfContents(go);if(go.noteManager){go.noteManager.destroyNoteToolbar();go.noteManager=null}if(!!pageCheckInterval){clearInterval(pageCheckInterval)}pageCheckInterval=null;go.license=license;go.report=report;go.drilldownManager=drilldownManager;go.layerManager=layerManager;go.formManager=formManager;go.formLayerManager=formLayerManager;go.slide=slide;go.thumbnail=thumbnail;go.tableOfContents=tableOfContents;go.reportFinished=false;go.redrawOnFinished=false;go.fontInfo=[];go.search=new Search(go,serverUrl_);go.search.destroy(true);go.redrawPage=redrawPage;go.isPrinting=false;FieldOrder.getInstance(go).clear();GuideManager.getInstance(go).clear();go.movePage=movePage;go.alterFontMap=undefined;go.submitParameters={};go.nativeInterface=NativeInterface;go.reportingServerURL=serverUrl_;go.isOpenWindow=false;go.finishDrawPage=false;if(editor){go.editor=editor;editor.init(go)}if(options.mirroring.enable){go.mirroringManager=new m2soft.crownix.MirroringManager(go)}if(go.useWebFont){go.fontLoader=new m2soft.crownix.FontLoader(go)}if(go.shareManager||options.mirroring.enable){options.scrollOptions.useInfiniteScroll=false}if(!stateLess&&options.scrollOptions.useInfiniteScroll===true){dialog.show(R.get("set_statelessmode").replace(/%s/g,R.get("infinite_scroll")));options.scrollOptions.useInfiniteScroll=false}if(options.scrollOptions.useInfiniteScroll){go.textOnCanvas=go.options.textOnCanvas=true;go.documentScroller=new m2soft.crownix.DocumentScroller(go,drawPageFrame,downloadPage);go.documentScroller.prepare();refreshScroll();go.pageRenderer=new m2soft.crownix.PageRenderer(go)}else{$("#"+Constant.PAGE_ID).remove()}if(options.formField.keyboardPen.enable){options.formField.scrollPen.enable=false}fieldEffector.start();$("head > .crownix-hyperlink-style").remove();$(".crownix-dialog-overlay").remove();$(".crownix-dialog-outer").remove()};var getBuilder=function(){return parameterBuilder};var unload=function(){if(go.reportFinished){return}$.ajax({type:"GET",async:false,url:serverUrl_+"?opcode=709&rdid="+rdid+"&html5_uuid="+go.uuid});client&&client.abort()};var openFile=function(mrdPath,mrdParam,options_){if(!checkSupportedBrowser()){return}if(shareManager&&shareManager.isConnected()&&!shareManager.isHost()){dialog.show(R.get("unsupported_feature_localStorage"));return}if(options_&&options_.isHyperlink===true){options_.isHyperlink=false;if(!(mrdPath.indexOf("http://")>=0||mrdPath.indexOf("https://")>=0)){mrdPath=mrdPath_.substring(0,mrdPath_.lastIndexOf("/")+1)+mrdPath}if(!linkManager.saveState("new")){dialog.show(R.get("hyperlink_full_stack_warning"));return}linkManager.deleteNextDocStack();if(linkManager.isExistData(mrdPath+"_"+mrdParam)){linkManager.restoreState(mrdPath+"_"+mrdParam);return}}else{if(options_&&options_.isInquery===true){options_.isInquery=false}else{linkManager=new LinkManager(go)}}$(window).on("beforeunload",unload);var mrdPathLocal=null;var mrdParamLocal=null;var mrdPlainParamLocal=null;var mrdDataLocal=null;if(Util.isArray(mrdPath)){go.isAppendReport=true;mrdPathLocal=[];mrdParamLocal=[];mrdPlainParamLocal=[];mrdDataLocal=[];for(var i=0;i<mrdPath.length;i++){if(typeof C==="object"){mrdPathLocal.push(C.unprocess(mrdPath[i].mrdPath,encType));mrdParamLocal.push(C.unprocess(mrdPath[i].mrdParam,encType));if(typeof mrdPath[i].rdata=="string"){mrdDataLocal.push(C.unprocess(mrdPath[i].rdata,encType))}}else{mrdPathLocal.push(mrdPath[i].mrdPath);mrdParamLocal.push(mrdPath[i].mrdParam);if(typeof mrdPath[i].rdata=="string"){mrdDataLocal.push(mrdPath[i].rdata)}}if(inquery.getMrdPlainParam()){mrdPlainParamLocal.push(inquery.getMrdPlainParam())}else{mrdPlainParamLocal.push("")}}options_=mrdParam}else{go.isAppendReport=false;if(typeof C==="object"){mrdPathLocal=C.unprocess(mrdPath,encType);mrdParamLocal=C.unprocess(mrdParam,encType);if(typeof mrdData_=="string"){mrdDataLocal=C.unprocess(mrdData_,encType)}}else{mrdPathLocal=mrdPath;mrdParamLocal=mrdParam;if(typeof mrdData_=="string"){mrdDataLocal=mrdData_}}mrdPlainParamLocal=inquery.getMrdPlainParam()}mrdPath_=mrdPathLocal;mrdParam_=mrdParamLocal;mrdData_=mrdDataLocal;mrdPlainParam_=mrdPlainParamLocal;options=$.extend({},optionsDefault);if(typeof options_==="object"){$.extend(true,options,options_)}initialize();if(encType>3){mrdPlainParamLocal=ParameterBuilder.prototype.addParamByOptions(go,mrdPlainParamLocal)}else{mrdParamLocal=ParameterBuilder.prototype.addParamByOptions(go,mrdParamLocal)}report.setIsDrawFirstPage(true);var open=function(){if(stateLess){openFileAsSingle(mrdPathLocal,mrdParamLocal,mrdDataLocal,mrdPlainParamLocal)}else{openFileAsMulti(mrdPathLocal,mrdParamLocal,mrdDataLocal,mrdPlainParamLocal)}};if(!options.showPageNum){$(".crownix-dialog-message-pagenum").remove()}else{dialog.keepPageNum(options.showPageNum)}if(go.options.showThumbnail&&stateLess){slide.addSlideTab(R.get("thumbnail"),thumbnail.getThumbnail())}if(options.enableSecure){IKE.setMethod((typeof options.enableSecure==="object")?options.enableSecure.methodType:"OPTIONS");if(rdid){IKE.removeSession(rdid)}IKE.request({serverUrl:serverUrl_}).done(function(rdid_){rdid=rdid_;open()}).fail(function(e){Message.log(e.stack);dialog.show("Key exchange error("+e+")")})}else{open()}if(typeof C==="object"){C=undefined;m2soft.crownix.EncEval=undefined;m2soft.crownix.Enc=undefined;delete m2soft.crownix.EncEval;delete m2soft.crownix.Enc}};var emit=function(eventName){if(typeof eventHandler[eventName]!=="function"){Constructor.debug&&Message.log("[event emitted] "+eventName+" is not registerd");return}var args=[];Array.prototype.push.apply(args,arguments);args.shift();eventHandler[eventName].apply(null,args)};var addVisibilityEvent=function(){document.addEventListener("visibilitychange",function(){var canvas=document.getElementById("m2soft-crownix-canvas");if(!canvas){return}var ctx=canvas.getContext("2d");var page=ctx.getImageData(0,0,canvas.width,canvas.height);canvas.width++;canvas.width--;ctx.putImageData(page,0,0)})};var getParameterData=function(isPrintPdf,option){var mrdPath;if(mrdPath_){mrdPath=parameterBuilder.concatMrdPath(mrdPath_)}var mrdParam;if(encType>3){go.mrdPlainParam=parameterBuilder.concatMrdParam(formManager.getFormList(),mrdPlainParam_,{isPrintPdf:isPrintPdf,isPrint:true,option:option});mrdParam=parameterBuilder.concatMrdPath(mrdParam_)}else{mrdParam=parameterBuilder.concatMrdParam(formManager.getFormList(),mrdParam_,{isPrintPdf:isPrintPdf,isPrint:true,option:option})}var mrdData;if(mrdData_!=undefined){mrdData=parameterBuilder.concatMrdPath(mrdData_)}return{mrdPath:mrdPath,mrdParam:mrdParam,mrdData:mrdData}};var exportReport=function(type,callback,options){if(!stateLess){dialog.show(R.get("save_stateful_error"));return}if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}var converter;if(type==="png"||type==="jpeg"){converter=new m2soft.crownix.ImageConverter()}else{if(type==="pdf"||type==="cpdf"){converter=new m2soft.crownix.PdfConverter()}else{throw Error(R.get("unsupported_format")+": "+type)}}if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){formManager.disableEdit();converter.setFormManager(formManager);converter.setMirroringManager(go.mirroringManager);formManager.saved();if(go.options.mirroring.enable){go.mirroringManager.externalEvent.submitFinished(exportFormData())}}if(go.license.isAllowedFeature("Note")&&isIncludeNote("includeNoteInExport")){converter.setNoteManager(go.noteManager)}if(type==="cpdf"){converter.setServerUrl(serverUrl_);converter.setLayerManager(go.layerManager);converter.setDrilldownManager(go.drilldownManager);converter.setUseAdjustLetterSpace(useAdjustLetterSpace);converter.setPageInfo({coverPage:go.report.getCoverPage(),startPageNo:go.startPageNo,totalPage:go.totalPage,currentPage:go.currentPage});converter.setExportFileName(go.options.downloadFileName);converter.setUseEmbeddedFont(go.options.clientSidePdf.embeddedFont);converter.setFontInfo(go.fontInfo);converter.setDisableDownloadFile(Util.browser.msie===true&&Util.browser.version===9||(options&&options.disableDownloadFile));converter.setDialog(go.dialog);converter.setLocale(go.options.clientSidePdf.locale?go.options.clientSidePdf.locale:R.language);converter.setCompress(go.options.clientSidePdf.compress)}converter.setUseAdjustLetterSpace(useAdjustLetterSpace);converter.setAlterFontMap(go.alterFontMap);converter.convert(report,type,callback,options)};var validatePageNumber=function(pageNumber){if(typeof pageNumber==="string"&&!pageNumber.match(/^[1-9][0-9]*$/)){dialog.show(R.get("wrong_page_number"));return false}else{if(pageNumber>go.totalPage){dialog.show(R.get(isFinished?"page_not_exist":"page_not_create"));return false}else{if(pageNumber<1){dialog.show(R.get("page_not_exist"));return false}else{return true}}}};var getDocumentTitle=function(pageNum){if(!pageNum){pageNum=go.report.findPage(go.currentPage)}for(var documentNum in go.report.getDocumentList()){var document=go.report.getDocumentList()[documentNum];if(pageNum>=document.firstPage&&pageNum<=document.lastPage){return document.title}}};var showPrintDialog=function(){var deferred=$.Deferred(),isClientSidePdf=options.clientSidePdf.print,dialogOptions;if(isClientSidePdf&&!(options.printDialog.clientSidePdf&&options.clientSidePdf.vector)){return deferred.resolve()}if(!isClientSidePdf&&!options.printDialog.serverSidePdf){return deferred.resolve()}if(isClientSidePdf){dialogOptions={page:true,copy:true}}else{dialogOptions={layout:true,duplex:true}}(new PrintDialog()).show({printOptions:options.printDialog,pageInfo:{totalPage:go.totalPage},dialogOptions:dialogOptions}).done(function(printOptions){deferred.resolve(printOptions)}).fail(function(){deferred.reject()});return deferred.promise()};var makeXlsDialogContents=function(){var wrapper,layoutWrapper,pageRatioWrapper,ratioWrapper;var makeInputLabel=function(parent,option){var input=$("<input>").attr({type:option.type}).appendTo(parent);if(option.type=="checkbox"){input.attr("checked",option.checked)}$("<label>").text(option.labelText).click(function(){input.click()}).appendTo(parent);return input};var checkInputValue=function(isChecked,input,message){var value=input.val(),okButton=$("#crownix-dialog-button-ok");if(!isChecked){okButton.attr("disabled",false);message.hide();return}if(isNaN(value)||value<10||value>400){okButton.attr("disabled",true);message.show()}else{okButton.attr("disabled",false);message.hide()}};wrapper=$("<div>").attr("class","crownix-xlsdialog-wrapper");layoutWrapper=$("<div>").attr("class","crownix-xlsdialog-sub");pageRatioWrapper=$("<div>").attr("class","crownix-xlsdialog-sub");ratioWrapper=$("<div>").css("display","inline");validatoWrapper=$("<div>").attr("class","crownix-xlsdialog-validator").text(R.get("exceed_ratio_range"));var layoutCheck=makeInputLabel(layoutWrapper,{type:"checkbox",checked:true,labelText:R.get("keep_report_layout")});var ratioCheck=makeInputLabel(pageRatioWrapper,{type:"checkbox",labelText:R.get("print_page_ratio")});ratioWrapper.appendTo(pageRatioWrapper);var ratioInput=makeInputLabel(ratioWrapper,{type:"number",labelText:"%"});ratioInput.attr({min:10,max:400,value:100,disabled:true}).css({width:"15%","margin-left":"20px","margin-right":"5px"}).on("input",function(){checkInputValue(ratioCheck.is(":checked"),$(this),validatoWrapper)});ratioCheck.click(function(){if($(this).is(":checked")){ratioInput.attr("disabled",false)}else{ratioInput.attr("disabled",true)}checkInputValue($(this).is(":checked"),ratioInput,validatoWrapper)});layoutWrapper.appendTo(wrapper);pageRatioWrapper.appendTo(wrapper);validatoWrapper.appendTo(wrapper);return{wrapper:wrapper,layout:layoutCheck,ratio:ratioCheck,ratioInput:ratioInput}};var Constructor;Constructor=function(serverUrl,parentId,setting){serverUrl_=serverUrl;if(typeof parentId!="string"){isOverlay=true;setting_=$.extend({},settingDefault);if(typeof parentId=="object"){$.extend(true,setting_,parentId)}}else{go.parentId=parentId_="#"+parentId;setting_=$.extend({},settingDefault);$.extend(true,setting_,setting)}finishEventHandler=[];ChannelManager.clear();m2soft.crownix.Layout.initialize();createViewerDom();toolbar=new Toolbar(parentId_,this,{getHeightFitRatio:getHeightFitRatio,getWidthFitRatio:getWidthFitRatio,scale:setting_.toolbarScale,share:setting_.share,enableToolbarNavigator:setting_.enableToolbarNavigator},go);dialog=new Dialog("#"+Constant.CONTAINER_ID);inquery=new Inquery();toolbar.disableAllItems();if(isOverlay){toolbar.enableToolbarItem(["close"])}go.viewer=this;go.dialog=dialog;if(setting_.share){shareManager=new ShareManager(setting_.share,go,parentId);go.shareManager=shareManager;toolbar.enableToolbarItem(["share"])}if(isDesktopBlink){addVisibilityEvent()}if(setting_.downloadUrl){go.downloadUrl=setting_.downloadUrl}$.crownixdatepicker.setLanguage(R.language);$(go.parentId).addClass("crownix-prevent-user-select");if(setting_.editor.url){editor=new m2soft.crownix.Editor(go);toolbar.showToolbarItem(["editor"])}Message.log("[Crownix Viewer] "+R.get("developer_console_warning"))};Constructor.prototype={constructor:m2soft.crownix.Viewer,openFile:function(mrdPath,mrdParam,options_){emit("before-openfile");openFile(mrdPath,mrdParam,options_)},hideToolbar:function(){ChannelManager.getChannel("toolbar:changeToolbarState").subscribeOnce(function(data){if(data.isHide){containerDom.css("top",0);containerDom.css(data.direction,0)}});toolbar.hideToolbar();if(go.openFile){refreshScroll();scroll.zoom(zoomRatio,containerDom.width()/2,containerDom.height()/2)}},showToolbar:function(){ChannelManager.getChannel("toolbar:changeToolbarState").subscribeOnce(function(data){if(!data.isHide){containerDom.css(data.direction,data.theme.toolbarWidth)}});toolbar.showToolbar();if(go.openFile){refreshScroll();scroll.zoom(zoomRatio,containerDom.width()/2,containerDom.height()/2)}},hideToolbarItem:function(){toolbar.hideToolbarItem.apply(this,arguments)},showToolbarItem:function(){if(!stateLess){var index=arguments[0].indexOf("print");if(index!=-1){arguments[0].splice(index,1)}}if(arguments[0].length>0){toolbar.showToolbarItem.apply(this,arguments)}},hideNoteItem:function(){if(!isFinished){addFinishEventHandler(this.hideNoteItem,arguments)}else{if(options.enableNote){go.noteManager.hideNoteItem.apply(this,arguments)}}},showNoteItem:function(){if(!isFinished){addFinishEventHandler(this.showNoteItem,arguments)}else{if(options.enableNote){go.noteManager.showNoteItem.apply(this,arguments)}}},addToolbarItem:function(item){toolbar.addToolbarItem(item)},nextPage:function(){if(go.options.scrollOptions.useInfiniteScroll){var destPageNo=go.report.findPage(go.documentScroller.getDisplayPageNumber()+1);if(destPageNo<=go.documentScroller.getTotalPage()){go.documentScroller.scrollToPage(destPageNo)}}else{if(go.currentPage<go.totalPage){var destPageNo=go.currentPage+1;if(options.mirroring.enable&&options.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock")){dialog.show(R.get("lock_mirroring"));return}go.mirroringManager.externalEvent.movePage(destPageNo)}movePage(destPageNo);if(shareManager){shareManager.movePage(destPageNo)}}}},prevPage:function(){if(go.options.scrollOptions.useInfiniteScroll){var destPageNo=go.report.findPage(go.documentScroller.getDisplayPageNumber()-1);if(destPageNo>0){go.documentScroller.scrollToPage(destPageNo)}}else{if(go.currentPage>1){var destPageNo=go.currentPage-1;if(options.mirroring.enable&&options.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock")){dialog.show(R.get("lock_mirroring"));return}go.mirroringManager.externalEvent.movePage(destPageNo)}movePage(destPageNo);if(shareManager){shareManager.movePage(destPageNo)}}}},moveFirstPage:function(){if(go.options.scrollOptions.useInfiniteScroll){go.documentScroller.scrollToPage(1)}else{if(options.mirroring.enable&&options.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock")){dialog.show(R.get("lock_mirroring"));return}go.mirroringManager.externalEvent.movePage(1)}movePage(1);if(shareManager){shareManager.movePage(1)}}},moveLastPage:function(){if(go.options.scrollOptions.useInfiniteScroll){go.documentScroller.scrollToPage(go.documentScroller.getTotalPage())}else{if(options.mirroring.enable&&options.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock")){dialog.show(R.get("lock_mirroring"));return}go.mirroringManager.externalEvent.movePage(go.totalPage)}movePage(go.totalPage);if(shareManager){shareManager.movePage(go.totalPage)}}},movePage:function(pageNumber){if(validatePageNumber(pageNumber)===false){return}if(go.options.scrollOptions.useInfiniteScroll){go.documentScroller.scrollToPage(go.report.findPage(pageNumber))}else{if(options.mirroring.enable&&options.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock")){dialog.show(R.get("lock_mirroring"));return}go.mirroringManager.externalEvent.movePage(pageNumber)}movePage(pageNumber);if(shareManager){shareManager.movePage(pageNumber)}}},moveFormField:function(formFieldId){moveFormField(formFieldId)},prevDoc:function(){prevDoc()},nextDoc:function(){nextDoc()},zoomIn:function(){return zoomIn()},zoomOut:function(){return zoomOut()},zoom:function(ratio){var packRatio=scroll.scale;if(typeof ratio==="string"){if(ratio==="width"){packRatio=getWidthFitRatio()}else{if(ratio==="height"){packRatio=getHeightFitRatio()}}}else{if(typeof ratio==="number"){packRatio=ratio}}scroll.zoom(packRatio,containerDom.width()/2,containerDom.height()/2);return scroll.scale},pack:function(){pack()},showMovePageDialog:function(){var self=this;dialog.show(R.get("insert_page_number"),{type:"confirm",input:go.options.dialog.inputType,autoFocus:go.options.dialog.autoFocus,inputHandler:function(number){if(number===false){return}self.movePage(number)}})},setDownloadFileName:function(fileName){go.options.downloadFileName=fileName},downloadFile:function(type,callback){if(isDownload||!isFinished){throw new Error(R.get("download_duplicate_error"))}if(preventPrintExport){throw new Error(R.get("form_not_submit_save_error"))}if(drilldownManager&&drilldownManager.isOpening()){throw new Error(R.get("image_export_disabled_before_done"))}if(Util.isCloudServer()&&(!window.Blob||!window.URL)){throw new Error(R.get("unsupported_download_error"))}if(type==="pdf"&&options.clientSidePdf.downloadFile&&!(Util.browser.msie&&Util.browser.version==9)){exportReport(options.clientSidePdf.vector?"cpdf":"pdf",callback,{save:true})}else{downloadFile(type,callback)}},print:function(){if(preventPrintExport){throw new Error(R.get("form_not_submit_print_error"))}if(drilldownManager&&drilldownManager.isOpening()){throw new Error(R.get("image_export_disabled_before_done"))}var option=$.extend(true,{},arguments[0]);if(!isFinished){addFinishEventHandler(this.print,arguments)}else{if(option.isServerSide===true&&options.clientSidePdf.print&&(typeof option.limitedPage!=="number"||option.limitedPage>=go.totalPage)&&!Util.browser.msie){showPrintDialog().done(function(printInfo){exportReport(options.clientSidePdf.vector?"cpdf":"pdf",function(data){showPrintWindowUsingBlob(data)},{print:true,printInfo:printInfo})})}else{if(typeof option==="object"&&option.isServerSide===true&&(typeof option.limitedPage!=="number"||option.limitedPage>=go.totalPage)){if(options.pdfReaderNotFoundMessage&&(Util.browser.msie||(Util.browser.safari&&!Util.os.macos))&&!Util.getAcrobatInfo().isInstalled){dialog.show(options.pdfReaderNotFoundMessage);return}else{if(!Util.browser.android||NativeInterface.isInWebView()){showPrintDialog().done(function(pdfOptions){showPdfWindow(pdfOptions)})}}}else{if(!stateLess){dialog.show(R.get("print_stateful_error"));return}Message.progress.show(parentId_,R.get("print_progress"),function(){showPrintWindow()})}}}},setStateLessMode:function(isStateLess){stateLess=isStateLess;if(!stateLess){toolbar.hideToolbarItem(["print"])}},useWebFont:function(use,webFontMap,webFontOption){useWebFont=use;if(typeof webFontMap=="object"){go.webFontMap=webFontMap}if(typeof webFontOption=="object"){go.webFontOption=webFontOption}},useAdjustLetterSpace:function(use){useAdjustLetterSpace=use},useAdjustCharacterScale:function(use){useAdjustCharacterScale=use},bind:function(eventName,callback){eventHandler[eventName]=callback},cancel:function(){if(drilldownManager&&drilldownManager.isOpening()){drilldownManager.stopDrilldown();return}cancelReport();client&&client.abort();dialog.pagenum(go.currentPage,go.totalPage,false)},"export":function(type,callback,options){if(type==="pdf"&&go.options.clientSidePdf["export"]==true){type="cpdf"}exportReport(type,callback,options)},showMMLStorageDialog:function(){showMMLStorageDialog(this)},showFormDataStorageDialog:function(){showFormDataStorageDialog(this)},exportMML:function(options){checkStorageFeature();if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(drilldownManager&&drilldownManager.isOpening()){throw Error(R.get("image_export_disabled_before_done"))}if(!options){options={}}return options.includeFormData?exportMmlFormData(options):exportMML(options)},exportFormData:function(options){checkStorageFeature();if(!options){options={}}return exportFormData(options)},importMML:function(data_,openFileOptions){var data;try{if(typeof data_==="string"){data=JSON.parse(data_)}else{if(typeof data_==="object"){data=data_}else{data={}}}}catch(e){Message.log(e);data={}}importMML(data,openFileOptions)},importFormData:function(data){importFormData(data)},showInqueryDialog:function(){if(shareManager&&shareManager.isConnected()&&!shareManager.isHost()){dialog.show(R.get("unsupported_feature_localStorage"));return}inquery.show()},addColumn:function(name,width,option){return runtimeParam.addColumn(name,width,option)},setRData:function(mrdData){mrdData_=mrdData},setParameterEncrypt:function(type_){encType=type_;if(type_>-1&&type_<12){encType=type_}else{Message.log("setParameterEncrypt value is only 0~11.")}if(type_<4){m2soft.crownix.EncEval.eval();C=new m2soft.crownix.Enc()}},getMrdPath:function(){return mrdPath_},getMrdParam:function(){return mrdParam_},setMrdPath:function(value){mrdPath_=value},setMrdParam:function(value){mrdParam_=value},submit:function(url,datasource,servicecode,target,csvfileName){formManager.submitForMethod(url,datasource,servicecode,target,csvfileName)},getForm:function(id){return formManager.getFormWrapper(id)},getFormList:function(){return formManager.getFormWrapperList()},showShareDialog:function(){if(shareManager){shareManager.showDialog()}},shareConnect:function(callback){if(shareManager){shareManager.connect(callback)}},shareDisconnect:function(options){if(!options){options={}}if(shareManager){shareManager.disconnect(options)}},shareSendMessage:function(message){if(shareManager&&shareManager.isConnected()){shareManager.sendMessage(message)}},createReport:function(name,password,options){if(shareManager){if(typeof password==="object"){options=password;password=""}shareManager.createReport(name,password,options)}},joinReport:function(name,password){if(shareManager){shareManager.joinReport(name,password)}},initViewer:function(){if(go.isFormEditMode){FieldOrder.getInstance().blur();FieldOrder.dispose()}var enableMirroring=go.options&&go.options.mirroring.enable;if(go.isFormEditMode&&enableMirroring){go.formManager.saved()}go={};Constructor.call(this,serverUrl_,parentId_.substring(1,parentId_.length),setting_)},setPreventPrintExport:function(isTrue){preventPrintExport=isTrue},floatToolbar:function(){toolbar.floatToolbar()},stickToolbar:function(){toolbar.stickToolbar()},dockToolbar:function(direction){toolbar.dockToolbar(direction)},cloudPrint:function(){if(preventPrintExport){throw new Error(R.get("form_not_submit_print_error"))}if(drilldownManager&&drilldownManager.isOpening()){throw new Error(R.get("image_export_disabled_before_done"))}if(!isFinished){addFinishEventHandler(this.cloudPrint);return}var exportAgent=new ExportAgent(go,dialog,toolbar,options);isDownload=true;var option=arguments[0];exportAgent.base64URI(serverUrl_,getParameterData(),runtimeParam,linkManager).done(function(strBase64){if(isDownload){var cloudGadget;if(option===undefined){if(!gadget){gadget=new cloudprint.Gadget()}cloudGadget=gadget}else{cloudGadget=option.gadget}cloudGadget.openPrintDialog();cloudGadget.setPrintDocument("dataUrl",go.options.cloudPrintSpoolName,"data:application/pdf;base64,"+strBase64)}}).always(function(){isDownload=false})},initFormData:function(options){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){formManager.initFormData(options)}else{dialog.show(R.get("unsupported_feature_without_formedit_mode"))}},initExtParam:function(){extParamMap=new Map()},addExtParameter:function(key,value){extParamMap.put(key,value)},getExtParameter:function(){if(extParamMap.isEmpty()){return undefined}return extParamMap.toObject()},getMrdInfo:function(){var documentList=report.getDocumentList();var mrdpath=[];var mrdparam=[];for(var i in documentList){mrdpath.push(documentList[i].mrdpath);mrdparam.push(documentList[i].mrdparam)}return{mrdpath:mrdpath,mrdparam:mrdparam}},showGroupSign:function(groupId,options){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){var batchSignWindow=m2soft.crownix.BatchSignWindow.getInstance(go);batchSignWindow.show(groupId,options)}else{dialog.show(R.get("unsupported_feature_without_formedit_mode"))}},showScrollPen:function(formId,fieldId,options){if(!isFinished){throw Error(R.get("image_export_disabled_before_done"))}if(go.license.isAllowedFeature("FormField")&&go.isFormEditMode){var scrollPenWindow=m2soft.crownix.ScrollPenWindow.getInstance(go);scrollPenWindow.show(formId,fieldId,options)}else{dialog.show(R.get("unsupported_feature_without_formedit_mode"))}},validate:function(targetFormList){var result=go.formManager.validator.validate(targetFormList);return !result.isInvalid},externalStorage:function(query,callback,options_){if(!externalStorage&&setting_.infotalkUrl){externalStorage=new ExternalStorage({infotalkUrl:setting_.infotalkUrl,key:options.externalStorage?options.externalStorage.key:query.key,timeout:options.externalStorage?options.externalStorage.timeout:query.timeout,emit:emit});if(go.isFormEditMode){externalStorage.setIsFormEditMode(go.isFormEditMode)}}if(externalStorage){var self=this;if(!isFinished&&query.method.trim().toUpperCase()==="PUT"){return}externalStorage.exec(query,function(options){return self.exportMML(options)},function(options){return self.exportFormData(options)},function(data){self.importMML(data)},function(data){self.importFormData(data)},callback,options_)}},getTotalPage:function(){return go.totalPage},setGroupSignInWindow:function(data){var batchSignWindow=m2soft.crownix.BatchSignWindow.getInstance(go);batchSignWindow.setValue(data)},setAlterFontMap:function(alterFontMap){if(typeof alterFontMap=="object"){go.alterFontMap=alterFontMap}},addSubmitParameters:function(value){if(typeof value=="object"){go.submitParameters=$.extend(true,go.submitParameters,value)}},movePrevTabOrder:function(){var fieldOrder=FieldOrder.getInstance();if(fieldOrder){fieldOrder.movePrev()}},moveNextTabOrder:function(){var fieldOrder=FieldOrder.getInstance();if(fieldOrder){fieldOrder.moveNext()}},scanBarcodes:function(){if(NativeInterface){NativeInterface.scanBarcodes.apply(go.viewer,arguments)}},note:function(options_){if(go.license.isAllowedFeature("Note")&&isSupportSVG&&!options_.mode){return}if(!options.enableNote){options.enableNote=true;go.noteManager=new NoteManager(parentId_,go);redrawPage()}go.noteManager.note(options_)},readNfcTag:function(){if(NativeInterface){NativeInterface.readNfcTag.apply(go,arguments)}},getMirroringObject:function(){if(!go.options.mirroring.enable){return}return go.mirroringManager},getFormDataValue:function(formIds,fieldIds){var divChar="\u0003";var arrFormId=formIds&&formIds.split(divChar);var arrFieldId=fieldIds&&fieldIds.split(divChar);if(fieldIds){data=formManager.getDataValue(arrFormId,arrFieldId,divChar)}else{data=formManager.getFormDataValue(arrFormId,divChar)}return data},closeMirroring:function(){if(go.options.mirroring.enable){go.mirroringManager.externalEvent.closeMirroring()}},getGrid:function(id){if(go.cxGridManager){return go.cxGridManager.get(id)}else{return null}},getDocumentTitle:getDocumentTitle,setReportingParam:function(param){if(typeof param=="object"){reportingParam=param}else{reportingParam={}}},addEditorPage:function(){editor.addEditorPage(setting_.editor,{complete:function(){if(!go.currentPage){doFinishWork(true);drawPage(1)}else{if(go.totalPage-editor.getAddedPages().length<=go.currentPage){drawPage(go.currentPage)}}},init:function(){if(!go.currentPage){options=$.extend({},optionsDefault);initialize();parameterBuilder=new ParameterBuilder(go)}}})},textToSpeech:function(text){if(go.options.textToSpeech.enable&&NativeInterface){NativeInterface.textToSpeech(text)}},stopToSpeech:function(){if(go.options.textToSpeech.enable&&NativeInterface){NativeInterface.stopToSpeech()}}};return Constructor}());var jsPDF=(function(e){var d="1.3",b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};function a(f){var g={};this.subscribe=function(h,l,j){if(typeof l!=="function"){return false}if(!g.hasOwnProperty(h)){g[h]={}}var k=Math.random().toString(35);g[h][k]=[l,!!j];return k};this.unsubscribe=function(j){for(var h in g){if(g[h][j]){delete g[h][j];return true}}return false};this.publish=function(j){if(g.hasOwnProperty(j)){var h=Array.prototype.slice.call(arguments,1),m=[];for(var n in g[j]){var l=g[j][n];try{l[0].apply(f,h)}catch(k){if(e.console){console.error("jsPDF PubSub Error",k.message,k)}}if(l[1]){m.push(n)}}if(m.length){m.forEach(this.unsubscribe)}}}}function c(aP,a2,E,ay){var aw={};if(typeof aP==="object"){aw=aP;aP=aw.orientation;a2=aw.unit||a2;E=aw.format||E;ay=aw.compress||aw.compressPdf||ay}a2=a2||"mm";E=E||"a4";aP=(""+(aP||"P")).toLowerCase();var ag=(""+E).toLowerCase(),aX=!!ay&&typeof Uint8Array==="function",ak=aw.textColor||"0 g",aq=aw.drawColor||"0 G",ab=aw.fontSize||16,G=aw.charSpace||0,aH=aw.lineHeight||1.15,ar=aw.lineWidth||0.200025,j=2,L=!1,K=[],aS={},aE={},O,aG,aI,H={},aR=[],ah,n,aA=0,aB,F=[],a6=[],az=[],P=[],a1=[],aY=0,ac=0,aF=0,a3,a5,aM,aC,Y,af={title:"",subject:"",author:"",keywords:"",creator:""},av={},M=new a(av),ax=aw.hotfixes||[],q=[],C=function(k){return k.toFixed(2)},B=function(k){return k.toFixed(3)},aT=function(k){return("0"+parseInt(k)).slice(-2)},aZ=function(k){if(L){F[aB].push(k)}else{aF+=k.length+1;P.push(k)}},N=function(){j++;K[j]=aF;aZ(j+" 0 obj");return j},aD=function(){var k=F.length*2+1;k+=a1.length;var a7={objId:k,content:""};a1.push(a7);return a7},W=function(){j++;K[j]=function(){return aF};return j},A=function(k){K[k]=aF},h=function(k){aZ("stream");aZ(k);aZ("endstream")},aL=function(){var a8,a7,bb,ba,bc,a9,bf,bg,be,bd=[];bf=e.adler32cs||c.adler32cs;if(aX&&typeof bf==="undefined"){aX=false}for(a8=1;a8<=aA;a8++){bd.push(N());bg=(a3=az[a8].width)*ah;be=(a5=az[a8].height)*ah;aZ("<</Type /Page");aZ("/Parent 1 0 R");aZ("/Resources 2 0 R");aZ("/MediaBox [0 0 "+C(bg)+" "+C(be)+"]");M.publish("putPage",{pageNumber:a8,page:F[a8]});aZ("/Contents "+(j+1)+" 0 R");aZ(">>");aZ("endobj");a7=F[a8].join("\n");N();if(aX){bb=[];ba=a7.length;while(ba--){bb[ba]=a7.charCodeAt(ba)}a9=bf.from(a7);bc=new Deflater(6);bc.append(new Uint8Array(bb));a7=bc.flush();bb=new Uint8Array(a7.length+6);bb.set(new Uint8Array([120,156])),bb.set(a7,2);bb.set(new Uint8Array([a9&255,(a9>>8)&255,(a9>>16)&255,(a9>>24)&255]),a7.length+2);a7=String.fromCharCode.apply(null,bb);aZ("<</Length "+a7.length+" /Filter [/FlateDecode]>>")}else{aZ("<</Length "+a7.length+">>")}h(a7);aZ("endobj")}K[1]=aF;aZ("1 0 obj");aZ("<</Type /Pages");var k="/Kids [";for(ba=0;ba<aA;ba++){k+=bd[ba]+" 0 R "}aZ(k+"]");aZ("/Count "+aA);aZ(">>");aZ("endobj");M.publish("postPutPages")},S=function(k){k.objectNumber=N();aZ("<</BaseFont/"+k.PostScriptName+"/Type/Font");if(typeof k.encoding==="string"){aZ("/Encoding/"+k.encoding)}aZ("/Subtype/Type1>>");aZ("endobj")},X=function(){for(var k in aS){if(aS.hasOwnProperty(k)){S(aS[k])}}},ao=function(){M.publish("putXobjectDict")},z=function(){aZ("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");aZ("/Font <<");for(var k in aS){if(aS.hasOwnProperty(k)){aZ("/"+k+" "+aS[k].objectNumber+" 0 R")}}aZ(">>");aZ("/XObject <<");ao();aZ(">>")},am=function(){X();M.publish("putResources");K[2]=aF;aZ("2 0 obj");aZ("<<");z();m();aZ(">>");aZ("endobj");M.publish("postPutResources")},Z=function(){M.publish("putAdditionalObjects");for(var k=0;k<a1.length;k++){var a7=a1[k];K[a7.objId]=aF;aZ(a7.objId+" 0 obj");aZ(a7.content);aZ("endobj")}j+=a1.length;M.publish("postPutAdditionalObjects")},aQ=function(a7,k,a8){if(!aE.hasOwnProperty(k)){aE[k]={}}aE[k][a8]=a7},T=function(k,a9,bb,a8){var ba="F"+(Object.keys(aS).length+1).toString(10),a7=aS[ba]={id:ba,PostScriptName:k,fontName:a9,fontStyle:bb,encoding:a8,metadata:{}};aQ(ba,a9,bb);M.publish("addFont",a7);return ba},aW=function(){var k="helvetica",bh="times",bj="courier",bf="normal",be="bold",bd="italic",bi="bolditalic",a7="StandardEncoding",bg="zapfdingbats",ba=[["Helvetica",k,bf],["Helvetica-Bold",k,be],["Helvetica-Oblique",k,bd],["Helvetica-BoldOblique",k,bi],["Courier",bj,bf],["Courier-Bold",bj,be],["Courier-Oblique",bj,bd],["Courier-BoldOblique",bj,bi],["Times-Roman",bh,bf],["Times-Bold",bh,be],["Times-Italic",bh,bd],["Times-BoldItalic",bh,bi],["ZapfDingbats",bg]];for(var bc=0,a8=ba.length;bc<a8;bc++){var bb=T(ba[bc][0],ba[bc][1],ba[bc][2],a7);var a9=ba[bc][0].split("-");aQ(bb,a9[0],a9[1]||"")}M.publish("addFonts",{fonts:aS,dictionary:aE})},ae=function at(a7){a7.foo=function k(){try{return a7.apply(this,arguments)}catch(ba){var a9=ba.stack||"";if(~a9.indexOf(" at ")){a9=a9.split(" at ")[1]}var a8="Error in function "+a9.split("\n")[0].split("<")[0]+": "+ba.message;if(e.console){e.console.error(a8,ba);if(e.alert){alert(a8)}}else{throw new Error(a8)}}};a7.foo.bar=a7;return a7.foo},l=function(bg,a8){var bc,ba,a9,be,bd,a7,bf,k,bb;a8=a8||{};a9=a8.sourceEncoding||"Unicode";bd=a8.outputEncoding;if((a8.autoencode||bd)&&aS[O].metadata&&aS[O].metadata[a9]&&aS[O].metadata[a9].encoding){be=aS[O].metadata[a9].encoding;if(!bd&&aS[O].encoding){bd=aS[O].encoding}if(!bd&&be.codePages){bd=be.codePages[0]}if(typeof bd==="string"){bd=be[bd]}if(bd){bf=false;a7=[];for(bc=0,ba=bg.length;bc<ba;bc++){k=bd[bg.charCodeAt(bc)];if(k){a7.push(String.fromCharCode(k))}else{a7.push(bg[bc])}if(a7[bc].charCodeAt(0)>>8){bf=true}}bg=a7.join("")}}bc=bg.length;while(bf===undefined&&bc!==0){if(bg.charCodeAt(bc-1)>>8){bf=true}bc--}if(!bf&&aG&&aG.indexOf("Uni")!==0){return bg.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")}if(bf&&aG&&aG.indexOf("Uni")!==0){av.setFont("m2soft-default-1","normal")}a7=a8.noBOM?[]:[254,255];function bh(bi){switch(bi){case 8:a7.push(92);a7.push(98);break;case 9:a7.push(92);a7.push(116);break;case 10:a7.push(92);a7.push(110);break;case 12:a7.push(92);a7.push(102);break;case 13:a7.push(92);a7.push(114);break;case 40:a7.push(92);a7.push(40);break;case 41:a7.push(92);a7.push(41);break;case 92:a7.push(92);a7.push(92);break;default:a7.push(bi)}}for(bc=0,ba=bg.length;bc<ba;bc++){k=bg.charCodeAt(bc);bb=k>>8;if(bb>>8){throw new Error("Character at position "+bc+" of string '"+bg+"' exceeds 16bits. Cannot be encoded into UCS-2 BE")}if(aG&&aG.indexOf("Uni")===0){if(bb!=0){bh(bb);bh(k%256)}else{bh(bb);bh(k-(bb<<8))}}else{if(bb!=0){a7.push(bb);a7.push(0)}else{a7.push(bb);a7.push(k-(bb<<8))}}}if(aG&&aG.indexOf("Uni")===0){return String.fromCharCode.apply(undefined,a7)}else{return String.fromCharCode.apply(undefined,a7).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")}},aV=function(a7,k){return l(a7,k)},aO=function(){aZ("/Producer (jsPDF "+c.version+")");for(var ba in af){if(af.hasOwnProperty(ba)&&af[ba]){aZ("/"+ba.substr(0,1).toUpperCase()+ba.substr(1)+" ("+aV(af[ba])+")")}}var bc=new Date(),a8=bc.getTimezoneOffset(),a7=a8<0?"+":"-",k=Math.floor(Math.abs(a8/60)),a9=Math.abs(a8%60),bb=[a7,aT(k),"'",aT(a9),"'"].join("");aZ(["/CreationDate (D:",bc.getFullYear(),aT(bc.getMonth()+1),aT(bc.getDate()),aT(bc.getHours()),aT(bc.getMinutes()),aT(bc.getSeconds()),bb,")"].join(""))},s=function(){aZ("/Type /Catalog");aZ("/Pages 1 0 R");if(!aC){aC="fullwidth"}switch(aC){case"fullwidth":aZ("/OpenAction [3 0 R /FitH null]");break;case"fullheight":aZ("/OpenAction [3 0 R /FitV null]");break;case"fullpage":aZ("/OpenAction [3 0 R /Fit]");break;case"original":aZ("/OpenAction [3 0 R /XYZ null null 1]");break;default:var k=""+aC;if(k.substr(k.length-1)==="%"){aC=parseInt(aC)/100}if(typeof aC==="number"){aZ("/OpenAction [3 0 R /XYZ null null "+C(aC)+"]")}}if(!Y){Y="continuous"}switch(Y){case"continuous":aZ("/PageLayout /OneColumn");break;case"single":aZ("/PageLayout /SinglePage");break;case"two":case"twoleft":aZ("/PageLayout /TwoColumnLeft");break;case"tworight":aZ("/PageLayout /TwoColumnRight");break}if(aM){aZ("/PageMode /"+aM)}M.publish("putCatalog")},r=function(){aZ("/Size "+(j+1));aZ("/Root "+j+" 0 R");aZ("/Info "+(j-1)+" 0 R")},u=function(a8,k){var a7=typeof k==="string"&&k.toLowerCase();if(typeof a8==="string"){var a9=a8.toLowerCase();if(b.hasOwnProperty(a9)){a8=b[a9][0]/ah;k=b[a9][1]/ah}}if(Array.isArray(a8)){k=a8[1];a8=a8[0]}if(a7){switch(a7.substr(0,1)){case"l":if(k>a8){a7="s"}break;case"p":if(a8>k){a7="s"}break}if(a7==="s"){n=a8;a8=k;k=n}}L=true;F[++aA]=[];az[aA]={width:Number(a8)||a3,height:Number(k)||a5};a6[aA]={};aj(aA)},au=function(){u.apply(this,arguments);aZ(C(ar*ah)+" w");aZ(aq);if(aY!==0){aZ(aY+" J")}if(ac!==0){aZ(ac+" j")}M.publish("addPage",{pageNumber:aA})},a0=function(k){if(k>0&&k<=aA){F.splice(k,1);az.splice(k,1);aA--;if(aB>aA){aB=aA}this.setPage(aB)}},aj=function(k){if(k>0&&k<=aA){aB=k;a3=az[k].width;a5=az[k].height}},ai=function(a7,a9){var k;a7=a7!==undefined?a7:aS[O].fontName;a9=a9!==undefined?a9:aS[O].fontStyle;if(a7!==undefined){a7=a7.toLowerCase()}switch(a7){case"sans-serif":case"verdana":case"arial":case"helvetica":a7="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":a7="courier";break;case"serif":case"cursive":case"fantasy":default:a7="times";break}try{k=aE[a7][a9]}catch(a8){}if(!k){k=aE.times[a9];if(k==null){k=aE.times["normal"]}}return k},al=function(){L=false;j=2;aF=0;P=[];K=[];a1=[];M.publish("buildDocument");aZ("%PDF-"+d);aL();Z();am();N();aZ("<<");aO();aZ(">>");aZ("endobj");N();aZ("<<");s();aZ(">>");aZ("endobj");var a9=aF,k,a7="0000000000";aZ("xref");aZ("0 "+(j+1));aZ(a7+" 65535 f ");for(k=1;k<=j;k++){var a8=K[k];if(typeof a8==="function"){aZ((a7+K[k]()).slice(-10)+" 00000 n ")}else{aZ((a7+K[k]).slice(-10)+" 00000 n ")}}aZ("trailer");aZ("<<");r();aZ(">>");aZ("startxref");aZ(""+a9);aZ("%%EOF");L=true;return P.join("\n")},aJ=function(k){var a7="S";if(k==="F"){a7="f"}else{if(k==="FD"||k==="DF"){a7="B"}else{if(k==="f"||k==="f*"||k==="B"||k==="B*"){a7=k}}}return a7},t=function(){var a9=al(),k=a9.length,a8=new ArrayBuffer(k),a7=new Uint8Array(a8);while(k--){a7[k]=a9.charCodeAt(k)}return a8},aa=function(){return new Blob([t()],{type:"application/pdf"})},w=function(a9){var bb=["",",Bold",",Italic",",BoldItalic"];var bc=bb[parseInt(a9.fontDescriptor.style)];if((a9.id).slice(1)>=14&&a9.encoding.indexOf("Uni")===0){var ba=N();var bd=N();var a8="Korea1";var be=2;var k=0;if(a9.encoding==="UniJIS-UTF16-H"){a8="Japan1";k=4}else{if(a9.encoding==="UniGB-UTF16-H"){a8="GB1";k=4}}aZ("<<");aZ("/Type /FontDescriptor");aZ("/FontName /"+a9.fontName);aZ("/FontBBox "+a9.fontDescriptor.bbox);aZ("/Flags "+a9.fontDescriptor.flags);aZ("/StemV "+a9.fontDescriptor.stemV);aZ("/ItalicAngle "+a9.fontDescriptor.italicAngle);aZ("/Ascent "+a9.fontDescriptor.ascent);aZ("/Descent "+a9.fontDescriptor.descent);aZ("/CapHeight "+a9.fontDescriptor.capHeight);aZ("/MissingWidth 500");aZ(">>");aZ("endobj");var a7=N();aZ("<</DW 1000/Subtype/CIDFontType0/CIDSystemInfo<</Supplement 4/Registry(Adobe)/Ordering("+a8+")>>/Type/Font/BaseFont/"+a9.fontName+bc+"/FontDescriptor "+bd+" 0 R /W "+a9.fontDescriptor.fontWidth+" >>");aZ("endobj");a9.objectNumber=N();aZ("<</Subtype/Type0/Type/Font/BaseFont/"+a9.fontName+bc+"/Encoding/"+a9.encoding+"/DescendantFonts["+a7+" 0 R]>>");aZ("endobj")}else{if((a9.id).slice(1)>=14&&a9.encoding==="WinAnsiEncoding"){var bd=N();aZ("<<");aZ("/Descent "+a9.fontDescriptor.descent);aZ("/CapHeight "+a9.fontDescriptor.capHeight);aZ("/StemV "+a9.fontDescriptor.stemV);aZ("/Type /FontDescriptor");aZ("/Flags 96");aZ("/FontBBox "+a9.fontDescriptor.bbox);aZ("/FontName /"+a9.fontName);aZ("/ItalicAngle "+a9.fontDescriptor.italicAngle);aZ("/Ascent "+a9.fontDescriptor.ascent);aZ(">>");aZ("endobj");a9.objectNumber=N();aZ("<</Subtype/TrueType/Type/Font/BaseFont/"+a9.fontName+"/FontDescriptor "+bd+" 0 R/Encoding/"+a9.encoding+" /FirstChar 29 /LastChar 255 /Widths []>>");aZ("endobj")}else{a9.objectNumber=N();aZ("<</BaseFont/"+a9.PostScriptName+"/Type/Font");if(typeof a9.encoding==="string"){aZ("/Encoding/WinAnsiEncoding")}aZ("/Subtype/Type1>>");aZ("endobj")}}},X=function(){for(var k in aS){if(aS.hasOwnProperty(k)){if(aS[k].fontDescriptor){w(aS[k])}else{S(aS[k])}}}},aK=function(){aZ("/GS0 <<");aZ("/CA 1");aZ("/ca 1");aZ(">>");aZ("/GS1 <<");aZ("/CA .5");aZ("/ca .5");aZ(">>");aZ("/GS2 <<");aZ("/CA 0");aZ("/ca 0");aZ(">>")},m=function(){aZ("/ExtGState <<");aK();aZ(">>")},T=function(bb,k,a9,a7,bc,bd,be){var ba="F"+(Object.keys(aS).length+1).toString(10),a8=aS[ba]={id:ba,PostScriptName:bb,fontName:k,fontStyle:a9,encoding:a7,metadata:{},fontDescriptor:undefined,usedChars:""};if(bc){a8.fontDescriptor=bc}if(bd){a8.metadata=TTFFont.open(bb,k,bd,a7);a8.usedChars=be}if(a8.metadata.glyf&&a8.metadata.glyf.exists==false){return null}aQ(ba,k,a9);M.publish("addFont",a8);return ba},ai=function(a8,ba){if(!aU.hasOwnProperty(a8)&&a8){aU[a8]=[]}var a7,k;a8=a8!==undefined?a8:aS[O].fontName;aI=ba=ba!==undefined?ba:aS[O].fontStyle;k=a8;try{a7=aE[a8][ba];if(!a7&&aE[a8]){a7=aE[a8]["normal"]}}catch(a9){}if(!a7){if(a8!==undefined){a8=a8.toLowerCase()}switch(a8){case"sans-serif":case"verdana":case"arial":case"helvetica":a8="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":a8="courier";break;case"serif":case"cursive":case"fantasy":default:a8=k;break}try{a7=aE[a8][ba]}catch(a9){}}if(!a7&&aE[a8]){a7=aE[a8]["normal"]}if(!a7){a7=aE.times[ba];if(a7==null){a7=aE.times["normal"]}}a4(a7);return a7},V=function(k,a7){if(H[k]){return H[k]}else{return k}},a4=function(k){if(aS[k]){aG=aS[k].encoding}else{aG="StandardEncoding"}},an=function(a8){var a7,k,bb,ba,bc,a9,bd;bd=e.adler32cs||c.adler32cs;bb=[];ba=a8.length;while(ba--){bb[ba]=a8.charCodeAt(ba)}a9=bd.from(a8);bc=new Deflater(6);var bf=bc.append(new Uint8Array(bb)),be=bc.flush();k=new Uint8Array(bf.length+be.length);k.set(bf,0);k.set(be,bf.byteLength);bb=new Uint8Array(k.length+6);bb.set(new Uint8Array([120,156])),bb.set(k,2);bb.set(new Uint8Array([a9&255,(a9>>8)&255,(a9>>16)&255,(a9>>24)&255]),k.length+2);return String.fromCharCode.apply(null,bb)},ap=function(a7){var k;if(a7>=0&&a7<=15){k="000"+a7.toString(16)}else{if(a7>=16&&a7<=255){k="00"+a7.toString(16)}else{if(a7>=256&&a7<=4095){k="0"+a7.toString(16)}else{if(a7>=4096&&a7<=65535){k=a7.toString(16)}}}}return k},S=function(ba){if((ba.id).slice(1)>=14&&ba.encoding==="Identity-H"){var bg={normal:"",bold:",Bold",italic:",Italic",bolditalic:",BoldItalic"};var bk=bg[ba.fontStyle];var bh=ba.metadata.rawData;var bd=bh;var be="";for(var bi=0;bi<bd.length;bi++){be+=String.fromCharCode(bd[bi])}var bb=N();if(aX&&typeof(e.adler32cs||c.adler32cs)==="undefined"){aX=false}if(aX){var a8=an(be);aZ("<<");aZ("/Length "+a8.length);aZ("/Filter /FlateDecode");aZ(">>");aZ("stream");aZ(a8);aZ("endstream")}else{aZ("<<");aZ("/Length "+be.length);aZ("/Length1 "+be.length);aZ(">>");aZ("stream");aZ(be);aZ("endstream")}aZ("endobj");var bj=N();aZ("<<");aZ("/Type /FontDescriptor");aZ("/FontName /"+ba.fontName);aZ("/FontFile2 "+bb+" 0 R");aZ("/FontBBox "+PDFObject.convert(ba.metadata.bbox));aZ("/Flags "+ba.metadata.flags);aZ("/StemV "+ba.metadata.stemV);aZ("/ItalicAngle "+ba.metadata.italicAngle);aZ("/Ascent "+ba.metadata.ascender);aZ("/Descent "+ba.metadata.decender);aZ("/CapHeight "+ba.metadata.capHeight);aZ(">>");aZ("endobj");var a7=N();aZ("<</DW 1000/Subtype/CIDFontType2/CIDSystemInfo<</Supplement 0/Registry(Adobe)/Ordering("+ba.encoding+")>>/Type/Font/BaseFont/"+ba.fontName+bk+"/FontDescriptor "+bj+" 0 R/W"+PDFObject.convert(aU[ba.fontName])+"/CIDToGIDMap/"+ba.encoding+">>");aZ("endobj");if(!ba.usedChars){ba.usedChars=""}var a9=N();var bc="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo\n<< /Registry (TTX+0)\n/Ordering (T42UV)\n/Supplement 0\n>> def\n/CMapName /TTX+0 def\n/CMapType 2 def\n1 begincodespacerange\n<0000><FFFF>\nendcodespacerange\n";var bl=0;for(var bf=0;bf<ba.usedChars.length;bf++){if(bl==0){if(bf!=0){bc+="endbfrange\n"}bl=Math.min(100,ba.usedChars.length-bf);bc+=bl+" beginbfrange\n"}bl--;bc+="<"+ap(ba.metadata.cmap.unicode.codeMap[ba.usedChars.charCodeAt(bf)])+"><"+ap(ba.metadata.cmap.unicode.codeMap[ba.usedChars.charCodeAt(bf)])+"><"+ap(ba.usedChars.charCodeAt(bf))+">\n"}bc+="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end\n";var a8=an(bc);aZ("<<");aZ("/Length "+a8.length);aZ("/Filter /FlateDecode");aZ(">>");aZ("stream");aZ(a8);aZ("endstream");aZ("endobj");ba.objectNumber=N();aZ("<</Subtype/Type0/Type/Font/BaseFont/"+ba.fontName+bk+"/Encoding/"+ba.encoding+"/DescendantFonts["+a7+" 0 R]/ToUnicode "+a9+" 0 R>>");aZ("endobj")}else{if((ba.id).slice(1)>=14&&ba.encoding==="WinAnsiEncoding"){var bh=ba.metadata.rawData;var bd=bh;var be="";for(var bi=0;bi<bd.length;bi++){be+=String.fromCharCode(bd[bi])}var bb=N();aZ("<<");aZ("/Length "+be.length);aZ("/Length1 "+be.length);aZ(">>");aZ("stream");aZ(be);aZ("endstream");aZ("endobj");var bj=N();aZ("<<");aZ("/Descent "+ba.metadata.decender);aZ("/CapHeight "+ba.metadata.capHeight);aZ("/StemV "+ba.metadata.stemV);aZ("/Type /FontDescriptor");aZ("/FontFile2 "+bb+" 0 R");aZ("/Flags 96");aZ("/FontBBox "+PDFObject.convert(ba.metadata.bbox));aZ("/FontName /"+ba.fontName);aZ("/ItalicAngle "+ba.metadata.italicAngle);aZ("/Ascent "+ba.metadata.ascender);aZ(">>");aZ("endobj");ba.objectNumber=N();for(var bi=0;bi<ba.metadata.hmtx.widths.length;bi++){ba.metadata.hmtx.widths[bi]=parseInt(ba.metadata.hmtx.widths[bi]*(1000/ba.metadata.head.unitsPerEm))}aZ("<</Subtype/TrueType/Type/Font/BaseFont/"+ba.fontName+"/FontDescriptor "+bj+" 0 R/Encoding/"+ba.encoding+" /FirstChar 29 /LastChar 255 /Widths "+PDFObject.convert(ba.metadata.hmtx.widths)+">>");aZ("endobj")}else{ba.objectNumber=N();aZ("<</BaseFont/"+ba.PostScriptName+"/Type/Font");if(typeof ba.encoding==="string"){aZ("/Encoding/WinAnsiEncoding")}aZ("/Subtype/Type1>>");aZ("endobj")}}},D=ae(function(a9,a7){var a8=(""+a9).substr(0,6)==="dataur"?"data:application/pdf;base64,"+btoa(al()):0;switch(a9){case undefined:return al();case"save":if(navigator.getUserMedia){if(e.URL===undefined||e.URL.createObjectURL===undefined){return av.output("dataurlnewwindow")}}saveAs(aa(),a7);if(typeof saveAs.unload==="function"){if(e.setTimeout){setTimeout(saveAs.unload,911)}}break;case"arraybuffer":return t();case"blob":return aa();case"bloburi":case"bloburl":return e.URL&&e.URL.createObjectURL(aa())||void 0;case"datauristring":case"dataurlstring":return a8;case"dataurlnewwindow":var k=e.open(a8);if(k||typeof safari==="undefined"){return k}case"datauri":case"dataurl":return e.document.location.href=a8;default:throw new Error('Output type "'+a9+'" is not supported.')}}),f=function(k){return(Array.isArray(ax)===true&&ax.indexOf(k)>-1)};switch(a2){case"pt":ah=1;break;case"mm":ah=72/25.4000508;break;case"cm":ah=72/2.54000508;break;case"in":ah=72;break;case"px":if(f("px_scaling")==true){ah=72/96}else{ah=96/72}break;case"pc":ah=12;break;case"em":ah=12;break;case"ex":ah=6;break;default:throw ("Invalid unit: "+a2)}av.internal={pdfEscape:aV,getStyle:aJ,getFontSize:function(){return ab},getLineHeight:function(){return ab*aH},write:function(k){aZ(arguments.length===1?k:Array.prototype.join.call(arguments," "))},getCoordinateString:function(k){return C(k*ah)},getVerticalCoordinateString:function(k){return C((a5-k)*ah)},collections:{},newObject:N,newAdditionalObject:aD,newObjectDeferred:W,newObjectDeferredBegin:A,putStream:h,events:M,scaleFactor:ah,pageSize:{width:function(){return a3},height:function(){return a5}},output:function(a7,k){return D(a7,k)},getNumberOfPages:function(){return F.length-1},pages:F,out:aZ,f2:C,getPageInfo:function(k){var a7=(k-1)*2+3;return{objId:a7,pageNumber:k,pageContext:a6[k]}},getCurrentPageInfo:function(){var k=(aB-1)*2+3;return{objId:k,pageNumber:aB,pageContext:a6[aB]}},getPDFVersion:function(){return d},hasHotfix:f,getFontNameTable:function(){return H},setFontNameTable:function(k){H=k},getFonts:function(){return aS},getActiveFontKey:function(){return O},setActiveFontKey:function(k){O=k},setActiveFontEncoding:function(k){aG=k},getFontName:V,getWidthArr:function(){return q},setWidthArr:function(k){q=k},clearWidthArr:function(){q.length=0},addFont:function(ba,a9,bc,a8,k,a7,bb){return T(ba,a9,bc,a8,k,a7,bb)},getFont:function(){return aS[ai.apply(av,arguments)]},addDefaultFont:function(a7,k){aR[k]=a7},getDefaultFontList:function(){return aR}};av.addPage=function(){au.apply(this,arguments);return this};av.setPage=function(){aj.apply(this,arguments);return this};av.insertPage=function(k){this.addPage();this.movePage(aB,k);return this};av.movePage=function(bb,a8){if(bb>a8){var a9=F[bb];var k=az[bb];var ba=a6[bb];for(var a7=bb;a7>a8;a7--){F[a7]=F[a7-1];az[a7]=az[a7-1];a6[a7]=a6[a7-1]}F[a8]=a9;az[a8]=k;a6[a8]=ba;this.setPage(a8)}else{if(bb<a8){var a9=F[bb];var k=az[bb];var ba=a6[bb];for(var a7=bb;a7<a8;a7++){F[a7]=F[a7+1];az[a7]=az[a7+1];a6[a7]=a6[a7+1]}F[a8]=a9;az[a8]=k;a6[a8]=ba;this.setPage(a8)}}return this};av.deletePage=function(){a0.apply(this,arguments);return this};av.setDisplayMode=function(a8,a7,a9){aC=a8;Y=a7;aM=a9;var k=[undefined,null,"UseNone","UseOutlines","UseThumbs","FullScreen"];if(k.indexOf(a9)==-1){throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+a9+'" is not recognized.')}return this},av.text=function(bg,be,bd,ba,bo,bj){function bv(bw){bw=bw.split("\t").join(Array(aw.TabLen||9).join(" "));return aV(bw,ba)}if(typeof bg==="number"){n=bd;bd=be;be=bg;bg=n}if(typeof bg==="string"){if(bg.match(/[\n\r]/)){bg=bg.split(/\r\n|\r|\n/g)}else{bg=[bg]}}if(typeof bo==="string"){bj=bo;bo=null}if(typeof ba==="string"){bj=ba;ba=null}if(typeof ba==="number"){bo=ba;ba=null}var bm="",bh="Td",bb;if(bo){bo*=(Math.PI/180);var bq=Math.cos(bo),bi=Math.sin(bo);bm=[C(bq),C(bi),C(bi*-1),C(bq),""].join(" ");bh="Tm"}ba=ba||{};if(!("noBOM" in ba)){ba.noBOM=true}if(!("autoencode" in ba)){ba.autoencode=true}var bn="";var bp=this.internal.getCurrentPageInfo().pageContext;if(true===ba.stroke){if(bp.lastTextWasStroke!==true){bn="1 Tr\n";bp.lastTextWasStroke=true}}else{if(bp.lastTextWasStroke){bn="0 Tr\n"}bp.lastTextWasStroke=false}if(typeof this._runningPageHeight==="undefined"){this._runningPageHeight=0}if(typeof bg==="string"){bg=bv(bg)}else{if(Object.prototype.toString.call(bg)==="[object Array]"){var k=bg.concat(),bt=[],bl=k.length;while(bl--){bt.push(bv(k.shift()))}var bf=Math.ceil((a5-bd-this._runningPageHeight)*ah/(ab*aH));if(0<=bf&&bf<bt.length+1){}if(bj){var a8,a9,a7,bs=ab*aH,bu=bg.map(function(bw){return this.getStringUnitWidth(bw)*ab/ah},this);a7=Math.max.apply(Math,bu);if(bj==="center"){a8=be-a7/2;be-=bu[0]/2}else{if(bj==="right"){a8=be-a7;be-=bu[0]}else{throw new Error('Unrecognized alignment option, use "center" or "right".')}}a9=be;bg=bt[0];for(var bk=1,bl=bt.length;bk<bl;bk++){var br=a7-bu[bk];if(bj==="center"){br/=2}bg+=") Tj\n"+((a8-a9)+br)+" -"+bs+" Td ("+bt[bk];a9=a8+br}}else{bg=bt.join(") Tj\nT* (")}}else{throw new Error('Type of text must be string or Array. "'+bg+'" is not recognized.')}}var bc;if(bb){}else{bc=C((a5-bd)*ah)}aZ("BT\n/"+O+" "+ab+" Tf\n"+(ab*aH)+" TL\n"+bn+ak+"\n"+bm+C(be*ah)+" "+bc+" "+bh+"\n("+bg+") Tj\nET");if(bb){this.text(bb,be,bd)}return this};av.lstext=function(a9,a7,bb,ba){console.warn("jsPDF.lstext is deprecated");for(var a8=0,k=a9.length;a8<k;a8++,a7+=ba){this.text(a9[a8],a7,bb)}return this};av.line=function(a7,a9,k,a8){return this.lines([[k-a7,a8-a9]],a7,a9)};av.clip=function(){aZ("W")};av.clip_fixed=function(k){if("evenodd"===k){aZ("W*")}else{aZ("W")}aZ("n")};av.lines=function(bm,bj,bi,ba,a8,be){var bd,bc,bb,a9,bk,a7,bh,k,bg,bl,bf;if(typeof bm==="number"){n=bi;bi=bj;bj=bm;bm=n}ba=ba||[1,1];aZ(B(bj*ah)+" "+B((a5-bi)*ah)+" m ");bd=ba[0];bc=ba[1];a9=bm.length;bl=bj;bf=bi;for(bb=0;bb<a9;bb++){bk=bm[bb];if(bk.length===2){bl=bk[0]*bd+bl;bf=bk[1]*bc+bf;aZ(B(bl*ah)+" "+B((a5-bf)*ah)+" l")}else{a7=bk[0]*bd+bl;bh=bk[1]*bc+bf;k=bk[2]*bd+bl;bg=bk[3]*bc+bf;bl=bk[4]*bd+bl;bf=bk[5]*bc+bf;aZ(B(a7*ah)+" "+B((a5-bh)*ah)+" "+B(k*ah)+" "+B((a5-bg)*ah)+" "+B(bl*ah)+" "+B((a5-bf)*ah)+" c")}}if(be){aZ(" h")}if(a8!==null){aZ(aJ(a8))}return this};av.rect=function(k,bb,a7,a9,a8){var ba=aJ(a8);aZ([C(k*ah),C((a5-bb)*ah),C(a7*ah),C(-a9*ah),"re"].join(" "));if(a8!==null){aZ(aJ(a8))}return this};av.triangle=function(a9,bc,a7,ba,k,a8,bb){this.lines([[a7-a9,ba-bc],[k-a7,a8-ba],[a9-k,bc-a8]],a9,bc,[1,1],bb,true);return this};av.roundedRect=function(a7,bd,a8,ba,bc,bb,a9){var k=4/3*(Math.SQRT2-1);this.lines([[(a8-2*bc),0],[(bc*k),0,bc,bb-(bb*k),bc,bb],[0,(ba-2*bb)],[0,(bb*k),-(bc*k),bb,-bc,bb],[(-a8+2*bc),0],[-(bc*k),0,-bc,-(bb*k),-bc,-bb],[0,(-ba+2*bb)],[0,-(bb*k),(bc*k),-bb,bc,-bb]],a7+bc,bd,[1,1],a9);return this};av.ellipse=function(k,bc,bb,ba,a7){var a9=4/3*(Math.SQRT2-1)*bb,a8=4/3*(Math.SQRT2-1)*ba;aZ([C((k+bb)*ah),C((a5-bc)*ah),"m",C((k+bb)*ah),C((a5-(bc-a8))*ah),C((k+a9)*ah),C((a5-(bc-ba))*ah),C(k*ah),C((a5-(bc-ba))*ah),"c"].join(" "));aZ([C((k-a9)*ah),C((a5-(bc-ba))*ah),C((k-bb)*ah),C((a5-(bc-a8))*ah),C((k-bb)*ah),C((a5-bc)*ah),"c"].join(" "));aZ([C((k-bb)*ah),C((a5-(bc+a8))*ah),C((k-a9)*ah),C((a5-(bc+ba))*ah),C(k*ah),C((a5-(bc+ba))*ah),"c"].join(" "));aZ([C((k+a9)*ah),C((a5-(bc+ba))*ah),C((k+bb)*ah),C((a5-(bc+a8))*ah),C((k+bb)*ah),C((a5-bc)*ah),"c"].join(" "));if(a7!==null){aZ(aJ(a7))}return this};av.circle=function(k,a9,a8,a7){return this.ellipse(k,a9,a8,a8,a7)};av.setProperties=function(k){for(var a7 in af){if(af.hasOwnProperty(a7)&&k[a7]){af[a7]=k[a7]}}return this};av.setFontSize=function(k){ab=k;return this};av.setFont=function(k,a7){O=ai(k,a7);return this};av.setFontStyle=av.setFontType=function(k){O=ai(undefined,k);return this};av.getFontList=function(){var a8={},a7,a9,k;for(a7 in aE){if(aE.hasOwnProperty(a7)){a8[a7]=k=[];for(a9 in aE[a7]){if(aE[a7].hasOwnProperty(a9)){k.push(a9)}}}}return a8};av.addFont=function(a7,k,a8){T(a7,k,a8,"StandardEncoding")};av.setLineWidth=function(k){aZ((k*ah).toFixed(2)+" w");return this};av.setLineDash=function(k,a7){var a8=function(ba,a9){var bb=a9;if(isNaN(ba)||isNaN(bb)){throw new Error("Invalid argument passed to jsPDF.roundToPrecision")}return ba.toFixed(bb)};k=k||[];a7=a7||0;if(isNaN(a7)||!Array.isArray(k)){throw new Error("Invalid arguments passed to jsPDF.setLineDash")}k=k.map(function(a9){return a8(a9,3)}).join(" ");a7=a8(a7,3);aZ("["+k+"] "+a7+" d");return this};av.setDrawColor=function(ba,a9,a8,k){var a7;if(a9===undefined||(k===undefined&&ba===a9===a8)){if(typeof ba==="string"){a7=ba+" G"}else{a7=C(ba/255)+" G"}}else{if(k===undefined){if(typeof ba==="string"){a7=[ba,a9,a8,"RG"].join(" ")}else{a7=[C(ba/255),C(a9/255),C(a8/255),"RG"].join(" ")}}else{if(typeof ba==="string"){a7=[ba,a9,a8,k,"K"].join(" ")}else{a7=[C(ba),C(a9),C(a8),C(k),"K"].join(" ")}}}aZ(a7);return this};av.setFillColor=function(ba,a9,a8,k){var a7;if(a9===undefined||(k===undefined&&ba===a9===a8)){if(typeof ba==="string"){a7=ba+" g"}else{a7=C(ba/255)+" g"}}else{if(k===undefined||typeof k==="object"){if(typeof ba==="string"){a7=[ba,a9,a8,"rg"].join(" ")}else{a7=[C(ba/255),C(a9/255),C(a8/255),"rg"].join(" ")}if(k&&k.a===0){a7=["255","255","255","rg"].join(" ")}}else{if(typeof ba==="string"){a7=[ba,a9,a8,k,"k"].join(" ")}else{a7=[C(ba),C(a9),C(a8),C(k),"k"].join(" ")}}}aZ(a7);return this};av.setTextColor=function(a9,a8,k){if((typeof a9==="string")&&/^#[0-9A-Fa-f]{6}$/.test(a9)){var a7=parseInt(a9.substr(1),16);a9=(a7>>16)&255;a8=(a7>>8)&255;k=(a7&255)}if((a9===0&&a8===0&&k===0)||(typeof a8==="undefined")){ak=B(a9/255)+" g"}else{ak=[B(a9/255),B(a8/255),B(k/255),"rg"].join(" ")}return this};av.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};av.setLineCap=function(k){var a7=this.CapJoinStyles[k];if(a7===undefined){throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles")}aY=a7;aZ(a7+" J");return this};av.setLineJoin=function(k){var a7=this.CapJoinStyles[k];if(a7===undefined){throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles")}ac=a7;aZ(a7+" j");return this};av.drawText=function(bj,bg,be){var a7,bd,bc,bf,a9,ba;var bi,bb=0,bk,k,bh=0,a8;if(typeof bj==="number"){bd=be;bc=bj;bf=bg;bj=bd;bg=bc;be=bf}if(typeof bj==="string"&&bj.match(/[\n\r]/)){bj=bj.split(/\r\n|\r|\n/g)}if(typeof bj==="string"){Q(bj,ab,O,ak,G,bb,bg,be);return this}if(bj instanceof Array){for(a9=0;a9<bj.length;a9++){if(typeof bj[a9]==="object"){bi=ai(bj[a9].font,bj[a9].fontStyle);if(bj[a9].hasOwnProperty("fontSize")){bk=bj[a9].fontSize}if(bj[a9].hasOwnProperty("charSpace")){ba=bj[a9].charSpace}if(bj[a9].hasOwnProperty("TextColor")){k=this.setTextColor(bj[a9].TextColor[0],bj[a9].TextColor[1],bj[a9].TextColor[2],1)}a8=Q(bj[a9].text,bk,bi,k,ba,bb,bg,be,bj[a9]);bb=a8[0];be=a8[1]}else{bk=ab;ba=G;k=strColor;a8=Q(bj[a9],bk,bi,k,ba,bb,bg,be);bb=a8[0];be=a8[1]}}return this}else{throw new Error('Type of text must be string or Array. "'+bj+'" is not recognized.')}return this};function aN(a8){var a7="";for(var k=0;k<a8.length;k++){a7+=""+a8.charCodeAt(k).toString(16)}return a7}function Q(bl,a8,bq,bp,bc,a7,be,bd,bk){var bj="",bf,bn="",ba,bg=0,a9;var k=new Array(bl.length);var bb=a7;a7=0;for(var bh=0;bh<bl.length;bh++){a9=null;k[bh]={key:null,words:null,widths:null,hexwords:null,encoding:null};if(bk){bq=ai(bk.font,bk.fontStyle)}else{bq=O}if(aS[bq].metadata.hasOwnProperty("cmap")){a9=aS[bq].metadata.cmap.unicode.codeMap[bl[bh].charCodeAt(0)]}if(!a9){for(var bm in aR){a9=aS[aR[bm]].metadata.cmap.unicode.codeMap[bl[bh].charCodeAt(0)];if(a9){bq=aR[bm];bf=aS[bq].metadata.widthOfString(bl[bh],a8,bc);bj=bl[bh]}}if(!a9){bj="";bf=0}}else{bf=aS[bq].metadata.widthOfString(bl[bh],a8,bc);bj=bl[bh]}if(bq==ba){bn=bn.concat(bj)}else{if(bn==""){bn=bj}else{k[bg].words=bn;k[bg].key=ba;k[bg].widths=a7;k[bg].encoding=aS[ba].encoding;bn=bj;a7=0;bg++}}a7=a7+bf;ba=bq}k[bg].words=bn;k[bg].key=ba;k[bg].widths=a7;k[bg].encoding=aS[ba].encoding;k.splice(bg+1,bl.length);for(bh=0;bh<bg+1;bh++){if(parseInt(k[bh].key.slice(1))<14){k[bh].widths=av.getStringUnitWidth(k[bh].words)*a8+(k[bh].words.length*bc);k[bh].hexwords=aN(aV(k[bh].words,k[bh].key))}else{if(k[bh].encoding==="Identity-H"){k[bh].hexwords=J(k[bh].words,k[bh].key)}else{if(k[bh].encoding==="WinAnsiEncoding"){k[bh].hexwords=aN(aV(k[bh].words,k[bh].key))}}}var bo="0 Tr\n",bi="1 0 0 1 "+C(be*ah+bb)+"  "+C((a5-bd)*ah)+" Tm\n";if(aI&&aI.indexOf("bold")>=0){bo="2 Tr\n"}if(aI&&aI.indexOf("italic")>=0){bi="1 0 0.3 1 "+C(be*ah+bb)+"  "+C((a5-bd)*ah)+" Tm\n"}aZ("BT\n/"+k[bh].key+" "+a8+" Tf\n"+bi+bo+(a8*aH)+" TL\n"+bc+" Tc\n"+bp+"\n<"+k[bh].hexwords+"> Tj\nET");bb+=k[bh].widths}return[bb,bd]}var g=["","0","00","000","0000"];var aU={};var ad=[0];var I;var J=function(bb,k){if(!aU.hasOwnProperty(aS[k].fontName)&&aS[k].fontName){aU[aS[k].fontName]=[]}var a8=[""];for(var ba=0,a7=bb.length,a9;ba<a7;++ba){a9=aS[k].metadata.characterToGlyph(bb.charCodeAt(ba));ad.push(a9);if(aU[aS[k].fontName].indexOf(a9)==-1){aU[aS[k].fontName].push(a9);aU[aS[k].fontName].push([parseInt(aS[k].metadata.widthOfGlyph(a9),10)])}if(a9=="0"){return a8.join("")}else{a9=a9.toString(16);a8.push(g[4-a9.length],a9)}}return a8.join("")};av.setCharSpace=function(k){G=k;return this};av.output=D;av.save=function(k){av.output("save",k)};for(var U in c.API){if(c.API.hasOwnProperty(U)){if(U==="events"&&c.API.events.length){(function(a8,ba){var a9,a7,k;for(k=ba.length-1;k!==-1;k--){a9=ba[k][0];a7=ba[k][1];a8.subscribe.apply(a8,[a9].concat(typeof a7==="function"?[a7]:a7))}}(M,c.API.events))}else{av[U]=c.API[U]}}}aW();O="F1";au(E,aP);M.publish("initialized");return av}c.API={events:[]};c.version="1.x-master";if(typeof define==="function"&&define.amd){define("jsPDF",function(){return c})}else{if(typeof module!=="undefined"&&module.exports){module.exports=c}else{e.jsPDF=c}}return c}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this));(function(b){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(typeof b.btoa==="undefined"){b.btoa=function(k){var f,e,d,q,n,m,l,s,j=0,t=0,h="",g=[];if(!k){return k}do{f=k.charCodeAt(j++);e=k.charCodeAt(j++);d=k.charCodeAt(j++);s=f<<16|e<<8|d;q=s>>18&63;n=s>>12&63;m=s>>6&63;l=s&63;g[t++]=a.charAt(q)+a.charAt(n)+a.charAt(m)+a.charAt(l)}while(j<k.length);h=g.join("");var c=k.length%3;return(c?h.slice(0,c-3):h)+"===".slice(c||3)}}if(typeof b.atob==="undefined"){b.atob=function(j){var e,d,c,n,m,l,k,q,h=0,r=0,f="",g=[];if(!j){return j}j+="";do{n=a.indexOf(j.charAt(h++));m=a.indexOf(j.charAt(h++));l=a.indexOf(j.charAt(h++));k=a.indexOf(j.charAt(h++));q=n<<18|m<<12|l<<6|k;e=q>>16&255;d=q>>8&255;c=q&255;if(l==64){g[r++]=String.fromCharCode(e)}else{if(k==64){g[r++]=String.fromCharCode(e,d)}else{g[r++]=String.fromCharCode(e,d,c)}}}while(h<j.length);f=g.join("");return f}}if(!Array.prototype.map){Array.prototype.map=function(e){if(this===void 0||this===null||typeof e!=="function"){throw new TypeError()}var h=Object(this),c=h.length>>>0,g=new Array(c);var d=arguments.length>1?arguments[1]:void 0;for(var f=0;f<c;f++){if(f in h){g[f]=e.call(d,h[f],f,h)}}return g}}if(!Array.isArray){Array.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"}}if(!Array.prototype.forEach){Array.prototype.forEach=function(e,d){if(this===void 0||this===null||typeof e!=="function"){throw new TypeError()}var g=Object(this),c=g.length>>>0;for(var f=0;f<c;f++){if(f in g){e.call(d,g[f],f,g)}}}}if(!Object.keys){Object.keys=(function(){var e=Object.prototype.hasOwnProperty,f=!({toString:null}).propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=d.length;return function(j){if(typeof j!=="object"&&(typeof j!=="function"||j===null)){throw new TypeError()}var g=[],k,h;for(k in j){if(e.call(j,k)){g.push(k)}}if(f){for(h=0;h<c;h++){if(e.call(j,d[h])){g.push(d[h])}}}return g}}())}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}}if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}}})(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this);(function(s){var k="addImage_",b=["jpeg","jpg","png"];var z=function(G){var H=this.internal.newObject(),E=this.internal.write,D=this.internal.putStream;G.n=H;E("<</Type /XObject");E("/Subtype /Image");E("/Width "+G.w);E("/Height "+G.h);if(G.cs===this.color_spaces.INDEXED){E("/ColorSpace [/Indexed /DeviceRGB "+(G.pal.length/3-1)+" "+("smask" in G?H+2:H+1)+" 0 R]")}else{E("/ColorSpace /"+G.cs);if(G.cs===this.color_spaces.DEVICE_CMYK){E("/Decode [1 0 1 0 1 0 1 0]")}}E("/BitsPerComponent "+G.bpc);if("f" in G){E("/Filter /"+G.f)}if("dp" in G){E("/DecodeParms <<"+G.dp+">>")}if("trns" in G&&G.trns.constructor==Array){var B="",F=0,I=G.trns.length;for(;F<I;F++){B+=(G.trns[F]+" "+G.trns[F]+" ")}E("/Mask ["+B+"]")}if("smask" in G){E("/SMask "+(H+1)+" 0 R")}E("/Length "+G.data.length+">>");D(G.data);E("endobj");if("smask" in G){var C="/Predictor "+G.p+" /Colors 1 /BitsPerComponent "+G.bpc+" /Columns "+G.w;var J={w:G.w,h:G.h,cs:"DeviceGray",bpc:G.bpc,dp:C,data:G.smask};if("f" in G){J.f=G.f}z.call(this,J)}if(G.cs===this.color_spaces.INDEXED){this.internal.newObject();E("<< /Length "+G.pal.length+">>");D(this.arrayBufferToBinaryString(new Uint8Array(G.pal)));E("endobj")}},c=function(){var B=this.internal.collections[k+"images"];for(var C in B){z.call(this,B[C])}},f=function(){var B=this.internal.collections[k+"images"],C=this.internal.write,E;for(var D in B){E=B[D];C("/I"+E.i,E.n,"0","R")}},u=function(B){if(B&&typeof B==="string"){B=B.toUpperCase()}return B in s.image_compression?B:s.image_compression.NONE},g=function(){var B=this.internal.collections[k+"images"];if(!B){this.internal.collections[k+"images"]=B={};this.internal.events.subscribe("putResources",c);this.internal.events.subscribe("putXobjectDict",f)}return B},e=function(C){var B=0;if(C){B=Object.keys?Object.keys(C).length:(function(F){var D=0;for(var E in F){if(F.hasOwnProperty(E)){D++}}return D})(C)}return B},w=function(B){return typeof B==="undefined"||B===null},r=function(B){return typeof B==="string"&&s.sHashCode(B)},a=function(B){return b.indexOf(B)===-1},j=function(B){return typeof s["process"+B.toUpperCase()]!=="function"},l=function(B){return typeof B==="object"&&B.nodeType===1},A=function(E,M,D){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var B=""+E.getAttribute("src");if(!D&&B.indexOf("data:image/")===0){return B}if(!M&&/\.png(?:[?#].*)?$/i.test(B)){M="png"}}if(E.nodeName==="CANVAS"){var C=E}else{var C=document.createElement("canvas");C.width=E.clientWidth||E.width;C.height=E.clientHeight||E.height;var O=C.getContext("2d");if(!O){throw ("addImage requires canvas to be supported by browser.")}if(D){var K,I,H,G,P,L,F,N=Math.PI/180,J;if(typeof D==="object"){K=D.x;I=D.y;H=D.bg;D=D.angle}J=D*N;G=Math.abs(Math.cos(J));P=Math.abs(Math.sin(J));L=C.width;F=C.height;C.width=F*P+L*G;C.height=F*G+L*P;if(isNaN(K)){K=C.width/2}if(isNaN(I)){I=C.height/2}O.clearRect(0,0,C.width,C.height);O.fillStyle=H||"white";O.fillRect(0,0,C.width,C.height);O.save();O.translate(K,I);O.rotate(J);O.drawImage(E,-(L/2),-(F/2));O.rotate(-J);O.translate(-K,-I);O.restore()}else{O.drawImage(E,0,0,C.width,C.height)}}return C.toDataURL((""+M).toLowerCase()=="png"?"image/png":"image/jpeg")},n=function(D,C){var B;if(C){for(var E in C){if(D===C[E].alias){B=C[E];break}}}return B},q=function(B,C,D){if(!B&&!C){B=-96;C=-96}if(B<0){B=(-1)*D.w*72/B/this.internal.scaleFactor}if(C<0){C=(-1)*D.h*72/C/this.internal.scaleFactor}if(B===0){B=C*D.w/D.h}if(C===0){C=B*D.h/D.w}return[B,C]},d=function(I,H,K,C,B,E,F){var J=q.call(this,K,C,B),D=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString;K=J[0];C=J[1];F[E]=B;this.internal.write("q",D(K),"0 0",D(C),D(I),G(H+C),"cm /I"+B.i,"Do Q")};s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};s.sHashCode=function(B){return Array.prototype.reduce&&B.split("").reduce(function(D,C){D=((D<<5)-D)+C.charCodeAt(0);return D&D},0)};s.isString=function(B){return typeof B==="string"};s.extractInfoFromBase64DataURI=function(B){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(B)};s.supportsArrayBuffer=function(){return typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"};s.isArrayBuffer=function(B){if(!this.supportsArrayBuffer()){return false}return B instanceof ArrayBuffer};s.isArrayBufferView=function(B){if(!this.supportsArrayBuffer()){return false}if(typeof Uint32Array==="undefined"){return false}return(B instanceof Int8Array||B instanceof Uint8Array||(typeof Uint8ClampedArray!=="undefined"&&B instanceof Uint8ClampedArray)||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)};s.binaryStringToUint8Array=function(D){var B=D.length;var C=new Uint8Array(B);for(var E=0;E<B;E++){C[E]=D.charCodeAt(E)}return C};s.arrayBufferToBinaryString=function(C){if(this.isArrayBuffer(C)){C=new Uint8Array(C)}var D="";var B=C.byteLength;for(var E=0;E<B;E++){D+=String.fromCharCode(C[E])}return D};s.arrayBufferToBase64=function(E){var D="";var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var N=new Uint8Array(E);var L=N.byteLength;var C=L%3;var M=L-C;var K,I,H,F;var J;for(var B=0;B<M;B=B+3){J=(N[B]<<16)|(N[B+1]<<8)|N[B+2];K=(J&16515072)>>18;I=(J&258048)>>12;H=(J&4032)>>6;F=J&63;D+=G[K]+G[I]+G[H]+G[F]}if(C==1){J=N[M];K=(J&252)>>2;I=(J&3)<<4;D+=G[K]+G[I]+"=="}else{if(C==2){J=(N[M]<<8)|N[M+1];K=(J&64512)>>10;I=(J&1008)>>4;H=(J&15)<<2;D+=G[K]+G[I]+G[H]+"="}}return D};s.createImageInfo=function(I,G,M,L,B,K,D,J,H,F,N,O,C){var E={alias:J,w:G,h:M,cs:L,bpc:B,i:D,data:I};if(K){E.f=K}if(H){E.dp=H}if(F){E.trns=F}if(N){E.pal=N}if(O){E.smask=O}if(C){E.p=C}return E};s.addImage=function(B,J,I,H,K,E,F,N,M){if(typeof J!=="string"){var D=E;E=K;K=H;H=I;I=J;J=D}if(typeof B==="object"&&!l(B)&&"imageData" in B){var P=B;B=P.imageData;J=P.format||J;I=P.x||I||0;H=P.y||H||0;K=P.w||K;E=P.h||E;F=P.alias||F;N=P.compression||N;M=P.rotation||P.angle||M}if(isNaN(I)||isNaN(H)){console.error("jsPDF.addImage: Invalid coordinates",arguments);throw new Error("Invalid coordinates passed to jsPDF.addImage")}var G=g.call(this),C;if(!(C=n(B,G))){var L;if(l(B)){B=A(B,J,M)}if(w(F)){F=r(B)}if(!(C=n(F,G))){if(this.isString(B)){var O=this.extractInfoFromBase64DataURI(B);if(O){J=O[2];B=atob(O[3])}else{if(B.charCodeAt(0)===137&&B.charCodeAt(1)===80&&B.charCodeAt(2)===78&&B.charCodeAt(3)===71){J="png"}}}J=(J||"JPEG").toLowerCase();if(a(J)){throw new Error("addImage currently only supports formats "+b+", not '"+J+"'")}if(j(J)){throw new Error("please ensure that the plugin for '"+J+"' support is added")}if(this.supportsArrayBuffer()){if(!(B instanceof Uint8Array)){L=B;B=this.binaryStringToUint8Array(B)}}C=this["process"+J.toUpperCase()](B,e(G),F,u(N),L);if(!C){throw new Error("An unkwown error occurred whilst processing the image")}}}d.call(this,I,H,K,E,C,C.i,G);return this};var h=function(H){var F,C,G;if(!H.charCodeAt(0)===255||!H.charCodeAt(1)===216||!H.charCodeAt(2)===255||!H.charCodeAt(3)===224||!H.charCodeAt(6)==="J".charCodeAt(0)||!H.charCodeAt(7)==="F".charCodeAt(0)||!H.charCodeAt(8)==="I".charCodeAt(0)||!H.charCodeAt(9)==="F".charCodeAt(0)||!H.charCodeAt(10)===0){throw new Error("getJpegSize requires a binary string jpeg file")}var D=H.charCodeAt(4)*256+H.charCodeAt(5);var E=4,B=H.length;while(E<B){E+=D;if(H.charCodeAt(E)!==255){throw new Error("getJpegSize could not find the size of the image")}if(H.charCodeAt(E+1)===192||H.charCodeAt(E+1)===193||H.charCodeAt(E+1)===194||H.charCodeAt(E+1)===195||H.charCodeAt(E+1)===196||H.charCodeAt(E+1)===197||H.charCodeAt(E+1)===198||H.charCodeAt(E+1)===199){C=H.charCodeAt(E+5)*256+H.charCodeAt(E+6);F=H.charCodeAt(E+7)*256+H.charCodeAt(E+8);G=H.charCodeAt(E+9);return[F,C,G]}else{E+=2;D=H.charCodeAt(E)*256+H.charCodeAt(E+1)}}},t=function(E){var H=(E[0]<<8)|E[1];if(H!==65496){throw new Error("Supplied data is not a JPEG")}var F=E.length,D=(E[4]<<8)+E[5],G=4,J,B,I,C;while(G<F){G+=D;J=m(E,G);D=(J[2]<<8)+J[3];if((J[1]===192||J[1]===194)&&J[0]===255&&D>7){J=m(E,G+5);B=(J[2]<<8)+J[3];I=(J[0]<<8)+J[1];C=J[4];return{width:B,height:I,numcomponents:C}}G+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},m=function(B,C){return B.subarray(C,C+5)};s.processJPEG=function(E,G,F,J,I){var D=this.color_spaces.DEVICE_RGB,C=this.decode.DCT_DECODE,B=8,H;if(this.isString(E)){H=h(E);return this.createImageInfo(E,H[0],H[1],H[3]==1?this.color_spaces.DEVICE_GRAY:D,B,C,G,F)}if(this.isArrayBuffer(E)){E=new Uint8Array(E)}if(this.isArrayBufferView(E)){H=t(E);E=I||this.arrayBufferToBinaryString(E);return this.createImageInfo(E,H.width,H.height,H.numcomponents==1?this.color_spaces.DEVICE_GRAY:D,B,C,G,F)}return null};s.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(jsPDF.API);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||(function(m){if(typeof m==="undefined"||typeof navigator!=="undefined"&&/(msie|trident)/i.test(navigator.userAgent)&&document.documentMode<10){return}var n=m.document,j=function(){return m.URL||m.webkitURL||m},r=n.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download" in r,s=function(w){var u=new MouseEvent("click");w.dispatchEvent(u)},g=/constructor/i.test(m.HTMLElement),t=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(u){(m.setImmediate||m.setTimeout)(function(){throw u},0)},l="application/octet-stream",d=1000*40,q=function(w){var u=function(){if(typeof w==="string"){j().revokeObjectURL(w)}else{w.remove()}};setTimeout(u,d)},k=function(w,u,B){u=[].concat(u);var A=u.length;while(A--){var C=w["on"+u[A]];if(typeof C==="function"){try{C.call(w,B||w)}catch(z){f(z)}}}},c=function(u){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)){return new Blob([String.fromCharCode(65279),u],{type:u.type})}return u},b=function(u,w,z){if(!z){u=c(u)}var B=this,E=u.type,A=E===l,C,D=function(){k(B,"writestart progress write writeend".split(" "))},F=function(){if((t||(A&&g))&&m.FileReader){var G=new FileReader();G.onloadend=function(){var J=t?G.result:G.result.replace(/^data:[^;]*;/,"data:attachment/file;");var I=m.open(J,"_blank");if(!I){m.location.href=J}J=undefined;B.readyState=B.DONE;D()};G.readAsDataURL(u);B.readyState=B.INIT;return}if(!C){C=j().createObjectURL(u)}if(A){m.location.href=C}else{var H=m.open(C,"_blank");if(!H){m.location.href=C}}B.readyState=B.DONE;D();q(C)};B.readyState=B.INIT;if(e){C=j().createObjectURL(u);setTimeout(function(){r.href=C;r.download=w;s(r);D();q(C);B.readyState=B.DONE});return}F()},a=b.prototype,h=function(w,z,u){return new b(w,z||w.name||"download",u)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(w,z,u){z=z||w.name||"download";if(!u){w=c(w)}return navigator.msSaveOrOpenBlob(w,z)}}a.abort=function(){};a.readyState=a.INIT=0;a.WRITING=1;a.DONE=2;a.error=a.onwritestart=a.onprogress=a.onwrite=a.onabort=a.onerror=a.onwriteend=null;return h}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content));if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else{if((typeof define!=="undefined"&&define!==null)&&(define.amd!==null)){define([],function(){return saveAs})}}(function(b){var a;a=(function(){var n,k,f,l,g,m,j,c;d.load=function(q,e,t){var r,s=this;if(typeof e==="function"){t=e}r=new XMLHttpRequest;r.open("GET",q,true);r.responseType="arraybuffer";r.onload=function(){var u,w;u=new Uint8Array(r.response||r.mozResponseArrayBuffer);w=new d(u);if(typeof(e!=null?e.getContext:void 0)==="function"){w.render(e)}return typeof t==="function"?t(w):void 0};return r.send(null)};l=0;f=1;g=2;k=0;n=1;function d(z){var r,e,t,G,B,q,A,C,F,E,D,H,u,s,w;this.data=z;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};q=null;while(true){r=this.readUInt32();E=((function(){var J,I;I=[];for(A=J=0;J<4;A=++J){I.push(String.fromCharCode(this.data[this.pos++]))}return I}).call(this)).join("");switch(E){case"IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case"PLTE":this.palette=this.read(r);break;case"fcTL":if(q){this.animation.frames.push(q)}this.pos+=4;q={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};B=this.readUInt16();G=this.readUInt16()||100;q.delay=1000*B/G;q.disposeOp=this.data[this.pos++];q.blendOp=this.data[this.pos++];q.data=[];break;case"IDAT":case"fdAT":if(E==="fdAT"){this.pos+=4;r-=4}z=(q!=null?q.data:void 0)||this.imgData;for(A=u=0;0<=r?u<r:u>r;A=0<=r?++u:--u){z.push(this.data[this.pos++])}break;case"tRNS":this.transparency={};switch(this.colorType){case 3:t=this.palette.length/3;this.transparency.indexed=this.read(r);if(this.transparency.indexed.length>t){throw new Error("More transparent colors than palette size")}D=t-this.transparency.indexed.length;if(D>0){for(A=s=0;0<=D?s<D:s>D;A=0<=D?++s:--s){this.transparency.indexed.push(255)}}break;case 0:this.transparency.grayscale=this.read(r)[0];break;case 2:this.transparency.rgb=this.read(r)}break;case"tEXt":H=this.read(r);C=H.indexOf(0);F=String.fromCharCode.apply(String,H.slice(0,C));this.text[F]=String.fromCharCode.apply(String,H.slice(C+1));break;case"IEND":if(q){this.animation.frames.push(q)}this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this);this.hasAlphaChannel=(w=this.colorType)===4||w===6;e=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*e;this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this);this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=r}this.pos+=4;if(this.pos>this.data.length){throw new Error("Incomplete or corrupt PNG file")}}return}d.prototype.read=function(q){var r,s,e;e=[];for(r=s=0;0<=q?s<q:s>q;r=0<=q?++s:--s){e.push(this.data[this.pos++])}return e};d.prototype.readUInt32=function(){var s,r,q,e;s=this.data[this.pos++]<<24;r=this.data[this.pos++]<<16;q=this.data[this.pos++]<<8;e=this.data[this.pos++];return s|r|q|e};d.prototype.readUInt16=function(){var q,e;q=this.data[this.pos++]<<8;e=this.data[this.pos++];return q|e};d.prototype.decodePixels=function(P){var K,O,D,L,C,B,I,u,J,s,q,G,H,E,F,N,M,z,A,w,t,r,e;if(P==null){P=this.imgData}if(P.length===0){return new Uint8Array(0)}P=new FlateStream(P);P=P.getBytes();G=this.pixelBitlength/8;N=G*this.width;H=new Uint8Array(N*this.height);B=P.length;F=0;E=0;O=0;while(E<B){switch(P[E++]){case 0:for(L=A=0;A<N;L=A+=1){H[O++]=P[E++]}break;case 1:for(L=w=0;w<N;L=w+=1){K=P[E++];C=L<G?0:H[O-G];H[O++]=(K+C)%256}break;case 2:for(L=t=0;t<N;L=t+=1){K=P[E++];D=(L-(L%G))/G;M=F&&H[(F-1)*N+D*G+(L%G)];H[O++]=(M+K)%256}break;case 3:for(L=r=0;r<N;L=r+=1){K=P[E++];D=(L-(L%G))/G;C=L<G?0:H[O-G];M=F&&H[(F-1)*N+D*G+(L%G)];H[O++]=(K+Math.floor((C+M)/2))%256}break;case 4:for(L=e=0;e<N;L=e+=1){K=P[E++];D=(L-(L%G))/G;C=L<G?0:H[O-G];if(F===0){M=z=0}else{M=H[(F-1)*N+D*G+(L%G)];z=D&&H[(F-1)*N+(D-1)*G+(L%G)]}I=C+M-z;u=Math.abs(I-C);s=Math.abs(I-M);q=Math.abs(I-z);if(u<=s&&u<=q){J=C}else{if(s<=q){J=M}else{J=z}}H[O++]=(K+J)%256}break;default:throw new Error("Invalid filter algorithm: "+P[E-1])}F++}return H};d.prototype.decodePalette=function(){var A,w,e,q,B,z,r,t,u,s;q=this.palette;r=this.transparency.indexed||[];z=new Uint8Array((r.length||0)+q.length);B=0;e=q.length;A=0;for(w=t=0,u=q.length;t<u;w=t+=3){z[B++]=q[w];z[B++]=q[w+1];z[B++]=q[w+2];z[B++]=(s=r[A++])!=null?s:255}return z};d.prototype.copyToImageData=function(e,t){var w,q,B,C,D,z,u,r,s,E,A;q=this.colors;s=null;w=this.hasAlphaChannel;if(this.palette.length){s=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette();q=4;w=true}B=e.data||e;r=B.length;D=s||t;C=z=0;if(q===1){while(C<r){u=s?t[C/4]*4:z;E=D[u++];B[C++]=E;B[C++]=E;B[C++]=E;B[C++]=w?D[u++]:255;z=u}}else{while(C<r){u=s?t[C/4]*4:z;B[C++]=D[u++];B[C++]=D[u++];B[C++]=D[u++];B[C++]=w?D[u++]:255;z=u}}};d.prototype.decode=function(){var e;e=new Uint8Array(this.width*this.height*4);this.copyToImageData(e,this.decodePixels());return e};try{j=b.document.createElement("canvas");c=j.getContext("2d")}catch(h){return -1}m=function(q){var e;c.width=q.width;c.height=q.height;c.clearRect(0,0,q.width,q.height);c.putImageData(q,0,0);e=new Image;e.src=j.toDataURL();return e};d.prototype.decodeFrames=function(A){var q,w,e,r,t,z,u,s;if(!this.animation){return}u=this.animation.frames;s=[];for(w=t=0,z=u.length;t<z;w=++t){q=u[w];e=A.createImageData(q.width,q.height);r=this.decodePixels(new Uint8Array(q.data));this.copyToImageData(e,r);q.imageData=e;s.push(q.image=m(e))}return s};d.prototype.renderFrame=function(e,r){var t,s,q;s=this.animation.frames;t=s[r];q=s[r-1];if(r===0){e.clearRect(0,0,this.width,this.height)}if((q!=null?q.disposeOp:void 0)===f){e.clearRect(q.xOffset,q.yOffset,q.width,q.height)}else{if((q!=null?q.disposeOp:void 0)===g){e.putImageData(q.imageData,q.xOffset,q.yOffset)}}if(t.blendOp===k){e.clearRect(t.xOffset,t.yOffset,t.width,t.height)}return e.drawImage(t.image,t.xOffset,t.yOffset)};d.prototype.animate=function(r){var q,w,u,t,e,s,z=this;w=0;s=this.animation,t=s.numFrames,u=s.frames,e=s.numPlays;return(q=function(){var A,B;A=w++%t;B=u[A];z.renderFrame(r,A);if(t>1&&w/t<e){return z.animation._timeout=setTimeout(q,B.delay)}})()};d.prototype.stopAnimation=function(){var e;return clearTimeout((e=this.animation)!=null?e._timeout:void 0)};d.prototype.render=function(q){var e,r;if(q._png){q._png.stopAnimation()}q._png=this;q.width=this.width;q.height=this.height;e=q.getContext("2d");if(this.animation){this.decodeFrames(e);return this.animate(e)}else{r=e.createImageData(this.width,this.height);this.copyToImageData(r,this.decodePixels());return e.putImageData(r,0,0)}};return d})();b.PNG=a})(typeof window!=="undefined"&&window||this);(function(m){var g=function(){return typeof PNG!=="function"||typeof FlateStream!=="function"},u=function(z){return z!==m.image_compression.NONE&&t()},t=function(){var z=typeof Deflater==="function";if(!z){throw new Error("requires deflate.js for compression")}return z},d=function(L,B,z,K){var A=5,D=j;switch(K){case m.image_compression.FAST:A=3;D=f;break;case m.image_compression.MEDIUM:A=6;D=a;break;case m.image_compression.SLOW:A=9;D=s;break}L=q(L,B,z,D);var F=new Uint8Array(n(A));var I=w(L);var E=new Deflater(A);var J=E.append(L);var C=E.flush();var H=F.length+J.length+C.length;var G=new Uint8Array(H+4);G.set(F);G.set(J,F.length);G.set(C,F.length+J.length);G[H++]=(I>>>24)&255;G[H++]=(I>>>16)&255;G[H++]=(I>>>8)&255;G[H++]=I&255;return m.arrayBufferToBinaryString(G)},n=function(A,F){var z=8;var C=Math.LOG2E*Math.log(32768)-8;var B=(C<<4)|z;var E=B<<8;var D=Math.min(3,((F-1)&255)>>1);E|=(D<<6);E|=0;E+=31-(E%31);return[B,(E&255)&255]},w=function(G,F){var B=1;var E=B&65535,A=(B>>>16)&65535;var z=G.length;var D;var C=0;while(z>0){D=z>F?F:z;z-=D;do{E+=G[C++];A+=E}while(--D);E%=65521;A%=65521}return((A<<16)|E)>>>0},q=function(L,A,z,C){var M=L.length/A,N=new Uint8Array(L.length+M),D=e(),H=0,K,J,F;for(;H<M;H++){F=H*A;K=L.subarray(F,F+A);if(C){N.set(C(K,z,J),F+H)}else{var E=0,I=D.length,G=[];for(;E<I;E++){G[E]=D[E](K,z,J)}var B=b(G.concat());N.set(G[B],F+H)}J=K}return N},c=function(A,C,B){var z=Array.apply([],A);z.unshift(0);return z},f=function(B,F,D){var A=[],C=0,z=B.length,E;A[0]=1;for(;C<z;C++){E=B[C-F]||0;A[C+1]=(B[C]-E+256)&255}return A},j=function(C,F,E){var B=[],D=0,A=C.length,z;B[0]=2;for(;D<A;D++){z=E&&E[D]||0;B[D+1]=(C[D]-z+256)&255}return B},a=function(C,G,E){var B=[],D=0,A=C.length,F,z;B[0]=3;for(;D<A;D++){F=C[D-G]||0;z=E&&E[D]||0;B[D+1]=(C[D]+256-((F+z)>>>1))&255}return B},s=function(H,A,G){var I=[],C=0,E=H.length,B,D,F,z;I[0]=4;for(;C<E;C++){B=H[C-A]||0;D=G&&G[C]||0;F=G&&G[C-A]||0;z=l(B,D,F);I[C+1]=(H[C]-z+256)&255}return I},l=function(F,z,A){var E=F+z-A,C=Math.abs(E-F),B=Math.abs(E-z),D=Math.abs(E-A);return(C<=B&&C<=D)?F:(B<=D)?z:A},e=function(){return[c,f,j,a,s]},b=function(E){var B=0,z=E.length,C,A,D;while(B<z){C=r(E[B].slice(1));if(C<A||!A){A=C;D=B}B++}return D},r=function(C){var A=0,z=C.length,B=0;while(A<z){B+=Math.abs(C[A++])}return B},k=function(A){var z;switch(A){case m.image_compression.FAST:z=11;break;case m.image_compression.MEDIUM:z=13;break;case m.image_compression.SLOW:z=14;break;default:z=12;break}return z},h=function(z){console.log("width: "+z.width);console.log("height: "+z.height);console.log("bits: "+z.bits);console.log("colorType: "+z.colorType);console.log("transparency:");console.log(z.transparency);console.log("text:");console.log(z.text);console.log("compressionMethod: "+z.compressionMethod);console.log("filterMethod: "+z.filterMethod);console.log("interlaceMethod: "+z.interlaceMethod);console.log("imgData:");console.log(z.imgData);console.log("palette:");console.log(z.palette);console.log("colors: "+z.colors);console.log("colorSpace: "+z.colorSpace);console.log("pixelBitlength: "+z.pixelBitlength);console.log("hasAlphaChannel: "+z.hasAlphaChannel)};m.processPNG=function(U,A,J,Z,B){var S=this.color_spaces.DEVICE_RGB,I=this.decode.FLATE_DECODE,E=8,ab,N,F,G,O,P;if(this.isArrayBuffer(U)){U=new Uint8Array(U)}if(this.isArrayBufferView(U)){if(g()){throw new Error("PNG support requires png.js and zlib.js")}ab=new PNG(U);U=ab.imgData;E=ab.bits;S=ab.colorSpace;G=ab.colors;if([4,6].indexOf(ab.colorType)!==-1){if(ab.bits===8){var K=ab.pixelBitlength==32?new Uint32Array(ab.decodePixels().buffer):ab.pixelBitlength==16?new Uint16Array(ab.decodePixels().buffer):new Uint8Array(ab.decodePixels().buffer),T=K.length,W=new Uint8Array(T*ab.colors),M=new Uint8Array(T),V=ab.pixelBitlength-ab.bits,Q=0,L=0,D,z;for(;Q<T;Q++){D=K[Q];z=0;while(z<V){W[L++]=(D>>>z)&255;z=z+ab.bits}M[Q]=(D>>>z)&255}}if(ab.bits===16){var K=new Uint32Array(ab.decodePixels().buffer),T=K.length,W=new Uint8Array((T*(32/ab.pixelBitlength))*ab.colors),M=new Uint8Array(T*(32/ab.pixelBitlength)),X=ab.colors>1,Q=0,L=0,Y=0,D;while(Q<T){D=K[Q++];W[L++]=(D>>>0)&255;if(X){W[L++]=(D>>>16)&255;D=K[Q++];W[L++]=(D>>>0)&255}M[Y++]=(D>>>16)&255}E=8}if(u(Z)){U=d(W,ab.width*ab.colors,ab.colors,Z);P=d(M,ab.width,1,Z)}else{U=W;P=M;I=null}}if(ab.colorType===3){S=this.color_spaces.INDEXED;O=ab.palette;if(ab.transparency.indexed){var C=ab.transparency.indexed;var aa=0,Q=0,T=C.length;for(;Q<T;++Q){aa+=C[Q]}aa=aa/255;if(aa===T-1&&C.indexOf(0)!==-1){F=[C.indexOf(0)]}else{if(aa!==T){var K=ab.decodePixels(),M=new Uint8Array(K.length),Q=0,T=K.length;for(;Q<T;Q++){M[Q]=C[K[Q]]}P=d(M,ab.width,1)}}}}var H=k(Z);if(I===this.decode.FLATE_DECODE){N="/Predictor "+H+" /Colors "+G+" /BitsPerComponent "+E+" /Columns "+ab.width}else{N="/Colors "+G+" /BitsPerComponent "+E+" /Columns "+ab.width}if(this.isArrayBuffer(U)||this.isArrayBufferView(U)){U=this.arrayBufferToBinaryString(U)}if(P&&this.isArrayBuffer(P)||this.isArrayBufferView(P)){P=this.arrayBufferToBinaryString(P)}return this.createImageInfo(U,ab.width,ab.height,S,E,I,A,J,N,F,O,P,H)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}})(jsPDF.API);var DecodeStream=(function(){function b(){this.pos=0;this.bufferLength=0;this.eof=false;this.buffer=null}b.prototype={ensureBuffer:function h(r){var l=this.buffer;var q=l?l.byteLength:0;if(r<q){return l}var n=512;while(n<r){n<<=1}var k=new Uint8Array(n);for(var m=0;m<q;++m){k[m]=l[m]}return this.buffer=k},getByte:function a(){var k=this.pos;while(this.bufferLength<=k){if(this.eof){return null}this.readBlock()}return this.buffer[this.pos++]},getBytes:function j(m){var n=this.pos;if(m){this.ensureBuffer(n+m);var l=n+m;while(!this.eof&&this.bufferLength<l){this.readBlock()}var k=this.bufferLength;if(l>k){l=k}}else{while(!this.eof){this.readBlock()}var l=this.bufferLength}this.pos=l;return this.buffer.subarray(n,l)},lookChar:function f(){var k=this.pos;while(this.bufferLength<=k){if(this.eof){return null}this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function c(){var k=this.pos;while(this.bufferLength<=k){if(this.eof){return null}this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function e(n,l,m){var k=n+l;while(this.bufferLength<=k&&!this.eof){this.readBlock()}return new Stream(this.buffer,n,l,m)},skip:function d(k){if(!k){k=1}this.pos+=k},reset:function g(){this.pos=0}};return b})();var FlateStream=(function(){if(typeof Uint32Array==="undefined"){return undefined}var g=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var b=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]);var d=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]);var a=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,590000,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9];var f=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function c(h){throw new Error(h)}function e(j){var l=0;var k=j[l++];var h=j[l++];if(k==-1||h==-1){c("Invalid header in flate stream")}if((k&15)!=8){c("Unknown compression method in flate stream")}if((((k<<8)+h)%31)!=0){c("Bad FCHECK in flate stream")}if(h&32){c("FDICT bit set in flate stream")}this.bytes=j;this.bytesPos=l;this.codeSize=0;this.codeBuf=0;DecodeStream.call(this)}e.prototype=Object.create(DecodeStream.prototype);e.prototype.getBits=function(m){var k=this.codeSize;var l=this.codeBuf;var j=this.bytes;var n=this.bytesPos;var h;while(k<m){if(typeof(h=j[n++])=="undefined"){c("Bad encoding in flate stream")}l|=h<<k;k+=8}h=l&((1<<m)-1);this.codeBuf=l>>m;this.codeSize=k-=m;this.bytesPos=n;return h};e.prototype.getCode=function(r){var h=r[0];var k=r[1];var m=this.codeSize;var s=this.codeBuf;var u=this.bytes;var n=this.bytesPos;while(m<k){var q;if(typeof(q=u[n++])=="undefined"){c("Bad encoding in flate stream")}s|=(q<<m);m+=8}var j=h[s&((1<<k)-1)];var l=j>>16;var t=j&65535;if(m==0||m<l||l==0){c("Bad encoding in flate stream")}this.codeBuf=(s>>l);this.codeSize=(m-l);this.bytesPos=n;return t};e.prototype.generateHuffmanTable=function(m){var l=m.length;var q=0;for(var r=0;r<l;++r){if(m[r]>q){q=m[r]}}var A=1<<q;var h=new Uint32Array(A);for(var s=1,j=0,w=2;s<=q;++s,j<<=1,w<<=1){for(var k=0;k<l;++k){if(m[k]==s){var u=0;var z=j;for(var r=0;r<s;++r){u=(u<<1)|(z&1);z>>=1}for(var r=u;r<A;r+=w){h[r]=(s<<16)|k}++j}}}return[h,q]};e.prototype.readBlock=function(){function B(V,W,k,U,T){var n=V.getBits(k)+U;while(n-->0){W[K++]=T}}var l=this.getBits(3);if(l&1){this.eof=true}l>>=1;if(l==0){var E=this.bytes;var A=this.bytesPos;var Q;if(typeof(Q=E[A++])=="undefined"){c("Bad block header in flate stream")}var H=Q;if(typeof(Q=E[A++])=="undefined"){c("Bad block header in flate stream")}H|=(Q<<8);if(typeof(Q=E[A++])=="undefined"){c("Bad block header in flate stream")}var P=Q;if(typeof(Q=E[A++])=="undefined"){c("Bad block header in flate stream")}P|=(Q<<8);if(P!=(~H&65535)){c("Bad uncompressed block length in flate stream")}this.codeBuf=0;this.codeSize=0;var t=this.bufferLength;var J=this.ensureBuffer(t+H);var m=t+H;this.bufferLength=m;for(var G=t;G<m;++G){if(typeof(Q=E[A++])=="undefined"){this.eof=true;break}J[G]=Q}this.bytesPos=A;return}var w;var z;if(l==1){w=a;z=f}else{if(l==2){var S=this.getBits(5)+257;var C=this.getBits(5)+1;var h=this.getBits(4)+4;var q=Array(g.length);var K=0;while(K<h){q[g[K++]]=this.getBits(3)}var D=this.generateHuffmanTable(q);var L=0;var K=0;var O=S+C;var M=new Array(O);while(K<O){var j=this.getCode(D);if(j==16){B(this,M,2,3,L)}else{if(j==17){B(this,M,3,3,L=0)}else{if(j==18){B(this,M,7,11,L=0)}else{M[K++]=L=j}}}}w=this.generateHuffmanTable(M.slice(0,S));z=this.generateHuffmanTable(M.slice(S,O))}else{c("Unknown block type in flate stream")}}var J=this.buffer;var N=J?J.length:0;var u=this.bufferLength;while(true){var s=this.getCode(w);if(s<256){if(u+1>=N){J=this.ensureBuffer(u+1);N=J.length}J[u++]=s;continue}if(s==256){this.bufferLength=u;return}s-=257;s=b[s];var r=s>>16;if(r>0){r=this.getBits(r)}var L=(s&65535)+r;s=this.getCode(z);s=d[s];r=s>>16;if(r>0){r=this.getBits(r)}var F=(s&65535)+r;if(u+L>=N){J=this.ensureBuffer(u+L);N=J.length}for(var I=0;I<L;++I,++u){J[u]=J[u-F]}}};return e})();(function(C){var D=0,B=1,A=2,l=3,h=4;var L=function(P,S,Q){var N=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(P);if(P==="none"){return[0,0,0,0]}if(N===null){throw Error("[Crownix Viewer] Invalid Color Value("+P+")")}if(typeof S!=="number"){S=0}if(typeof Q!=="number"){Q=1}var O=[parseInt(N[1],16)+S,parseInt(N[2],16)+S,parseInt(N[3],16)+S];if(Q!=1){O.push(Q)}return O};var M=function(N){var O=L(N);this.setFillColor(O[0],O[1],O[2])};var j=function(N){var P=[2,2];var S=[2,2];var O=[10,2,2,2];var Q=[10,2,2,2,2,2];if(N==B){return P}else{if(N==A){return S}else{if(N==l){return O}else{if(N==h){return Q}else{return null}}}}};var u=function(ab,aa,Z,X,N,T){var U=ab,P=aa,ac=0,S=true,V=0,O=Math.atan2(X-aa,Z-ab),Y=j(T);this.setLineCap("round");if(!Y){this.line(ab,aa,Z,X);return}var W=ab<Z;var Q=aa<X;while((W?Z>U:Z<U)||(Q?X>P:X<P)){V=Y[ac]*N;U=W?Math.min(U+(Math.cos(O)*V),Z):Math.max(U+(Math.cos(O)*V),Z);P=Q?Math.min(P+(Math.sin(O)*V),X):Math.max(P+(Math.sin(O)*V),X);if(S){this.line(ab,aa,U,P)}else{ab=U;aa=P}ac=(ac+1)%Y.length;S=!S}};var e=function(X,W,V,U,S,Y){if(!S.ap||S.ap==0){return}var Q=parseInt(S.ap),N=S.at,P=S.as,O=S.wd;if(Q===0){return}if(S.lc){M.call(this,S.lc)}var T=Y?Y:[U,V,W,X];if(Q===1||Q===3||Q===4||Q===6||Q===7||Q===9){k.call(this,X,W,Math.atan2(W-T[0],X-T[1])+Math.PI,O,Q,N,P)}if(Q===2||Q===3||Q===5||Q===6||Q===8||Q===9){k.call(this,V,U,Math.atan2(U-T[2],V-T[3])+Math.PI,O,Q,N,P)}};var k=function(Z,Y,Q,O,U,N,T){var W=(1+O/5)*8*T,V=N==1?W/Math.sqrt(3):W/3;if(O==0||U==0){return}if(U==1||U==2||U==3){this.setLineCap("round");var X=H(Z,Y,Z+W,Y-V,-Q);this.line(X[0],X[1],Z,Y);X=H(Z,Y,Z+W,Y+V,-Q);this.line(Z,Y,X[0],X[1])}else{var S=H(Z,Y,Z+W,Y-V,-Q);var P=H(Z,Y,Z+W,Y+V,-Q);if(U==4||U==5||U==6){this.setFillColor(255,255,255)}this.triangle(S[0],S[1],Z,Y,P[0],P[1],"FD")}};var H=function(P,N,V,U,O){var W=Math.cos(O),T=Math.sin(O),S=(W*(V-P))+(T*(U-N))+P,Q=(W*(U-N))-(T*(V-P))+N;return[S,Q]};var F=function(V,U,T,Q,O,N,S,P){this.setLineCap("round");this.lines([[O-V,N-U,S-V,P-U,T-V,Q-U]],V,U,[1,1],"S",false)};var g=function(S,Q,O){this.setLineCap("round");for(var P=1,N=S.length;P<N;P++){u.call(this,S[P-1][0],S[P-1][1],S[P][0],S[P][1],Q,O)}};var E=function(Q){this.setLineCap("round");var S=[],O=[],U,T;t(Q[0][0],Q[0][1]);for(var P=0,N=Q.length-1;P<N;P++){U=Q[P];T=Q[P+1];O[0]=(U[0]+T[0])/2;O[1]=(U[1]+T[1])/2;if(P==0){S.push(q(O[0],O[1]))}else{S.push(w(U[0],U[1],O[0],O[1]))}if(P==N-1){S.push(q(T[0],T[1]))}}this.lines(S,Q[0][0],Q[0][1],[1,1],"S",false)};var K;var J;var c=function(P,N,O){return[P+(2/3*(O-P)),N+(2/3*(O-N))]};var q=function(P,O){var N=[P-K,O-J];t(P,O);return N};var w=function(Q,O,S,P){var U=c(K,S,Q);var T=c(J,P,O);var N=[U[0]-K,T[0]-J,U[1]-K,T[1]-J,S-K,P-J];t(S,P);return N};var z=function(S,U,P,T,Q,O){var N=[S-K,U-J,P-K,T-J,Q-K,O-J];t(Q,O);return N};var t=function(O,N){K=O;J=N};var b=function(U,T,V,Q,P,O){this.setLineWidth(0.5);var N=function(){for(var Z=1;Z<Q;Z+=8){u.call(this,U,T+Z,U+V,T+Z,1)}};var Y=function(){for(var Z=1;Z<V;Z+=8){u.call(this,U+Z,T,U+Z,T+Q,1)}};var X=function(){var aa=1,Z=0,ab=0;while(true){if(aa>V){ab=aa-V}if(aa>Q){Z=aa-Q}if(Z>V&&ab>Q){break}u.call(this,aa>V?U+V:U+aa,T+ab,U+Z,aa>Q?T+Q:T+aa,1);aa+=8}};var W=function(){var aa=1,Z=0,ab=0;while(true){if(aa>V){ab=aa-V}if(aa>Q){Z=aa-Q}if(Z>V&&ab>Q){break}u.call(this,aa>V?U+V:U+aa,T+Q-ab,U+Z,aa>Q?T:T+Q-aa,1);aa+=8}};var S=function(ac,ab){if(!ab){ab=1}for(var aa=0;aa<Q;aa+=ac){for(var Z=0;Z<V;Z+=ac*ab){u.call(this,U+Z,T+aa,U+Z+0.4,T+aa+0.4,1)}}};switch(O){case"1":N.call(this);break;case"2":Y.call(this);break;case"3":X.call(this);break;case"4":W.call(this);break;case"5":N.call(this);Y.call(this);break;case"6":X.call(this);W.call(this);break;case"7":S.call(this,8);break;case"8":S.call(this,4);break;case"9":S.call(this,2,3);break;case"10":S.call(this,2);break}this.setLineWidth(P)};var d=function(V,U,Q,P,O,T){var N=Q-V,S=P-U;this.setAlpha(T.al);this.rect(V,U,N,S,"F");if(T.pt!==0){b.call(this,V<Q?V:Q,U<P?U:P,Math.abs(N),Math.abs(S),O.wd,T.pt)}this.setAlpha();this.setAlpha(O.al);this.drawLine(V,U,V+N,U,O);this.drawLine(V,U,V,U+S,O);this.drawLine(V+N,U,V+N,U+S,O);this.drawLine(V,U+S,V+N,U+S,O);this.setAlpha()};var n=function(W,U,T,S,P,X,Y){var Q=[],V=Y.width,N=Y.height,O=Y.point;t(W,U+N);Q.push(q(W,S-N));if(O){if(O&4){Q.push(w(W,S,W+V,S))}else{Q.push(q(W,S))}Q.push(q(T-V,S));if(O&8){Q.push(w(T,S,T,S-N))}else{Q.push(q(T,S))}Q.push(q(T,U+N));if(O&2){Q.push(w(T,U,T-V,U))}else{Q.push(q(T,U))}Q.push(q(W+V,U));if(O&1){Q.push(w(W,U,W,U+N))}else{Q.push(q(W,U))}}else{Q.push(w(W,S,W+V,S));Q.push(q(T-V,S));Q.push(w(T,S,T,S-N));Q.push(q(T,U+N));Q.push(w(T,U,T-V,U));Q.push(q(W+V,U));Q.push(w(W,U,W,U+N))}if(P.wd){this.setLineDash(j(P.st),P.wd);this.lines(Q,W,U+N,[1,1],"S",true)}};var f=function(Q){var T,S,P,O;T=P=Q[0][0];S=O=Q[0][1];for(var N=1;N<Q.length;N++){if(Q[N][0]<T){T=Q[N][0]}if(Q[N][0]>P){P=Q[N][0]}if(Q[N][1]<S){S=Q[N][1]}if(Q[N][1]>O){O=Q[N][1]}}return{sx:T,sy:S,ex:P,ey:O}};var s=function(S,O,Q){var T=[],U=f(S);t(S[0][0],S[0][1]);for(var P=1,N=S.length;P<N;P++){T.push(q(S[P][0],S[P][1]))}if(O.wd){this.setLineDash(j(O.st),O.wd);this.lines(T,S[0][0],S[0][1],[1,1],"S",true)}};var r=function(X,W,V,U,T,Y){var P=V-X,Z=U-W,S=X+(P/2),Q=W+(Z/2),O=P/2,N=Z/2;if(T.wd){this.setLineDash(j(T.st),T.wd);this.ellipse(S,Q,O,N,"D")}};var G=function(U,T,P,O,N,Q){var S=[];t((U+P)/2,T);S.push(q(P,(T+O)/2));S.push(q((U+P)/2,O));S.push(q(U,(T+O)/2));S.push(q((U+P)/2,T));if(N.wd){this.setLineDash(j(N.st),N.wd);this.lines(S,(U+P)/2,T,[1,1],"S",true)}};var m=function(Y,W,T,Q,N,O,Z){N=Y+N;var P=[],X=[Y,Q],V=[T+Y-N,Q],U=[T,W],S=[N,W];t(X[0],X[1]);P.push(q(V[0],V[1]));P.push(q(U[0],U[1]));P.push(q(S[0],S[1]));P.push(q(X[0],X[1]));if(O.wd){this.setLineDash(j(O.st),O.wd);this.lines(P,X[0],X[1],[1,1],"S",true)}};var a=function(ab,Z,W,U,O,N,P,ac){var Q=[];O=ab+O;N=Z+N;var aa=[ab,U];var Y=[ab,N];var X=[ab+W-O,Z];var V=[W,Z];var T=[W,U+Z-N];var S=[O,U];t(aa[0],aa[1]);Q.push(q(Y[0],Y[1]));Q.push(q(X[0],X[1]));Q.push(q(V[0],V[1]));Q.push(q(T[0],T[1]));Q.push(q(S[0],S[1]));Q.push(q(aa[0],aa[1]));if(P.wd){this.setLineDash(j(P.st),P.wd);this.lines(Q,aa[0],aa[1],[1,1],"S",true)}this.line(S[0],S[1],O,N);this.line(O,N,V[0],V[1]);this.line(O,N,Y[0],Y[1])};var I=function(W,U,S,Q,T,O,Y){var N=S-W,X=Q-U,V=(X-T)/2,P=[];t(W,U+V);P.push(z(W,U-V/3,S,U-V/3,S,U+V));P.push(q(S,Q-V));P.push(z(S,Q+V/3,W,Q+V/3,W,Q-V));P.push(q(W,U+V));P.push(z(W,U+7*V/3,S,U+7*V/3,S,U+V));if(O.wd){this.setLineDash(j(O.st),O.wd);this.lines(P,W,U+V,[1,1],"S",false)}};C.pushGraphicsState=function(){this.internal.out("q")};C.restoreGraphicsState=function(){this.internal.out("Q")};C.setAlpha=function(O){var N=this.internal.out;if(0<Number(O)&&Number(O)<1){O="0.5"}if(O==="0.5"){N("/GS1 gs")}else{if(O==="0"){N("/GS2 gs")}else{N("/GS0 gs")}}};C.drawLine=function(S,Q,P,O,N){if(N.wd==0){return}u.call(this,S,Q,P,O,N.wd,N.st);e.call(this,S,Q,P,O,N)};C.drawCurve=function(U,T,S,Q,O,N,W,V,P){if(P.wd==0){return}F.call(this,U,T,S,Q,O,N,W,V);e.call(this,U,T,S,Q,P,[N,O,V,W])};C.drawPolyLine=function(O,N){if(N.wd==0){return}g.call(this,O,N.wd,N.st);e.call(this,O[0][0],O[0][1],O[O.length-1][0],O[O.length-1][1],N,[O[1][1],O[1][0],O[O.length-2][1],O[O.length-2][0]])};C.drawScribble=function(O,N){if(N.wd==0){return}E.call(this,O)};C.drawRect=function(T,S,P,O,N,Q){d.call(this,T,S,P,O,N,Q)};C.drawRoundRect=function(U,T,P,O,N,S,Q){n.call(this,U,T,P,O,N,S,Q)};C.drawPolygon=function(P,N,O){s.call(this,P,N,O)};C.drawEllipse=function(T,S,P,O,N,Q){r.call(this,T,S,P,O,N,Q)};C.drawDiamond=function(T,S,P,O,N,Q){G.call(this,T,S,P,O,N,Q)};C.drawParallelogram=function(U,T,Q,P,N,O,S){m.call(this,U,T,Q,P,N,O,S)};C.drawHexahedron=function(V,T,Q,P,N,U,O,S){a.call(this,V,T,Q,P,N,U,O,S)};C.drawCylinder=function(U,T,P,O,S,N,Q){I.call(this,U,T,P,O,S,N,Q)}})(jsPDF.API);(function(f){var b=["normal","bold","italic","bolditalic"];var a=31;var c=function(n,k){var q=n[k].fontDescriptor.fontWidth,l=[];q=q.trim();q=q.substring(1,q.length-1);q=q.split(" ");var r=0;while(true){if(q[r]===""){r++;continue}if(q.length<=r){break}if(q[r].indexOf("[")>=0||q[r+1].indexOf("[")>=0||q[r+2].indexOf("[")>=0){var m=parseInt(q[r++]);while(q[r]!=="]"){l[m++]=parseInt(q[r++].match(/\d+/g))}r++}else{var m=parseInt(q[r]);var h=parseInt(q[r+1]);var g=parseInt(q[r+2]);for(var j=m;j<=h;j++){l[j]=g}r+=3}}return l};var e=function(q,n,l,k,g,j){var h=$("<canvas>")[0];h.width=l-q;h.height=k-n;canvg(h,g,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true});var m=h.toDataURL("image/png");this.addImage(m,"png",q,n,h.width,h.height)};var d=function(k,j,u){var s=this.internal.addFont,m=this.internal.addDefaultFont,t=this.getFontList(),r={},h=false;for(var w in k){if(!t[k[w].familyname]){var q;if(j){var g=Object.keys(r).map(function(z){return r[z]});if(g.indexOf(k[w].familyname)>=0){continue}q=s(k[w].postScriptName,k[w].familyname,"normal","Identity-H",undefined,k[w].data,k[w].usedChars)}else{for(var n=0;n<4;n++){k[w].style=n;var l=s(k[w].postScriptName,k[w].familyname,b[n],u,$.extend(true,{},k[w]));if(n==0){q=l}}}if(q==null){h=true;continue}r[k[w].name]=k[w].familyname;if(k[w].defaultPriority>0){m(q,k[w].defaultPriority)}}}this.setFontNameTable(r);if(h){return false}return true};f.setFont=function(k,l){var m=this.internal.setActiveFontKey,j=this.internal.getFont,g=this.internal.getFontName,h=this.internal.clearWidthArr;k=g(k,l);m(j(k,l).id);h();return this};f.setFontStyle=f.setFontType=function(h){var l=this.internal.getFonts(),k=this.internal.setActiveFontKey,j=this.internal.getFont,g=this.internal.clearWidthArr;k(j(undefined,h).id);g();return this};f.setFontNameTable=function(j){var h=this.internal.getFontNameTable,k=this.internal.setFontNameTable;var g={},l=[h(),j];l.forEach(function(m){for(var n in m){g[n]=m[n]}});k(g)};f.isExistFont=function(g){if(this.internal.getFontNameTable()[g]){return true}else{return false}};f.measureText=function(k,j){var h=$("<canvas>")[0].getContext("2d");if(typeof j==="object"){var g=[j.fontStyle,j.fontWeight,j.fontSize,j.fontFamily];h.font=g.join(" ")}return h.measureText(k).width};f.addFont=function(g,h,j){return d.call(this,g,h,j)};f.drawSVG=function(m,l,k,j,g,h){e.call(this,m,l,k,j,g,h)};f.setDefaultFont=function(){var l=this.internal.getDefaultFontList(),k=this.internal.getFonts(),j,h;for(var g in l){j=l[g];break}if(j){h=k[j].fontName}this.setFont(h,"normal")}})(jsPDF.API);(function(a){a.autoPrint=function(){var b;this.internal.events.subscribe("postPutResources",function(){b=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+b+" 0 R")});return this}})(jsPDF.API);
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(a){a.URL=a.URL||a.webkitURL;if(a.Blob&&a.URL){try{new Blob;return}catch(d){}}var c=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||(function(s){var g=function(F){return Object.prototype.toString.call(F).match(/^\[object\s(.*)\]$/)[1]},E=function n(){this.data=[]},C=function j(H,F,G){this.data=H;this.size=H.length;this.type=F;this.encoding=G},t=E.prototype,B=C.prototype,w=s.FileReaderSync,e=function(F){this.code=this[this.name=F]},u=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),A=u.length,m=s.URL||s.webkitURL||s,z=m.createObjectURL,f=m.revokeObjectURL,l=m,r=s.btoa,k=s.atob,h=s.ArrayBuffer,q=s.Uint8Array,D=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;C.fake=B.fake=true;while(A--){e.prototype[u[A]]=A+1}if(!m.createObjectURL){l=s.URL=function(G){var F=document.createElementNS("http://www.w3.org/1999/xhtml","a"),H;F.href=G;if(!("origin" in F)){if(F.protocol.toLowerCase()==="data:"){F.origin=null}else{H=G.match(D);F.origin=H&&H[1]}}return F}}l.createObjectURL=function(G){var H=G.type,F;if(H===null){H="application/octet-stream"}if(G instanceof C){F="data:"+H;if(G.encoding==="base64"){return F+";base64,"+G.data}else{if(G.encoding==="URI"){return F+","+decodeURIComponent(G.data)}}if(r){return F+";base64,"+r(G.data)}else{return F+","+encodeURIComponent(G.data)}}else{if(z){return z.call(m,G)}}};l.revokeObjectURL=function(F){if(F.substring(0,5)!=="data:"&&f){f.call(m,F)}};t.append=function(J){var L=this.data;if(q&&(J instanceof h||J instanceof q)){var K="",G=new q(J),H=0,I=G.length;for(;H<I;H++){K+=String.fromCharCode(G[H])}L.push(K)}else{if(g(J)==="Blob"||g(J)==="File"){if(w){var F=new w;L.push(F.readAsBinaryString(J))}else{throw new e("NOT_READABLE_ERR")}}else{if(J instanceof C){if(J.encoding==="base64"&&k){L.push(k(J.data))}else{if(J.encoding==="URI"){L.push(decodeURIComponent(J.data))}else{if(J.encoding==="raw"){L.push(J.data)}}}}else{if(typeof J!=="string"){J+=""}L.push(unescape(encodeURIComponent(J)))}}}};t.getBlob=function(F){if(!arguments.length){F=null}return new C(this.data.join(""),F,"raw")};t.toString=function(){return"[object BlobBuilder]"};B.slice=function(I,F,H){var G=arguments.length;if(G<3){H=null}return new C(this.data.slice(I,G>1?F:this.data.length),H,this.encoding)};B.toString=function(){return"[object Blob]"};B.close=function(){this.size=0;delete this.data};return E}(a));a.Blob=function(j,h){var l=h?(h.type||""):"";var g=new c();if(j){for(var k=0,e=j.length;k<e;k++){if(Uint8Array&&j[k] instanceof Uint8Array){g.append(j[k].buffer)}else{g.append(j[k])}}}var f=g.getBlob(l);if(!f.slice&&f.webkitSlice){f.slice=f.webkitSlice}return f};var b=Object.getPrototypeOf||function(e){return e.__proto__};a.Blob.prototype=b(new a.Blob())}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));function PDFDocument(){return new jsPDF()}(function(E){var e="+".charCodeAt(0);var h="/".charCodeAt(0);var B="0".charCodeAt(0);var w="a".charCodeAt(0);var n="A".charCodeAt(0);var F="-".charCodeAt(0);var q="_".charCodeAt(0);b64ToByteArray=function(K){var P,O,M,Q,N,S;if(K.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var T=K.length;N="="===K.charAt(T-2)?2:"="===K.charAt(T-1)?1:0;S=new Uint8Array(K.length*3/4-N);M=N>0?K.length-4:K.length;var V=0;function U(L){S[V++]=L}for(P=0,O=0;P<M;P+=4,O+=3){Q=(decode(K.charAt(P))<<18)|(decode(K.charAt(P+1))<<12)|(decode(K.charAt(P+2))<<6)|decode(K.charAt(P+3));U((Q&16711680)>>16);U((Q&65280)>>8);U(Q&255)}if(N===2){Q=(decode(K.charAt(P))<<2)|(decode(K.charAt(P+1))>>4);U(Q&255)}else{if(N===1){Q=(decode(K.charAt(P))<<10)|(decode(K.charAt(P+1))<<4)|(decode(K.charAt(P+2))>>2);U((Q>>8)&255);U(Q&255)}}return S};decode=function(K){var L=K.charCodeAt(0);if(L===e||L===F){return 62}if(L===h||L===q){return 63}if(L<B){return -1}if(L<B+10){return L-B+26+26}if(L<n+26){return L-n}if(L<w+26){return L-w+26}};TTFFont=(function(){K.open=function(M,N,L,P){var O;O=b64ToByteArray(L);return new K(O,N,P)};function K(L,M,N){var T,U,X,S,O,V,Q,P,W;this.rawData=L;T=this.contents=new g(L);this.contents.pos=4;if(T.readString(4)==="ttcf"){if(!M){throw new Error("Must specify a font name for TTC files.")}O=[];throw new Error("Font "+M+" not found in TTC file.")}else{T.pos=0;this.parse();this.subset=new l(this);this.registerTTF()}}K.prototype.parse=function(){this.directory=new d(this.contents);this.head=new f(this);this.name=new H(this);this.cmap=new j(this);this.hhea=new t(this);this.maxp=new z(this);this.hmtx=new I(this);this.post=new m(this);this.os2=new A(this);this.loca=new u(this);this.glyf=new k(this);this.ascender=(this.os2.exists&&this.os2.ascender)||this.hhea.ascender;this.decender=(this.os2.exists&&this.os2.decender)||this.hhea.decender;this.lineGap=(this.os2.exists&&this.os2.lineGap)||this.hhea.lineGap;return this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]};K.prototype.registerTTF=function(){var P,N,L,M,O;this.scaleFactor=1000/this.head.unitsPerEm;this.bbox=(function(){var U,S,T,Q;T=this.bbox;Q=[];for(U=0,S=T.length;U<S;U++){P=T[U];Q.push(Math.round(P*this.scaleFactor))}return Q}).call(this);this.stemV=0;if(this.post.exists){M=this.post.italic_angle;N=M>>16;L=M&255;if(N&32768!==0){N=-((N^65535)+1)}this.italicAngle=+(""+N+"."+L)}else{this.italicAngle=0}this.ascender=Math.round(this.ascender*this.scaleFactor);this.decender=Math.round(this.decender*this.scaleFactor);this.lineGap=Math.round(this.lineGap*this.scaleFactor);this.capHeight=(this.os2.exists&&this.os2.capHeight)||this.ascender;this.xHeight=(this.os2.exists&&this.os2.xHeight)||0;this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8;this.isSerif=(O=this.familyClass)===1||O===2||O===3||O===4||O===5||O===7;this.isScript=this.familyClass===10;this.flags=0;if(this.post.isFixedPitch){this.flags|=1<<0}if(this.isSerif){this.flags|=1<<1}if(this.isScript){this.flags|=1<<3}if(this.italicAngle!==0){this.flags|=1<<6}this.flags|=1<<5;if(!this.cmap.unicode){throw new Error("No unicode cmap for font")}};K.prototype.characterToGlyph=function(M){var L;return((L=this.cmap.unicode)!=null?L.codeMap[M]:void 0)||0};K.prototype.widthOfGlyph=function(L){var M;M=1000/this.head.unitsPerEm;return this.hmtx.forGlyph(L).advance*M};K.prototype.widthOfString=function(Q,U,S){var T,P,M,L,N,O,S;Q=""+Q;L=0;for(P=N=0,O=Q.length;0<=O?N<O:N>O;P=0<=O?++N:--N){T=Q.charCodeAt(P);L+=(this.widthOfGlyph(this.characterToGlyph(T))+S*(1000/U))||0}M=U/1000;return L*M};K.prototype.lineHeight=function(L,M){var N;if(M==null){M=false}N=M?this.lineGap:0;return(this.ascender+N-this.decender)/1000*L};return K})();var g=(function(){function K(L){this.data=L!=null?L:[];this.pos=0;this.length=this.data.length}K.prototype.readByte=function(){return this.data[this.pos++]};K.prototype.writeByte=function(L){return this.data[this.pos++]=L};K.prototype.readUInt32=function(){var O,N,M,L;O=this.readByte()*16777216;N=this.readByte()<<16;M=this.readByte()<<8;L=this.readByte();return O+N+M+L};K.prototype.writeUInt32=function(L){this.writeByte((L>>>24)&255);this.writeByte((L>>16)&255);this.writeByte((L>>8)&255);return this.writeByte(L&255)};K.prototype.readInt32=function(){var L;L=this.readUInt32();if(L>=2147483648){return L-4294967296}else{return L}};K.prototype.writeInt32=function(L){if(L<0){L+=4294967296}return this.writeUInt32(L)};K.prototype.readUInt16=function(){var M,L;M=this.readByte()<<8;L=this.readByte();return M|L};K.prototype.writeUInt16=function(L){this.writeByte((L>>8)&255);return this.writeByte(L&255)};K.prototype.readInt16=function(){var L;L=this.readUInt16();if(L>=32768){return L-65536}else{return L}};K.prototype.writeInt16=function(L){if(L<0){L+=65536}return this.writeUInt16(L)};K.prototype.readString=function(N){var M,L,O;L=[];for(M=O=0;0<=N?O<N:O>N;M=0<=N?++O:--O){L[M]=String.fromCharCode(this.readByte())}return L.join("")};K.prototype.writeString=function(P){var M,O,N,L;L=[];for(M=O=0,N=P.length;0<=N?O<N:O>N;M=0<=N?++O:--O){L.push(this.writeByte(P.charCodeAt(M)))}return L};K.prototype.readShort=function(){return this.readInt16()};K.prototype.writeShort=function(L){return this.writeInt16(L)};K.prototype.readLongLong=function(){var O,N,M,L,T,S,Q,P;O=this.readByte();N=this.readByte();M=this.readByte();L=this.readByte();T=this.readByte();S=this.readByte();Q=this.readByte();P=this.readByte();if(O&128){return((O^255)*72057594037927940+(N^255)*281474976710656+(M^255)*1099511627776+(L^255)*4294967296+(T^255)*16777216+(S^255)*65536+(Q^255)*256+(P^255)+1)*-1}return O*72057594037927940+N*281474976710656+M*1099511627776+L*4294967296+T*16777216+S*65536+Q*256+P};K.prototype.readInt=function(){return this.readInt32()};K.prototype.writeInt=function(L){return this.writeInt32(L)};K.prototype.read=function(L){var M,N,O;M=[];for(N=O=0;0<=L?O<L:O>L;N=0<=L?++O:--O){M.push(this.readByte())}return M};K.prototype.write=function(N){var P,O,M,L;L=[];for(O=0,M=N.length;O<M;O++){P=N[O];L.push(this.writeByte(P))}return L};return K})();var d=(function(){var L;function K(Q){var N,M,P,O;this.scalarType=Q.readInt();this.tableCount=Q.readShort();this.searchRange=Q.readShort();this.entrySelector=Q.readShort();this.rangeShift=Q.readShort();this.tables={};for(M=P=0,O=this.tableCount;0<=O?P<O:P>O;M=0<=O?++P:--P){N={tag:Q.readString(4),checksum:Q.readInt(),offset:Q.readInt(),length:Q.readInt()};this.tables[N.tag]=N}}K.prototype.encode=function(W){var V,S,P,M,U,Z,O,Y,T,Q,X,ab,N,aa;ab=Object.keys(W).length;Z=Math.log(2);T=Math.floor(Math.log(ab)/Z)*16;M=Math.floor(T/Z);Y=ab*16-T;S=new g;S.writeInt(this.scalarType);S.writeShort(ab);S.writeShort(T);S.writeShort(M);S.writeShort(Y);P=ab*16;O=S.pos+P;U=null;N=[];for(aa in W){X=W[aa];if(!X){continue}S.writeString(aa);S.writeInt(L(X));S.writeInt(O);S.writeInt(X.length);N=N.concat(X);if(aa==="head"){U=O}O+=X.length;while(O%4){N.push(0);O++}}S.write(N);Q=L(S.data);V=2981146554-Q;S.pos=U+8;S.writeUInt32(V);return S.data};L=function(S){var N,O,M,Q,P;S=D.call(S);while(S.length%4){S.push(0)}M=new g(S);O=0;for(N=Q=0,P=S.length;Q<P;N=Q+=4){O+=M.readUInt32()}return O&4294967295};return K})();var b,C={}.hasOwnProperty,J=function(N,L){for(var K in L){if(C.call(L,K)){N[K]=L[K]}}function M(){this.constructor=N}M.prototype=L.prototype;N.prototype=new M();N.__super__=L.prototype;return N};b=(function(){function K(L){var M;this.file=L;M=this.file.directory.tables[this.tag];this.exists=!!M;if(M){this.offset=M.offset,this.length=M.length;this.parse(this.file.contents)}}K.prototype.parse=function(){};K.prototype.encode=function(){};K.prototype.raw=function(){if(!this.exists){return null}this.file.contents.pos=this.offset;return this.file.contents.read(this.length)};return K})();var f=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="head";K.prototype.parse=function(M){M.pos=this.offset;this.version=M.readInt();this.revision=M.readInt();this.checkSumAdjustment=M.readInt();this.magicNumber=M.readInt();this.flags=M.readShort();this.unitsPerEm=M.readShort();this.created=M.readLongLong();this.modified=M.readLongLong();this.xMin=M.readShort();this.yMin=M.readShort();this.xMax=M.readShort();this.yMax=M.readShort();this.macStyle=M.readShort();this.lowestRecPPEM=M.readShort();this.fontDirectionHint=M.readShort();this.indexToLocFormat=M.readShort();return this.glyphDataFormat=M.readShort()};return K})(b);var s=(function(){function K(ag,U){var M,W,ae,ab,aa,ac,S,L,X,Y,P,af,T,V,Z,Q,O,N,ad;this.platformID=ag.readUInt16();this.encodingID=ag.readShort();this.offset=U+ag.readInt();Y=ag.pos;ag.pos=this.offset;this.format=ag.readUInt16();this.length=ag.readUInt16();this.language=ag.readUInt16();this.isUnicode=(this.platformID===3&&this.encodingID===1&&this.format===4)||this.platformID===0&&this.format===4;this.codeMap={};switch(this.format){case 0:for(ac=Q=0;Q<256;ac=++Q){this.codeMap[ac]=ag.readByte()}break;case 4:af=ag.readUInt16();P=af/2;ag.pos+=6;ae=(function(){var ai,ah;ah=[];for(ac=ai=0;0<=P?ai<P:ai>P;ac=0<=P?++ai:--ai){ah.push(ag.readUInt16())}return ah})();ag.pos+=2;V=(function(){var ai,ah;ah=[];for(ac=ai=0;0<=P?ai<P:ai>P;ac=0<=P?++ai:--ai){ah.push(ag.readUInt16())}return ah})();S=(function(){var ai,ah;ah=[];for(ac=ai=0;0<=P?ai<P:ai>P;ac=0<=P?++ai:--ai){ah.push(ag.readUInt16())}return ah})();L=(function(){var ai,ah;ah=[];for(ac=ai=0;0<=P?ai<P:ai>P;ac=0<=P?++ai:--ai){ah.push(ag.readUInt16())}return ah})();W=(this.length-ag.pos+this.offset)/2;aa=(function(){var ai,ah;ah=[];for(ac=ai=0;0<=W?ai<W:ai>W;ac=0<=W?++ai:--ai){ah.push(ag.readUInt16())}return ah})();for(ac=O=0,ad=ae.length;O<ad;ac=++O){Z=ae[ac];T=V[ac];for(M=N=T;T<=Z?N<=Z:N>=Z;M=T<=Z?++N:--N){if(L[ac]===0){ab=M+S[ac]}else{X=L[ac]/2+(M-T)-(P-ac);ab=aa[X]||0;if(ab!==0){ab+=S[ac]}}this.codeMap[M]=ab&65535}}}ag.pos=Y}K.encode=function(aq,au){var ah,N,aD,ap,ao,L,aj,am,W,al,aI,aG,an,M,ac,ak,ag,ar,aA,at,aa,af,ab,aJ,aF,ae,ai,Y,Z,aH,aE,aC,aB,ad,V,U,T,S,Q,P,O,az,ay,X,ax,aw,av;Z=new g;ap=Object.keys(aq).sort(function(aL,aK){return aL-aK});switch(au){case"macroman":an=0;M=(function(){var aL,aK;aK=[];for(aG=aL=0;aL<256;aG=++aL){aK.push(0)}return aK})();ak={0:0};aD={};for(aH=0,ad=ap.length;aH<ad;aH++){N=ap[aH];if(ak[X=aq[N]]==null){ak[X]=++an}aD[N]={old:aq[N],"new":ak[aq[N]]};M[N]=ak[aq[N]]}Z.writeUInt16(1);Z.writeUInt16(0);Z.writeUInt32(12);Z.writeUInt16(0);Z.writeUInt16(262);Z.writeUInt16(0);Z.write(M);return af={charMap:aD,subtable:Z.data,maxGlyphID:an+1};case"unicode":ai=[];W=[];ag=0;ak={};ah={};ac=aj=null;for(aE=0,V=ap.length;aE<V;aE++){N=ap[aE];aA=aq[N];if(ak[aA]==null){ak[aA]=++ag}ah[N]={old:aA,"new":ak[aA]};ao=ak[aA]-N;if((ac==null)||ao!==aj){if(ac){W.push(ac)}ai.push(N);aj=ao}ac=N}if(ac){W.push(ac)}W.push(65535);ai.push(65535);aJ=ai.length;aF=aJ*2;ab=2*Math.pow(Math.log(aJ)/Math.LN2,2);al=Math.log(ab/2)/Math.LN2;aa=2*aJ-ab;L=[];at=[];aI=[];for(aG=aC=0,U=ai.length;aC<U;aG=++aC){ae=ai[aG];am=W[aG];if(ae===65535){L.push(0);at.push(0);break}Y=ah[ae]["new"];if(ae-Y>=32768){L.push(0);at.push(2*(aI.length+aJ-aG));for(N=aB=ae;ae<=am?aB<=am:aB>=am;N=ae<=am?++aB:--aB){aI.push(ah[N]["new"])}}else{L.push(Y-ae);at.push(0)}}Z.writeUInt16(3);Z.writeUInt16(1);Z.writeUInt32(12);Z.writeUInt16(4);Z.writeUInt16(16+aJ*8+aI.length*2);Z.writeUInt16(0);Z.writeUInt16(aF);Z.writeUInt16(ab);Z.writeUInt16(al);Z.writeUInt16(aa);for(az=0,T=W.length;az<T;az++){N=W[az];Z.writeUInt16(N)}Z.writeUInt16(0);for(ay=0,S=ai.length;ay<S;ay++){N=ai[ay];Z.writeUInt16(N)}for(ax=0,Q=L.length;ax<Q;ax++){ao=L[ax];Z.writeUInt16(ao)}for(aw=0,P=at.length;aw<P;aw++){ar=at[aw];Z.writeUInt16(ar)}for(av=0,O=aI.length;av<O;av++){an=aI[av];Z.writeUInt16(an)}return af={charMap:ah,subtable:Z.data,maxGlyphID:ag+1}}};return K})();var j=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="cmap";K.prototype.parse=function(Q){var O,N,M,P;Q.pos=this.offset;this.version=Q.readUInt16();M=Q.readUInt16();this.tables=[];this.unicode=null;for(N=P=0;0<=M?P<M:P>M;N=0<=M?++P:--P){O=new s(Q,this.offset);this.tables.push(O);if(O.isUnicode){if(this.unicode==null){this.unicode=O}}}return true};K.encode=function(P,O){var M,N;if(O==null){O="macroman"}M=s.encode(P,O);N=new g;N.writeUInt16(0);N.writeUInt16(1);M.table=N.data.concat(M.subtable);return M};return K})(b);var t=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="hhea";K.prototype.parse=function(M){M.pos=this.offset;this.version=M.readInt();this.ascender=M.readShort();this.decender=M.readShort();this.lineGap=M.readShort();this.advanceWidthMax=M.readShort();this.minLeftSideBearing=M.readShort();this.minRightSideBearing=M.readShort();this.xMaxExtent=M.readShort();this.caretSlopeRise=M.readShort();this.caretSlopeRun=M.readShort();this.caretOffset=M.readShort();M.pos+=4*2;this.metricDataFormat=M.readShort();return this.numberOfMetrics=M.readUInt16()};return K})(b);var A=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="OS/2";K.prototype.parse=function(N){var M;N.pos=this.offset;this.version=N.readUInt16();this.averageCharWidth=N.readShort();this.weightClass=N.readUInt16();this.widthClass=N.readUInt16();this.type=N.readShort();this.ySubscriptXSize=N.readShort();this.ySubscriptYSize=N.readShort();this.ySubscriptXOffset=N.readShort();this.ySubscriptYOffset=N.readShort();this.ySuperscriptXSize=N.readShort();this.ySuperscriptYSize=N.readShort();this.ySuperscriptXOffset=N.readShort();this.ySuperscriptYOffset=N.readShort();this.yStrikeoutSize=N.readShort();this.yStrikeoutPosition=N.readShort();this.familyClass=N.readShort();this.panose=(function(){var P,O;O=[];for(M=P=0;P<10;M=++P){O.push(N.readByte())}return O})();this.charRange=(function(){var P,O;O=[];for(M=P=0;P<4;M=++P){O.push(N.readInt())}return O})();this.vendorID=N.readString(4);this.selection=N.readShort();this.firstCharIndex=N.readShort();this.lastCharIndex=N.readShort();if(this.version>0){this.ascent=N.readShort();this.descent=N.readShort();this.lineGap=N.readShort();this.winAscent=N.readShort();this.winDescent=N.readShort();this.codePageRange=(function(){var P,O;O=[];for(M=P=0;P<2;M=++P){O.push(N.readInt())}return O})();if(this.version>1){this.xHeight=N.readShort();this.capHeight=N.readShort();this.defaultChar=N.readShort();this.breakChar=N.readShort();return this.maxContext=N.readShort()}}};return K})(b);var m=(function(L){var M;J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="post";K.prototype.parse=function(T){var P,Q,O,S,N;T.pos=this.offset;this.format=T.readInt();this.italicAngle=T.readInt();this.underlinePosition=T.readShort();this.underlineThickness=T.readShort();this.isFixedPitch=T.readInt();this.minMemType42=T.readInt();this.maxMemType42=T.readInt();this.minMemType1=T.readInt();this.maxMemType1=T.readInt();switch(this.format){case 65536:break;case 131072:O=T.readUInt16();this.glyphNameIndex=[];for(P=S=0;0<=O?S<O:S>O;P=0<=O?++S:--S){this.glyphNameIndex.push(T.readUInt16())}this.names=[];N=[];while(T.pos<this.offset+this.length){Q=T.readByte();N.push(this.names.push(T.readString(Q)))}return N;break;case 151552:O=T.readUInt16();return this.offsets=T.read(O);case 196608:break;case 262144:return this.map=(function(){var V,W,U;U=[];for(P=V=0,W=this.file.maxp.numGlyphs;0<=W?V<W:V>W;P=0<=W?++V:--V){U.push(T.readUInt32())}return U}).call(this)}};M=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent\nampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash\nzero one two three four five six seven eight nine colon semicolon less equal greater\nquestion at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\nbracketleft backslash bracketright asciicircum underscore grave\na b c d e f g h i j k l m n o p q r s t u v w x y z\nbraceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis\nUdieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave\necircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve\nocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent\nsterling section bullet paragraph germandbls registered copyright trademark acute\ndieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu\npartialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash\nquestiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft\nguillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash\nquotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis\nfraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered\nquotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis\nEgrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute\nUcircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla\nhungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth\neth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior\nonehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla\nCacute cacute Ccaron ccaron dcroat".split(/\s+/g);return K})(b);var c=(function(){function K(L,M){this.raw=L;this.length=L.length;this.platformID=M.platformID;this.encodingID=M.encodingID;this.languageID=M.languageID}return K})();var H=(function(K){var M;J(L,K);function L(){return L.__super__.constructor.apply(this,arguments)}L.prototype.tag="name";L.prototype.parse=function(S){var V,U,Z,Y,T,N,O,aa,ab,Q,P,W,X;S.pos=this.offset;Y=S.readShort();V=S.readShort();O=S.readShort();U=[];for(T=Q=0;0<=V?Q<V:Q>V;T=0<=V?++Q:--Q){U.push({platformID:S.readShort(),encodingID:S.readShort(),languageID:S.readShort(),nameID:S.readShort(),length:S.readShort(),offset:this.offset+O+S.readShort()})}aa={};for(T=P=0,W=U.length;P<W;T=++P){Z=U[T];S.pos=Z.offset;ab=S.readString(Z.length);N=new c(ab,Z);if(aa[X=Z.nameID]==null){aa[X]=[]}aa[Z.nameID].push(N)}this.strings=aa;this.copyright=aa[0];this.fontFamily=aa[1];this.fontSubfamily=aa[2];this.uniqueSubfamily=aa[3];this.fontName=aa[4];this.version=aa[5];this.postscriptName=aa[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"");this.trademark=aa[7];this.manufacturer=aa[8];this.designer=aa[9];this.description=aa[10];this.vendorUrl=aa[11];this.designerUrl=aa[12];this.license=aa[13];this.licenseUrl=aa[14];this.preferredFamily=aa[15];this.preferredSubfamily=aa[17];this.compatibleFull=aa[18];return this.sampleText=aa[19]};M="AAAAAA";return L})(b);var z=(function(K){J(L,K);function L(){return L.__super__.constructor.apply(this,arguments)}L.prototype.tag="maxp";L.prototype.parse=function(M){M.pos=this.offset;this.version=M.readInt();this.numGlyphs=M.readUInt16();this.maxPoints=M.readUInt16();this.maxContours=M.readUInt16();this.maxCompositePoints=M.readUInt16();this.maxComponentContours=M.readUInt16();this.maxZones=M.readUInt16();this.maxTwilightPoints=M.readUInt16();this.maxStorage=M.readUInt16();this.maxFunctionDefs=M.readUInt16();this.maxInstructionDefs=M.readUInt16();this.maxStackElements=M.readUInt16();this.maxSizeOfInstructions=M.readUInt16();this.maxComponentElements=M.readUInt16();return this.maxComponentDepth=M.readUInt16()};return L})(b);var I=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="hmtx";K.prototype.parse=function(S){var U,V,Q,M,P,O,T,N;S.pos=this.offset;this.metrics=[];for(U=P=0,T=this.file.hhea.numberOfMetrics;0<=T?P<T:P>T;U=0<=T?++P:--P){this.metrics.push({advance:S.readUInt16(),lsb:S.readInt16()})}Q=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics;this.leftSideBearings=(function(){var X,W;W=[];for(U=X=0;0<=Q?X<Q:X>Q;U=0<=Q?++X:--X){W.push(S.readInt16())}return W})();this.widths=(function(){var Z,Y,W,X;W=this.metrics;X=[];for(Z=0,Y=W.length;Z<Y;Z++){M=W[Z];X.push(M.advance)}return X}).call(this);V=this.widths[this.widths.length-1];N=[];for(U=O=0;0<=Q?O<Q:O>Q;U=0<=Q?++O:--O){N.push(this.widths.push(V))}return N};K.prototype.forGlyph=function(N){var M;if(N in this.metrics){return this.metrics[N]}return M={advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[N-this.metrics.length]}};return K})(b);var D=[].slice;var k=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="glyf";K.prototype.parse=function(M){return this.cache={}};K.prototype.glyphFor=function(N){N=N;var T,V,O,S,P,X,U,M,Q,W;if(N in this.cache){return this.cache[N]}S=this.file.loca;T=this.file.contents;V=S.indexOf(N);O=S.lengthOf(N);if(O===0){return this.cache[N]=null}T.pos=this.offset+V;X=new g(T.read(O));P=X.readShort();M=X.readShort();W=X.readShort();U=X.readShort();Q=X.readShort();if(P===-1){this.cache[N]=new G(X,M,W,U,Q)}else{this.cache[N]=new a(X,P,M,W,U,Q)}return this.cache[N]};K.prototype.encode=function(U,M,O){var S,N,P,V,Q,T;V=[];P=[];for(Q=0,T=M.length;Q<T;Q++){N=M[Q];S=U[N];P.push(V.length);if(S){V=V.concat(S.encode(O))}}P.push(V.length);return{table:V,offsets:P}};return K})(b);var a=(function(){function K(O,M,N,L,Q,P){this.raw=O;this.numberOfContours=M;this.xMin=N;this.yMin=L;this.xMax=Q;this.yMax=P;this.compound=false}K.prototype.encode=function(){return this.raw.data};return K})();var G=(function(){var Q,K,N,M,L,P;Q=1;M=8;K=32;N=64;L=128;P=256;function O(V,U,S,Y,X){var W,T;this.raw=V;this.xMin=U;this.yMin=S;this.xMax=Y;this.yMax=X;this.compound=true;this.glyphIDs=[];this.glyphOffsets=[];W=this.raw;while(true){T=W.readShort();this.glyphOffsets.push(W.pos);this.glyphIDs.push(W.readShort());if(!(T&K)){break}if(T&Q){W.pos+=4}else{W.pos+=2}if(T&L){W.pos+=8}else{if(T&N){W.pos+=4}else{if(T&M){W.pos+=2}}}}}O.prototype.encode=function(U){var V,Y,S,X,T,W;S=new g(D.call(this.raw.data));W=this.glyphIDs;for(V=X=0,T=W.length;X<T;V=++X){Y=W[V];S.pos=this.glyphOffsets[V]}return S.data};return O})();var u=(function(L){J(K,L);function K(){return K.__super__.constructor.apply(this,arguments)}K.prototype.tag="loca";K.prototype.parse=function(N){var O,M;N.pos=this.offset;O=this.file.head.indexToLocFormat;if(O===0){return this.offsets=(function(){var S,Q,P;P=[];for(M=S=0,Q=this.length;S<Q;M=S+=2){P.push(N.readUInt16()*2)}return P}).call(this)}else{return this.offsets=(function(){var S,Q,P;P=[];for(M=S=0,Q=this.length;S<Q;M=S+=4){P.push(N.readUInt32())}return P}).call(this)}};K.prototype.indexOf=function(M){return this.offsets[M]};K.prototype.lengthOf=function(M){return this.offsets[M+1]-this.offsets[M]};K.prototype.encode=function(Q,V){var O=new Uint32Array(this.offsets.length);var M=0;var P=0;for(var S=0;S<O.length;++S){O[S]=M;if(P<V.length&&V[P]==S){++P;O[S]=M;var N=this.offsets[S];var U=this.offsets[S+1]-N;if(U>0){M+=U}}}var W=new Array(O.length*4);for(var T=0;T<O.length;++T){W[4*T+3]=(O[T]&255);W[4*T+2]=(O[T]&65280)>>8;W[4*T+1]=(O[T]&16711680)>>16;W[4*T]=(O[T]&4278190080)>>24}return W};return K})(b);var r=function(L){var M,K,N;K={};for(M in L){N=L[M];K[N]=M}return K};var l=(function(){function K(L){this.font=L;this.subset={};this.unicodes={};this.next=33}K.prototype.generateCmap=function(){var M,P,L,O,N;O=this.font.cmap.tables[0].codeMap;M={};N=this.subset;for(P in N){L=N[P];M[P]=O[L]}return M};K.prototype.glyphsFor=function(N){var O,P,M,T,S,L,Q;M={};for(S=0,L=N.length;S<L;S++){T=N[S];M[T]=this.font.glyf.glyphFor(T)}O=[];for(T in M){P=M[T];if(P!=null?P.compound:void 0){O.push.apply(O,P.glyphIDs)}}if(O.length>0){Q=this.glyphsFor(O);for(T in Q){P=Q[T];M[T]=P}}return M};K.prototype.encode=function(ac){var Z,L,M,P,W,aa,N,ad,Y,X,V,ab,S,Q,T,U,O;Z=j.encode(this.generateCmap(),"unicode");P=this.glyphsFor(ac);ab={0:0};U=Z.charMap;for(L in U){aa=U[L];ab[aa.old]=aa["new"]}V=Z.maxGlyphID;for(S in P){if(!(S in ab)){ab[S]=V++}}Y=r(ab);X=Object.keys(Y).sort(function(af,ae){return af-ae});Q=(function(){var ag,af,ae;ae=[];for(ag=0,af=X.length;ag<af;ag++){W=X[ag];ae.push(Y[W])}return ae})();M=this.font.glyf.encode(P,Q,ab);N=this.font.loca.encode(M.offsets,Q);T={cmap:this.font.cmap.raw(),glyf:M.table,loca:N,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.raw()};if(this.font.os2.exists){T["OS/2"]=this.font.os2.raw()}return this.font.directory.encode(T)};return K})();PDFObject=(function(){var M,K;function L(){}M=function(O,N){return(Array(N+1).join("0")+O).slice(-N)};L.convert=function(P){var S,N,Q,O,T;if(Array.isArray(P)){N=((function(){var W,V,U;U=[];for(W=0,V=P.length;W<V;W++){S=P[W];U.push(L.convert(S))}return U})()).join(" ");return"["+N+"]"}else{if(typeof P==="string"){return"/"+P}else{if(P!=null?P.isString:void 0){return"("+P+")"}else{if(P instanceof Date){return"(D:"+M(P.getUTCFullYear(),4)+M(P.getUTCMonth(),2)+M(P.getUTCDate(),2)+M(P.getUTCHours(),2)+M(P.getUTCMinutes(),2)+M(P.getUTCSeconds(),2)+"Z)"}else{if({}.toString.call(P)==="[object Object]"){O=["<<"];for(Q in P){T=P[Q];O.push("/"+Q+" "+L.convert(T))}O.push(">>");return O.join("\n")}else{return""+P}}}}}};return L})()})(jsPDF.API);(function(c){var b=c.getCharWidthsArray=function(t,w){if(!w){w={}}var h=w.widths?w.widths:this.internal.getFont().metadata.Unicode.widths,s=h.fof?h.fof:1,m=w.kerning?w.kerning:this.internal.getFont().metadata.Unicode.kerning,q=m.fof?m.fof:1;var k,j,n,r=0,u=h[0]||s,g=[];for(k=0,j=t.length;k<j;k++){n=t.charCodeAt(k);g.push((h[n]||u)/s+(m[n]&&m[n][r]||0)/q);r=n}return g};var e=function(j){var h=j.length,g=0;while(h){h--;g+=j[h]}return g};var a=c.getStringUnitWidth=function(h,g){return e(b.call(this,h,g))};var d=function(g,n,h,j){var s=[];var m=0,k=g.length,r=0;while(m!==k&&r+n[m]<h){r+=n[m];m++}s.push(g.slice(0,m));var q=m;r=0;while(m!==k){if(r+n[m]>j){s.push(g.slice(q,m));r=0;q=m}r+=n[m];m++}if(q!==m){s.push(g.slice(q,m))}return s};var f=function(r,E,m){if(!m){m={}}var q=[],h=[q],k=m.textIndent||0,t=0,u=0,C,z,s=r.split(" "),G=b(" ",m)[0],B,w,F,g;if(m.lineIndent===-1){g=s[0].length+2}else{g=m.lineIndent||0}if(g){var D=Array(g).join(" "),n=[];s.map(function(l){l=l.split(/\s*\n/);if(l.length>1){n=n.concat(l.map(function(I,H){return(H&&I.length?"\n":"")+I}))}else{n.push(l[0])}});s=n;g=a(D,m)}for(B=0,w=s.length;B<w;B++){var j=0;C=s[B];if(g&&C[0]=="\n"){C=C.substr(1);j=1}z=b(C,m);u=e(z);if(k+t+u>E||j){if(u>E){F=d(C,z,E-(k+t),E);q.push(F.shift());q=[F.pop()];while(F.length){h.push([F.shift()])}u=e(z.slice(C.length-q[0].length))}else{q=[C]}h.push(q);k=u+g;t=G}else{q.push(C);k+=t+u;t=G}}if(g){var A=function(H,l){return(l?D:"")+H.join(" ")}}else{var A=function(l){return l.join(" ")}}return h.map(A)};c.splitTextToSize=function(s,m,t){if(!t){t={}}var h=t.fontSize||this.internal.getFontSize(),g=(function(u){var z={0:1},l={};if(!u.widths||!u.kerning){var A=this.internal.getFont(u.fontName,u.fontStyle),w="Unicode";if(A.metadata[w]){return{widths:A.metadata[w].widths||z,kerning:A.metadata[w].kerning||l}}}else{return{widths:u.widths,kerning:u.kerning}}return{widths:z,kerning:l}}).call(this,t);var r;if(Array.isArray(s)){r=s}else{r=s.split(/\r?\n/)}var j=1*this.internal.scaleFactor*m/h;g.textIndent=t.textIndent?t.textIndent*1*this.internal.scaleFactor/h:0;g.lineIndent=t.lineIndent;var q,n,k=[];for(q=0,n=r.length;q<n;q++){k=k.concat(f(r[q],j,g))}return k}})(jsPDF.API);(function(a){var e=function(s){var B="0123456789abcdef",q="klmnopqrstuvwxyz",h={};for(var t=0;t<q.length;t++){h[q[t]]=B[t]}var r,m={},n=1,w,k=m,g=[],u,l="",z="",A,j=s.length-1,f;t=1;while(t!=j){f=s[t];t+=1;if(f=="'"){if(w){A=w.join("");w=r}else{w=[]}}else{if(w){w.push(f)}else{if(f=="{"){g.push([k,A]);k={};A=r}else{if(f=="}"){u=g.pop();u[0][u[1]]=k;A=r;k=u[0]}else{if(f=="-"){n=-1}else{if(A===r){if(h.hasOwnProperty(f)){l+=h[f];A=parseInt(l,16)*n;n=+1;l=""}else{l+=f}}else{if(h.hasOwnProperty(f)){z+=h[f];k[A]=parseInt(z,16)*n;n=+1;A=r;z=""}else{z+=f}}}}}}}}return m};var d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(f){var g,j,h="Unicode",k;g=b[h][f.PostScriptName];if(g){if(f.metadata[h]){j=f.metadata[h]}else{j=f.metadata[h]={}}j.widths=g.widths;j.kerning=g.kerning}k=c[h][f.PostScriptName];if(k){if(f.metadata[h]){j=f.metadata[h]}else{j=f.metadata[h]={}}j.encoding=k;if(k.codePages&&k.codePages.length){f.encoding=k.codePages[0]}}}])})(jsPDF.API);(function(a){a.events.push(["initialized",function(){this.canvas.pdf=this}]);a.canvas={getContext:function(b){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(a.canvas,"width",{get:function(){return this._width},set:function(b){this._width=b;this.getContext("2d").pageWrapX=b+1}});Object.defineProperty(a.canvas,"height",{get:function(){return this._height},set:function(b){this._height=b;this.getContext("2d").pageWrapY=b+1}});return this})(jsPDF.API);(function(c){c.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new a();this.context2d.ctxStack=[];this.context2d.path=[]}]);c.context2d={pageWrapXEnabled:false,pageWrapYEnabled:false,pageWrapX:9999999,pageWrapY:9999999,ctx:new a(),f2:function(d){return d.toFixed(2)},fillRect:function(d,j,e,f){if(this._isFillTransparent()){return}d=this._wrapX(d);j=this._wrapY(j);var g=this._matrix_map_rect(this.ctx._transform,{x:d,y:j,w:e,h:f});this.pdf.rect(g.x,g.y,g.w,g.h,"f")},strokeRect:function(d,j,e,f){if(this._isStrokeTransparent()){return}d=this._wrapX(d);j=this._wrapY(j);var g=this._matrix_map_rect(this.ctx._transform,{x:d,y:j,w:e,h:f});this.pdf.rect(g.x,g.y,g.w,g.h,"s")},clearRect:function(d,j,e,f){if(this.ctx.ignoreClearRect){return}d=this._wrapX(d);j=this._wrapY(j);var g=this._matrix_map_rect(this.ctx._transform,{x:d,y:j,w:e,h:f});this.save();this.setFillStyle("#ffffff");this.pdf.rect(g.x,g.y,g.w,g.h,"f");this.restore()},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var d=new a();d.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=d},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(d,g,e,f){this.moveTo(d,g);this.lineTo(d+e,g);this.lineTo(d+e,g+f);this.lineTo(d,g+f);this.lineTo(d,g);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(h){var k,j,e,f;if(!h){return{r:0,g:0,b:0,a:0,style:h}}if(this.internal.rxTransparent.test(h)){k=0;j=0;e=0;f=0}else{var d=this.internal.rxRgb.exec(h);if(d!=null){k=parseInt(d[1]);j=parseInt(d[2]);e=parseInt(d[3]);f=1}else{d=this.internal.rxRgba.exec(h);if(d!=null){k=parseInt(d[1]);j=parseInt(d[2]);e=parseInt(d[3]);f=parseFloat(d[4])}else{f=1;if(h.charAt(0)!="#"){h=CssColors.colorNameToHex(h);if(!h){h="#000000"}}else{}if(h.length===4){k=h.substring(1,2);k+=k;j=h.substring(2,3);j+=j;e=h.substring(3,4);e+=e}else{k=h.substring(1,3);j=h.substring(3,5);e=h.substring(5,7)}k=parseInt(k,16);j=parseInt(j,16);e=parseInt(e,16)}}}return{r:k,g:j,b:e,a:f,style:h}},setFillStyle:function(e){var d=this._getRGBA(e);this.ctx.fillStyle=e;this.ctx._isFillTransparent=(d.a===0);this.ctx._fillOpacity=d.a;this.pdf.setFillColor(d.r,d.g,d.b,{a:d.a});this.pdf.setTextColor(d.r,d.g,d.b,{a:d.a})},setStrokeStyle:function(e){var d=this._getRGBA(e);this.ctx.strokeStyle=d.style;this.ctx._isStrokeTransparent=(d.a===0);this.ctx._strokeOpacity=d.a;if(d.a===0){this.pdf.setDrawColor(255,255,255)}else{if(d.a===1){this.pdf.setDrawColor(d.r,d.g,d.b)}else{this.pdf.setDrawColor(d.r,d.g,d.b)}}},fillText:function(r,n,m,q){if(this._isFillTransparent()){return}n=this._wrapX(n);m=this._wrapY(m);var g=this._matrix_map_point(this.ctx._transform,[n,m]);n=g[0];m=g[1];var k=this._matrix_rotation(this.ctx._transform);var f=k*57.2958;if(this.ctx._clip_path.length>0){var s;if(window.outIntercept){s=window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept}else{s=this.internal.getCurrentPage()}s.push("q");var j=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,true);this.ctx._clip_path=this.path;this.path=j}var h=1;try{h=this._matrix_decompose(this._getTransform()).scale[0]}catch(l){console.warn(l)}if(h<0.01){this.pdf.text(r,n,this._getBaseline(m),null,f)}else{var d=this.pdf.internal.getFontSize();this.pdf.setFontSize(d*h);this.pdf.text(r,n,this._getBaseline(m),null,f);this.pdf.setFontSize(d)}if(this.ctx._clip_path.length>0){s.push("Q")}},strokeText:function(r,n,m,q){if(this._isStrokeTransparent()){return}n=this._wrapX(n);m=this._wrapY(m);var g=this._matrix_map_point(this.ctx._transform,[n,m]);n=g[0];m=g[1];var k=this._matrix_rotation(this.ctx._transform);var f=k*57.2958;if(this.ctx._clip_path.length>0){var s;if(window.outIntercept){s=window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept}else{s=this.internal.getCurrentPage()}s.push("q");var j=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,true);this.ctx._clip_path=this.path;this.path=j}var h=1;try{h=this._matrix_decompose(this._getTransform()).scale[0]}catch(l){console.warn(l)}if(h===1){this.pdf.text(r,n,this._getBaseline(m),{stroke:true},f)}else{var d=this.pdf.internal.getFontSize();this.pdf.setFontSize(d*h);this.pdf.text(r,n,this._getBaseline(m),{stroke:true},f);this.pdf.setFontSize(d)}if(this.ctx._clip_path.length>0){s.push("Q")}},setFont:function(g){this.ctx.font=g;var f=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;h=f.exec(g);if(h!=null){var k=h[1];var n=h[2];var s=h[3];var w=h[4];var l=h[5];var r=h[6];if("px"===l){w=Math.floor(parseFloat(w))}else{if("em"===l){w=Math.floor(parseFloat(w)*this.pdf.getFontSize())}else{w=Math.floor(parseFloat(w))}}this.pdf.setFontSize(w);if(s==="bold"||s==="700"){this.pdf.setFontStyle("bold")}else{if(k==="italic"){this.pdf.setFontStyle("italic")}else{this.pdf.setFontStyle("normal")}}var e=r;var j=e.toLowerCase().split(/\s*,\s*/);var q;if(j.indexOf("arial")!=-1){q="Arial"}else{if(j.indexOf("verdana")!=-1){q="Verdana"}else{if(j.indexOf("helvetica")!=-1){q="Helvetica"}else{if(j.indexOf("sans-serif")!=-1){q="sans-serif"}else{if(j.indexOf("fixed")!=-1){q="Fixed"}else{if(j.indexOf("monospace")!=-1){q="Monospace"}else{if(j.indexOf("terminal")!=-1){q="Terminal"}else{if(j.indexOf("courier")!=-1){q="Courier"}else{if(j.indexOf("times")!=-1){q="Times"}else{if(j.indexOf("cursive")!=-1){q="Cursive"}else{if(j.indexOf("fantasy")!=-1){q="Fantasy"}else{if(j.indexOf("serif")!=-1){q="Serif"}else{q="Serif"}}}}}}}}}}}}var d;if("bold"===s){d="bold"}else{d="normal"}this.pdf.setFont(q,d)}else{var f=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/;var h=f.exec(g);if(h!=null){var u=h[1];var t=h[2];var e=h[3];var d=h[4];if(!d){d="normal"}if("em"===l){u=Math.floor(parseFloat(w)*this.pdf.getFontSize())}else{u=Math.floor(parseFloat(u))}this.pdf.setFontSize(u);this.pdf.setFont(e,d)}}},setTextBaseline:function(d){this.ctx.textBaseline=d},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(d){this.ctx.textAlign=d},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(d){this.ctx.lineWidth=d;this.pdf.setLineWidth(d)},setLineCap:function(d){this.ctx.lineCap=d;this.pdf.setLineCap(d)},setLineJoin:function(d){this.ctx.lineJoin=d;this.pdf.setLineJoin(d)},moveTo:function(d,g){d=this._wrapX(d);g=this._wrapY(g);var e=this._matrix_map_point(this.ctx._transform,[d,g]);d=e[0];g=e[1];var f={type:"mt",x:d,y:g};this.path.push(f)},_wrapX:function(d){if(this.pageWrapXEnabled){return d%this.pageWrapX}else{return d}},_wrapY:function(d){if(this.pageWrapYEnabled){this._gotoPage(this._page(d));return(d-this.lastBreak)%this.pageWrapY}else{return d}},transform:function(h,g,m,l,k,j){this.ctx._transform=[h,g,m,l,k,j]},setTransform:function(h,g,m,l,k,j){this.ctx._transform=[h,g,m,l,k,j]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(j){if(this.pageWrapYEnabled){this.lastBreak=0;var h=0;var g=0;for(var d=0;d<this.pageBreaks.length;d++){if(j>=this.pageBreaks[d]){h++;if(this.lastBreak===0){g++}var f=this.pageBreaks[d]-this.lastBreak;this.lastBreak=this.pageBreaks[d];var e=Math.floor(f/this.pageWrapY);g+=e}}if(this.lastBreak===0){var e=Math.floor(j/this.pageWrapY)+1;g+=e}return g+h}else{return this.pdf.internal.getCurrentPageInfo().pageNumber}},_gotoPage:function(d){},lineTo:function(d,g){d=this._wrapX(d);g=this._wrapY(g);var e=this._matrix_map_point(this.ctx._transform,[d,g]);d=e[0];g=e[1];var f={type:"lt",x:d,y:g};this.path.push(f)},bezierCurveTo:function(g,j,f,h,d,l){g=this._wrapX(g);j=this._wrapY(j);f=this._wrapX(f);h=this._wrapY(h);d=this._wrapX(d);l=this._wrapY(l);var e;e=this._matrix_map_point(this.ctx._transform,[d,l]);d=e[0];l=e[1];e=this._matrix_map_point(this.ctx._transform,[g,j]);g=e[0];j=e[1];e=this._matrix_map_point(this.ctx._transform,[f,h]);f=e[0];h=e[1];var k={type:"bct",x1:g,y1:j,x2:f,y2:h,x:d,y:l};this.path.push(k)},quadraticCurveTo:function(f,g,d,j){f=this._wrapX(f);g=this._wrapY(g);d=this._wrapX(d);j=this._wrapY(j);var e;e=this._matrix_map_point(this.ctx._transform,[d,j]);d=e[0];j=e[1];e=this._matrix_map_point(this.ctx._transform,[f,g]);f=e[0];g=e[1];var h={type:"qct",x1:f,y1:g,x:d,y:j};this.path.push(h)},arc:function(n,l,j,k,e,f){n=this._wrapX(n);l=this._wrapY(l);if(!this._matrix_is_identity(this.ctx._transform)){var d=this._matrix_map_point(this.ctx._transform,[n,l]);n=d[0];l=d[1];var h=this._matrix_map_point(this.ctx._transform,[0,0]);var m=this._matrix_map_point(this.ctx._transform,[0,j]);j=Math.sqrt(Math.pow(m[0]-h[0],2)+Math.pow(m[1]-h[1],2))}var g={type:"arc",x:n,y:l,radius:j,startAngle:k,endAngle:e,anticlockwise:f};this.path.push(g)},drawImage:function(j,t,r,z,l,d,s,k,q){if(d!==undefined){t=d;r=s;z=k;l=q}t=this._wrapX(t);r=this._wrapY(r);var n=this._matrix_map_rect(this.ctx._transform,{x:t,y:r,w:z,h:l});var g=this._matrix_map_rect(this.ctx._transform,{x:d,y:s,w:k,h:q});var u;var e=/data:image\/(\w+).*/i;var f=e.exec(j);if(f!=null){u=f[1]}else{u="png"}this.pdf.addImage(j,u,n.x,n.y,n.w,n.h)},_matrix_multiply:function(n,q){var m=q[0];var j=q[1];var k=q[2];var l=q[3];var f=q[4];var e=q[5];var h=m*n[0]+j*n[2];var g=k*n[0]+l*n[2];var d=f*n[0]+e*n[2]+n[4];j=m*n[1]+j*n[3];l=k*n[1]+l*n[3];e=f*n[1]+e*n[3]+n[5];m=h;k=g;f=d;return[m,j,k,l,f,e]},_matrix_rotation:function(d){return Math.atan2(d[2],d[0])},_matrix_decompose:function(h){var f=h[0];var e=h[1];var m=h[2];var l=h[3];var j=Math.sqrt(f*f+e*e);f/=j;e/=j;var k=f*m+e*l;m-=f*k;l-=e*k;var g=Math.sqrt(m*m+l*l);m/=g;l/=g;k/=g;if(f*l<e*m){f=-f;e=-e;k=-k;j=-j}return{scale:[j,0,0,g,0,0],translate:[1,0,0,1,h[4],h[5]],rotate:[f,e,-e,f,0,0],skew:[1,0,k,1,0,0]}},_matrix_map_point:function(q,r){var m=q[0];var f=q[1];var g=q[2];var j=q[3];var e=q[4];var d=q[5];var n=r[0];var l=r[1];var k=n*m+l*g+e;var h=n*f+l*j+d;return[k,h]},_matrix_map_point_obj:function(e,f){var d=this._matrix_map_point(e,[f.x,f.y]);return{x:d[0],y:d[1]}},_matrix_map_rect:function(d,e){var g=this._matrix_map_point(d,[e.x,e.y]);var f=this._matrix_map_point(d,[e.x+e.w,e.y+e.h]);return{x:g[0],y:g[1],w:f[0]-g[0],h:f[1]-g[1]}},_matrix_is_identity:function(d){if(d[0]!=1){return false}if(d[1]!=0){return false}if(d[2]!=0){return false}if(d[3]!=1){return false}if(d[4]!=0){return false}if(d[5]!=0){return false}return true},rotate:function(e){var d=[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,d)},scale:function(f,e){var d=[f,0,0,e,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,d)},translate:function(d,f){var e=[1,0,0,1,d,f];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},stroke:function(){if(this.ctx._clip_path.length>0){var d;if(window.outIntercept){d=window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept}else{d=this.internal.getCurrentPage()}d.push("q");var e=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(true);this.ctx._clip_path=this.path;this.path=e;this._stroke(false);d.push("Q")}else{this._stroke(false)}},_stroke:function(B){if(!B&&this._isStrokeTransparent()){return}var D=[];var f=false;var A=this.path;for(var r=0;r<A.length;r++){var q=A[r];switch(q.type){case"mt":D.push({start:q,deltas:[],abs:[]});break;case"lt":var C=[q.x-A[r-1].x,q.y-A[r-1].y];D[D.length-1].deltas.push(C);D[D.length-1].abs.push(q);break;case"bct":var C=[q.x1-A[r-1].x,q.y1-A[r-1].y,q.x2-A[r-1].x,q.y2-A[r-1].y,q.x-A[r-1].x,q.y-A[r-1].y];D[D.length-1].deltas.push(C);break;case"qct":var z=A[r-1].x+2/3*(q.x1-A[r-1].x);var g=A[r-1].y+2/3*(q.y1-A[r-1].y);var u=q.x+2/3*(q.x1-q.x);var e=q.y+2/3*(q.y1-q.y);var s=q.x;var d=q.y;var C=[z-A[r-1].x,g-A[r-1].y,u-A[r-1].x,e-A[r-1].y,s-A[r-1].x,d-A[r-1].y];D[D.length-1].deltas.push(C);break;case"arc":if(D.length==0){D.push({start:{x:0,y:0},deltas:[],abs:[]})}D[D.length-1].arc=true;D[D.length-1].abs.push(q);break;case"close":f=true;break}}for(var r=0;r<D.length;r++){var w;if(r==D.length-1){w="s"}else{w=null}if(D[r].arc){var t=D[r].abs;for(var n=0;n<t.length;n++){var k=t[n];var j=k.startAngle*360/(2*Math.PI);var h=k.endAngle*360/(2*Math.PI);var m=k.x;var l=k.y;this.internal.arc2(this,m,l,k.radius,j,h,k.anticlockwise,w,B)}}else{var m=D[r].start.x;var l=D[r].start.y;if(!B){this.pdf.lines(D[r].deltas,m,l,null,w)}else{this.pdf.lines(D[r].deltas,m,l,null,null);this.pdf.clip_fixed()}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||this.globalAlpha==0},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||this.globalAlpha==0},fill:function(e){if(this.ctx._clip_path.length>0){var d;if(window.outIntercept){d=window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept}else{d=this.internal.getCurrentPage()}d.push("q");var f=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(e,true);this.ctx._clip_path=this.path;this.path=f;this._fill(e,false);d.push("Q")}else{this._fill(e,false)}},_fill:function(w,L){if(this._isFillTransparent()){return}var m=typeof this.pdf.internal.newObject2==="function";var d;if(window.outIntercept){d=window.outIntercept.type==="group"?window.outIntercept.stream:window.outIntercept}else{d=this.internal.getCurrentPage()}var N=[];var j=window.outIntercept;if(m){switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var u=this.pdf.internal.newStreamObject();var D=this.pdf.internal.newObject2();D.push("<</Type /ExtGState");D.push("/SMask <</S /Alpha /G "+u.objId+" 0 R>>");D.push(">>");var G="MASK"+D.objId;this.pdf.internal.addGraphicsState(G,D.objId);var J="/"+G+" gs";d.splice(0,0,"q");d.splice(1,0,J);d.push("Q");window.outIntercept=u;break;default:var n="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];if(n){this.pdf.internal.out(n+" gs")}break}}var l=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1){l=this.ctx._fillOpacity}if(m){var I=this.pdf.internal.newObject2();I.push("<</Type /ExtGState");I.push("/CA "+l);I.push("/ca "+l);I.push(">>");var G="GS_O_"+I.objId;this.pdf.internal.addGraphicsState(G,I.objId);this.pdf.internal.out("/"+G+" gs")}var K=this.path;for(var C=0;C<K.length;C++){var z=K[C];switch(z.type){case"mt":N.push({start:z,deltas:[],abs:[]});break;case"lt":var M=[z.x-K[C-1].x,z.y-K[C-1].y];N[N.length-1].deltas.push(M);N[N.length-1].abs.push(z);break;case"bct":var M=[z.x1-K[C-1].x,z.y1-K[C-1].y,z.x2-K[C-1].x,z.y2-K[C-1].y,z.x-K[C-1].x,z.y-K[C-1].y];N[N.length-1].deltas.push(M);break;case"qct":var H=K[C-1].x+2/3*(z.x1-K[C-1].x);var g=K[C-1].y+2/3*(z.y1-K[C-1].y);var F=z.x+2/3*(z.x1-z.x);var f=z.y+2/3*(z.y1-z.y);var B=z.x;var e=z.y;var M=[H-K[C-1].x,g-K[C-1].y,F-K[C-1].x,f-K[C-1].y,B-K[C-1].x,e-K[C-1].y];N[N.length-1].deltas.push(M);break;case"arc":if(N.length===0){N.push({deltas:[],abs:[]})}N[N.length-1].arc=true;N[N.length-1].abs.push(z);break;case"close":N.push({close:true});break}}for(var C=0;C<N.length;C++){var E;if(C==N.length-1){E="f";if(w==="evenodd"){E+="*"}}else{E=null}if(N[C].close){this.pdf.internal.out("h");this.pdf.internal.out("f")}else{if(N[C].arc){if(N[C].start){this.internal.move2(this,N[C].start.x,N[C].start.y)}var A=N[C].abs;for(var t=0;t<A.length;t++){var q=A[t];if(typeof q.startAngle!=="undefined"){var k=q.startAngle*360/(2*Math.PI);var h=q.endAngle*360/(2*Math.PI);var s=q.x;var r=q.y;if(t===0){this.internal.move2(this,s,r)}this.internal.arc2(this,s,r,q.radius,k,h,q.anticlockwise,null,L);if(t===A.length-1){if(N[C].start){var s=N[C].start.x;var r=N[C].start.y;this.internal.line2(b,s,r)}}}else{this.internal.line2(b,q.x,q.y)}}}else{var s=N[C].start.x;var r=N[C].start.y;if(!L){this.pdf.lines(N[C].deltas,s,r,null,E)}else{this.pdf.lines(N[C].deltas,s,r,null,null);this.pdf.clip_fixed()}}}}window.outIntercept=j},pushMask:function(){var e=typeof this.pdf.internal.newObject2==="function";if(!e){console.log("jsPDF v2 not enabled");return}var h=this.pdf.internal.newStreamObject();var g=this.pdf.internal.newObject2();g.push("<</Type /ExtGState");g.push("/SMask <</S /Alpha /G "+h.objId+" 0 R>>");g.push(">>");var f="MASK"+g.objId;this.pdf.internal.addGraphicsState(f,g.objId);var d="/"+f+" gs";this.pdf.internal.out(d)},clip:function(){if(this.ctx._clip_path.length>0){for(var d=0;d<this.path.length;d++){this.ctx._clip_path.push(this.path[d])}}else{this.ctx._clip_path=this.path}this.path=[]},measureText:function(e){var d=this.pdf;return{getWidth:function(){var g=d.internal.getFontSize();var f=d.getStringUnitWidth(e)*g/d.internal.scaleFactor;f*=1.3333;return f},get widthfunction(){return this.getWidth(e)}}},_getBaseline:function(f){var e=parseInt(this.pdf.internal.getFontSize());var d=e*0.25;switch(this.ctx.textBaseline){case"bottom":return f-d;case"top":return f+e;case"hanging":return f+e-d;case"middle":return f+e/2-d;case"ideographic":return f;case"alphabetic":default:return f}}};var b=c.context2d;Object.defineProperty(b,"fillStyle",{set:function(d){this.setFillStyle(d)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(b,"strokeStyle",{set:function(d){this.setStrokeStyle(d)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(b,"lineWidth",{set:function(d){this.setLineWidth(d)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(b,"lineCap",{set:function(d){this.setLineCap(d)},get:function(){return this.ctx.lineCap}});Object.defineProperty(b,"lineJoin",{set:function(d){this.setLineJoin(d)},get:function(){return this.ctx.lineJoin}});Object.defineProperty(b,"miterLimit",{set:function(d){this.ctx.miterLimit=d},get:function(){return this.ctx.miterLimit}});Object.defineProperty(b,"textBaseline",{set:function(d){this.setTextBaseline(d)},get:function(){return this.getTextBaseline()}});Object.defineProperty(b,"textAlign",{set:function(d){this.setTextAlign(d)},get:function(){return this.getTextAlign()}});Object.defineProperty(b,"font",{set:function(d){this.setFont(d)},get:function(){return this.ctx.font}});Object.defineProperty(b,"globalCompositeOperation",{set:function(d){this.ctx.globalCompositeOperation=d},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(b,"globalAlpha",{set:function(d){this.ctx.globalAlpha=d},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(b,"ignoreClearRect",{set:function(d){this.ctx.ignoreClearRect=d},get:function(){return this.ctx.ignoreClearRect}});b.internal={};b.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;b.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;b.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;b.internal.arc=function(n,t,e,l,C,B,d,w){var f=true;var s=this.pdf.internal.scaleFactor;var h=this.pdf.internal.pageSize.height();var q=this.pdf.internal.f2;var A=C*(Math.PI/180);var g=B*(Math.PI/180);var j=this.createArc(l,A,g,d);var z=null;for(var u=0;u<j.length;u++){var m=j[u];if(f&&u===0){this.pdf.internal.out([q((m.x1+t)*s),q((h-(m.y1+e))*s),"m",q((m.x2+t)*s),q((h-(m.y2+e))*s),q((m.x3+t)*s),q((h-(m.y3+e))*s),q((m.x4+t)*s),q((h-(m.y4+e))*s),"c"].join(" "))}else{this.pdf.internal.out([q((m.x2+t)*s),q((h-(m.y2+e))*s),q((m.x3+t)*s),q((h-(m.y3+e))*s),q((m.x4+t)*s),q((h-(m.y4+e))*s),"c"].join(" "))}n._lastPoint={x:t,y:e}}if(w!==null){this.pdf.internal.out(this.pdf.internal.getStyle(w))}};b.internal.arc2=function(w,s,q,t,E,D,d,B,C){var m=s;var j=q;if(false){var e=(D-E);var g={x:t,y:0};var l={x:t,y:t*4/3*Math.tan(e/4)};var h={x:t*(Math.cos(e)+4/3*Math.tan(e/4)*Math.sin(e)),y:t*(Math.sin(e)-4/3*Math.tan(e/4)*Math.cos(e))};var f={x:t*Math.cos(e),y:t*Math.sin(e)};var A=[Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),s,q];g=w._matrix_map_point_obj(A,g);l=w._matrix_map_point_obj(A,l);h=w._matrix_map_point_obj(A,h);f=w._matrix_map_point_obj(A,f);var z=this.pdf.internal.scaleFactor;var n=this.pdf.internal.pageSize.height();var u=this.pdf.internal.f2;this.pdf.internal.out([u((g.x)*z),u((n-(g.y))*z),"m",u((l.x)*z),u((n-(l.y))*z),u((h.x)*z),u((n-(h.y))*z),u((f.x)*z),u((n-(f.y))*z),"c"].join(" "));w._lastPoint=f;return}if(!C){this.arc(w,m,j,t,E,D,d,B)}else{this.arc(w,m,j,t,E,D,d,null);this.pdf.clip_fixed()}};b.internal.move2=function(j,d,h){var e=this.pdf.internal.scaleFactor;var f=this.pdf.internal.pageSize.height();var g=this.pdf.internal.f2;this.pdf.internal.out([g((d)*e),g((f-(h))*e),"m"].join(" "));j._lastPoint={x:d,y:h}};b.internal.line2=function(l,f,d){var e=this.pdf.internal.scaleFactor;var g=this.pdf.internal.pageSize.height();var j=this.pdf.internal.f2;var h={x:f,y:d};this.pdf.internal.out([j((h.x)*e),j((g-(h.y))*e),"l"].join(" "));l._lastPoint=h};b.internal.createArc=function(n,q,f,g){var j=0.00001;var t=Math.PI*2;var h=Math.PI/2;var k=q;if(k<t||k>t){k=k%t}if(k<0){k=t+k}while(q>f){q=q-t}var r=Math.abs(f-q);if(r<t){if(g){r=t-r}}var s=[];var l=g?-1:+1;var e=k;for(;r>j;){var m=l*Math.min(r,h);var d=e+m;s.push(this.createSmallArc(n,e,d));r-=Math.abs(d-e);e=d}return s};b.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};b.internal.createSmallArc=function(m,B,A){var z=(A-B)/2;var q=m*Math.cos(z);var d=m*Math.sin(z);var u=q;var g=-d;var k=u*u+g*g;var j=k+u*q+g*d;var h=4/3*(Math.sqrt(2*k*j)-j)/(u*d-g*q);var t=u-h*g;var f=g+h*u;var s=t;var e=-f;var n=z+B;var w=Math.cos(n);var l=Math.sin(n);return{x1:m*Math.cos(B),y1:m*Math.sin(B),x2:t*w-f*l,y2:t*l+f*w,x3:s*w-e*l,y3:s*l+e*w,x4:m*Math.cos(A),y4:m*Math.sin(A)}};function a(){this._isStrokeTransparent=false;this._strokeOpacity=1;this.strokeStyle="#000000";this.fillStyle="#000000";this._isFillTransparent=false;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=1;this._clip_path=[];this.ignoreClearRect=false;this.copy=function(d){this._isStrokeTransparent=d._isStrokeTransparent;this._strokeOpacity=d._strokeOpacity;this.strokeStyle=d.strokeStyle;this._isFillTransparent=d._isFillTransparent;this._fillOpacity=d._fillOpacity;this.fillStyle=d.fillStyle;this.font=d.font;this.lineWidth=d.lineWidth;this.lineJoin=d.lineJoin;this.lineCap=d.lineCap;this.textBaseline=d.textBaseline;this.textAlign=d.textAlign;this._fontSize=d._fontSize;this._transform=d._transform.slice(0);this.globalCompositeOperation=d.globalCompositeOperation;this.globalAlpha=d.globalAlpha;this._clip_path=d._clip_path.slice(0);this.ignoreClearRect=d.ignoreClearRect}}return this})(jsPDF.API);void function(a,b){if(typeof module==="object"){module.exports=b()}else{if(typeof define==="function"){define(b)}else{a.adler32cs=b()}}}(this,function(){var h=typeof ArrayBuffer==="function"&&typeof Uint8Array==="function";var d=null,a=(function(){if(!h){return function r(){return false}}try{var n=require("buffer");if(typeof n.Buffer==="function"){d=n.Buffer}}catch(q){}return function r(s){return s instanceof ArrayBuffer||d!==null&&s instanceof d}}());var b=(function(){if(d!==null){return function n(q){return new d(q,"utf8").toString("binary")}}else{return function n(q){return unescape(encodeURIComponent(q))}}}());var f=65521;var l=function l(u,q){var r=u&65535,n=u>>>16;for(var s=0,t=q.length;s<t;s++){r=(r+(q.charCodeAt(s)&255))%f;n=(n+r)%f}return(n<<16|r)>>>0};var m=function m(w,u){var r=w&65535,q=w>>>16;for(var s=0,t=u.length,n;s<t;s++){r=(r+u[s])%f;q=(q+r)%f}return(q<<16|r)>>>0};var g={};var c=g.Adler32=(function(){var A=function q(C){if(!(this instanceof A)){throw new TypeError("Constructor cannot called be as a function.")}if(!isFinite(C=C==null?1:+C)){throw new Error("First arguments needs to be a finite number.")}this.checksum=C>>>0};var t=A.prototype={};t.constructor=A;A.from=function(C){C.prototype=t;return C}(function z(C){if(!(this instanceof A)){throw new TypeError("Constructor cannot called be as a function.")}if(C==null){throw new Error("First argument needs to be a string.")}this.checksum=l(1,C.toString())});A.fromUtf8=function(C){C.prototype=t;return C}(function r(D){if(!(this instanceof A)){throw new TypeError("Constructor cannot called be as a function.")}if(D==null){throw new Error("First argument needs to be a string.")}var C=b(D.toString());this.checksum=l(1,C)});if(h){A.fromBuffer=function(C){C.prototype=t;return C}(function B(C){if(!(this instanceof A)){throw new TypeError("Constructor cannot called be as a function.")}if(!a(C)){throw new Error("First argument needs to be ArrayBuffer.")}var D=new Uint8Array(C);return this.checksum=m(1,D)})}t.update=function s(C){if(C==null){throw new Error("First argument needs to be a string.")}C=C.toString();return this.checksum=l(this.checksum,C)};t.updateUtf8=function n(D){if(D==null){throw new Error("First argument needs to be a string.")}var C=b(D.toString());return this.checksum=l(this.checksum,C)};if(h){t.updateBuffer=function w(C){if(!a(C)){throw new Error("First argument needs to be ArrayBuffer.")}var D=new Uint8Array(C);return this.checksum=m(this.checksum,D)}}t.clone=function u(){return new q(this.checksum)};return A}());g.from=function j(n){if(n==null){throw new Error("First argument needs to be a string.")}return l(1,n.toString())};g.fromUtf8=function e(q){if(q==null){throw new Error("First argument needs to be a string.")}var n=b(q.toString());return l(1,n)};if(h){g.fromBuffer=function k(n){if(!a(n)){throw new Error("First argument need to be ArrayBuffer.")}var q=new Uint8Array(n);return m(1,q)}}return g});var Deflater=(function(h){var ak=15;var b=30;var r=19;var l=29;var e=256;var f=(e+1+l);var g=(2*f+1);var c=256;var ab=7;var G=16;var F=17;var J=18;var z=8*2;var D=-1;var T=1;var Q=2;var a=0;var af=0;var I=1;var t=3;var m=4;var A=0;var aj=1;var S=2;var am=-2;var q=-3;var U=-5;var ad=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function u(){var ao=this;function aq(aD){var aE=ao.dyn_tree;var aC=ao.stat_desc.static_tree;var av=ao.stat_desc.extra_bits;var ar=ao.stat_desc.extra_base;var aB=ao.stat_desc.max_length;var ay;var at,au;var aA;var ax;var az;var aw=0;for(aA=0;aA<=ak;aA++){aD.bl_count[aA]=0}aE[aD.heap[aD.heap_max]*2+1]=0;for(ay=aD.heap_max+1;ay<g;ay++){at=aD.heap[ay];aA=aE[aE[at*2+1]*2+1]+1;if(aA>aB){aA=aB;aw++}aE[at*2+1]=aA;if(at>ao.max_code){continue}aD.bl_count[aA]++;ax=0;if(at>=ar){ax=av[at-ar]}az=aE[at*2];aD.opt_len+=az*(aA+ax);if(aC){aD.static_len+=az*(aC[at*2+1]+ax)}}if(aw===0){return}do{aA=aB-1;while(aD.bl_count[aA]===0){aA--}aD.bl_count[aA]--;aD.bl_count[aA+1]+=2;aD.bl_count[aB]--;aw-=2}while(aw>0);for(aA=aB;aA!==0;aA--){at=aD.bl_count[aA];while(at!==0){au=aD.heap[--ay];if(au>ao.max_code){continue}if(aE[au*2+1]!=aA){aD.opt_len+=(aA-aE[au*2+1])*aE[au*2];aE[au*2+1]=aA}at--}}}function ap(au,ar){var at=0;do{at|=au&1;au>>>=1;at<<=1}while(--ar>0);return at>>>1}function an(at,az,au){var aw=[];var av=0;var ax;var ay;var ar;for(ax=1;ax<=ak;ax++){aw[ax]=av=((av+au[ax-1])<<1)}for(ay=0;ay<=az;ay++){ar=at[ay*2+1];if(ar===0){continue}at[ay*2]=ap(aw[ar]++,ar)}}ao.build_tree=function(av){var at=ao.dyn_tree;var ax=ao.stat_desc.static_tree;var au=ao.stat_desc.elems;var az,ar;var ay=-1;var aw;av.heap_len=0;av.heap_max=g;for(az=0;az<au;az++){if(at[az*2]!==0){av.heap[++av.heap_len]=ay=az;av.depth[az]=0}else{at[az*2+1]=0}}while(av.heap_len<2){aw=av.heap[++av.heap_len]=ay<2?++ay:0;at[aw*2]=1;av.depth[aw]=0;av.opt_len--;if(ax){av.static_len-=ax[aw*2+1]}}ao.max_code=ay;for(az=Math.floor(av.heap_len/2);az>=1;az--){av.pqdownheap(at,az)}aw=au;do{az=av.heap[1];av.heap[1]=av.heap[av.heap_len--];av.pqdownheap(at,1);ar=av.heap[1];av.heap[--av.heap_max]=az;av.heap[--av.heap_max]=ar;at[aw*2]=(at[az*2]+at[ar*2]);av.depth[aw]=Math.max(av.depth[az],av.depth[ar])+1;at[az*2+1]=at[ar*2+1]=aw;av.heap[1]=aw++;av.pqdownheap(at,1)}while(av.heap_len>=2);av.heap[--av.heap_max]=av.heap[1];aq(av);an(at,ao.max_code,av.bl_count)}}u._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];u.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];u.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];u.d_code=function(an){return((an)<256?ad[an]:ad[256+((an)>>>7)])};u.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];u.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];u.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];u.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function ag(aq,ap,ao,an,at){var ar=this;ar.static_tree=aq;ar.extra_bits=ap;ar.extra_base=ao;ar.elems=an;ar.max_length=at}ag.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];ag.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];ag.static_l_desc=new ag(ag.static_ltree,u.extra_lbits,e+1,f,ak);ag.static_d_desc=new ag(ag.static_dtree,u.extra_dbits,0,b,ak);ag.static_bl_desc=new ag(null,u.extra_blbits,0,r,ab);var ae=9;var ac=8;function n(an,at,ao,ar,aq){var ap=this;ap.good_length=an;ap.max_lazy=at;ap.nice_length=ao;ap.max_chain=ar;ap.func=aq}var L=0;var s=1;var N=2;var d=[new n(0,0,0,0,L),new n(4,4,8,4,s),new n(4,5,16,8,s),new n(4,6,32,32,s),new n(4,4,16,16,N),new n(8,16,32,32,N),new n(8,16,128,128,N),new n(8,32,128,256,N),new n(32,128,258,1024,N),new n(32,258,258,4096,N)];var w=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];var O=0;var aa=1;var K=2;var k=3;var j=32;var E=42;var Z=113;var X=666;var Y=8;var V=0;var ai=1;var H=2;var al=3;var C=258;var B=(C+al+1);function W(ap,at,ao,ar){var aq=ap[at*2];var an=ap[ao*2];return(aq<an||(aq==an&&ar[at]<=ar[ao]))}function M(){var a0=this;var aP;var aY;var bh;var aH;var au;var av;var a6;var aK;var bs;var an;var aU;var aO;var a8;var aE;var bf;var aW;var bx;var bw;var bn;var aV;var aA;var by;var a1;var aR;var aq;var aG;var ba;var bg;var ao;var aw;var aF;var bk;var aM;var at;var aI=new u();var bv=new u();var bm=new u();a0.depth=[];var a9;var bp;var bd;var ar;var aC;var be;var aX;var aB;a0.bl_count=[];a0.heap=[];bk=[];aM=[];at=[];function a2(){var bz;an=2*av;aO[aE-1]=0;for(bz=0;bz<aE-1;bz++){aO[bz]=0}ba=d[bg].max_lazy;aw=d[bg].good_length;aF=d[bg].nice_length;aG=d[bg].max_chain;by=0;bw=0;aR=0;bn=aq=al-1;aA=0;a8=0}function a3(){var bz;for(bz=0;bz<f;bz++){bk[bz*2]=0}for(bz=0;bz<b;bz++){aM[bz*2]=0}for(bz=0;bz<r;bz++){at[bz*2]=0}bk[c*2]=1;a0.opt_len=a0.static_len=0;bd=aC=0}function bq(){aI.dyn_tree=bk;aI.stat_desc=ag.static_l_desc;bv.dyn_tree=aM;bv.stat_desc=ag.static_d_desc;bm.dyn_tree=at;bm.stat_desc=ag.static_bl_desc;aX=0;aB=0;be=8;a3()}a0.pqdownheap=function(bz,bB){var bD=a0.heap;var bA=bD[bB];var bC=bB<<1;while(bC<=a0.heap_len){if(bC<a0.heap_len&&W(bz,bD[bC+1],bD[bC],a0.depth)){bC++}if(W(bz,bA,bD[bC],a0.depth)){break}bD[bB]=bD[bC];bB=bC;bC<<=1}bD[bB]=bA};function bb(bH,bG){var bA;var bE=-1;var bz;var bC=bH[0*2+1];var bD=0;var bB=7;var bF=4;if(bC===0){bB=138;bF=3}bH[(bG+1)*2+1]=65535;for(bA=0;bA<=bG;bA++){bz=bC;bC=bH[(bA+1)*2+1];if(++bD<bB&&bz==bC){continue}else{if(bD<bF){at[bz*2]+=bD}else{if(bz!==0){if(bz!=bE){at[bz*2]++}at[G*2]++}else{if(bD<=10){at[F*2]++}else{at[J*2]++}}}}bD=0;bE=bz;if(bC===0){bB=138;bF=3}else{if(bz==bC){bB=6;bF=3}else{bB=7;bF=4}}}}function aS(){var bz;bb(bk,aI.max_code);bb(aM,bv.max_code);bm.build_tree(a0);for(bz=r-1;bz>=3;bz--){if(at[u.bl_order[bz]*2+1]!==0){break}}a0.opt_len+=3*(bz+1)+5+5+4;return bz}function ap(bz){a0.pending_buf[a0.pending++]=bz}function bi(bz){ap(bz&255);ap((bz>>>8)&255)}function aQ(bz){ap((bz>>8)&255);ap((bz&255)&255)}function br(bB,bA){var bC,bz=bA;if(aB>z-bz){bC=bB;aX|=((bC<<aB)&65535);bi(aX);aX=bC>>>(z-aB);aB+=bz-z}else{aX|=(((bB)<<aB)&65535);aB+=bz}}function aZ(bB,bz){var bA=bB*2;br(bz[bA]&65535,bz[bA+1]&65535)}function bc(bH,bG){var bA;var bE=-1;var bz;var bC=bH[0*2+1];var bD=0;var bB=7;var bF=4;if(bC===0){bB=138;bF=3}for(bA=0;bA<=bG;bA++){bz=bC;bC=bH[(bA+1)*2+1];if(++bD<bB&&bz==bC){continue}else{if(bD<bF){do{aZ(bz,at)}while(--bD!==0)}else{if(bz!==0){if(bz!=bE){aZ(bz,at);bD--}aZ(G,at);br(bD-3,2)}else{if(bD<=10){aZ(F,at);br(bD-3,3)}else{aZ(J,at);br(bD-11,7)}}}}bD=0;bE=bz;if(bC===0){bB=138;bF=3}else{if(bz==bC){bB=6;bF=3}else{bB=7;bF=4}}}}function bo(bA,bz,bB){var bC;br(bA-257,5);br(bz-1,5);br(bB-4,4);for(bC=0;bC<bB;bC++){br(at[u.bl_order[bC]*2+1],3)}bc(bk,bA-1);bc(aM,bz-1)}function a7(){if(aB==16){bi(aX);aX=0;aB=0}else{if(aB>=8){ap(aX&255);aX>>>=8;aB-=8}}}function az(){br(ai<<1,3);aZ(c,ag.static_ltree);a7();if(1+be+10-aB<9){br(ai<<1,3);aZ(c,ag.static_ltree);a7()}be=7}function aN(bD,bB){var bz,bC,bA;a0.pending_buf[ar+bd*2]=(bD>>>8)&255;a0.pending_buf[ar+bd*2+1]=bD&255;a0.pending_buf[a9+bd]=bB&255;bd++;if(bD===0){bk[bB*2]++}else{aC++;bD--;bk[(u._length_code[bB]+e+1)*2]++;aM[u.d_code(bD)*2]++}if((bd&8191)===0&&bg>2){bz=bd*8;bC=by-bw;for(bA=0;bA<b;bA++){bz+=aM[bA*2]*(5+u.extra_dbits[bA])}bz>>>=3;if((aC<Math.floor(bd/2))&&bz<Math.floor(bC/2)){return true}}return(bd==bp-1)}function a5(bF,bC){var bE;var bB;var bD=0;var bA;var bz;if(bd!==0){do{bE=((a0.pending_buf[ar+bD*2]<<8)&65280)|(a0.pending_buf[ar+bD*2+1]&255);bB=(a0.pending_buf[a9+bD])&255;bD++;if(bE===0){aZ(bB,bF)}else{bA=u._length_code[bB];aZ(bA+e+1,bF);bz=u.extra_lbits[bA];if(bz!==0){bB-=u.base_length[bA];br(bB,bz)}bE--;bA=u.d_code(bE);aZ(bA,bC);bz=u.extra_dbits[bA];if(bz!==0){bE-=u.base_dist[bA];br(bE,bz)}}}while(bD<bd)}aZ(c,bF);be=bF[c*2+1]}function bt(){if(aB>8){bi(aX)}else{if(aB>0){ap(aX&255)}}aX=0;aB=0}function aD(bA,bz,bB){bt();be=8;if(bB){bi(bz);bi(~bz)}a0.pending_buf.set(bs.subarray(bA,bA+bz),a0.pending);a0.pending+=bz}function aT(bA,bB,bz){br((V<<1)+(bz?1:0),3);aD(bA,bB,true)}function aL(bC,bE,bz){var bB,bA;var bD=0;if(bg>0){aI.build_tree(a0);bv.build_tree(a0);bD=aS();bB=(a0.opt_len+3+7)>>>3;bA=(a0.static_len+3+7)>>>3;if(bA<=bB){bB=bA}}else{bB=bA=bE+5}if((bE+4<=bB)&&bC!=-1){aT(bC,bE,bz)}else{if(bA==bB){br((ai<<1)+(bz?1:0),3);a5(ag.static_ltree,ag.static_dtree)}else{br((H<<1)+(bz?1:0),3);bo(aI.max_code+1,bv.max_code+1,bD+1);a5(bk,aM)}}a3();if(bz){bt()}}function ax(bz){aL(bw>=0?bw:-1,by-bw,bz);bw=by;aP.flush_pending()}function bl(){var bC,bz;var bB;var bA;do{bA=(an-aR-by);if(bA===0&&by===0&&aR===0){bA=av}else{if(bA==-1){bA--}else{if(by>=av+av-B){bs.set(bs.subarray(av,av+av),0);a1-=av;by-=av;bw-=av;bC=aE;bB=bC;do{bz=(aO[--bB]&65535);aO[bB]=(bz>=av?bz-av:0)}while(--bC!==0);bC=av;bB=bC;do{bz=(aU[--bB]&65535);aU[bB]=(bz>=av?bz-av:0)}while(--bC!==0);bA+=av}}}if(aP.avail_in===0){return}bC=aP.read_buf(bs,by+aR,bA);aR+=bC;if(aR>=al){a8=bs[by]&255;a8=(((a8)<<bx)^(bs[by+1]&255))&aW}}while(aR<B&&aP.avail_in!==0)}function a4(bz){var bB=65535;var bA;if(bB>bh-5){bB=bh-5}while(true){if(aR<=1){bl();if(aR===0&&bz==af){return O}if(aR===0){break}}by+=aR;aR=0;bA=bw+bB;if(by===0||by>=bA){aR=(by-bA);by=bA;ax(false);if(aP.avail_out===0){return O}}if(by-bw>=av-B){ax(false);if(aP.avail_out===0){return O}}}ax(bz==m);if(aP.avail_out===0){return(bz==m)?K:O}return bz==m?k:aa}function bu(bC){var bF=aG;var bK=by;var bD;var bE;var bz=aq;var bA=by>(av-B)?by-(av-B):0;var bB=aF;var bG=aK;var bI=by+C;var bJ=bs[bK+bz-1];var bH=bs[bK+bz];if(aq>=aw){bF>>=2}if(bB>aR){bB=aR}do{bD=bC;if(bs[bD+bz]!=bH||bs[bD+bz-1]!=bJ||bs[bD]!=bs[bK]||bs[++bD]!=bs[bK+1]){continue}bK+=2;bD++;do{}while(bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bs[++bK]==bs[++bD]&&bK<bI);bE=C-(bI-bK);bK=bI-C;if(bE>bz){a1=bC;bz=bE;if(bE>=bB){break}bJ=bs[bK+bz-1];bH=bs[bK+bz]}}while((bC=(aU[bC&bG]&65535))>bA&&--bF!==0);if(bz<=aR){return bz}return aR}function ay(bz){var bB=0;var bA;while(true){if(aR<B){bl();if(aR<B&&bz==af){return O}if(aR===0){break}}if(aR>=al){a8=(((a8)<<bx)^(bs[(by)+(al-1)]&255))&aW;bB=(aO[a8]&65535);aU[by&aK]=aO[a8];aO[a8]=by}if(bB!==0&&((by-bB)&65535)<=av-B){if(ao!=Q){bn=bu(bB)}}if(bn>=al){bA=aN(by-a1,bn-al);aR-=bn;if(bn<=ba&&aR>=al){bn--;do{by++;a8=((a8<<bx)^(bs[(by)+(al-1)]&255))&aW;bB=(aO[a8]&65535);aU[by&aK]=aO[a8];aO[a8]=by}while(--bn!==0);by++}else{by+=bn;bn=0;a8=bs[by]&255;a8=(((a8)<<bx)^(bs[by+1]&255))&aW}}else{bA=aN(0,bs[by]&255);aR--;by++}if(bA){ax(false);if(aP.avail_out===0){return O}}}ax(bz==m);if(aP.avail_out===0){if(bz==m){return K}else{return O}}return bz==m?k:aa}function bj(bA){var bC=0;var bB;var bz;while(true){if(aR<B){bl();if(aR<B&&bA==af){return O}if(aR===0){break}}if(aR>=al){a8=(((a8)<<bx)^(bs[(by)+(al-1)]&255))&aW;bC=(aO[a8]&65535);aU[by&aK]=aO[a8];aO[a8]=by}aq=bn;aV=a1;bn=al-1;if(bC!==0&&aq<ba&&((by-bC)&65535)<=av-B){if(ao!=Q){bn=bu(bC)}if(bn<=5&&(ao==T||(bn==al&&by-a1>4096))){bn=al-1}}if(aq>=al&&bn<=aq){bz=by+aR-al;bB=aN(by-1-aV,aq-al);aR-=aq-1;aq-=2;do{if(++by<=bz){a8=(((a8)<<bx)^(bs[(by)+(al-1)]&255))&aW;bC=(aO[a8]&65535);aU[by&aK]=aO[a8];aO[a8]=by}}while(--aq!==0);aA=0;bn=al-1;by++;if(bB){ax(false);if(aP.avail_out===0){return O}}}else{if(aA!==0){bB=aN(0,bs[by-1]&255);if(bB){ax(false)}by++;aR--;if(aP.avail_out===0){return O}}else{aA=1;by++;aR--}}}if(aA!==0){bB=aN(0,bs[by-1]&255);aA=0}ax(bA==m);if(aP.avail_out===0){if(bA==m){return K}else{return O}}return bA==m?k:aa}function aJ(bz){bz.total_in=bz.total_out=0;bz.msg=null;a0.pending=0;a0.pending_out=0;aY=Z;au=af;bq();a2();return A}a0.deflateInit=function(bz,bB,bC,bA,bE,bD){if(!bA){bA=Y}if(!bE){bE=ac}if(!bD){bD=a}bz.msg=null;if(bB==D){bB=6}if(bE<1||bE>ae||bA!=Y||bC<9||bC>15||bB<0||bB>9||bD<0||bD>Q){return am}bz.dstate=a0;a6=bC;av=1<<a6;aK=av-1;bf=bE+7;aE=1<<bf;aW=aE-1;bx=Math.floor((bf+al-1)/al);bs=new Uint8Array(av*2);aU=[];aO=[];bp=1<<(bE+6);a0.pending_buf=new Uint8Array(bp*4);bh=bp*4;ar=Math.floor(bp/2);a9=(1+2)*bp;bg=bB;ao=bD;aH=bA&255;return aJ(bz)};a0.deflateEnd=function(){if(aY!=E&&aY!=Z&&aY!=X){return am}a0.pending_buf=null;aO=null;aU=null;bs=null;a0.dstate=null;return aY==Z?q:A};a0.deflateParams=function(bz,bA,bC){var bB=A;if(bA==D){bA=6}if(bA<0||bA>9||bC<0||bC>Q){return am}if(d[bg].func!=d[bA].func&&bz.total_in!==0){bB=bz.deflate(I)}if(bg!=bA){bg=bA;ba=d[bg].max_lazy;aw=d[bg].good_length;aF=d[bg].nice_length;aG=d[bg].max_chain}ao=bC;return bB};a0.deflateSetDictionary=function(bz,bE,bC){var bB=bC;var bD,bA=0;if(!bE||aY!=E){return am}if(bB<al){return A}if(bB>av-B){bB=av-B;bA=bC-bB}bs.set(bE.subarray(bA,bA+bB),0);by=bB;bw=bB;a8=bs[0]&255;a8=(((a8)<<bx)^(bs[1]&255))&aW;for(bD=0;bD<=bB-al;bD++){a8=(((a8)<<bx)^(bs[(bD)+(al-1)]&255))&aW;aU[bD&aK]=aO[a8];aO[a8]=bD}return A};a0.deflate=function(bA,bz){var bB,bF,bD,bC,bE;if(bz>m||bz<0){return am}if(!bA.next_out||(!bA.next_in&&bA.avail_in!==0)||(aY==X&&bz!=m)){bA.msg=w[S-(am)];return am}if(bA.avail_out===0){bA.msg=w[S-(U)];return U}aP=bA;bC=au;au=bz;if(aY==E){bF=(Y+((a6-8)<<4))<<8;bD=((bg-1)&255)>>1;if(bD>3){bD=3}bF|=(bD<<6);if(by!==0){bF|=j}bF+=31-(bF%31);aY=Z;aQ(bF)}if(a0.pending!==0){aP.flush_pending();if(aP.avail_out===0){au=-1;return A}}else{if(aP.avail_in===0&&bz<=bC&&bz!=m){aP.msg=w[S-(U)];return U}}if(aY==X&&aP.avail_in!==0){bA.msg=w[S-(U)];return U}if(aP.avail_in!==0||aR!==0||(bz!=af&&aY!=X)){bE=-1;switch(d[bg].func){case L:bE=a4(bz);break;case s:bE=ay(bz);break;case N:bE=bj(bz);break;default:}if(bE==K||bE==k){aY=X}if(bE==O||bE==K){if(aP.avail_out===0){au=-1}return A}if(bE==aa){if(bz==I){az()}else{aT(0,0,false);if(bz==t){for(bB=0;bB<aE;bB++){aO[bB]=0}}}aP.flush_pending();if(aP.avail_out===0){au=-1;return A}}}if(bz!=m){return A}return aj}}function P(){var an=this;an.next_in_index=0;an.next_out_index=0;an.avail_in=0;an.total_in=0;an.avail_out=0;an.total_out=0}P.prototype={deflateInit:function(ap,ao){var an=this;an.dstate=new M();if(!ao){ao=ak}return an.dstate.deflateInit(an,ap,ao)},deflate:function(an){var ao=this;if(!ao.dstate){return am}return ao.dstate.deflate(ao,an)},deflateEnd:function(){var ao=this;if(!ao.dstate){return am}var an=ao.dstate.deflateEnd();ao.dstate=null;return an},deflateParams:function(ap,ao){var an=this;if(!an.dstate){return am}return an.dstate.deflateParams(an,ap,ao)},deflateSetDictionary:function(ap,ao){var an=this;if(!an.dstate){return am}return an.dstate.deflateSetDictionary(an,ap,ao)},read_buf:function(ao,ar,ap){var aq=this;var an=aq.avail_in;if(an>ap){an=ap}if(an===0){return 0}aq.avail_in-=an;ao.set(aq.next_in.subarray(aq.next_in_index,aq.next_in_index+an),ar);aq.next_in_index+=an;aq.total_in+=an;return an},flush_pending:function(){var ao=this;var an=ao.dstate.pending;if(an>ao.avail_out){an=ao.avail_out}if(an===0){return}ao.next_out.set(ao.dstate.pending_buf.subarray(ao.dstate.pending_out,ao.dstate.pending_out+an),ao.next_out_index);ao.next_out_index+=an;ao.dstate.pending_out+=an;ao.total_out+=an;ao.avail_out-=an;ao.dstate.pending-=an;if(ao.dstate.pending===0){ao.dstate.pending_out=0}}};return function ah(at){var ap=this;var ar=new P();var aq=512;var an=af;var ao=new Uint8Array(aq);if(typeof at=="undefined"){at=D}ar.deflateInit(at);ar.next_out=ao;ap.append=function(ay,ax){var aw,av=[],aB=0,au=0,aA=0,az;if(!ay.length){return}ar.next_in_index=0;ar.next_in=ay;ar.avail_in=ay.length;do{ar.next_out_index=0;ar.avail_out=aq;aw=ar.deflate(an);if(aw!=A){throw"deflating: "+ar.msg}if(ar.next_out_index){if(ar.next_out_index==aq){av.push(new Uint8Array(ao))}else{av.push(new Uint8Array(ao.subarray(0,ar.next_out_index)))}}aA+=ar.next_out_index;if(ax&&ar.next_in_index>0&&ar.next_in_index!=aB){ax(ar.next_in_index);aB=ar.next_in_index}}while(ar.avail_in>0||ar.avail_out===0);az=new Uint8Array(aA);av.forEach(function(aC){az.set(aC,au);au+=aC.length});return az};ap.flush=function(){var aw,av=[],au=0,ay=0,ax;do{ar.next_out_index=0;ar.avail_out=aq;aw=ar.deflate(m);if(aw!=aj&&aw!=A){throw"deflating: "+ar.msg}if(aq-ar.avail_out>0){av.push(new Uint8Array(ao.subarray(0,ar.next_out_index)))}ay+=ar.next_out_index}while(ar.avail_in>0||ar.avail_out===0);ar.deflateEnd();ax=new Uint8Array(ay);av.forEach(function(az){ax.set(az,au);au+=az.length});return ax}}})(this);(function(b){function a(j){this.ok=false;if(j.charAt(0)=="#"){j=j.substr(1,6)}j=j.replace(/ /g,"");j=j.toLowerCase();var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var e in c){if(j==e){j=c[e]}}var k=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(var d=0;d<k.length;d++){var g=k[d].re;var f=k[d].process;var h=g.exec(j);if(h){channels=f(h);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=(this.r<0||isNaN(this.r))?0:((this.r>255)?255:this.r);this.g=(this.g<0||isNaN(this.g))?0:((this.g>255)?255:this.g);this.b=(this.b<0||isNaN(this.b))?0:((this.b>255)?255:this.b);this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var n=this.r.toString(16);var m=this.g.toString(16);var l=this.b.toString(16);if(n.length==1){n="0"+n}if(m.length==1){m="0"+m}if(l.length==1){l="0"+l}return"#"+n+m+l};this.getHelpXML=function(){var n=new Array();for(var r=0;r<k.length;r++){var m=k[r].example;for(var q=0;q<m.length;q++){n[n.length]=m[q]}}for(var z in c){n[n.length]=z}var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var r=0;r<n.length;r++){try{var t=document.createElement("li");var w=new a(n[r]);var A=document.createElement("div");A.style.cssText="margin: 3px; border: 1px solid black; background:"+w.toHex()+"; color:"+w.toHex();A.appendChild(document.createTextNode("test"));var l=document.createTextNode(" "+n[r]+" -> "+w.toRGB()+" -> "+w.toHex());t.appendChild(A);t.appendChild(l);s.appendChild(t)}catch(u){}}return s}}if(typeof define!=="undefined"&&define.amd){define(function(){return a})}else{if(typeof module!=="undefined"&&module.exports){module.exports=a}}b.RGBColor=a}(typeof window!=="undefined"?window:this));(function(c){var j=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(r){var q=r.data;var n=r.width*r.height*4;for(var m=0;m<n;m+=4){var l=q[m+3]/255;q[m]*=l;q[m+1]*=l;q[m+2]*=l}}function e(r){var q=r.data;var n=r.width*r.height*4;for(var m=0;m<n;m+=4){var l=q[m+3];if(l!=0){l=255/l;q[m]*=l;q[m+1]*=l;q[m+2]*=l}}}function k(u,s,t,l){var q=document.getElementById(u);var z=q.naturalWidth;var r=q.naturalHeight;var n=document.getElementById(s);n.style.width=z+"px";n.style.height=r+"px";n.width=z;n.height=r;var m=n.getContext("2d");m.clearRect(0,0,z,r);m.drawImage(q,0,0);if(isNaN(t)||t<1){return}if(l){h(s,0,0,z,r,t)}else{f(s,0,0,z,r,t)}}function h(Y,S,P,l,n,ac){if(isNaN(ac)||ac<1){return}ac|=0;var u=document.getElementById(Y);var am=u.getContext("2d");var ah;try{try{ah=am.getImageData(S,P,l,n)}catch(al){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");ah=am.getImageData(S,P,l,n)}catch(al){alert("Cannot access local image");throw new Error("unable to access local image data: "+al);return}}}catch(al){alert("Cannot access image");throw new Error("unable to access image data: "+al)}g(ah);var t=ah.data;var aa,Z,aj,ag,F,I,B,r,s,O,af,E,Q,M,m,V,ab,G,D,A,H,J,K,U;var ak=ac+ac+1;var W=l<<2;var C=l-1;var ae=n-1;var z=ac+1;var ad=z*(z+1)/2;var T=new d();var N=T;for(aj=1;aj<ak;aj++){N=N.next=new d();if(aj==z){var w=N}}N.next=T;var ai=null;var X=null;B=I=0;var L=j[ac];var q=a[ac];for(Z=0;Z<n;Z++){V=ab=G=D=r=s=O=af=0;E=z*(A=t[I]);Q=z*(H=t[I+1]);M=z*(J=t[I+2]);m=z*(K=t[I+3]);r+=ad*A;s+=ad*H;O+=ad*J;af+=ad*K;N=T;for(aj=0;aj<z;aj++){N.r=A;N.g=H;N.b=J;N.a=K;N=N.next}for(aj=1;aj<z;aj++){ag=I+((C<aj?C:aj)<<2);r+=(N.r=(A=t[ag]))*(U=z-aj);s+=(N.g=(H=t[ag+1]))*U;O+=(N.b=(J=t[ag+2]))*U;af+=(N.a=(K=t[ag+3]))*U;V+=A;ab+=H;G+=J;D+=K;N=N.next}ai=T;X=w;for(aa=0;aa<l;aa++){t[I]=(r*L)>>q;t[I+1]=(s*L)>>q;t[I+2]=(O*L)>>q;t[I+3]=(af*L)>>q;r-=E;s-=Q;O-=M;af-=m;E-=ai.r;Q-=ai.g;M-=ai.b;m-=ai.a;ag=(B+((ag=aa+ac+1)<C?ag:C))<<2;V+=(ai.r=t[ag]);ab+=(ai.g=t[ag+1]);G+=(ai.b=t[ag+2]);D+=(ai.a=t[ag+3]);r+=V;s+=ab;O+=G;af+=D;ai=ai.next;E+=(A=X.r);Q+=(H=X.g);M+=(J=X.b);m+=(K=X.a);V-=A;ab-=H;G-=J;D-=K;X=X.next;I+=4}B+=l}for(aa=0;aa<l;aa++){ab=G=D=V=s=O=af=r=0;I=aa<<2;E=z*(A=t[I]);Q=z*(H=t[I+1]);M=z*(J=t[I+2]);m=z*(K=t[I+3]);r+=ad*A;s+=ad*H;O+=ad*J;af+=ad*K;N=T;for(aj=0;aj<z;aj++){N.r=A;N.g=H;N.b=J;N.a=K;N=N.next}F=l;for(aj=1;aj<=ac;aj++){I=(F+aa)<<2;r+=(N.r=(A=t[I]))*(U=z-aj);s+=(N.g=(H=t[I+1]))*U;O+=(N.b=(J=t[I+2]))*U;af+=(N.a=(K=t[I+3]))*U;V+=A;ab+=H;G+=J;D+=K;N=N.next;if(aj<ae){F+=l}}I=aa;ai=T;X=w;for(Z=0;Z<n;Z++){ag=I<<2;t[ag]=(r*L)>>q;t[ag+1]=(s*L)>>q;t[ag+2]=(O*L)>>q;t[ag+3]=(af*L)>>q;r-=E;s-=Q;O-=M;af-=m;E-=ai.r;Q-=ai.g;M-=ai.b;m-=ai.a;ag=(aa+(((ag=Z+z)<ae?ag:ae)*l))<<2;r+=(V+=(ai.r=t[ag]));s+=(ab+=(ai.g=t[ag+1]));O+=(G+=(ai.b=t[ag+2]));af+=(D+=(ai.a=t[ag+3]));ai=ai.next;E+=(A=X.r);Q+=(H=X.g);M+=(J=X.b);m+=(K=X.a);V-=A;ab-=H;G-=J;D-=K;X=X.next;I+=l}}e(ah);am.putImageData(ah,S,P)}function f(V,O,M,l,m,Z){if(isNaN(Z)||Z<1){return}Z|=0;var t=document.getElementById(V);var ai=t.getContext("2d");var ad;try{try{ad=ai.getImageData(O,M,l,m)}catch(ah){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");ad=ai.getImageData(O,M,l,m)}catch(ah){alert("Cannot access local image");throw new Error("unable to access local image data: "+ah);return}}}catch(ah){alert("Cannot access image");throw new Error("unable to access image data: "+ah)}var s=ad.data;var X,W,af,ac,D,G,A,q,r,L,B,N,J,S,Y,E,z,F,H,Q;var ag=Z+Z+1;var T=l<<2;var C=l-1;var ab=m-1;var w=Z+1;var aa=w*(w+1)/2;var P=new d();var K=P;for(af=1;af<ag;af++){K=K.next=new d();if(af==w){var u=K}}K.next=P;var ae=null;var U=null;A=G=0;var I=j[Z];var n=a[Z];for(W=0;W<m;W++){S=Y=E=q=r=L=0;B=w*(z=s[G]);N=w*(F=s[G+1]);J=w*(H=s[G+2]);q+=aa*z;r+=aa*F;L+=aa*H;K=P;for(af=0;af<w;af++){K.r=z;K.g=F;K.b=H;K=K.next}for(af=1;af<w;af++){ac=G+((C<af?C:af)<<2);q+=(K.r=(z=s[ac]))*(Q=w-af);r+=(K.g=(F=s[ac+1]))*Q;L+=(K.b=(H=s[ac+2]))*Q;S+=z;Y+=F;E+=H;K=K.next}ae=P;U=u;for(X=0;X<l;X++){s[G]=(q*I)>>n;s[G+1]=(r*I)>>n;s[G+2]=(L*I)>>n;q-=B;r-=N;L-=J;B-=ae.r;N-=ae.g;J-=ae.b;ac=(A+((ac=X+Z+1)<C?ac:C))<<2;S+=(ae.r=s[ac]);Y+=(ae.g=s[ac+1]);E+=(ae.b=s[ac+2]);q+=S;r+=Y;L+=E;ae=ae.next;B+=(z=U.r);N+=(F=U.g);J+=(H=U.b);S-=z;Y-=F;E-=H;U=U.next;G+=4}A+=l}for(X=0;X<l;X++){Y=E=S=r=L=q=0;G=X<<2;B=w*(z=s[G]);N=w*(F=s[G+1]);J=w*(H=s[G+2]);q+=aa*z;r+=aa*F;L+=aa*H;K=P;for(af=0;af<w;af++){K.r=z;K.g=F;K.b=H;K=K.next}D=l;for(af=1;af<=Z;af++){G=(D+X)<<2;q+=(K.r=(z=s[G]))*(Q=w-af);r+=(K.g=(F=s[G+1]))*Q;L+=(K.b=(H=s[G+2]))*Q;S+=z;Y+=F;E+=H;K=K.next;if(af<ab){D+=l}}G=X;ae=P;U=u;for(W=0;W<m;W++){ac=G<<2;s[ac]=(q*I)>>n;s[ac+1]=(r*I)>>n;s[ac+2]=(L*I)>>n;q-=B;r-=N;L-=J;B-=ae.r;N-=ae.g;J-=ae.b;ac=(X+(((ac=W+w)<ab?ac:ab)*l))<<2;q+=(S+=(ae.r=s[ac]));r+=(Y+=(ae.g=s[ac+1]));L+=(E+=(ae.b=s[ac+2]));ae=ae.next;B+=(z=U.r);N+=(F=U.g);J+=(H=U.b);S-=z;Y-=F;E-=H;U=U.next;G+=l}}ai.putImageData(ad,O,M)}function d(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}var b={image:k,canvasRGBA:h,canvasRGB:f};if(typeof define!=="undefined"&&define.amd){define(function(){return b})}else{if(typeof module!=="undefined"&&module.exports){module.exports=b}}c.stackBlur=b}(typeof window!=="undefined"?window:this));(function(b,a){if(typeof define!=="undefined"&&define.amd){define("canvgModule",["rgbcolor","stackblur"],a)}else{if(typeof module!=="undefined"&&module.exports){module.exports=a(require("rgbcolor"),require("stackblur"))}}b.canvg=a(b.RGBColor,b.stackBlur)}(typeof window!=="undefined"?window:this,function(a,b){var h=function(A,D,q){if(A==null&&D==null&&q==null){var t=document.querySelectorAll("svg");for(var w=0;w<t.length;w++){var u=t[w];var B=document.createElement("canvas");B.width=u.clientWidth;B.height=u.clientHeight;u.parentNode.insertBefore(B,u);u.parentNode.removeChild(u);var r=document.createElement("div");r.appendChild(u);h(B,r.innerHTML)}return}if(typeof A=="string"){A=document.getElementById(A)}if(A.svg!=null){A.svg.stop()}var z=l(q||{});var C=A.getContext("2d");C.ignoreClearRect=true;if(typeof D.documentElement!="undefined"){z.loadXmlDoc(C,D)}else{if(D.substr(0,1)=="<"){z.loadXml(C,D)}else{z.load(C,D)}}};var n;if(typeof Element.prototype.matches!="undefined"){n=function(r,q){return r.matches(q)}}else{if(typeof Element.prototype.webkitMatchesSelector!="undefined"){n=function(r,q){return r.webkitMatchesSelector(q)}}else{if(typeof Element.prototype.mozMatchesSelector!="undefined"){n=function(r,q){return r.mozMatchesSelector(q)}}else{if(typeof Element.prototype.msMatchesSelector!="undefined"){n=function(r,q){return r.msMatchesSelector(q)}}else{if(typeof Element.prototype.oMatchesSelector!="undefined"){n=function(r,q){return r.oMatchesSelector(q)}}else{if(typeof jQuery==="function"||typeof Zepto==="function"){n=function(r,q){return $(r).is(q)}}if(typeof n==="undefined"){n=Sizzle.matchesSelector}}}}}}var e=/(\[[^\]]+\])/g;var d=/(#[^\s\+>~\.\[:]+)/g;var c=/(\.[^\s\+>~\.\[:]+)/g;var k=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi;var j=/(:[\w-]+\([^\)]*\))/gi;var m=/(:[^\s\+>~\.\[:]+)/g;var g=/([^\s\+>~\.\[:]+)/g;function f(q){var s=[0,0,0];var r=function(u,t){var w=q.match(u);if(w==null){return}s[t]+=w.length;q=q.replace(u," ")};q=q.replace(/:not\(([^\)]*)\)/g,"     $1 ");q=q.replace(/{[\s\S]*/gm," ");r(e,1);r(d,0);r(c,1);r(k,2);r(j,1);r(m,1);q=q.replace(/[\*\s\+>~]/g," ");q=q.replace(/[#\.]/g," ");r(g,2);return s.join("")}function l(s){var r={opts:s};r.FRAMERATE=30;r.MAX_VIRTUAL_PIXELS=30000;r.log=function(t){};if(r.opts.log==true&&typeof console!="undefined"){r.log=function(t){console.log(t)}}r.init=function(t){var u=0;r.UniqueId=function(){u++;return"canvg"+u};r.Definitions={};r.Styles={};r.StylesSpecificity={};r.Animations=[];r.Images=[];r.ctx=t;r.ViewPort=new (function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(z,w){this.viewPorts.push({width:z,height:w})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(w){if(w!=null&&typeof w=="number"){return w}if(w=="x"){return this.width()}if(w=="y"){return this.height()}return Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}})};r.init();r.ImagesLoaded=function(){for(var t=0;t<r.Images.length;t++){if(!r.Images[t].loaded){return false}}return true};r.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};r.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")};r.ajax=function(u){var t;if(window.XMLHttpRequest){t=new XMLHttpRequest()}else{t=new ActiveXObject("Microsoft.XMLHTTP")}if(t){t.open("GET",u,false);t.send(null);return t.responseText}return null};r.parseXml=function(t){if(typeof Windows!="undefined"&&typeof Windows.Data!="undefined"&&typeof Windows.Data.Xml!="undefined"){var w=new Windows.Data.Xml.Dom.XmlDocument();var u=new Windows.Data.Xml.Dom.XmlLoadSettings();u.prohibitDtd=false;w.loadXml(t,u);return w}else{if(window.DOMParser){var z=new DOMParser();return z.parseFromString(t,"text/xml")}else{t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var w=new ActiveXObject("Microsoft.XMLDOM");w.async="false";w.loadXML(t);return w}}};r.Property=function(t,u){this.name=t;this.value=u};r.Property.prototype.getValue=function(){return this.value};r.Property.prototype.hasValue=function(){return(this.value!=null&&this.value!=="")};r.Property.prototype.numValue=function(){if(!this.hasValue()){return 0}var t=parseFloat(this.value);if((this.value+"").match(/%$/)){t=t/100}return t};r.Property.prototype.valueOrDefault=function(t){if(this.hasValue()){return this.value}return t};r.Property.prototype.numValueOrDefault=function(t){if(this.hasValue()){return this.numValue()}return t};r.Property.prototype.addOpacity=function(w){var u=this.value;if(w.value!=null&&w.value!=""&&w.value!="undefined"&&typeof this.value=="string"){var t=new a(this.value);if(t.ok){u="rgba("+t.r+", "+t.g+", "+t.b+", "+w.numValue()+")"}}return new r.Property(this.name,u)};r.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);if(t){t=t[1]}if(!t){t=this.value}return r.Definitions[t]};r.Property.prototype.isUrlDefinition=function(){return this.value.indexOf("url(")==0};r.Property.prototype.getFillStyleDefinition=function(z,w){var t=this.getDefinition();if(t!=null&&t.createGradient){return t.createGradient(r.ctx,z,w)}if(t!=null&&t.createPattern){if(t.getHrefAttribute().hasValue()){var u=t.attribute("patternTransform");t=t.getHrefAttribute().getDefinition();if(u.hasValue()){t.attribute("patternTransform",true).value=u.value}}return t.createPattern(r.ctx,z)}return null};r.Property.prototype.getDPI=function(t){return 96};r.Property.prototype.getEM=function(w){var t=12;var u=new r.Property("fontSize",r.Font.Parse(r.ctx.font).fontSize);if(u.hasValue()){t=u.toPixels(w)}return t};r.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")};r.Property.prototype.toPixels=function(w,t){if(!this.hasValue()){return 0}var u=this.value+"";if(u.match(/em$/)){return this.numValue()*this.getEM(w)}if(u.match(/ex$/)){return this.numValue()*this.getEM(w)/2}if(u.match(/px$/)){return this.numValue()}if(u.match(/pt$/)){return this.numValue()*this.getDPI(w)*(1/72)}if(u.match(/pc$/)){return this.numValue()*15}if(u.match(/cm$/)){return this.numValue()*this.getDPI(w)/2.54}if(u.match(/mm$/)){return this.numValue()*this.getDPI(w)/25.4}if(u.match(/in$/)){return this.numValue()*this.getDPI(w)}if(u.match(/%$/)){return this.numValue()*r.ViewPort.ComputeSize(w)}var z=this.numValue();if(t&&z<1){return z*r.ViewPort.ComputeSize(w)}return z};r.Property.prototype.toMilliseconds=function(){if(!this.hasValue()){return 0}var t=this.value+"";if(t.match(/s$/)){return this.numValue()*1000}if(t.match(/ms$/)){return this.numValue()}return this.numValue()};r.Property.prototype.toRadians=function(){if(!this.hasValue()){return 0}var t=this.value+"";if(t.match(/deg$/)){return this.numValue()*(Math.PI/180)}if(t.match(/grad$/)){return this.numValue()*(Math.PI/200)}if(t.match(/rad$/)){return this.numValue()}return this.numValue()*(Math.PI/180)};var q={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};r.Property.prototype.toTextBaseline=function(){if(!this.hasValue()){return null}return q[this.value]};r.Font=new (function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(D,A,w,C,u,z){var B=z!=null?this.Parse(z):this.CreateFont("","","","","",r.ctx.font);return{fontFamily:u||B.fontFamily,fontSize:C||B.fontSize,fontStyle:D||B.fontStyle,fontWeight:w||B.fontWeight,fontVariant:A||B.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(z){var A={};var B=r.trim(r.compressSpaces(z||"")).split(" ");var C={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};var u="";for(var w=0;w<B.length;w++){if(!C.fontStyle&&t.Styles.indexOf(B[w])!=-1){if(B[w]!="inherit"){A.fontStyle=B[w]}C.fontStyle=true}else{if(!C.fontVariant&&t.Variants.indexOf(B[w])!=-1){if(B[w]!="inherit"){A.fontVariant=B[w]}C.fontStyle=C.fontVariant=true}else{if(!C.fontWeight&&t.Weights.indexOf(B[w])!=-1){if(B[w]!="inherit"){A.fontWeight=B[w]}C.fontStyle=C.fontVariant=C.fontWeight=true}else{if(!C.fontSize){if(B[w]!="inherit"){A.fontSize=B[w].split("/")[0]}C.fontStyle=C.fontVariant=C.fontWeight=C.fontSize=true}else{if(B[w]!="inherit"){u+=B[w]}}}}}}if(u!=""){A.fontFamily=u}return A}});r.ToNumberArray=function(w){var t=r.trim(r.compressSpaces((w||"").replace(/,/g," "))).split(" ");for(var u=0;u<t.length;u++){t[u]=parseFloat(t[u])}return t};r.Point=function(t,u){this.x=t;this.y=u};r.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)};r.Point.prototype.applyTransform=function(t){var u=this.x*t[0]+this.y*t[2]+t[4];var w=this.x*t[1]+this.y*t[3]+t[5];this.x=u;this.y=w};r.CreatePoint=function(u){var t=r.ToNumberArray(u);return new r.Point(t[0],t[1])};r.CreatePath=function(w){var t=r.ToNumberArray(w);var z=[];for(var u=0;u<t.length;u+=2){z.push(new r.Point(t[u],t[u+1]))}return z};r.BoundingBox=function(u,z,t,w){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(A,B){if(A!=null){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=A;this.x2=A}if(A<this.x1){this.x1=A}if(A>this.x2){this.x2=A}}if(B!=null){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=B;this.y2=B}if(B<this.y1){this.y1=B}if(B>this.y2){this.y2=B}}};this.addX=function(A){this.addPoint(A,null)};this.addY=function(A){this.addPoint(null,A)};this.addBoundingBox=function(A){this.addPoint(A.x1,A.y1);this.addPoint(A.x2,A.y2)};this.addQuadraticCurve=function(F,E,B,A,H,G){var D=F+2/3*(B-F);var C=E+2/3*(A-E);var J=D+1/3*(H-F);var I=C+1/3*(G-E);this.addBezierCurve(F,E,D,J,C,I,H,G)};this.addBezierCurve=function(N,M,E,C,J,H,P,O){var F=[N,M],D=[E,C],B=[J,H],A=[P,O];this.addPoint(F[0],F[1]);this.addPoint(A[0],A[1]);for(i=0;i<=1;i++){var Q=function(V){return Math.pow(1-V,3)*F[i]+3*Math.pow(1-V,2)*V*D[i]+3*(1-V)*Math.pow(V,2)*B[i]+Math.pow(V,3)*A[i]};var T=6*F[i]-12*D[i]+6*B[i];var U=-3*F[i]+9*D[i]-9*B[i]+3*A[i];var S=3*D[i]-3*F[i];if(U==0){if(T==0){continue}var L=-S/T;if(0<L&&L<1){if(i==0){this.addX(Q(L))}if(i==1){this.addY(Q(L))}}continue}var G=Math.pow(T,2)-4*S*U;if(G<0){continue}var K=(-T+Math.sqrt(G))/(2*U);if(0<K&&K<1){if(i==0){this.addX(Q(K))}if(i==1){this.addY(Q(K))}}var I=(-T-Math.sqrt(G))/(2*U);if(0<I&&I<1){if(i==0){this.addX(Q(I))}if(i==1){this.addY(Q(I))}}}};this.isPointInBox=function(A,B){return(this.x1<=A&&A<=this.x2&&this.y1<=B&&B<=this.y2)};this.addPoint(u,z);this.addPoint(t,w)};r.Transform=function(t){var C=this;this.Type={};this.Type.translate=function(E){this.p=r.CreatePoint(E);this.apply=function(F){F.translate(this.p.x||0,this.p.y||0)};this.unapply=function(F){F.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(F){F.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(F){var E=r.ToNumberArray(F);this.angle=new r.Property("angle",E[0]);this.cx=E[1]||0;this.cy=E[2]||0;this.apply=function(G){G.translate(this.cx,this.cy);G.rotate(this.angle.toRadians());G.translate(-this.cx,-this.cy)};this.unapply=function(G){G.translate(this.cx,this.cy);G.rotate(-1*this.angle.toRadians());G.translate(-this.cx,-this.cy)};this.applyToPoint=function(H){var G=this.angle.toRadians();H.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);H.applyTransform([Math.cos(G),Math.sin(G),-Math.sin(G),Math.cos(G),0,0]);H.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(E){this.p=r.CreatePoint(E);this.apply=function(F){F.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(F){F.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(F){F.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(E){this.m=r.ToNumberArray(E);this.apply=function(F){F.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.unapply=function(P){var O=this.m[0];var N=this.m[2];var M=this.m[4];var L=this.m[1];var K=this.m[3];var J=this.m[5];var H=0;var G=0;var F=1;var I=1/(O*(K*F-J*G)-N*(L*F-J*H)+M*(L*G-K*H));P.transform(I*(K*F-J*G),I*(J*H-L*F),I*(M*G-N*F),I*(O*F-M*H),I*(N*J-M*K),I*(M*L-O*J))};this.applyToPoint=function(F){F.applyTransform(this.m)}};this.Type.SkewBase=function(E){this.base=C.Type.matrix;this.base(E);this.angle=new r.Property("angle",E)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(E){this.base=C.Type.SkewBase;this.base(E);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(E){this.base=C.Type.SkewBase;this.base(E);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(E){for(var F=0;F<this.transforms.length;F++){this.transforms[F].apply(E)}};this.unapply=function(E){for(var F=this.transforms.length-1;F>=0;F--){this.transforms[F].unapply(E)}};this.applyToPoint=function(F){for(var E=0;E<this.transforms.length;E++){this.transforms[E].applyToPoint(F)}};var D=r.trim(r.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var w=0;w<D.length;w++){var A=r.trim(D[w].split("(")[0]);var z=D[w].split("(")[1].replace(")","");var B=this.Type[A];if(typeof B!="undefined"){var u=new B(z);u.type=A;this.transforms.push(u)}}};r.AspectRatio=function(L,J,u,D,K,t,A,z,I,H){J=r.compressSpaces(J);J=J.replace(/^defer\s/,"");var C=J.split(" ")[0]||"xMidYMid";var w=J.split(" ")[1]||"meet";var G=u/D;var F=K/t;var B=Math.min(G,F);var E=Math.max(G,F);if(w=="meet"){D*=B;t*=B}if(w=="slice"){D*=E;t*=E}I=new r.Property("refX",I);H=new r.Property("refY",H);if(I.hasValue()&&H.hasValue()){L.translate(-B*I.toPixels("x"),-B*H.toPixels("y"))}else{if(C.match(/^xMid/)&&((w=="meet"&&B==F)||(w=="slice"&&E==F))){L.translate(u/2-D/2,0)}if(C.match(/YMid$/)&&((w=="meet"&&B==G)||(w=="slice"&&E==G))){L.translate(0,K/2-t/2)}if(C.match(/^xMax/)&&((w=="meet"&&B==F)||(w=="slice"&&E==F))){L.translate(u-D,0)}if(C.match(/YMax$/)&&((w=="meet"&&B==G)||(w=="slice"&&E==G))){L.translate(0,K-t)}}if(C=="none"){L.scale(G,F)}else{if(w=="meet"){L.scale(B,B)}else{if(w=="slice"){L.scale(E,E)}}}L.translate(A==null?0:-A,z==null?0:-z)};r.Element={};r.EmptyProperty=new r.Property("EMPTY","");r.Element.ElementBase=function(A){this.attributes={};this.styles={};this.stylesSpecificity={};this.children=[];this.attribute=function(J,K){var I=this.attributes[J];if(I!=null){return I}if(K==true){I=new r.Property(J,"");this.attributes[J]=I}return I||r.EmptyProperty};this.getHrefAttribute=function(){for(var I in this.attributes){if(I=="href"||I.match(/:href$/)){return this.attributes[I]}}return r.EmptyProperty};this.style=function(K,O,I){var L=this.styles[K];if(L!=null){return L}var J=this.attribute(K);if(J!=null&&J.hasValue()){this.styles[K]=J;return J}if(I!=true){var M=this.parent;if(M!=null){var N=M.style(K);if(N!=null&&N.hasValue()){return N}}}if(O==true){L=new r.Property(K,"");this.styles[K]=L}return L||r.EmptyProperty};this.render=function(J){if(this.style("display").value=="none"){return}if(this.style("visibility").value=="hidden"){return}J.save();try{if(this.style("mask").hasValue()){var I=this.style("mask").getDefinition();if(I!=null){I.apply(J,this)}}else{if(this.style("filter").hasValue()){var K=this.style("filter").getDefinition();if(K!=null){K.apply(J,this)}}else{this.setContext(J);this.renderChildren(J);this.clearContext(J)}}}catch(L){console.warn("A rendering error occurred and was ignored.")}J.restore()};this.setContext=function(I){};this.clearContext=function(I){};this.renderChildren=function(I){for(var J=0;J<this.children.length;J++){this.children[J].render(I)}};this.addChild=function(J,I){var K=J;if(I){K=r.CreateElement(J)}K.parent=this;if(K.type!="title"){this.children.push(K)}};this.addStylesFromStyleDefinition=function(){for(var I in r.Styles){if(I[0]!="@"&&n(A,I)){var L=r.Styles[I];var K=r.StylesSpecificity[I];if(L!=null){for(var J in L){var M=this.stylesSpecificity[J];if(typeof M=="undefined"){M="000"}if(K>M){this.styles[J]=L[J];this.stylesSpecificity[J]=K}}}}}};var B=new RegExp("^[A-Z-]+$");var F=function(I){if(B.test(I)){return I.toLowerCase()}return I};if(A!=null&&A.nodeType==1){for(var C=0;C<A.attributes.length;C++){var z=A.attributes[C];var D=F(z.nodeName);this.attributes[D]=new r.Property(D,z.value)}this.addStylesFromStyleDefinition();if(this.attribute("style").hasValue()){var H=this.attribute("style").value.split(";");for(var C=0;C<H.length;C++){if(r.trim(H[C])!=""){var w=H[C].split(":");var u=r.trim(w[0]);var E=r.trim(w[1]);this.styles[u]=new r.Property(u,E)}}}if(this.attribute("id").hasValue()){if(r.Definitions[this.attribute("id").value]==null){r.Definitions[this.attribute("id").value]=this}}for(var C=0;C<A.childNodes.length;C++){var t=A.childNodes[C];if(t.nodeType==1){this.addChild(t,true)}if(this.captureTextNodes&&(t.nodeType==3||t.nodeType==4)){var G=t.value||t.text||t.textContent||"";if(r.compressSpaces(G)!=""){this.addChild(new r.Element.tspan(t),false)}}}}};r.Element.RenderedElementBase=function(t){this.base=r.Element.ElementBase;this.base(t);this.setContext=function(F){if(this.style("fill").isUrlDefinition()){var C=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));if(C!=null){F.fillStyle=C}}else{if(this.style("fill").hasValue()){var E=this.style("fill");if(E.value=="currentColor"){E.value=this.style("color").value}if(E.value!="inherit"){F.fillStyle=(E.value=="none"?"rgba(0,0,0,0)":E.value)}}}if(this.style("fill-opacity").hasValue()){var E=new r.Property("fill",F.fillStyle);E=E.addOpacity(this.style("fill-opacity"));F.fillStyle=E.value}if(this.style("stroke").isUrlDefinition()){var C=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));if(C!=null){F.strokeStyle=C}}else{if(this.style("stroke").hasValue()){var D=this.style("stroke");if(D.value=="currentColor"){D.value=this.style("color").value}if(D.value!="inherit"){F.strokeStyle=(D.value=="none"?"rgba(0,0,0,0)":D.value)}}}if(this.style("stroke-opacity").hasValue()){var D=new r.Property("stroke",F.strokeStyle);D=D.addOpacity(this.style("stroke-opacity"));F.strokeStyle=D.value}if(this.style("stroke-width").hasValue()){var B=this.style("stroke-width").toPixels();F.lineWidth=B==0?0.001:B}if(this.style("stroke-linecap").hasValue()){F.lineCap=this.style("stroke-linecap").value}if(this.style("stroke-linejoin").hasValue()){F.lineJoin=this.style("stroke-linejoin").value}if(this.style("stroke-miterlimit").hasValue()){F.miterLimit=this.style("stroke-miterlimit").value}if(this.style("stroke-dasharray").hasValue()&&this.style("stroke-dasharray").value!="none"){var z=r.ToNumberArray(this.style("stroke-dasharray").value);if(typeof F.setLineDash!="undefined"){F.setLineDash(z)}else{if(typeof F.webkitLineDash!="undefined"){F.webkitLineDash=z}else{if(typeof F.mozDash!="undefined"&&!(z.length==1&&z[0]==0)){F.mozDash=z}}}var A=this.style("stroke-dashoffset").numValueOrDefault(1);if(typeof F.lineDashOffset!="undefined"){F.lineDashOffset=A}else{if(typeof F.webkitLineDashOffset!="undefined"){F.webkitLineDashOffset=A}else{if(typeof F.mozDashOffset!="undefined"){F.mozDashOffset=A}}}}if(typeof F.font!="undefined"){F.font=r.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()}if(this.style("transform",false,true).hasValue()){var u=new r.Transform(this.style("transform",false,true).value);u.apply(F)}if(this.style("clip-path",false,true).hasValue()){var w=this.style("clip-path",false,true).getDefinition();if(w!=null){w.apply(F)}}if(this.style("opacity").hasValue()){F.globalAlpha=this.style("opacity").numValue()}}};r.Element.RenderedElementBase.prototype=new r.Element.ElementBase;r.Element.PathElementBase=function(t){this.base=r.Element.RenderedElementBase;this.base(t);this.path=function(u){if(u!=null){u.beginPath()}return new r.BoundingBox()};this.renderChildren=function(w){this.path(w);r.Mouse.checkPath(this,w);if(w.fillStyle!=""){if(this.style("fill-rule").valueOrDefault("inherit")!="inherit"){w.fill(this.style("fill-rule").value)}else{w.fill()}}if(w.strokeStyle!=""){w.stroke()}var A=this.getMarkers();if(A!=null){if(this.style("marker-start").isUrlDefinition()){var u=this.style("marker-start").getDefinition();u.render(w,A[0][0],A[0][1])}if(this.style("marker-mid").isUrlDefinition()){var u=this.style("marker-mid").getDefinition();for(var z=1;z<A.length-1;z++){u.render(w,A[z][0],A[z][1])}}if(this.style("marker-end").isUrlDefinition()){var u=this.style("marker-end").getDefinition();u.render(w,A[A.length-1][0],A[A.length-1][1])}}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};r.Element.PathElementBase.prototype=new r.Element.RenderedElementBase;r.Element.svg=function(t){this.base=r.Element.RenderedElementBase;this.base(t);this.baseClearContext=this.clearContext;this.clearContext=function(u){this.baseClearContext(u);r.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(A){A.strokeStyle="rgba(0,0,0,0)";A.lineCap="butt";A.lineJoin="miter";A.miterLimit=4;if(typeof A.font!="undefined"&&typeof window.getComputedStyle!="undefined"){if(!A.canvas){A.font=window.getComputedStyle(document.body).getPropertyValue("font")}else{A.font=window.getComputedStyle(A.canvas).getPropertyValue("font")}}this.baseSetContext(A);if(!this.attribute("x").hasValue()){this.attribute("x",true).value=0}if(!this.attribute("y").hasValue()){this.attribute("y",true).value=0}A.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var B=r.ViewPort.width();var z=r.ViewPort.height();if(!this.attribute("width").hasValue()){this.attribute("width",true).value="100%"}if(!this.attribute("height").hasValue()){this.attribute("height",true).value="100%"}if(typeof this.root=="undefined"){B=this.attribute("width").toPixels("x");z=this.attribute("height").toPixels("y");var w=0;var E=0;if(this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()){w=-this.attribute("refX").toPixels("x");E=-this.attribute("refY").toPixels("y")}if(this.attribute("overflow").valueOrDefault("hidden")!="visible"){A.beginPath();A.moveTo(w,E);A.lineTo(B,E);A.lineTo(B,z);A.lineTo(w,z);A.closePath();A.clip()}}r.ViewPort.SetCurrent(B,z);if(this.attribute("viewBox").hasValue()){var C=r.ToNumberArray(this.attribute("viewBox").value);var u=C[0];var D=C[1];B=C[2];z=C[3];r.AspectRatio(A,this.attribute("preserveAspectRatio").value,r.ViewPort.width(),B,r.ViewPort.height(),z,u,D,this.attribute("refX").value,this.attribute("refY").value);r.ViewPort.RemoveCurrent();r.ViewPort.SetCurrent(C[2],C[3])}}};r.Element.svg.prototype=new r.Element.RenderedElementBase;r.Element.rect=function(t){this.base=r.Element.PathElementBase;this.base(t);this.path=function(z){var w=this.attribute("x").toPixels("x");var D=this.attribute("y").toPixels("y");var A=this.attribute("width").toPixels("x");var u=this.attribute("height").toPixels("y");var C=this.attribute("rx").toPixels("x");var B=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()){B=C}if(this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()){C=B}C=Math.min(C,A/2);B=Math.min(B,u/2);if(z!=null){z.beginPath();z.moveTo(w+C,D);z.lineTo(w+A-C,D);z.quadraticCurveTo(w+A,D,w+A,D+B);z.lineTo(w+A,D+u-B);z.quadraticCurveTo(w+A,D+u,w+A-C,D+u);z.lineTo(w+C,D+u);z.quadraticCurveTo(w,D+u,w,D+u-B);z.lineTo(w,D+B);z.quadraticCurveTo(w,D,w+C,D);z.closePath()}return new r.BoundingBox(w,D,w+A,D+u)}};r.Element.rect.prototype=new r.Element.PathElementBase;r.Element.circle=function(t){this.base=r.Element.PathElementBase;this.base(t);this.path=function(w){var u=this.attribute("cx").toPixels("x");var A=this.attribute("cy").toPixels("y");var z=this.attribute("r").toPixels();if(w!=null){w.beginPath();w.arc(u,A,z,0,Math.PI*2,true);w.closePath()}return new r.BoundingBox(u-z,A-z,u+z,A+z)}};r.Element.circle.prototype=new r.Element.PathElementBase;r.Element.ellipse=function(t){this.base=r.Element.PathElementBase;this.base(t);this.path=function(w){var A=4*((Math.sqrt(2)-1)/3);var B=this.attribute("rx").toPixels("x");var z=this.attribute("ry").toPixels("y");var u=this.attribute("cx").toPixels("x");var C=this.attribute("cy").toPixels("y");if(w!=null){w.beginPath();w.moveTo(u,C-z);w.bezierCurveTo(u+(A*B),C-z,u+B,C-(A*z),u+B,C);w.bezierCurveTo(u+B,C+(A*z),u+(A*B),C+z,u,C+z);w.bezierCurveTo(u-(A*B),C+z,u-B,C+(A*z),u-B,C);w.bezierCurveTo(u-B,C-(A*z),u-(A*B),C-z,u,C-z);w.closePath()}return new r.BoundingBox(u-B,C-z,u+B,C+z)}};r.Element.ellipse.prototype=new r.Element.PathElementBase;r.Element.line=function(t){this.base=r.Element.PathElementBase;this.base(t);this.getPoints=function(){return[new r.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new r.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(u){var w=this.getPoints();if(u!=null){u.beginPath();u.moveTo(w[0].x,w[0].y);u.lineTo(w[1].x,w[1].y)}return new r.BoundingBox(w[0].x,w[0].y,w[1].x,w[1].y)};this.getMarkers=function(){var w=this.getPoints();var u=w[0].angleTo(w[1]);return[[w[0],u],[w[1],u]]}};r.Element.line.prototype=new r.Element.PathElementBase;r.Element.polyline=function(t){this.base=r.Element.PathElementBase;this.base(t);this.points=r.CreatePath(this.attribute("points").value);this.path=function(u){var z=new r.BoundingBox(this.points[0].x,this.points[0].y);if(u!=null){u.beginPath();u.moveTo(this.points[0].x,this.points[0].y)}for(var w=1;w<this.points.length;w++){z.addPoint(this.points[w].x,this.points[w].y);if(u!=null){u.lineTo(this.points[w].x,this.points[w].y)}}return z};this.getMarkers=function(){var w=[];for(var u=0;u<this.points.length-1;u++){w.push([this.points[u],this.points[u].angleTo(this.points[u+1])])}if(w.length>0){w.push([this.points[this.points.length-1],w[w.length-1][1]])}return w}};r.Element.polyline.prototype=new r.Element.PathElementBase;r.Element.polygon=function(t){this.base=r.Element.polyline;this.base(t);this.basePath=this.path;this.path=function(u){var w=this.basePath(u);if(u!=null){u.lineTo(this.points[0].x,this.points[0].y);u.closePath()}return w}};r.Element.polygon.prototype=new r.Element.polyline;r.Element.path=function(u){this.base=r.Element.PathElementBase;this.base(u);var w=this.attribute("d").value;w=w.replace(/,/gm," ");for(var t=0;t<2;t++){w=w.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2")}w=w.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");w=w.replace(/([0-9])([+\-])/gm,"$1 $2");for(var t=0;t<2;t++){w=w.replace(/(\.[0-9]*)(\.)/gm,"$1 $2")}w=w.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");w=r.compressSpaces(w);w=r.trim(w);this.PathParser=new (function(z){this.tokens=z.split(" ");this.reset=function(){this.i=-1;this.command="";this.previousCommand="";this.start=new r.Point(0,0);this.control=new r.Point(0,0);this.current=new r.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){if(this.isEnd()){return true}return this.tokens[this.i+1].match(/^[A-Za-z]$/)!=null};this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return true;break}return false};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var A=new r.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(A)};this.getAsControlPoint=function(){var A=this.getPoint();this.control=A;return A};this.getAsCurrentPoint=function(){var A=this.getPoint();this.current=A;return A};this.getReflectedControlPoint=function(){if(this.previousCommand.toLowerCase()!="c"&&this.previousCommand.toLowerCase()!="s"&&this.previousCommand.toLowerCase()!="q"&&this.previousCommand.toLowerCase()!="t"){return this.current}var A=new r.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return A};this.makeAbsolute=function(A){if(this.isRelativeCommand()){A.x+=this.current.x;A.y+=this.current.y}return A};this.addMarker=function(B,C,A){if(A!=null&&this.angles.length>0&&this.angles[this.angles.length-1]==null){this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(A)}this.addMarkerAngle(B,C==null?null:C.angleTo(B))};this.addMarkerAngle=function(B,A){this.points.push(B);this.angles.push(A)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var B=0;B<this.angles.length;B++){if(this.angles[B]==null){for(var A=B+1;A<this.angles.length;A++){if(this.angles[A]!=null){this.angles[B]=this.angles[A];break}}}}return this.angles}})(w);this.path=function(W){var Y=this.PathParser;Y.reset();var I=new r.BoundingBox();if(W!=null){W.beginPath()}while(!Y.isEnd()){Y.nextCommand();switch(Y.command){case"M":case"m":var T=Y.getAsCurrentPoint();Y.addMarker(T);I.addPoint(T.x,T.y);if(W!=null){W.moveTo(T.x,T.y)}Y.start=Y.current;while(!Y.isCommandOrEnd()){var T=Y.getAsCurrentPoint();Y.addMarker(T,Y.start);I.addPoint(T.x,T.y);if(W!=null){W.lineTo(T.x,T.y)}}break;case"L":case"l":while(!Y.isCommandOrEnd()){var ac=Y.current;var T=Y.getAsCurrentPoint();Y.addMarker(T,ac);I.addPoint(T.x,T.y);if(W!=null){W.lineTo(T.x,T.y)}}break;case"H":case"h":while(!Y.isCommandOrEnd()){var B=new r.Point((Y.isRelativeCommand()?Y.current.x:0)+Y.getScalar(),Y.current.y);Y.addMarker(B,Y.current);Y.current=B;I.addPoint(Y.current.x,Y.current.y);if(W!=null){W.lineTo(Y.current.x,Y.current.y)}}break;case"V":case"v":while(!Y.isCommandOrEnd()){var B=new r.Point(Y.current.x,(Y.isRelativeCommand()?Y.current.y:0)+Y.getScalar());Y.addMarker(B,Y.current);Y.current=B;I.addPoint(Y.current.x,Y.current.y);if(W!=null){W.lineTo(Y.current.x,Y.current.y)}}break;case"C":case"c":while(!Y.isCommandOrEnd()){var aa=Y.current;var D=Y.getPoint();var E=Y.getAsControlPoint();var K=Y.getAsCurrentPoint();Y.addMarker(K,E,D);I.addBezierCurve(aa.x,aa.y,D.x,D.y,E.x,E.y,K.x,K.y);if(W!=null){W.bezierCurveTo(D.x,D.y,E.x,E.y,K.x,K.y)}}break;case"S":case"s":while(!Y.isCommandOrEnd()){var aa=Y.current;var D=Y.getReflectedControlPoint();var E=Y.getAsControlPoint();var K=Y.getAsCurrentPoint();Y.addMarker(K,E,D);I.addBezierCurve(aa.x,aa.y,D.x,D.y,E.x,E.y,K.x,K.y);if(W!=null){W.bezierCurveTo(D.x,D.y,E.x,E.y,K.x,K.y)}}break;case"Q":case"q":while(!Y.isCommandOrEnd()){var aa=Y.current;var E=Y.getAsControlPoint();var K=Y.getAsCurrentPoint();Y.addMarker(K,E,E);I.addQuadraticCurve(aa.x,aa.y,E.x,E.y,K.x,K.y);if(W!=null){W.quadraticCurveTo(E.x,E.y,K.x,K.y)}}break;case"T":case"t":while(!Y.isCommandOrEnd()){var aa=Y.current;var E=Y.getReflectedControlPoint();Y.control=E;var K=Y.getAsCurrentPoint();Y.addMarker(K,E,E);I.addQuadraticCurve(aa.x,aa.y,E.x,E.y,K.x,K.y);if(W!=null){W.quadraticCurveTo(E.x,E.y,K.x,K.y)}}break;case"A":case"a":while(!Y.isCommandOrEnd()){var aa=Y.current;var H=Y.getScalar();var G=Y.getScalar();var A=Y.getScalar()*(Math.PI/180);var J=Y.getScalar();var F=Y.getScalar();var K=Y.getAsCurrentPoint();var ag=new r.Point(Math.cos(A)*(aa.x-K.x)/2+Math.sin(A)*(aa.y-K.y)/2,-Math.sin(A)*(aa.x-K.x)/2+Math.cos(A)*(aa.y-K.y)/2);var X=Math.pow(ag.x,2)/Math.pow(H,2)+Math.pow(ag.y,2)/Math.pow(G,2);if(X>1){H*=Math.sqrt(X);G*=Math.sqrt(X)}var O=(J==F?-1:1)*Math.sqrt(((Math.pow(H,2)*Math.pow(G,2))-(Math.pow(H,2)*Math.pow(ag.y,2))-(Math.pow(G,2)*Math.pow(ag.x,2)))/(Math.pow(H,2)*Math.pow(ag.y,2)+Math.pow(G,2)*Math.pow(ag.x,2)));if(isNaN(O)){O=0}var N=new r.Point(O*H*ag.y/G,O*-G*ag.x/H);var C=new r.Point((aa.x+K.x)/2+Math.cos(A)*N.x-Math.sin(A)*N.y,(aa.y+K.y)/2+Math.sin(A)*N.x+Math.cos(A)*N.y);var V=function(ad){return Math.sqrt(Math.pow(ad[0],2)+Math.pow(ad[1],2))};var Q=function(ah,ad){return(ah[0]*ad[0]+ah[1]*ad[1])/(V(ah)*V(ad))};var ae=function(ah,ad){return(ah[0]*ad[1]<ah[1]*ad[0]?-1:1)*Math.acos(Q(ah,ad))};var af=ae([1,0],[(ag.x-N.x)/H,(ag.y-N.y)/G]);if(isNaN(af)){continue}var M=[(ag.x-N.x)/H,(ag.y-N.y)/G];var L=[(-ag.x-N.x)/H,(-ag.y-N.y)/G];var ab=ae(M,L);if(Q(M,L)<=-1){ab=Math.PI}if(Q(M,L)>=1){ab=0}var U=1-F?1:-1;var Z=af+U*(ab/2);var z=new r.Point(C.x+H*Math.cos(Z),C.y+G*Math.sin(Z));Y.addMarkerAngle(z,Z-U*Math.PI/2);Y.addMarkerAngle(K,Z-U*Math.PI);I.addPoint(K.x,K.y);if(W!=null){var Q=H>G?H:G;var S=H>G?1:H/G;var P=H>G?G/H:1;W.translate(C.x,C.y);W.rotate(A);W.scale(S,P);W.arc(0,0,Q,af,af+ab,1-F);W.scale(1/S,1/P);W.rotate(-A);W.translate(-C.x,-C.y)}}break;case"Z":case"z":if(W!=null){W.closePath()}Y.current=Y.start}}return I};this.getMarkers=function(){var A=this.PathParser.getMarkerPoints();var C=this.PathParser.getMarkerAngles();var B=[];for(var z=0;z<A.length;z++){B.push([A[z],C[z]])}return B}};r.Element.path.prototype=new r.Element.PathElementBase;r.Element.pattern=function(t){this.base=r.Element.ElementBase;this.base(t);this.createPattern=function(G,z){var u=this.attribute("width").toPixels("x",true);var F=this.attribute("height").toPixels("y",true);var D=new r.Element.svg();D.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value);D.attributes.width=new r.Property("width",u+"px");D.attributes.height=new r.Property("height",F+"px");D.attributes.transform=new r.Property("transform",this.attribute("patternTransform").value);D.children=this.children;var B=document.createElement("canvas");B.width=u;B.height=F;var w=B.getContext("2d");if(this.attribute("x").hasValue()&&this.attribute("y").hasValue()){w.translate(this.attribute("x").toPixels("x",true),this.attribute("y").toPixels("y",true))}for(var E=-1;E<=1;E++){for(var C=-1;C<=1;C++){w.save();D.attributes.x=new r.Property("x",E*B.width);D.attributes.y=new r.Property("y",C*B.height);D.render(w);w.restore()}}var A=G.createPattern(B,"repeat");return A}};r.Element.pattern.prototype=new r.Element.ElementBase;r.Element.marker=function(t){this.base=r.Element.ElementBase;this.base(t);this.baseRender=this.render;this.render=function(w,u,A){w.translate(u.x,u.y);if(this.attribute("orient").valueOrDefault("auto")=="auto"){w.rotate(A)}if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){w.scale(w.lineWidth,w.lineWidth)}w.save();var z=new r.Element.svg();z.attributes.viewBox=new r.Property("viewBox",this.attribute("viewBox").value);z.attributes.refX=new r.Property("refX",this.attribute("refX").value);z.attributes.refY=new r.Property("refY",this.attribute("refY").value);z.attributes.width=new r.Property("width",this.attribute("markerWidth").value);z.attributes.height=new r.Property("height",this.attribute("markerHeight").value);z.attributes.fill=new r.Property("fill",this.attribute("fill").valueOrDefault("black"));z.attributes.stroke=new r.Property("stroke",this.attribute("stroke").valueOrDefault("none"));z.children=this.children;z.render(w);w.restore();if(this.attribute("markerUnits").valueOrDefault("strokeWidth")=="strokeWidth"){w.scale(1/w.lineWidth,1/w.lineWidth)}if(this.attribute("orient").valueOrDefault("auto")=="auto"){w.rotate(-A)}w.translate(-u.x,-u.y)}};r.Element.marker.prototype=new r.Element.ElementBase;r.Element.defs=function(t){this.base=r.Element.ElementBase;this.base(t);this.render=function(u){}};r.Element.defs.prototype=new r.Element.ElementBase;r.Element.GradientBase=function(u){this.base=r.Element.ElementBase;this.base(u);this.stops=[];for(var t=0;t<this.children.length;t++){var w=this.children[t];if(w.type=="stop"){this.stops.push(w)}}this.getGradient=function(){};this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")};this.attributesToInherit=["gradientUnits"];this.inheritStopContainer=function(z){for(var B=0;B<this.attributesToInherit.length;B++){var A=this.attributesToInherit[B];if(!this.attribute(A).hasValue()&&z.attribute(A).hasValue()){this.attribute(A,true).value=z.attribute(A).value}}};this.createGradient=function(L,C,z){var K=this;if(this.getHrefAttribute().hasValue()){K=this.getHrefAttribute().getDefinition();this.inheritStopContainer(K)}var B=function(M){if(z.hasValue()){var N=new r.Property("color",M);return N.addOpacity(z).value}return M};var E=this.getGradient(L,C);if(E==null){return B(K.stops[K.stops.length-1].color)}for(var D=0;D<K.stops.length;D++){E.addColorStop(K.stops[D].offset,B(K.stops[D].color))}if(this.attribute("gradientTransform").hasValue()){var G=r.ViewPort.viewPorts[0];var H=new r.Element.rect();H.attributes.x=new r.Property("x",-r.MAX_VIRTUAL_PIXELS/3);H.attributes.y=new r.Property("y",-r.MAX_VIRTUAL_PIXELS/3);H.attributes.width=new r.Property("width",r.MAX_VIRTUAL_PIXELS);H.attributes.height=new r.Property("height",r.MAX_VIRTUAL_PIXELS);var J=new r.Element.g();J.attributes.transform=new r.Property("transform",this.attribute("gradientTransform").value);J.children=[H];var I=new r.Element.svg();I.attributes.x=new r.Property("x",0);I.attributes.y=new r.Property("y",0);I.attributes.width=new r.Property("width",G.width);I.attributes.height=new r.Property("height",G.height);I.children=[J];var F=document.createElement("canvas");F.width=G.width;F.height=G.height;var A=F.getContext("2d");A.fillStyle=E;I.render(A);return A.createPattern(F,"no-repeat")}return E}};r.Element.GradientBase.prototype=new r.Element.ElementBase;r.Element.linearGradient=function(t){this.base=r.Element.GradientBase;this.base(t);this.attributesToInherit.push("x1");this.attributesToInherit.push("y1");this.attributesToInherit.push("x2");this.attributesToInherit.push("y2");this.getGradient=function(u,B){var D=this.gradientUnits()=="objectBoundingBox"?B.getBoundingBox():null;if(!this.attribute("x1").hasValue()&&!this.attribute("y1").hasValue()&&!this.attribute("x2").hasValue()&&!this.attribute("y2").hasValue()){this.attribute("x1",true).value=0;this.attribute("y1",true).value=0;this.attribute("x2",true).value=1;this.attribute("y2",true).value=0}var z=(this.gradientUnits()=="objectBoundingBox"?D.x()+D.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"));var C=(this.gradientUnits()=="objectBoundingBox"?D.y()+D.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"));var w=(this.gradientUnits()=="objectBoundingBox"?D.x()+D.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"));var A=(this.gradientUnits()=="objectBoundingBox"?D.y()+D.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y"));if(z==w&&C==A){return null}return u.createLinearGradient(z,C,w,A)}};r.Element.linearGradient.prototype=new r.Element.GradientBase;r.Element.radialGradient=function(t){this.base=r.Element.GradientBase;this.base(t);this.attributesToInherit.push("cx");this.attributesToInherit.push("cy");this.attributesToInherit.push("r");this.attributesToInherit.push("fx");this.attributesToInherit.push("fy");this.getGradient=function(w,z){var D=z.getBoundingBox();if(!this.attribute("cx").hasValue()){this.attribute("cx",true).value="50%"}if(!this.attribute("cy").hasValue()){this.attribute("cy",true).value="50%"}if(!this.attribute("r").hasValue()){this.attribute("r",true).value="50%"}var u=(this.gradientUnits()=="objectBoundingBox"?D.x()+D.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"));var E=(this.gradientUnits()=="objectBoundingBox"?D.y()+D.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"));var C=u;var A=E;if(this.attribute("fx").hasValue()){C=(this.gradientUnits()=="objectBoundingBox"?D.x()+D.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"))}if(this.attribute("fy").hasValue()){A=(this.gradientUnits()=="objectBoundingBox"?D.y()+D.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"))}var B=(this.gradientUnits()=="objectBoundingBox"?(D.width()+D.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels());return w.createRadialGradient(C,A,0,u,E,B)}};r.Element.radialGradient.prototype=new r.Element.GradientBase;r.Element.stop=function(u){this.base=r.Element.ElementBase;this.base(u);this.offset=this.attribute("offset").numValue();if(this.offset<0){this.offset=0}if(this.offset>1){this.offset=1}var t=this.style("stop-color",true);if(t.value===""){t.value="#000"}if(this.style("stop-opacity").hasValue()){t=t.addOpacity(this.style("stop-opacity"))}this.color=t.value};r.Element.stop.prototype=new r.Element.ElementBase;r.Element.AnimateBase=function(t){this.base=r.Element.ElementBase;this.base(t);r.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var w=this.attribute("attributeType").value;var u=this.attribute("attributeName").value;if(w=="CSS"){return this.parent.style(u,true)}return this.parent.attribute(u,true)};this.initialValue=null;this.initialUnits="";this.removed=false;this.calcValue=function(){return""};this.update=function(A){if(this.initialValue==null){this.initialValue=this.getProperty().value;this.initialUnits=this.getProperty().getUnits()}if(this.duration>this.maxDuration){if(this.attribute("repeatCount").value=="indefinite"||this.attribute("repeatDur").value=="indefinite"){this.duration=0}else{if(this.attribute("fill").valueOrDefault("remove")=="freeze"&&!this.frozen){this.frozen=true;this.parent.animationFrozen=true;this.parent.animationFrozenValue=this.getProperty().value}else{if(this.attribute("fill").valueOrDefault("remove")=="remove"&&!this.removed){this.removed=true;this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue;return true}}}return false}this.duration=this.duration+A;var u=false;if(this.begin<this.duration){var z=this.calcValue();if(this.attribute("type").hasValue()){var w=this.attribute("type").value;z=w+"("+z+")"}this.getProperty().value=z;u=true}return u};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");if(this.values.hasValue()){this.values.value=this.values.value.split(";")}this.progress=function(){var w={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var A=w.progress*(this.values.value.length-1);var z=Math.floor(A),u=Math.ceil(A);w.from=new r.Property("from",parseFloat(this.values.value[z]));w.to=new r.Property("to",parseFloat(this.values.value[u]));w.progress=(A-z)/(u-z)}else{w.from=this.from;w.to=this.to}return w}};r.Element.AnimateBase.prototype=new r.Element.ElementBase;r.Element.animate=function(t){this.base=r.Element.AnimateBase;this.base(t);this.calcValue=function(){var w=this.progress();var u=w.from.numValue()+(w.to.numValue()-w.from.numValue())*w.progress;return u+this.initialUnits}};r.Element.animate.prototype=new r.Element.AnimateBase;r.Element.animateColor=function(t){this.base=r.Element.AnimateBase;this.base(t);this.calcValue=function(){var A=this.progress();var C=new a(A.from.value);var B=new a(A.to.value);if(C.ok&&B.ok){var z=C.r+(B.r-C.r)*A.progress;var w=C.g+(B.g-C.g)*A.progress;var u=C.b+(B.b-C.b)*A.progress;return"rgb("+parseInt(z,10)+","+parseInt(w,10)+","+parseInt(u,10)+")"}return this.attribute("from").value}};r.Element.animateColor.prototype=new r.Element.AnimateBase;r.Element.animateTransform=function(t){this.base=r.Element.AnimateBase;this.base(t);this.calcValue=function(){var z=this.progress();var B=r.ToNumberArray(z.from.value);var A=r.ToNumberArray(z.to.value);var w="";for(var u=0;u<B.length;u++){w+=B[u]+(A[u]-B[u])*z.progress+" "}return w}};r.Element.animateTransform.prototype=new r.Element.animate;r.Element.font=function(u){this.base=r.Element.ElementBase;this.base(u);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isRTL=false;this.isArabic=false;this.fontFace=null;this.missingGlyph=null;this.glyphs=[];for(var t=0;t<this.children.length;t++){var w=this.children[t];if(w.type=="font-face"){this.fontFace=w;if(w.style("font-family").hasValue()){r.Definitions[w.style("font-family").value]=this}}else{if(w.type=="missing-glyph"){this.missingGlyph=w}else{if(w.type=="glyph"){if(w.arabicForm!=""){this.isRTL=true;this.isArabic=true;if(typeof this.glyphs[w.unicode]=="undefined"){this.glyphs[w.unicode]=[]}this.glyphs[w.unicode][w.arabicForm]=w}else{this.glyphs[w.unicode]=w}}}}}};r.Element.font.prototype=new r.Element.ElementBase;r.Element.fontface=function(t){this.base=r.Element.ElementBase;this.base(t);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};r.Element.fontface.prototype=new r.Element.ElementBase;r.Element.missingglyph=function(t){this.base=r.Element.path;this.base(t);this.horizAdvX=0};r.Element.missingglyph.prototype=new r.Element.path;r.Element.glyph=function(t){this.base=r.Element.path;this.base(t);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};r.Element.glyph.prototype=new r.Element.path;r.Element.text=function(t){this.captureTextNodes=true;this.base=r.Element.RenderedElementBase;this.base(t);this.baseSetContext=this.setContext;this.setContext=function(u){this.baseSetContext(u);var w=this.style("dominant-baseline").toTextBaseline();if(w==null){w=this.style("alignment-baseline").toTextBaseline()}if(w!=null){u.textBaseline=w}};this.getBoundingBox=function(){var u=this.attribute("x").toPixels("x");var z=this.attribute("y").toPixels("y");var w=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize);return new r.BoundingBox(u,z-w,u+Math.floor(w*2/3)*this.children[0].getText().length,z)};this.renderChildren=function(u){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");if(this.attribute("dx").hasValue()){this.x+=this.attribute("dx").toPixels("x")}if(this.attribute("dy").hasValue()){this.y+=this.attribute("dy").toPixels("y")}this.x+=this.getAnchorDelta(u,this,0);for(var w=0;w<this.children.length;w++){this.renderChild(u,this,this,w)}};this.getAnchorDelta=function(w,C,B){var u=this.style("text-anchor").valueOrDefault("start");if(u!="start"){var A=0;for(var z=B;z<C.children.length;z++){var D=C.children[z];if(z>B&&D.attribute("x").hasValue()){break}A+=D.measureTextRecursive(w)}return -1*(u=="end"?A:A/2)}return 0};this.renderChild=function(u,w,A,z){var B=A.children[z];if(B.attribute("x").hasValue()){B.x=B.attribute("x").toPixels("x")+w.getAnchorDelta(u,A,z);if(B.attribute("dx").hasValue()){B.x+=B.attribute("dx").toPixels("x")}}else{if(B.attribute("dx").hasValue()){w.x+=B.attribute("dx").toPixels("x")}B.x=w.x}w.x=B.x+B.measureText(u);if(B.attribute("y").hasValue()){B.y=B.attribute("y").toPixels("y");if(B.attribute("dy").hasValue()){B.y+=B.attribute("dy").toPixels("y")}}else{if(B.attribute("dy").hasValue()){w.y+=B.attribute("dy").toPixels("y")}B.y=w.y}w.y=B.y;B.render(u);for(var z=0;z<B.children.length;z++){w.renderChild(u,w,B,z)}}};r.Element.text.prototype=new r.Element.RenderedElementBase;r.Element.TextElementBase=function(t){this.base=r.Element.RenderedElementBase;this.base(t);this.getGlyph=function(u,B,w){var C=B[w];var z=null;if(u.isArabic){var A="isolated";if((w==0||B[w-1]==" ")&&w<B.length-2&&B[w+1]!=" "){A="terminal"}if(w>0&&B[w-1]!=" "&&w<B.length-2&&B[w+1]!=" "){A="medial"}if(w>0&&B[w-1]!=" "&&(w==B.length-1||B[w+1]==" ")){A="initial"}if(typeof u.glyphs[C]!="undefined"){z=u.glyphs[C][A];if(z==null&&u.glyphs[C].type=="glyph"){z=u.glyphs[C]}}}else{z=u.glyphs[C]}if(z==null){z=u.missingGlyph}return z};this.renderChildren=function(E){var C=this.parent.style("font-family").getDefinition();if(C!=null){var F=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize);var z=this.parent.style("font-style").valueOrDefault(r.Font.Parse(r.ctx.font).fontStyle);var D=this.getText();if(C.isRTL){D=D.split("").reverse().join("")}var G=r.ToNumberArray(this.parent.attribute("dx").value);for(var A=0;A<D.length;A++){var B=this.getGlyph(C,D,A);var w=F/C.fontFace.unitsPerEm;E.translate(this.x,this.y);E.scale(w,-w);var u=E.lineWidth;E.lineWidth=E.lineWidth*C.fontFace.unitsPerEm/F;if(z=="italic"){E.transform(1,0,0.4,1,0,0)}B.render(E);if(z=="italic"){E.transform(1,0,-0.4,1,0,0)}E.lineWidth=u;E.scale(1/w,-1/w);E.translate(-this.x,-this.y);this.x+=F*(B.horizAdvX||C.horizAdvX)/C.fontFace.unitsPerEm;if(typeof G[A]!="undefined"&&!isNaN(G[A])){this.x+=G[A]}}return}if(E.fillStyle!=""){E.fillText(r.compressSpaces(this.getText()),this.x,this.y)}if(E.strokeStyle!=""){E.strokeText(r.compressSpaces(this.getText()),this.x,this.y)}};this.getText=function(){};this.measureTextRecursive=function(u){var z=this.measureText(u);for(var w=0;w<this.children.length;w++){z+=this.children[w].measureTextRecursive(u)}return z};this.measureText=function(E){var C=this.parent.style("font-family").getDefinition();if(C!=null){var F=this.parent.style("font-size").numValueOrDefault(r.Font.Parse(r.ctx.font).fontSize);var w=0;var D=this.getText();if(C.isRTL){D=D.split("").reverse().join("")}var G=r.ToNumberArray(this.parent.attribute("dx").value);for(var A=0;A<D.length;A++){var B=this.getGlyph(C,D,A);w+=(B.horizAdvX||C.horizAdvX)*F/C.fontFace.unitsPerEm;if(typeof G[A]!="undefined"&&!isNaN(G[A])){w+=G[A]}}return w}var u=r.compressSpaces(this.getText());if(!E.measureText){return u.length*10}E.save();this.setContext(E);var z=E.measureText(u).width;E.restore();return z}};r.Element.TextElementBase.prototype=new r.Element.RenderedElementBase;r.Element.tspan=function(t){this.captureTextNodes=true;this.base=r.Element.TextElementBase;this.base(t);this.text=r.compressSpaces(t.value||t.text||t.textContent||"");this.getText=function(){if(this.children.length>0){return""}return this.text}};r.Element.tspan.prototype=new r.Element.TextElementBase;r.Element.tref=function(t){this.base=r.Element.TextElementBase;this.base(t);this.getText=function(){var u=this.getHrefAttribute().getDefinition();if(u!=null){return u.children[0].getText()}}};r.Element.tref.prototype=new r.Element.TextElementBase;r.Element.a=function(u){this.base=r.Element.TextElementBase;this.base(u);this.hasText=u.childNodes.length>0;for(var t=0;t<u.childNodes.length;t++){if(u.childNodes[t].nodeType!=3){this.hasText=false}}this.text=this.hasText?u.childNodes[0].value:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(w){if(this.hasText){this.baseRenderChildren(w);var A=new r.Property("fontSize",r.Font.Parse(r.ctx.font).fontSize);r.Mouse.checkBoundingBox(this,new r.BoundingBox(this.x,this.y-A.toPixels("y"),this.x+this.measureText(w),this.y))}else{if(this.children.length>0){var z=new r.Element.g();z.children=this.children;z.parent=this;z.render(w)}}};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){r.ctx.canvas.style.cursor="pointer"}};r.Element.a.prototype=new r.Element.TextElementBase;r.Element.image=function(w){this.base=r.Element.RenderedElementBase;this.base(w);var u=this.getHrefAttribute().value;if(u==""){return}var z=u.match(/\.svg$/);r.Images.push(this);this.loaded=false;if(!z){this.img=document.createElement("img");if(r.opts.useCORS==true){this.img.crossOrigin="Anonymous"}var t=this;this.img.onload=function(){t.loaded=true};this.img.onerror=function(){r.log('ERROR: image "'+u+'" not found');t.loaded=true};this.img.src=u}else{this.img=r.ajax(u);this.loaded=true}this.renderChildren=function(C){var B=this.attribute("x").toPixels("x");var E=this.attribute("y").toPixels("y");var D=this.attribute("width").toPixels("x");var A=this.attribute("height").toPixels("y");if(D==0||A==0){return}C.save();if(z){C.drawSvg(this.img,B,E,D,A)}else{C.translate(B,E);r.AspectRatio(C,this.attribute("preserveAspectRatio").value,D,this.img.width,A,this.img.height,0,0);C.drawImage(this.img,0,0)}C.restore()};this.getBoundingBox=function(){var B=this.attribute("x").toPixels("x");var D=this.attribute("y").toPixels("y");var C=this.attribute("width").toPixels("x");var A=this.attribute("height").toPixels("y");return new r.BoundingBox(B,D,B+C,D+A)}};r.Element.image.prototype=new r.Element.RenderedElementBase;r.Element.g=function(t){this.base=r.Element.RenderedElementBase;this.base(t);this.getBoundingBox=function(){var w=new r.BoundingBox();for(var u=0;u<this.children.length;u++){w.addBoundingBox(this.children[u].getBoundingBox())}return w}};r.Element.g.prototype=new r.Element.RenderedElementBase;r.Element.symbol=function(t){this.base=r.Element.RenderedElementBase;this.base(t);this.render=function(u){}};r.Element.symbol.prototype=new r.Element.RenderedElementBase;r.Element.style=function(L){this.base=r.Element.ElementBase;this.base(L);var H="";for(var O=0;O<L.childNodes.length;O++){H+=L.childNodes[O].data}H=H.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");H=r.compressSpaces(H);var G=H.split("}");for(var O=0;O<G.length;O++){if(r.trim(G[O])!=""){var T=G[O].split("{");var z=T[0].split(",");var t=T[1].split(";");for(var N=0;N<z.length;N++){var E=r.trim(z[N]);if(E!=""){var w=r.Styles[E]||{};for(var M=0;M<t.length;M++){var u=t[M].indexOf(":");var U=t[M].substr(0,u);var K=t[M].substr(u+1,t[M].length-u);if(U!=null&&K!=null){w[r.trim(U)]=new r.Property(r.trim(U),r.trim(K))}}r.Styles[E]=w;r.StylesSpecificity[E]=f(E);if(E=="@font-face"){var Q=w["font-family"].value.replace(/"/g,"");var F=w.src.value.split(",");for(var I=0;I<F.length;I++){if(F[I].indexOf('format("svg")')>0){var C=F[I].indexOf("url");var B=F[I].indexOf(")",C);var A=F[I].substr(C+5,B-C-6);var S=r.parseXml(r.ajax(A));var D=S.getElementsByTagName("font");for(var P=0;P<D.length;P++){var J=r.CreateElement(D[P]);r.Definitions[Q]=J}}}}}}}}};r.Element.style.prototype=new r.Element.ElementBase;r.Element.use=function(u){this.base=r.Element.RenderedElementBase;this.base(u);this.baseSetContext=this.setContext;this.setContext=function(w){this.baseSetContext(w);if(this.attribute("x").hasValue()){w.translate(this.attribute("x").toPixels("x"),0)}if(this.attribute("y").hasValue()){w.translate(0,this.attribute("y").toPixels("y"))}};var t=this.getHrefAttribute().getDefinition();this.path=function(w){if(t!=null){t.path(w)}};this.getBoundingBox=function(){if(t!=null){return t.getBoundingBox()}};this.renderChildren=function(w){if(t!=null){var A=t;if(t.type=="symbol"){A=new r.Element.svg();A.type="svg";A.attributes.viewBox=new r.Property("viewBox",t.attribute("viewBox").value);A.attributes.preserveAspectRatio=new r.Property("preserveAspectRatio",t.attribute("preserveAspectRatio").value);A.attributes.overflow=new r.Property("overflow",t.attribute("overflow").value);A.children=t.children}if(A.type=="svg"){if(this.attribute("width").hasValue()){A.attributes.width=new r.Property("width",this.attribute("width").value)}if(this.attribute("height").hasValue()){A.attributes.height=new r.Property("height",this.attribute("height").value)}}var z=A.parent;A.parent=null;A.render(w);A.parent=z}}};r.Element.use.prototype=new r.Element.RenderedElementBase;r.Element.mask=function(t){this.base=r.Element.ElementBase;this.base(t);this.apply=function(H,z){var F=this.attribute("x").toPixels("x");var E=this.attribute("y").toPixels("y");var u=this.attribute("width").toPixels("x");var G=this.attribute("height").toPixels("y");if(u==0&&G==0){var B=new r.BoundingBox();for(var A=0;A<this.children.length;A++){B.addBoundingBox(this.children[A].getBoundingBox())}var F=Math.floor(B.x1);var E=Math.floor(B.y1);var u=Math.floor(B.width());var G=Math.floor(B.height())}var J=z.attribute("mask").value;z.attribute("mask").value="";var D=document.createElement("canvas");D.width=F+u;D.height=E+G;var I=D.getContext("2d");this.renderChildren(I);var C=document.createElement("canvas");C.width=F+u;C.height=E+G;var w=C.getContext("2d");z.render(w);w.globalCompositeOperation="destination-in";w.fillStyle=I.createPattern(D,"no-repeat");w.fillRect(0,0,F+u,E+G);H.fillStyle=w.createPattern(C,"no-repeat");H.fillRect(0,0,F+u,E+G);z.attribute("mask").value=J};this.render=function(u){}};r.Element.mask.prototype=new r.Element.ElementBase;r.Element.clipPath=function(t){this.base=r.Element.ElementBase;this.base(t);this.apply=function(u){u.beginPath();for(var z=0;z<this.children.length;z++){var D=this.children[z];if(typeof D.path!="undefined"){var w=null;if(D.style("transform",false,true).hasValue()){w=new r.Transform(D.style("transform",false,true).value);w.apply(u)}D.path(u);if(w){w.unapply(u)}}}u.closePath();u.clip();return;var B=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var A=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){};try{B.call(u);for(var z=0;z<this.children.length;z++){var D=this.children[z];if(typeof D.path!="undefined"){var w=null;if(D.style("transform",false,true).hasValue()){w=new r.Transform(D.style("transform",false,true).value);w.apply(u)}D.path(u);CanvasRenderingContext2D.prototype.closePath=A;if(w){w.unapply(u)}}}A.call(u);u.clip()}catch(C){console.log(C)}CanvasRenderingContext2D.prototype.beginPath=B;CanvasRenderingContext2D.prototype.closePath=A};this.render=function(u){}};r.Element.clipPath.prototype=new r.Element.ElementBase;r.Element.filter=function(t){this.base=r.Element.ElementBase;this.base(t);this.apply=function(K,C){var D=C.getBoundingBox();var H=Math.floor(D.x1);var F=Math.floor(D.y1);var w=Math.floor(D.width());var J=Math.floor(D.height());var z=C.style("filter").value;C.style("filter").value="";var I=0,G=0;for(var B=0;B<this.children.length;B++){var u=this.children[B].extraFilterDistance||0;I=Math.max(I,u);G=Math.max(G,u)}var E=document.createElement("canvas");E.width=w+2*I;E.height=J+2*G;var A=E.getContext("2d");A.translate(-H+I,-F+G);C.render(A);for(var B=0;B<this.children.length;B++){if(typeof this.children[B].apply=="function"){this.children[B].apply(A,0,0,w+2*I,J+2*G)}}K.drawImage(E,0,0,w+2*I,J+2*G,H-I,F-G,w+2*I,J+2*G);C.style("filter",true).value=z};this.render=function(u){}};r.Element.filter.prototype=new r.Element.ElementBase;r.Element.feMorphology=function(t){this.base=r.Element.ElementBase;this.base(t);this.apply=function(z,w,B,A,u){}};r.Element.feMorphology.prototype=new r.Element.ElementBase;r.Element.feComposite=function(t){this.base=r.Element.ElementBase;this.base(t);this.apply=function(z,w,B,A,u){}};r.Element.feComposite.prototype=new r.Element.ElementBase;r.Element.feColorMatrix=function(C){this.base=r.Element.ElementBase;this.base(C);var z=r.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var B=z[0];z=[0.213+0.787*B,0.715-0.715*B,0.072-0.072*B,0,0,0.213-0.213*B,0.715+0.285*B,0.072-0.072*B,0,0,0.213-0.213*B,0.715-0.715*B,0.072+0.928*B,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var w=z[0]*Math.PI/180;var D=function(G,F,E){return G+Math.cos(w)*F+Math.sin(w)*E};z=[D(0.213,0.787,-0.213),D(0.715,-0.715,-0.715),D(0.072,-0.072,0.928),0,0,D(0.213,-0.213,0.143),D(0.715,0.285,0.14),D(0.072,-0.072,-0.283),0,0,D(0.213,-0.213,-0.787),D(0.715,-0.715,0.715),D(0.072,0.928,0.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0,1];break}function A(G,F,J,I,E,H){return G[J*I*4+F*4+H]}function u(G,F,K,I,E,H,J){G[K*I*4+F*4+H]=J}function t(G,F){var E=z[G];return E*(E<0?F-255:F)}this.apply=function(N,L,J,F,M){var H=N.getImageData(0,0,F,M);for(var J=0;J<M;J++){for(var L=0;L<F;L++){var E=A(H.data,L,J,F,M,0);var G=A(H.data,L,J,F,M,1);var I=A(H.data,L,J,F,M,2);var K=A(H.data,L,J,F,M,3);u(H.data,L,J,F,M,0,t(0,E)+t(1,G)+t(2,I)+t(3,K)+t(4,1));u(H.data,L,J,F,M,1,t(5,E)+t(6,G)+t(7,I)+t(8,K)+t(9,1));u(H.data,L,J,F,M,2,t(10,E)+t(11,G)+t(12,I)+t(13,K)+t(14,1));u(H.data,L,J,F,M,3,t(15,E)+t(16,G)+t(17,I)+t(18,K)+t(19,1))}}N.clearRect(0,0,F,M);N.putImageData(H,0,0)}};r.Element.feColorMatrix.prototype=new r.Element.ElementBase;r.Element.feGaussianBlur=function(u){this.base=r.Element.ElementBase;this.base(u);var t=this.attribute("stdDeviation").numValue();if(t>1000){t=this.attribute("stddeviation2").value!==""?this.attribute("stddeviation2").numValue():2}this.blurRadius=Math.floor(t);this.extraFilterDistance=this.blurRadius;this.apply=function(A,z,C,B,w){if(b===undefined&&window.StackBlur!==undefined){b=window.StackBlur}if(typeof b.canvasRGBA=="undefined"){r.log("ERROR: StackBlur.js must be included for blur to work");return}A.canvas.id=r.UniqueId();A.canvas.style.display="none";document.body.appendChild(A.canvas);b.canvasRGBA(A.canvas.id,z,C,B,w,this.blurRadius);document.body.removeChild(A.canvas)}};r.Element.feGaussianBlur.prototype=new r.Element.ElementBase;r.Element.title=function(t){};r.Element.title.prototype=new r.Element.ElementBase;r.Element.desc=function(t){};r.Element.desc.prototype=new r.Element.ElementBase;r.Element.MISSING=function(t){r.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")};r.Element.MISSING.prototype=new r.Element.ElementBase;r.CreateElement=function(u){var t=u.nodeName.replace(/^[^:]+:/,"");t=t.replace(/\-/g,"");var w=null;if(typeof r.Element[t]!="undefined"){w=new r.Element[t](u)}else{w=new r.Element.MISSING(u)}w.type=u.nodeName;return w};r.load=function(t,u){r.loadXml(t,r.ajax(u))};r.loadXml=function(t,u){r.loadXmlDoc(t,r.parseXml(u))};r.loadXmlDoc=function(z,C){r.init(z);var w=function(E){var D=z.canvas;while(D){E.x-=D.offsetLeft;E.y-=D.offsetTop;D=D.offsetParent}if(window.scrollX){E.x+=window.scrollX}if(window.scrollY){E.y+=window.scrollY}return E};if(r.opts.ignoreMouse!=true){z.canvas.onclick=function(E){var D=w(new r.Point(E!=null?E.clientX:event.clientX,E!=null?E.clientY:event.clientY));r.Mouse.onclick(D.x,D.y)};z.canvas.onmousemove=function(E){var D=w(new r.Point(E!=null?E.clientX:event.clientX,E!=null?E.clientY:event.clientY));r.Mouse.onmousemove(D.x,D.y)}}var B=r.CreateElement(C.documentElement);B.root=true;B.addStylesFromStyleDefinition();var A=true;var u=function(H){r.ViewPort.Clear();if(r.opts.ignoreDimensions!=true){if(H.style("width").hasValue()){z.canvas.width=H.style("width").toPixels("x");z.canvas.style.width=z.canvas.width+"px"}if(H.style("height").hasValue()){z.canvas.height=H.style("height").toPixels("y");z.canvas.style.height=z.canvas.height+"px"}}var F;var E;if(z.canvas){F=z.canvas.clientWidth||z.canvas.width;E=z.canvas.clientHeight||z.canvas.height}else{if(z._canvas){try{F=z._canvas.width;E=z._canvas.height}catch(H){}}}if(!F||!E){console.warn("Canvas width and/or height not set.  Defaults used.");F=100;E=100}if(r.opts.ignoreDimensions==true&&H.style("width").hasValue()&&H.style("height").hasValue()){try{F=H.style("width").toPixels("x");E=H.style("height").toPixels("y")}catch(H){}}r.ViewPort.SetCurrent(F,E);if(r.opts.offsetX!=null){H.attribute("x",true).value=r.opts.offsetX}if(r.opts.offsetY!=null){H.attribute("y",true).value=r.opts.offsetY}if(r.opts.scaleWidth!=null||r.opts.scaleHeight!=null){var G=null,D=null,I=r.ToNumberArray(H.attribute("viewBox").value);if(r.opts.scaleWidth!=null){if(H.attribute("width").hasValue()){G=H.attribute("width").toPixels("x")/r.opts.scaleWidth}else{if(!isNaN(I[2])){G=I[2]/r.opts.scaleWidth}}}if(r.opts.scaleHeight!=null){if(H.attribute("height").hasValue()){D=H.attribute("height").toPixels("y")/r.opts.scaleHeight}else{if(!isNaN(I[3])){D=I[3]/r.opts.scaleHeight}}}if(G==null){G=D}if(D==null){D=G}H.attribute("width",true).value=r.opts.scaleWidth;H.attribute("height",true).value=r.opts.scaleHeight;H.attribute("viewBox",true).value="0 0 "+(F*G)+" "+(E*D);H.style("transform",true,true).value+=" scale("+(1/G)+","+(1/D)+")"}if(r.opts.ignoreClear!=true){z.clearRect(0,0,F,E)}H.render(z);if(A){A=false;if(typeof r.opts.renderCallback=="function"){r.opts.renderCallback(C)}}};var t=true;if(r.ImagesLoaded()){t=false;u(B)}r.intervalID=setInterval(function(){var E=false;if(t&&r.ImagesLoaded()){t=false;E=true}if(r.opts.ignoreMouse!=true){E=E|r.Mouse.hasEvents()}if(r.opts.ignoreAnimation!=true){for(var D=0;D<r.Animations.length;D++){E=E|r.Animations[D].update(1000/r.FRAMERATE)}}if(typeof r.opts.forceRedraw=="function"){if(r.opts.forceRedraw()==true){E=true}}if(E){u();r.Mouse.runEvents()}},1000/r.FRAMERATE)};r.stop=function(){if(r.intervalID){clearInterval(r.intervalID)}};r.Mouse=new (function(){this.events=[];this.hasEvents=function(){return this.events.length!=0};this.onclick=function(t,u){this.events.push({type:"onclick",x:t,y:u,run:function(w){if(w.onclick){w.onclick()}}})};this.onmousemove=function(t,u){this.events.push({type:"onmousemove",x:t,y:u,run:function(w){if(w.onmousemove){w.onmousemove()}}})};this.eventElements=[];this.checkPath=function(w,t){for(var u=0;u<this.events.length;u++){var z=this.events[u];if(t.isPointInPath&&t.isPointInPath(z.x,z.y)){this.eventElements[u]=w}}};this.checkBoundingBox=function(u,z){for(var t=0;t<this.events.length;t++){var w=this.events[t];if(z.isPointInBox(w.x,w.y)){this.eventElements[t]=u}}};this.runEvents=function(){r.ctx.canvas.style.cursor="";for(var u=0;u<this.events.length;u++){var w=this.events[u];var t=this.eventElements[u];while(t){w.run(t);t=t.parent}}this.events=[];this.eventElements=[]}});return r}if(typeof CanvasRenderingContext2D!="undefined"){CanvasRenderingContext2D.prototype.drawSvg=function(w,r,q,u,A,z){var t={ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:r,offsetY:q,scaleWidth:u,scaleHeight:A};for(var B in z){if(z.hasOwnProperty(B)){t[B]=z[B]}}h(this.canvas,w,t)}}return h}));if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(d,e){if(this==null){throw new TypeError('"this" is null or not defined')}var f=Object(this);var a=f.length>>>0;if(a===0){return false}var g=e|0;var c=Math.max(g>=0?g:a-Math.abs(g),0);function b(h,j){return h===j||(typeof h==="number"&&typeof j==="number"&&isNaN(h)&&isNaN(j))}while(c<a){if(b(f[c],d)){return true}c++}return false}})}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(b){if(this==null){throw new TypeError('"this" is null or not defined')}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError("predicate must be a function")}var c=arguments[1];var d=0;while(d<a){var e=f[d];if(b.call(c,e,d,f)){return e}d++}return undefined}})}m2soft.ns("m2soft.crownix.KoreanAutomata.Word");m2soft.crownix.KoreanAutomata.Word=(function(){var a=function(d){this.Status=Object.freeze({Init:0,Medial:1,CombineMedial:2,Final:3,CombineFinal:4,Complete:5});this.initial=new m2soft.crownix.KoreanAutomata.InitialConsonant();this.medial=new m2soft.crownix.KoreanAutomata.Medial();this.finalConsonant=new m2soft.crownix.KoreanAutomata.FinalConsonant();this.nonKoreanChar=null;this.status=this.Status.Init;if(d){if(this.isKorean(d)){var b=d.charCodeAt(0)-44032;this.initial.addChar(parseInt(b/(21*28)));b=b%(21*28);this.medial.addChar(parseInt(b/28));b=b%28;this.finalConsonant.addChar(parseInt(b))}else{if(this.isKoreanSound(d)){if(this.initial.contains(d)){this.initial.value=d}else{if(this.medial.contains(d)){this.medial.value=d}else{this.finalConsonant.value=d}}}else{this.status=this.Status.Complete;this.nonKoreanChar=d}}}};a.prototype.addChar=function(b){if(this.status===this.Status.Complete){return false}if(!this.isKoreanSound(b)){this.status=this.Status.Complete;this.nonKoreanChar=b;return true}if(this.status===this.Status.Init){if(!this.initial.addChar(b)){this.status++}}if(this.status===this.Status.Medial){if(!this.medial.addChar(b)){if(this.finalConsonant.contains(this.initial.value+b)){this.finalConsonant.value=this.initial.value;this.initial.value=null;this.finalConsonant.combineChar(b);this.status=this.Status.Complete;return true}else{return false}}}if(this.status===this.Status.CombineMedial){if(!this.medial.combineChar(b)){if(this.initial.value==null){this.status=this.Status.Complete;return false}else{this.status++}}}if(this.status===this.Status.Final){if(!this.finalConsonant.addChar(b)){this.status=this.Status.Complete;return false}}if(this.status===this.Status.CombineFinal){if(!this.finalConsonant.combineChar(b)){this.status++;return false}return true}this.status++;return true};a.prototype.toString=function(){if(this.nonKoreanChar){return this.nonKoreanChar}if(this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty()){return""}if(!this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty()){return this.initial.value}if(this.initial.isEmpty()&&!this.medial.isEmpty()&&this.finalConsonant.isEmpty()){return this.medial.value}if(this.initial.isEmpty()&&this.medial.isEmpty()&&!this.finalConsonant.isEmpty()){return this.finalConsonant.value}var b=this.initial.getValueIndex()*this.medial.getCount()*this.finalConsonant.getCount()+this.medial.getValueIndex()*this.finalConsonant.getCount()+this.finalConsonant.getValueIndex()+44032;return String.fromCharCode(b)};a.prototype.toSoundString=function(){if(this.nonKoreanChar!=null){return this.nonKoreanChar}return this.initial.toString()+this.medial.toString()+this.finalConsonant.toString()};a.prototype.hasInitial=function(){return this.initial.value!=null};a.prototype.hasMedial=function(){return this.medial.value!=null};a.prototype.hasFinal=function(){return this.finalConsonant.getValueIndex()!==0};a.prototype.popFinal=function(){return this.finalConsonant.pop()};a.prototype.toComplete=function(){this.status=this.Status.Complete};a.prototype.isComplete=function(){return this.status===this.Status.Complete};a.prototype.getStatus=function(){return this.status};a.prototype.isKoreanSound=function(b){if(12593<=b.charCodeAt()&&b.charCodeAt()<=12702){return true}return false};a.prototype.isKorean=function(b){if(44032<=b.charCodeAt()&&b.charCodeAt()<=55199){return true}return false};a.prototype.isMedial=function(b){return this.medial.contains(b)};a.prototype.remove=function(){if(!this.finalConsonant.isEmpty()){this.finalConsonant.remove()}else{if(!this.medial.isEmpty()){this.medial.remove()}else{if(!this.initial.isEmpty()){this.initial.remove()}}}};a.prototype.isEmpty=function(){return this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty()};return a})();m2soft.ns("m2soft.crownix.KoreanAutomata");m2soft.crownix.KoreanAutomata=(function(){var a=m2soft.crownix.KoreanAutomata.Word;var b=function(c){this.words=[];if(c){this.words=this.getWordsFromString(c)}};b.prototype.add=function(e){if(e.length>1){for(var d=0;d<e.length;d++){this.addChar(this.words,e.charAt(d))}}else{this.addChar(this.words,e)}};b.prototype.remove=function(){if(!this.words[this.words.length-1].isComplete()){this.words[this.words.length-1].remove()}if(this.words[this.words.length-1].isComplete()||this.words[this.words.length-1].isEmpty()){if(this.words[this.words.length-1].toString()==="\n"){this.words.splice(this.words.length-1,1)}this.words.splice(this.words.length-1,1)}if(this.words.length===0){this.words.push(new a())}};b.prototype.addNonKorean=function(d,e){if(d[d.length-1].getStatus()===(new a).Status.Init){d[d.length-1].addChar(e);d.push(new a())}else{d[d.length-1].toComplete();d.push(new a());d[d.length-1].addChar(e)}};b.prototype.addKorean=function(d,e){if(!d[d.length-1].hasInitial()&&d[d.length-1].isMedial(e)&&d.length>1&&d[d.length-2].hasFinal()){d[d.length-1].addChar(d[d.length-2].popFinal());d[d.length-1].addChar(e)}else{if(!d[d.length-1].addChar(e)){d[d.length-1].toComplete();d.push(new a());this.addKorean(d,e)}}};b.prototype.addChar=function(d,e){if(!(new a).isKoreanSound(e)){this.addNonKorean(d,e)}else{this.addKorean(d,e)}};b.prototype.getWordsFromString=function(e){e=this.disassemble(e);var d=[];var f=e.split("");d.push(new a());for(var c=0;c<f.length;c++){this.addChar(d,f[c])}return d};b.prototype.assemble=function(f){var c="";var e=this.getWordsFromString(f);for(var d in e){c+=e[d].toString()}return c};b.prototype.disassemble=function(f){var c="";for(var d=0;d<f.length;d++){var e=new a(f[d]);c+=e.toSoundString()}return c};b.prototype.toString=function(){var c="";for(var d in this.words){c+=this.words[d].toString()}return c};return b})();m2soft.ns("m2soft.crownix.KoreanAutomata.Sound");m2soft.crownix.KoreanAutomata.Sound=(function(){var a=function(){this.SOUNDS=[];this.COMBINATIONS={};this.value=null};a.prototype.contains=function(b){if(b.length<=1){return this.SOUNDS.includes(b)}else{return this.COMBINATIONS[b]!==undefined}};a.prototype.addChar=function(b){if(isNaN(b)){if(!this.contains(b)){return false}this.value=b;return true}else{if(0<=b&&b<this.SOUNDS.length){this.value=this.SOUNDS[b];return true}return false}};a.prototype.getValueIndex=function(){return this.SOUNDS.indexOf(this.value)};a.prototype.getCount=function(){return this.SOUNDS.length};a.prototype.isEmpty=function(){return this.value==null};a.prototype.combineChar=function(d){if(this.value==null){return false}var b=this.value+d;if(!this.COMBINATIONS[b]){return false}this.value=this.COMBINATIONS[b];return true};a.prototype.toString=function(){if(Object.keys(this.COMBINATIONS).length!==0){var b=this;var c=Object.keys(this.COMBINATIONS).find(function(d){if(b.COMBINATIONS[d]===b.value){return d}});if(c){return c}}return this.value==null?"":this.value};a.prototype.remove=function(){if(Object.keys(this.COMBINATIONS).length!==0){var b=this;var c=Object.keys(this.COMBINATIONS).find(function(d){if(b.COMBINATIONS[d]===b.value){return d}});if(c){this.value=c.charAt(0);return}}this.value=null};return a})();m2soft.ns("m2soft.crownix.KoreanAutomata.Medial");m2soft.crownix.KoreanAutomata.Medial=(function(){var a=function(){this.SOUNDS=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"];this.COMBINATIONS={"ㅗㅏ":"ㅘ","ㅗㅐ":"ㅙ","ㅗㅣ":"ㅚ","ㅜㅓ":"ㅝ","ㅜㅔ":"ㅞ","ㅜㅣ":"ㅟ","ㅡㅣ":"ㅢ"}};a.prototype=new m2soft.crownix.KoreanAutomata.Sound();return a})();m2soft.ns("m2soft.crownix.KoreanAutomata.FinalConsonant");m2soft.crownix.KoreanAutomata.FinalConsonant=(function(){var a=function(){this.SOUNDS=[null,"ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"];this.COMBINATIONS={"ㄱㅅ":"ㄳ","ㄴㅈ":"ㄵ","ㄴㅎ":"ㄶ","ㄹㄱ":"ㄺ","ㄹㅁ":"ㄻ","ㄹㅂ":"ㄼ","ㄹㅅ":"ㄽ","ㄹㅎ":"ㅀ","ㅂㅅ":"ㅄ"}};a.prototype=new m2soft.crownix.KoreanAutomata.Sound();a.prototype.pop=function(){var d=null;var b=this;var c=Object.keys(this.COMBINATIONS).some(function(e){if(b.COMBINATIONS[e]===b.value){return e}});if(c){this.value=c.charAt(0);d=c.charAt(1)}else{d=this.value;this.value=null}return d};return a})();m2soft.ns("m2soft.crownix.KoreanAutomata.InitialConsonant");m2soft.crownix.KoreanAutomata.InitialConsonant=(function(){var a=function(){this.SOUNDS=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]};a.prototype=new m2soft.crownix.KoreanAutomata.Sound();return a})();function X2JS(B){var t="1.1.5";B=B||{};h();u();function h(){if(B.escapeMode===undefined){B.escapeMode=true}B.attributePrefix=B.attributePrefix||"_";B.arrayAccessForm=B.arrayAccessForm||"none";B.emptyNodeForm=B.emptyNodeForm||"text";if(B.enableToStringFunc===undefined){B.enableToStringFunc=true}B.arrayAccessFormPaths=B.arrayAccessFormPaths||[];if(B.skipEmptyTextNodesForObj===undefined){B.skipEmptyTextNodesForObj=true}if(B.stripWhitespaces===undefined){B.stripWhitespaces=true}B.datetimeAccessFormPaths=B.datetimeAccessFormPaths||[]}var g={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function u(){function D(F){var E=String(F);if(E.length===1){E="0"+E}return E}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}}if(typeof Date.prototype.toISOString!=="function"){Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+D(this.getUTCMonth()+1)+"-"+D(this.getUTCDate())+"T"+D(this.getUTCHours())+":"+D(this.getUTCMinutes())+":"+D(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}}}function z(D){var E=D.localName;if(E==null){E=D.baseName}if(E==null||E==""){E=D.nodeName}return E}function r(D){return D.prefix}function s(D){if(typeof(D)=="string"){return D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}else{return D}}function k(D){return D.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function m(H,E,G){switch(B.arrayAccessForm){case"property":if(!(H[E] instanceof Array)){H[E+"_asArray"]=[H[E]]}else{H[E+"_asArray"]=H[E]}break}if(!(H[E] instanceof Array)&&B.arrayAccessFormPaths.length>0){var D=0;for(;D<B.arrayAccessFormPaths.length;D++){var F=B.arrayAccessFormPaths[D];if(typeof F==="string"){if(F==G){break}}else{if(F instanceof RegExp){if(F.test(G)){break}}else{if(typeof F==="function"){if(F(H,E,G)){break}}}}}if(D!=B.arrayAccessFormPaths.length){H[E]=[H[E]]}}}function a(I){var G=I.split(/[-T:+Z]/g);var H=new Date(G[0],G[1]-1,G[2]);var F=G[5].split(".");H.setHours(G[3],G[4],F[0]);if(F.length>1){H.setMilliseconds(F[1])}if(G[6]&&G[7]){var E=G[6]*60+Number(G[7]);var D=/\d\d-\d\d:\d\d$/.test(I)?"-":"+";E=0+(D=="-"?-1*E:E);H.setMinutes(H.getMinutes()-E-H.getTimezoneOffset())}else{if(I.indexOf("Z",I.length-1)!==-1){H=new Date(Date.UTC(H.getFullYear(),H.getMonth(),H.getDate(),H.getHours(),H.getMinutes(),H.getSeconds(),H.getMilliseconds()))}}return H}function q(G,E,F){if(B.datetimeAccessFormPaths.length>0){var H=F.split(".#")[0];var D=0;for(;D<B.datetimeAccessFormPaths.length;D++){var I=B.datetimeAccessFormPaths[D];if(typeof I==="string"){if(I==H){break}}else{if(I instanceof RegExp){if(I.test(H)){break}}else{if(typeof I==="function"){if(I(obj,E,H)){break}}}}}if(D!=B.datetimeAccessFormPaths.length){return a(G)}else{return G}}else{return G}}function C(F,K){if(F.nodeType==g.DOCUMENT_NODE){var L=new Object;var D=F.childNodes;for(var M=0;M<D.length;M++){var E=D.item(M);if(E.nodeType==g.ELEMENT_NODE){var J=z(E);L[J]=C(E,J)}}return L}else{if(F.nodeType==g.ELEMENT_NODE){var L=new Object;L.__cnt=0;var D=F.childNodes;for(var M=0;M<D.length;M++){var E=D.item(M);var J=z(E);if(E.nodeType!=g.COMMENT_NODE){L.__cnt++;if(L[J]==null){L[J]=C(E,K+"."+J);m(L,J,K+"."+J)}else{if(L[J]!=null){if(!(L[J] instanceof Array)){L[J]=[L[J]];m(L,J,K+"."+J)}}(L[J])[L[J].length]=C(E,K+"."+J)}}}for(var G=0;G<F.attributes.length;G++){var H=F.attributes.item(G);L.__cnt++;L[B.attributePrefix+H.name]=H.value}var I=r(F);if(I!=null&&I!=""){L.__cnt++;L.__prefix=I}if(L["#text"]!=null){L.__text=L["#text"];if(L.__text instanceof Array){L.__text=L.__text.join("\n")}if(B.escapeMode){L.__text=k(L.__text)}if(B.stripWhitespaces){L.__text=L.__text.trim()}delete L["#text"];if(B.arrayAccessForm=="property"){delete L["#text_asArray"]}L.__text=q(L.__text,J,K+"."+J)}if(L["#cdata-section"]!=null){L.__cdata=L["#cdata-section"];delete L["#cdata-section"];if(B.arrayAccessForm=="property"){delete L["#cdata-section_asArray"]}}if(L.__cnt==1&&L.__text!=null){L=L.__text}else{if(L.__cnt==0&&B.emptyNodeForm=="text"){L=""}else{if(L.__cnt>1&&L.__text!=null&&B.skipEmptyTextNodesForObj){if((B.stripWhitespaces&&L.__text=="")||(L.__text.trim()=="")){delete L.__text}}}}delete L.__cnt;if(B.enableToStringFunc&&(L.__text!=null||L.__cdata!=null)){L.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}}return L}else{if(F.nodeType==g.TEXT_NODE||F.nodeType==g.CDATA_SECTION_NODE){return F.nodeValue}}}}function n(K,H,J,E){var G="<"+((K!=null&&K.__prefix!=null)?(K.__prefix+":"):"")+H;if(J!=null){for(var I=0;I<J.length;I++){var F=J[I];var D=K[F];if(B.escapeMode){D=s(D)}G+=" "+F.substr(B.attributePrefix.length)+"='"+D+"'"}}if(!E){G+=">"}else{G+="/>"}return G}function j(E,D){return"</"+(E.__prefix!=null?(E.__prefix+":"):"")+D+">"}function w(E,D){return E.indexOf(D,E.length-D.length)!==-1}function A(E,D){if((B.arrayAccessForm=="property"&&w(D.toString(),("_asArray")))||D.toString().indexOf(B.attributePrefix)==0||D.toString().indexOf("__")==0||(E[D] instanceof Function)){return true}else{return false}}function l(F){var E=0;if(F instanceof Object){for(var D in F){if(A(F,D)){continue}E++}}return E}function b(F){var E=[];if(F instanceof Object){for(var D in F){if(D.toString().indexOf("__")==-1&&D.toString().indexOf(B.attributePrefix)==0){E.push(D)}}}return E}function f(E){var D="";if(E.__cdata!=null){D+="<![CDATA["+E.__cdata+"]]>"}if(E.__text!=null){if(B.escapeMode){D+=s(E.__text)}else{D+=E.__text}}return D}function c(E){var D="";if(E instanceof Object){D+=f(E)}else{if(E!=null){if(B.escapeMode){D+=s(E)}else{D+=E}}}return D}function e(F,H,G){var D="";if(F.length==0){D+=n(F,H,G,true)}else{for(var E=0;E<F.length;E++){D+=n(F[E],H,b(F[E]),false);D+=d(F[E]);D+=j(F[E],H)}}return D}function d(J){var D="";var H=l(J);if(H>0){for(var G in J){if(A(J,G)){continue}var F=J[G];var I=b(F);if(F==null||F==undefined){D+=n(F,G,I,true)}else{if(F instanceof Object){if(F instanceof Array){D+=e(F,G,I)}else{if(F instanceof Date){D+=n(F,G,I,false);D+=F.toISOString();D+=j(F,G)}else{var E=l(F);if(E>0||F.__text!=null||F.__cdata!=null){D+=n(F,G,I,false);D+=d(F);D+=j(F,G)}else{D+=n(F,G,I,true)}}}}else{D+=n(F,G,I,false);D+=c(F);D+=j(F,G)}}}}D+=c(J);return D}this.parseXmlString=function(F){var H=window.ActiveXObject||"ActiveXObject" in window;if(F===undefined){return null}var G;if(window.DOMParser){var I=new window.DOMParser();var D=null;if(!H){try{D=I.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(E){D=null}}try{G=I.parseFromString(F,"text/xml");if(D!=null&&G.getElementsByTagNameNS(D,"parsererror").length>0){G=null}}catch(E){G=null}}else{if(F.indexOf("<?")==0){F=F.substr(F.indexOf("?>")+2)}G=new ActiveXObject("Microsoft.XMLDOM");G.async="false";G.loadXML(F)}return G};this.asArray=function(D){if(D instanceof Array){return D}else{return[D]}};this.toXmlDateTime=function(D){if(D instanceof Date){return D.toISOString()}else{if(typeof(D)==="number"){return new Date(D).toISOString()}else{return null}}};this.asDateTime=function(D){if(typeof(D)=="string"){return a(D)}else{return D}};this.xml2json=function(D){return C(D)};this.xml_str2json=function(D){var E=this.parseXmlString(D);if(E!=null){return this.xml2json(E)}else{return null}};this.json2xml_str=function(D){return d(D)};this.json2xml=function(E){var D=this.json2xml_str(E);return this.parseXmlString(D)};this.getVersion=function(){return t}}(function(a){var b=["setTimeout","setInterval","XMLHttpRequest","navigator","location","clearTimeout","clearInterval","applicationCache","importScripts","Worker","console","btoa","atob","unescape","encodeURIComponent","crypto","Uint8Array"];function c(g){var d={};var f={};for(p in b){f[b[p]]=true}for(p in a){if(!f[p]){d[p]="[[ Can't use window context in web worker! ]]"}}for(p in this){d[p]=this[p]}d.self=this;d.doEvents=function(h){setTimeout(function(){if(h){h()}},0)};var e=(new Function("with(this) { (function(){"+g+"})(); }"));e.call(d)}a.FakeWorker=function(d){var g=this;var f=false;var h={};this.addEventListener=function(q,n){if(!h[q]){h[q]=[]}h[q].push(n)};this.addEventListener("message",function(n){if(typeof g.onmessage!=="undefined"){g.onmessage(n)}});function m(){var n={};this.addEventListener=function(r,q){if(!n[r]){n[r]=[]}n[r].push(q)};this.addEventListener("message",function(q){if(typeof g.onmessage!=="undefined"){g.onmessage(q)}});this.postMessage=function(q){k(h,"message",q)};this.__processPostMessage=function(q){k(n,"message",q)};this.close=function(){}}var j=new m();this.postMessage=function(n){e(function(){j.__processPostMessage(n)})};this.terminate=function(){};function e(q){(function n(){if(f){q();return}setTimeout(n,50)})()}function k(r,t,q){var n={data:q};if(!r[t]){return}for(var s=0;s<r[t].length;s++){r[t][s](n)}}var l=d;c.call(j,l);f=true}})(window);var JSEncryptExports={};(function(au){var bE;var q=244837814094590;var aW=((q&16777215)==15715070);function bg(z,t,bW){if(z!=null){if("number"==typeof z){this.fromNumber(z,t,bW)}else{if(t==null&&"string"!=typeof z){this.fromString(z,256)}else{this.fromString(z,t)}}}}function bn(){return new bg(null)}function a8(bY,t,z,bX,b0,bZ){while(--bZ>=0){var bW=t*this[bY++]+z[bX]+b0;b0=Math.floor(bW/67108864);z[bX++]=bW&67108863}return b0}function a7(bY,b3,b4,bX,b1,t){var b0=b3&32767,b2=b3>>15;while(--t>=0){var bW=this[bY]&32767;var bZ=this[bY++]>>15;var z=b2*bW+bZ*b0;bW=b0*bW+((z&32767)<<15)+b4[bX]+(b1&1073741823);b1=(bW>>>30)+(z>>>15)+b2*bZ+(b1>>>30);b4[bX++]=bW&1073741823}return b1}function a6(bY,b3,b4,bX,b1,t){var b0=b3&16383,b2=b3>>14;while(--t>=0){var bW=this[bY]&16383;var bZ=this[bY++]>>14;var z=b2*bW+bZ*b0;bW=b0*bW+((z&16383)<<14)+b4[bX]+b1;b1=(bW>>28)+(z>>14)+b2*bZ;b4[bX++]=bW&268435455}return b1}if(aW&&(navigator.appName=="Microsoft Internet Explorer")){bg.prototype.am=a7;bE=30}else{if(aW&&(navigator.appName!="Netscape")){bg.prototype.am=a8;bE=26}else{bg.prototype.am=a6;bE=28}}bg.prototype.DB=bE;bg.prototype.DM=((1<<bE)-1);bg.prototype.DV=(1<<bE);var bQ=52;bg.prototype.FV=Math.pow(2,bQ);bg.prototype.F1=bQ-bE;bg.prototype.F2=2*bE-bQ;var a="0123456789abcdefghijklmnopqrstuvwxyz";var g=new Array();var aI,J;aI="0".charCodeAt(0);for(J=0;J<=9;++J){g[aI++]=J}aI="a".charCodeAt(0);for(J=10;J<36;++J){g[aI++]=J}aI="A".charCodeAt(0);for(J=10;J<36;++J){g[aI++]=J}function ac(t){return a.charAt(t)}function aY(z,t){var bW=g[z.charCodeAt(t)];return(bW==null)?-1:bW}function d(z){for(var t=this.t-1;t>=0;--t){z[t]=this[t]}z.t=this.t;z.s=this.s}function h(t){this.t=1;this.s=(t<0)?-1:0;if(t>0){this[0]=t}else{if(t<-1){this[0]=t+DV}else{this.t=0}}}function bj(t){var z=bn();z.fromInt(t);return z}function bI(b0,z){var bX;if(z==16){bX=4}else{if(z==8){bX=3}else{if(z==256){bX=8}else{if(z==2){bX=1}else{if(z==32){bX=5}else{if(z==4){bX=2}else{this.fromRadix(b0,z);return}}}}}}this.t=0;this.s=0;var bZ=b0.length,bW=false,bY=0;while(--bZ>=0){var t=(bX==8)?b0[bZ]&255:aY(b0,bZ);if(t<0){if(b0.charAt(bZ)=="-"){bW=true}continue}bW=false;if(bY==0){this[this.t++]=t}else{if(bY+bX>this.DB){this[this.t-1]|=(t&((1<<(this.DB-bY))-1))<<bY;this[this.t++]=(t>>(this.DB-bY))}else{this[this.t-1]|=t<<bY}}bY+=bX;if(bY>=this.DB){bY-=this.DB}}if(bX==8&&(b0[0]&128)!=0){this.s=-1;if(bY>0){this[this.t-1]|=((1<<(this.DB-bY))-1)<<bY}}this.clamp();if(bW){bg.ZERO.subTo(this,this)}}function bA(){var t=this.s&this.DM;while(this.t>0&&this[this.t-1]==t){--this.t}}function B(z){if(this.s<0){return"-"+this.negate().toString(z)}var bW;if(z==16){bW=4}else{if(z==8){bW=3}else{if(z==2){bW=1}else{if(z==32){bW=5}else{if(z==4){bW=2}else{return this.toRadix(z)}}}}}var bY=(1<<bW)-1,b1,t=false,bZ="",bX=this.t;var b0=this.DB-(bX*this.DB)%bW;if(bX-->0){if(b0<this.DB&&(b1=this[bX]>>b0)>0){t=true;bZ=ac(b1)}while(bX>=0){if(b0<bW){b1=(this[bX]&((1<<b0)-1))<<(bW-b0);b1|=this[--bX]>>(b0+=this.DB-bW)}else{b1=(this[bX]>>(b0-=bW))&bY;if(b0<=0){b0+=this.DB;--bX}}if(b1>0){t=true}if(t){bZ+=ac(b1)}}}return t?bZ:"0"}function bC(){var t=bn();bg.ZERO.subTo(this,t);return t}function bB(){return(this.s<0)?this.negate():this}function bN(t){var bW=this.s-t.s;if(bW!=0){return bW}var z=this.t;bW=z-t.t;if(bW!=0){return(this.s<0)?-bW:bW}while(--z>=0){if((bW=this[z]-t[z])!=0){return bW}}return 0}function u(z){var bX=1,bW;if((bW=z>>>16)!=0){z=bW;bX+=16}if((bW=z>>8)!=0){z=bW;bX+=8}if((bW=z>>4)!=0){z=bW;bX+=4}if((bW=z>>2)!=0){z=bW;bX+=2}if((bW=z>>1)!=0){z=bW;bX+=1}return bX}function bt(){if(this.t<=0){return 0}return this.DB*(this.t-1)+u(this[this.t-1]^(this.s&this.DM))}function bv(bW,z){var t;for(t=this.t-1;t>=0;--t){z[t+bW]=this[t]}for(t=bW-1;t>=0;--t){z[t]=0}z.t=this.t+bW;z.s=this.s}function a3(bW,z){for(var t=bW;t<this.t;++t){z[t-bW]=this[t]}z.t=Math.max(this.t-bW,0);z.s=this.s}function A(b1,bX){var z=b1%this.DB;var t=this.DB-z;var bZ=(1<<t)-1;var bY=Math.floor(b1/this.DB),b0=(this.s<<z)&this.DM,bW;for(bW=this.t-1;bW>=0;--bW){bX[bW+bY+1]=(this[bW]>>t)|b0;b0=(this[bW]&bZ)<<z}for(bW=bY-1;bW>=0;--bW){bX[bW]=0}bX[bY]=b0;bX.t=this.t+bY+1;bX.s=this.s;bX.clamp()}function bT(b0,bX){bX.s=this.s;var bY=Math.floor(b0/this.DB);if(bY>=this.t){bX.t=0;return}var z=b0%this.DB;var t=this.DB-z;var bZ=(1<<z)-1;bX[0]=this[bY]>>z;for(var bW=bY+1;bW<this.t;++bW){bX[bW-bY-1]|=(this[bW]&bZ)<<t;bX[bW-bY]=this[bW]>>z}if(z>0){bX[this.t-bY-1]|=(this.s&bZ)<<t}bX.t=this.t-bY;bX.clamp()}function bs(z,bX){var bW=0,bY=0,t=Math.min(z.t,this.t);while(bW<t){bY+=this[bW]-z[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}if(z.t<this.t){bY-=z.s;while(bW<this.t){bY+=this[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}bY+=this.s}else{bY+=this.s;while(bW<z.t){bY-=z[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}bY-=z.s}bX.s=(bY<0)?-1:0;if(bY<-1){bX[bW++]=this.DV+bY}else{if(bY>0){bX[bW++]=bY}}bX.t=bW;bX.clamp()}function bJ(z,bX){var t=this.abs(),bY=z.abs();var bW=t.t;bX.t=bW+bY.t;while(--bW>=0){bX[bW]=0}for(bW=0;bW<bY.t;++bW){bX[bW+t.t]=t.am(0,bY[bW],bX,bW,0,t.t)}bX.s=0;bX.clamp();if(this.s!=z.s){bg.ZERO.subTo(bX,bX)}}function aw(bW){var t=this.abs();var z=bW.t=2*t.t;while(--z>=0){bW[z]=0}for(z=0;z<t.t-1;++z){var bX=t.am(z,t[z],bW,2*z,0,1);if((bW[z+t.t]+=t.am(z+1,2*t[z],bW,2*z+1,bX,t.t-z-1))>=t.DV){bW[z+t.t]-=t.DV;bW[z+t.t+1]=1}}if(bW.t>0){bW[bW.t-1]+=t.am(z,t[z],bW,2*z,0,1)}bW.s=0;bW.clamp()}function ba(b4,b1,b0){var ca=b4.abs();if(ca.t<=0){return}var b2=this.abs();if(b2.t<ca.t){if(b1!=null){b1.fromInt(0)}if(b0!=null){this.copyTo(b0)}return}if(b0==null){b0=bn()}var bY=bn(),z=this.s,b3=b4.s;var b9=this.DB-u(ca[ca.t-1]);if(b9>0){ca.lShiftTo(b9,bY);b2.lShiftTo(b9,b0)}else{ca.copyTo(bY);b2.copyTo(b0)}var b6=bY.t;var bW=bY[b6-1];if(bW==0){return}var b5=bW*(1<<this.F1)+((b6>1)?bY[b6-2]>>this.F2:0);var cd=this.FV/b5,cc=(1<<this.F1)/b5,cb=1<<this.F2;var b8=b0.t,b7=b8-b6,bZ=(b1==null)?bn():b1;bY.dlShiftTo(b7,bZ);if(b0.compareTo(bZ)>=0){b0[b0.t++]=1;b0.subTo(bZ,b0)}bg.ONE.dlShiftTo(b6,bZ);bZ.subTo(bY,bY);while(bY.t<b6){bY[bY.t++]=0}while(--b7>=0){var bX=(b0[--b8]==bW)?this.DM:Math.floor(b0[b8]*cd+(b0[b8-1]+cb)*cc);if((b0[b8]+=bY.am(0,bX,b0,b7,0,b6))<bX){bY.dlShiftTo(b7,bZ);b0.subTo(bZ,b0);while(b0[b8]<--bX){b0.subTo(bZ,b0)}}}if(b1!=null){b0.drShiftTo(b6,b1);if(z!=b3){bg.ZERO.subTo(b1,b1)}}b0.t=b6;b0.clamp();if(b9>0){b0.rShiftTo(b9,b0)}if(z<0){bg.ZERO.subTo(b0,b0)}}function bi(t){var z=bn();this.abs().divRemTo(t,null,z);if(this.s<0&&z.compareTo(bg.ZERO)>0){t.subTo(z,z)}return z}function aU(t){this.m=t}function aJ(t){if(t.s<0||t.compareTo(this.m)>=0){return t.mod(this.m)}else{return t}}function c(t){return t}function aa(t){t.divRemTo(this.m,null,t)}function s(t,bW,z){t.multiplyTo(bW,z);this.reduce(z)}function aG(t,z){t.squareTo(z);this.reduce(z)}aU.prototype.convert=aJ;aU.prototype.revert=c;aU.prototype.reduce=aa;aU.prototype.mulTo=s;aU.prototype.sqrTo=aG;function af(){if(this.t<1){return 0}var t=this[0];if((t&1)==0){return 0}var z=t&3;z=(z*(2-(t&15)*z))&15;z=(z*(2-(t&255)*z))&255;z=(z*(2-(((t&65535)*z)&65535)))&65535;z=(z*(2-t*z%this.DV))%this.DV;return(z>0)?this.DV-z:-z}function P(t){this.m=t;this.mp=t.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(t.DB-15))-1;this.mt2=2*t.t}function by(t){var z=bn();t.abs().dlShiftTo(this.m.t,z);z.divRemTo(this.m,null,z);if(t.s<0&&z.compareTo(bg.ZERO)>0){this.m.subTo(z,z)}return z}function bm(t){var z=bn();t.copyTo(z);this.reduce(z);return z}function bV(t){while(t.t<=this.mt2){t[t.t++]=0}for(var bW=0;bW<this.m.t;++bW){var z=t[bW]&32767;var bX=(z*this.mpl+(((z*this.mph+(t[bW]>>15)*this.mpl)&this.um)<<15))&t.DM;z=bW+this.m.t;t[z]+=this.m.am(0,bX,t,bW,0,this.m.t);while(t[z]>=t.DV){t[z]-=t.DV;t[++z]++}}t.clamp();t.drShiftTo(this.m.t,t);if(t.compareTo(this.m)>=0){t.subTo(this.m,t)}}function ag(t,z){t.squareTo(z);this.reduce(z)}function bz(t,bW,z){t.multiplyTo(bW,z);this.reduce(z)}P.prototype.convert=by;P.prototype.revert=bm;P.prototype.reduce=bV;P.prototype.mulTo=bz;P.prototype.sqrTo=ag;function ah(){return((this.t>0)?(this[0]&1):this.s)==0}function aq(b1,b2){if(b1>4294967295||b1<1){return bg.ONE}var b0=bn(),bW=bn(),bZ=b2.convert(this),bY=u(b1)-1;bZ.copyTo(b0);while(--bY>=0){b2.sqrTo(b0,bW);if((b1&(1<<bY))>0){b2.mulTo(bW,bZ,b0)}else{var bX=b0;b0=bW;bW=bX}}return b2.revert(b0)}function aH(bW,t){var bX;if(bW<256||t.isEven()){bX=new aU(t)}else{bX=new P(t)}return this.exp(bW,bX)}bg.prototype.copyTo=d;bg.prototype.fromInt=h;bg.prototype.fromString=bI;bg.prototype.clamp=bA;bg.prototype.dlShiftTo=bv;bg.prototype.drShiftTo=a3;bg.prototype.lShiftTo=A;bg.prototype.rShiftTo=bT;bg.prototype.subTo=bs;bg.prototype.multiplyTo=bJ;bg.prototype.squareTo=aw;bg.prototype.divRemTo=ba;bg.prototype.invDigit=af;bg.prototype.isEven=ah;bg.prototype.exp=aq;bg.prototype.toString=B;bg.prototype.negate=bC;bg.prototype.abs=bB;bg.prototype.compareTo=bN;bg.prototype.bitLength=bt;bg.prototype.mod=bi;bg.prototype.modPowInt=aH;bg.ZERO=bj(0);bg.ONE=bj(1);function f(){var t=bn();this.copyTo(t);return t}function b(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bF(){return(this.t==0)?this.s:(this[0]<<24)>>24}function ak(){return(this.t==0)?this.s:(this[0]<<16)>>16}function aV(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function a0(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function N(t){if(t==null){t=10}if(this.signum()==0||t<2||t>36){return"0"}var bX=this.chunkSize(t);var bW=Math.pow(t,bX);var b0=bj(bW),b1=bn(),bZ=bn(),bY="";this.divRemTo(b0,b1,bZ);while(b1.signum()>0){bY=(bW+bZ.intValue()).toString(t).substr(1)+bY;b1.divRemTo(b0,b1,bZ)}return bZ.intValue().toString(t)+bY}function ax(b2,bZ){this.fromInt(0);if(bZ==null){bZ=10}var bX=this.chunkSize(bZ);var bY=Math.pow(bZ,bX),bW=false,t=0,b1=0;for(var z=0;z<b2.length;++z){var b0=aY(b2,z);if(b0<0){if(b2.charAt(z)=="-"&&this.signum()==0){bW=true}continue}b1=bZ*b1+b0;if(++t>=bX){this.dMultiply(bY);this.dAddOffset(b1,0);t=0;b1=0}}if(t>0){this.dMultiply(Math.pow(bZ,t));this.dAddOffset(b1,0)}if(bW){bg.ZERO.subTo(this,this)}}function aQ(bX,bW,bZ){if("number"==typeof bW){if(bX<2){this.fromInt(1)}else{this.fromNumber(bX,bZ);if(!this.testBit(bX-1)){this.bitwiseTo(bg.ONE.shiftLeft(bX-1),ao,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(bW)){this.dAddOffset(2,0);if(this.bitLength()>bX){this.subTo(bg.ONE.shiftLeft(bX-1),this)}}}}else{var z=new Array(),bY=bX&7;z.length=(bX>>3)+1;bW.nextBytes(z);if(bY>0){z[0]&=((1<<bY)-1)}else{z[0]=0}this.fromString(z,256)}}function aL(){var z=this.t,bW=new Array();bW[0]=this.s;var bX=this.DB-(z*this.DB)%8,bY,t=0;if(z-->0){if(bX<this.DB&&(bY=this[z]>>bX)!=(this.s&this.DM)>>bX){bW[t++]=bY|(this.s<<(this.DB-bX))}while(z>=0){if(bX<8){bY=(this[z]&((1<<bX)-1))<<(8-bX);bY|=this[--z]>>(bX+=this.DB-8)}else{bY=(this[z]>>(bX-=8))&255;if(bX<=0){bX+=this.DB;--z}}if((bY&128)!=0){bY|=-256}if(t==0&&(this.s&128)!=(bY&128)){++t}if(t>0||bY!=this.s){bW[t++]=bY}}}return bW}function bG(t){return(this.compareTo(t)==0)}function ab(t){return(this.compareTo(t)<0)?this:t}function bu(t){return(this.compareTo(t)>0)?this:t}function aK(z,bZ,bX){var bW,bY,t=Math.min(z.t,this.t);for(bW=0;bW<t;++bW){bX[bW]=bZ(this[bW],z[bW])}if(z.t<this.t){bY=z.s&this.DM;for(bW=t;bW<this.t;++bW){bX[bW]=bZ(this[bW],bY)}bX.t=this.t}else{bY=this.s&this.DM;for(bW=t;bW<z.t;++bW){bX[bW]=bZ(bY,z[bW])}bX.t=z.t}bX.s=bZ(this.s,z.s);bX.clamp()}function r(t,z){return t&z}function bO(t){var z=bn();this.bitwiseTo(t,r,z);return z}function ao(t,z){return t|z}function aT(t){var z=bn();this.bitwiseTo(t,ao,z);return z}function ae(t,z){return t^z}function G(t){var z=bn();this.bitwiseTo(t,ae,z);return z}function j(t,z){return t&~z}function aE(t){var z=bn();this.bitwiseTo(t,j,z);return z}function Y(){var z=bn();for(var t=0;t<this.t;++t){z[t]=this.DM&~this[t]}z.t=this.t;z.s=~this.s;return z}function aO(z){var t=bn();if(z<0){this.rShiftTo(-z,t)}else{this.lShiftTo(z,t)}return t}function W(z){var t=bn();if(z<0){this.lShiftTo(-z,t)}else{this.rShiftTo(z,t)}return t}function bd(t){if(t==0){return -1}var z=0;if((t&65535)==0){t>>=16;z+=16}if((t&255)==0){t>>=8;z+=8}if((t&15)==0){t>>=4;z+=4}if((t&3)==0){t>>=2;z+=2}if((t&1)==0){++z}return z}function av(){for(var t=0;t<this.t;++t){if(this[t]!=0){return t*this.DB+bd(this[t])}}if(this.s<0){return this.t*this.DB}return -1}function bk(t){var z=0;while(t!=0){t&=t-1;++z}return z}function at(){var bW=0,t=this.s&this.DM;for(var z=0;z<this.t;++z){bW+=bk(this[z]^t)}return bW}function aM(z){var t=Math.floor(z/this.DB);if(t>=this.t){return(this.s!=0)}return((this[t]&(1<<(z%this.DB)))!=0)}function Z(bW,z){var t=bg.ONE.shiftLeft(bW);this.bitwiseTo(t,z,t);return t}function a2(t){return this.changeBit(t,ao)}function al(t){return this.changeBit(t,j)}function aP(t){return this.changeBit(t,ae)}function X(z,bX){var bW=0,bY=0,t=Math.min(z.t,this.t);while(bW<t){bY+=this[bW]+z[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}if(z.t<this.t){bY+=z.s;while(bW<this.t){bY+=this[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}bY+=this.s}else{bY+=this.s;while(bW<z.t){bY+=z[bW];bX[bW++]=bY&this.DM;bY>>=this.DB}bY+=z.s}bX.s=(bY<0)?-1:0;if(bY>0){bX[bW++]=bY}else{if(bY<-1){bX[bW++]=this.DV+bY}}bX.t=bW;bX.clamp()}function bh(t){var z=bn();this.addTo(t,z);return z}function aB(t){var z=bn();this.subTo(t,z);return z}function bH(t){var z=bn();this.multiplyTo(t,z);return z}function bU(){var t=bn();this.squareTo(t);return t}function be(t){var z=bn();this.divRemTo(t,z,null);return z}function bP(t){var z=bn();this.divRemTo(t,null,z);return z}function bl(t){var bW=bn(),z=bn();this.divRemTo(t,bW,z);return new Array(bW,z)}function e(t){this[this.t]=this.am(0,t-1,this,0,0,this.t);++this.t;this.clamp()}function aS(z,t){if(z==0){return}while(this.t<=t){this[this.t++]=0}this[t]+=z;while(this[t]>=this.DV){this[t]-=this.DV;if(++t>=this.t){this[this.t++]=0}++this[t]}}function ad(){}function bw(t){return t}function bK(t,bW,z){t.multiplyTo(bW,z)}function am(t,z){t.squareTo(z)}ad.prototype.convert=bw;ad.prototype.revert=bw;ad.prototype.mulTo=bK;ad.prototype.sqrTo=am;function V(t){return this.exp(t,new ad())}function aR(t,bY,bX){var bW=Math.min(this.t+t.t,bY);bX.s=0;bX.t=bW;while(bW>0){bX[--bW]=0}var z;for(z=bX.t-this.t;bW<z;++bW){bX[bW+this.t]=this.am(0,t[bW],bX,bW,0,this.t)}for(z=Math.min(t.t,bY);bW<z;++bW){this.am(0,t[bW],bX,bW,0,bY-bW)}bX.clamp()}function a1(t,bX,bW){--bX;var z=bW.t=this.t+t.t-bX;bW.s=0;while(--z>=0){bW[z]=0}for(z=Math.max(bX-this.t,0);z<t.t;++z){bW[this.t+z-bX]=this.am(bX-z,t[z],bW,0,0,this.t+z-bX)}bW.clamp();bW.drShiftTo(1,bW)}function bR(t){this.r2=bn();this.q3=bn();bg.ONE.dlShiftTo(2*t.t,this.r2);this.mu=this.r2.divide(t);this.m=t}function M(t){if(t.s<0||t.t>2*this.m.t){return t.mod(this.m)}else{if(t.compareTo(this.m)<0){return t}else{var z=bn();t.copyTo(z);this.reduce(z);return z}}}function bM(t){return t}function I(t){t.drShiftTo(this.m.t-1,this.r2);if(t.t>this.m.t+1){t.t=this.m.t+1;t.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(t.compareTo(this.r2)<0){t.dAddOffset(1,this.m.t+1)}t.subTo(this.r2,t);while(t.compareTo(this.m)>=0){t.subTo(this.m,t)}}function aN(t,z){t.squareTo(z);this.reduce(z)}function D(t,bW,z){t.multiplyTo(bW,z);this.reduce(z)}bR.prototype.convert=M;bR.prototype.revert=bM;bR.prototype.reduce=I;bR.prototype.mulTo=D;bR.prototype.sqrTo=aN;function S(b5,b0){var b3=b5.bitLength(),b1,bX=bj(1),b8;if(b3<=0){return bX}else{if(b3<18){b1=1}else{if(b3<48){b1=3}else{if(b3<144){b1=4}else{if(b3<768){b1=5}else{b1=6}}}}}if(b3<8){b8=new aU(b0)}else{if(b0.isEven()){b8=new bR(b0)}else{b8=new P(b0)}}var b4=new Array(),bZ=3,b6=b1-1,bW=(1<<b1)-1;b4[1]=b8.convert(this);if(b1>1){var cb=bn();b8.sqrTo(b4[1],cb);while(bZ<=bW){b4[bZ]=bn();b8.mulTo(cb,b4[bZ-2],b4[bZ]);bZ+=2}}var b2=b5.t-1,b9,b7=true,bY=bn(),ca;b3=u(b5[b2])-1;while(b2>=0){if(b3>=b6){b9=(b5[b2]>>(b3-b6))&bW}else{b9=(b5[b2]&((1<<(b3+1))-1))<<(b6-b3);if(b2>0){b9|=b5[b2-1]>>(this.DB+b3-b6)}}bZ=b1;while((b9&1)==0){b9>>=1;--bZ}if((b3-=bZ)<0){b3+=this.DB;--b2}if(b7){b4[b9].copyTo(bX);b7=false}else{while(bZ>1){b8.sqrTo(bX,bY);b8.sqrTo(bY,bX);bZ-=2}if(bZ>0){b8.sqrTo(bX,bY)}else{ca=bX;bX=bY;bY=ca}b8.mulTo(bY,b4[b9],bX)}while(b2>=0&&(b5[b2]&(1<<b3))==0){b8.sqrTo(bX,bY);ca=bX;bX=bY;bY=ca;if(--b3<0){b3=this.DB-1;--b2}}}return b8.revert(bX)}function aC(bW){var z=(this.s<0)?this.negate():this.clone();var b0=(bW.s<0)?bW.negate():bW.clone();if(z.compareTo(b0)<0){var bY=z;z=b0;b0=bY}var bX=z.getLowestSetBit(),bZ=b0.getLowestSetBit();if(bZ<0){return z}if(bX<bZ){bZ=bX}if(bZ>0){z.rShiftTo(bZ,z);b0.rShiftTo(bZ,b0)}while(z.signum()>0){if((bX=z.getLowestSetBit())>0){z.rShiftTo(bX,z)}if((bX=b0.getLowestSetBit())>0){b0.rShiftTo(bX,b0)}if(z.compareTo(b0)>=0){z.subTo(b0,z);z.rShiftTo(1,z)}else{b0.subTo(z,b0);b0.rShiftTo(1,b0)}}if(bZ>0){b0.lShiftTo(bZ,b0)}return b0}function an(bX){if(bX<=0){return 0}var bW=this.DV%bX,z=(this.s<0)?bX-1:0;if(this.t>0){if(bW==0){z=this[0]%bX}else{for(var t=this.t-1;t>=0;--t){z=(bW*z+this[t])%bX}}}return z}function bS(z){var bZ=z.isEven();if((this.isEven()&&bZ)||z.signum()==0){return bg.ZERO}var bY=z.clone(),bX=this.clone();var bW=bj(1),t=bj(0),b1=bj(0),b0=bj(1);while(bY.signum()!=0){while(bY.isEven()){bY.rShiftTo(1,bY);if(bZ){if(!bW.isEven()||!t.isEven()){bW.addTo(this,bW);t.subTo(z,t)}bW.rShiftTo(1,bW)}else{if(!t.isEven()){t.subTo(z,t)}}t.rShiftTo(1,t)}while(bX.isEven()){bX.rShiftTo(1,bX);if(bZ){if(!b1.isEven()||!b0.isEven()){b1.addTo(this,b1);b0.subTo(z,b0)}b1.rShiftTo(1,b1)}else{if(!b0.isEven()){b0.subTo(z,b0)}}b0.rShiftTo(1,b0)}if(bY.compareTo(bX)>=0){bY.subTo(bX,bY);if(bZ){bW.subTo(b1,bW)}t.subTo(b0,t)}else{bX.subTo(bY,bX);if(bZ){b1.subTo(bW,b1)}b0.subTo(t,b0)}}if(bX.compareTo(bg.ONE)!=0){return bg.ZERO}if(b0.compareTo(z)>=0){return b0.subtract(z)}if(b0.signum()<0){b0.addTo(z,b0)}else{return b0}if(b0.signum()<0){return b0.add(z)}else{return b0}}var aA=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var l=(1<<26)/aA[aA.length-1];function bL(bZ){var bY,bW=this.abs();if(bW.t==1&&bW[0]<=aA[aA.length-1]){for(bY=0;bY<aA.length;++bY){if(bW[0]==aA[bY]){return true}}return false}if(bW.isEven()){return false}bY=1;while(bY<aA.length){var z=aA[bY],bX=bY+1;while(bX<aA.length&&z<l){z*=aA[bX++]}z=bW.modInt(z);while(bY<bX){if(z%aA[bY++]==0){return false}}}return bW.millerRabin(bZ)}function aF(bZ){var b0=this.subtract(bg.ONE);var bW=b0.getLowestSetBit();if(bW<=0){return false}var b1=b0.shiftRight(bW);bZ=(bZ+1)>>1;if(bZ>aA.length){bZ=aA.length}var z=bn();for(var bY=0;bY<bZ;++bY){z.fromInt(aA[Math.floor(Math.random()*aA.length)]);var b2=z.modPow(b1,this);if(b2.compareTo(bg.ONE)!=0&&b2.compareTo(b0)!=0){var bX=1;while(bX++<bW&&b2.compareTo(b0)!=0){b2=b2.modPowInt(2,this);if(b2.compareTo(bg.ONE)==0){return false}}if(b2.compareTo(b0)!=0){return false}}}return true}bg.prototype.chunkSize=aV;bg.prototype.toRadix=N;bg.prototype.fromRadix=ax;bg.prototype.fromNumber=aQ;bg.prototype.bitwiseTo=aK;bg.prototype.changeBit=Z;bg.prototype.addTo=X;bg.prototype.dMultiply=e;bg.prototype.dAddOffset=aS;bg.prototype.multiplyLowerTo=aR;bg.prototype.multiplyUpperTo=a1;bg.prototype.modInt=an;bg.prototype.millerRabin=aF;bg.prototype.clone=f;bg.prototype.intValue=b;bg.prototype.byteValue=bF;bg.prototype.shortValue=ak;bg.prototype.signum=a0;bg.prototype.toByteArray=aL;bg.prototype.equals=bG;bg.prototype.min=ab;bg.prototype.max=bu;bg.prototype.and=bO;bg.prototype.or=aT;bg.prototype.xor=G;bg.prototype.andNot=aE;bg.prototype.not=Y;bg.prototype.shiftLeft=aO;bg.prototype.shiftRight=W;bg.prototype.getLowestSetBit=av;bg.prototype.bitCount=at;bg.prototype.testBit=aM;bg.prototype.setBit=a2;bg.prototype.clearBit=al;bg.prototype.flipBit=aP;bg.prototype.add=bh;bg.prototype.subtract=aB;bg.prototype.multiply=bH;bg.prototype.divide=be;bg.prototype.remainder=bP;bg.prototype.divideAndRemainder=bl;bg.prototype.modPow=S;bg.prototype.modInverse=bS;bg.prototype.pow=V;bg.prototype.gcd=aC;bg.prototype.isProbablePrime=bL;bg.prototype.square=bU;function bp(){this.i=0;this.j=0;this.S=new Array()}function aj(bY){var bX,z,bW;for(bX=0;bX<256;++bX){this.S[bX]=bX}z=0;for(bX=0;bX<256;++bX){z=(z+this.S[bX]+bY[bX%bY.length])&255;bW=this.S[bX];this.S[bX]=this.S[z];this.S[z]=bW}this.i=0;this.j=0}function bf(){var z;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;z=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=z;return this.S[(z+this.S[this.i])&255]}bp.prototype.init=aj;bp.prototype.next=bf;function U(){return new bp()}var E=256;var k;var m;var H;if(m==null){m=new Array();H=0;var bb;if(window.crypto&&window.crypto.getRandomValues){var a9=new Uint32Array(256);window.crypto.getRandomValues(a9);for(bb=0;bb<a9.length;++bb){m[H++]=a9[bb]&255}}var K=function(z){this.count=this.count||0;if(this.count>=256||H>=E){if(window.removeEventListener){window.removeEventListener("mousemove",K)}else{if(window.detachEvent){window.detachEvent("onmousemove",K)}}return}this.count+=1;var t=z.x+z.y;m[H++]=t&255};if(window.addEventListener){window.addEventListener("mousemove",K)}else{if(window.attachEvent){window.attachEvent("onmousemove",K)}}}function bc(){if(k==null){k=U();while(H<E){var t=Math.floor(65536*Math.random());m[H++]=t&255}k.init(m);for(H=0;H<m.length;++H){m[H]=0}H=0}return k.next()}function aZ(z){var t;for(t=0;t<z.length;++t){z[t]=bc()}}function L(){}L.prototype.nextBytes=aZ;function C(z,t){return new bg(z,t)}function n(bW,bX){var t="";var z=0;while(z+bX<bW.length){t+=bW.substring(z,z+bX)+"\n";z+=bX}return t+bW.substring(z,bW.length)}function br(t){if(t<16){return"0"+t.toString(16)}else{return t.toString(16)}}function bD(bX,b0){if(b0<bX.length+11){console.error("Message too long for RSA");return null}var bZ=new Array();var bW=bX.length-1;while(bW>=0&&b0>0){var bY=bX.charCodeAt(bW--);if(bY<128){bZ[--b0]=bY}else{if((bY>127)&&(bY<2048)){bZ[--b0]=(bY&63)|128;bZ[--b0]=(bY>>6)|192}else{bZ[--b0]=(bY&63)|128;bZ[--b0]=((bY>>6)&63)|128;bZ[--b0]=(bY>>12)|224}}}bZ[--b0]=0;var z=new L();var t=new Array();while(b0>2){t[0]=0;while(t[0]==0){z.nextBytes(t)}bZ[--b0]=t[0]}bZ[--b0]=2;bZ[--b0]=0;return new bg(bZ)}function F(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function ar(z,t){if(z!=null&&t!=null&&z.length>0&&t.length>0){this.n=C(z,16);this.e=parseInt(t,16)}else{console.error("Invalid RSA public key")}}function bq(t){return t.modPowInt(this.e,this.n)}function ap(bW){var t=bD(bW,(this.n.bitLength()+7)>>3);if(t==null){return null}var bX=this.doPublic(t);if(bX==null){return null}var z=bX.toString(16);if((z.length&1)==0){return z}else{return"0"+z}}F.prototype.doPublic=bq;F.prototype.setPublic=ar;F.prototype.encrypt=ap;function bo(bX,bZ){var t=bX.toByteArray();var bW=0;while(bW<t.length&&t[bW]==0){++bW}if(t.length-bW!=bZ-1||t[bW]!=2){return null}++bW;while(t[bW]!=0){if(++bW>=t.length){return null}}var z="";while(++bW<t.length){var bY=t[bW]&255;if(bY<128){z+=String.fromCharCode(bY)}else{if((bY>191)&&(bY<224)){z+=String.fromCharCode(((bY&31)<<6)|(t[bW+1]&63));++bW}else{z+=String.fromCharCode(((bY&15)<<12)|((t[bW+1]&63)<<6)|(t[bW+2]&63));bW+=2}}}return z}function aD(bW,t,z){if(bW!=null&&t!=null&&bW.length>0&&t.length>0){this.n=C(bW,16);this.e=parseInt(t,16);this.d=C(z,16)}else{console.error("Invalid RSA private key")}}function T(b0,bX,bY,bW,z,t,b1,bZ){if(b0!=null&&bX!=null&&b0.length>0&&bX.length>0){this.n=C(b0,16);this.e=parseInt(bX,16);this.d=C(bY,16);this.p=C(bW,16);this.q=C(z,16);this.dmp1=C(t,16);this.dmq1=C(b1,16);this.coeff=C(bZ,16)}else{console.error("Invalid RSA private key")}}function ay(bW,b3){var z=new L();var b0=bW>>1;this.e=parseInt(b3,16);var bX=new bg(b3,16);for(;;){for(;;){this.p=new bg(bW-b0,1,z);if(this.p.subtract(bg.ONE).gcd(bX).compareTo(bg.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new bg(b0,1,z);if(this.q.subtract(bg.ONE).gcd(bX).compareTo(bg.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var b2=this.p;this.p=this.q;this.q=b2}var b1=this.p.subtract(bg.ONE);var bY=this.q.subtract(bg.ONE);var bZ=b1.multiply(bY);if(bZ.gcd(bX).compareTo(bg.ONE)==0){this.n=this.p.multiply(this.q);this.d=bX.modInverse(bZ);this.dmp1=this.d.mod(b1);this.dmq1=this.d.mod(bY);this.coeff=this.q.modInverse(this.p);break}}}function az(t){if(this.p==null||this.q==null){return t.modPow(this.d,this.n)}var bW=t.mod(this.p).modPow(this.dmp1,this.p);var z=t.mod(this.q).modPow(this.dmq1,this.q);while(bW.compareTo(z)<0){bW=bW.add(this.p)}return bW.subtract(z).multiply(this.coeff).mod(this.p).multiply(this.q).add(z)}function w(z){var bW=C(z,16);var t=this.doPrivate(bW);if(t==null){return null}return bo(t,(this.n.bitLength()+7)>>3)}F.prototype.doPrivate=az;F.prototype.setPrivate=aD;F.prototype.setPrivateEx=T;F.prototype.generate=ay;F.prototype.decrypt=w;(function(){var z=function(b4,b2,b3){var b0=new L();var bX=b4>>1;this.e=parseInt(b2,16);var bZ=new bg(b2,16);var b1=this;var bY=function(){var b6=function(){if(b1.p.compareTo(b1.q)<=0){var b9=b1.p;b1.p=b1.q;b1.q=b9}var cb=b1.p.subtract(bg.ONE);var b8=b1.q.subtract(bg.ONE);var ca=cb.multiply(b8);if(ca.gcd(bZ).compareTo(bg.ONE)==0){b1.n=b1.p.multiply(b1.q);b1.d=bZ.modInverse(ca);b1.dmp1=b1.d.mod(cb);b1.dmq1=b1.d.mod(b8);b1.coeff=b1.q.modInverse(b1.p);setTimeout(function(){b3()},0)}else{setTimeout(bY,0)}};var b7=function(){b1.q=bn();b1.q.fromNumberAsync(bX,1,b0,function(){b1.q.subtract(bg.ONE).gcda(bZ,function(b8){if(b8.compareTo(bg.ONE)==0&&b1.q.isProbablePrime(10)){setTimeout(b6,0)}else{setTimeout(b7,0)}})})};var b5=function(){b1.p=bn();b1.p.fromNumberAsync(b4-bX,1,b0,function(){b1.p.subtract(bg.ONE).gcda(bZ,function(b8){if(b8.compareTo(bg.ONE)==0&&b1.p.isProbablePrime(10)){setTimeout(b7,0)}else{setTimeout(b5,0)}})})};setTimeout(b5,0)};setTimeout(bY,0)};F.prototype.generateAsync=z;var t=function(bY,b4){var bX=(this.s<0)?this.negate():this.clone();var b3=(bY.s<0)?bY.negate():bY.clone();if(bX.compareTo(b3)<0){var b0=bX;bX=b3;b3=b0}var bZ=bX.getLowestSetBit(),b1=b3.getLowestSetBit();if(b1<0){b4(bX);return}if(bZ<b1){b1=bZ}if(b1>0){bX.rShiftTo(b1,bX);b3.rShiftTo(b1,b3)}var b2=function(){if((bZ=bX.getLowestSetBit())>0){bX.rShiftTo(bZ,bX)}if((bZ=b3.getLowestSetBit())>0){b3.rShiftTo(bZ,b3)}if(bX.compareTo(b3)>=0){bX.subTo(b3,bX);bX.rShiftTo(1,bX)}else{b3.subTo(bX,b3);b3.rShiftTo(1,b3)}if(!(bX.signum()>0)){if(b1>0){b3.lShiftTo(b1,b3)}setTimeout(function(){b4(b3)},0)}else{setTimeout(b2,0)}};setTimeout(b2,10)};bg.prototype.gcda=t;var bW=function(b1,bY,b4,b3){if("number"==typeof bY){if(b1<2){this.fromInt(1)}else{this.fromNumber(b1,b4);if(!this.testBit(b1-1)){this.bitwiseTo(bg.ONE.shiftLeft(b1-1),ao,this)}if(this.isEven()){this.dAddOffset(1,0)}var b0=this;var bZ=function(){b0.dAddOffset(2,0);if(b0.bitLength()>b1){b0.subTo(bg.ONE.shiftLeft(b1-1),b0)}if(b0.isProbablePrime(bY)){setTimeout(function(){b3()},0)}else{setTimeout(bZ,0)}};setTimeout(bZ,0)}}else{var bX=new Array(),b2=b1&7;bX.length=(b1>>3)+1;bY.nextBytes(bX);if(b2>0){bX[0]&=((1<<b2)-1)}else{bX[0]=0}this.fromString(bX,256)}};bg.prototype.fromNumberAsync=bW})();var a5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var O="=";function ai(bW){var z;var bX;var t="";for(z=0;z+3<=bW.length;z+=3){bX=parseInt(bW.substring(z,z+3),16);t+=a5.charAt(bX>>6)+a5.charAt(bX&63)}if(z+1==bW.length){bX=parseInt(bW.substring(z,z+1),16);t+=a5.charAt(bX<<2)}else{if(z+2==bW.length){bX=parseInt(bW.substring(z,z+2),16);t+=a5.charAt(bX>>2)+a5.charAt((bX&3)<<4)}}while((t.length&3)>0){t+=O}return t}function aX(bY){var bW="";var bX;var t=0;var z;for(bX=0;bX<bY.length;++bX){if(bY.charAt(bX)==O){break}v=a5.indexOf(bY.charAt(bX));if(v<0){continue}if(t==0){bW+=ac(v>>2);z=v&3;t=1}else{if(t==1){bW+=ac((z<<2)|(v>>4));z=v&15;t=2}else{if(t==2){bW+=ac(z);bW+=ac(v>>2);z=v&3;t=3}else{bW+=ac((z<<2)|(v>>4));bW+=ac(v&15);t=0}}}}if(t==1){bW+=ac(z<<2)}return bW}function Q(bX){var bW=aX(bX);var z;var t=new Array();for(z=0;2*z<bW.length;++z){t[z]=parseInt(bW.substring(2*z,2*z+2),16)}return t}(function(z){var t={},bW;t.decode=function(bX){var bZ;if(bW===z){var b0="0123456789ABCDEF",b4=" \f\n\r\t\u00A0\u2028\u2029";bW=[];for(bZ=0;bZ<16;++bZ){bW[b0.charAt(bZ)]=bZ}b0=b0.toLowerCase();for(bZ=10;bZ<16;++bZ){bW[b0.charAt(bZ)]=bZ}for(bZ=0;bZ<b4.length;++bZ){bW[b4.charAt(bZ)]=-1}}var bY=[],b1=0,b3=0;for(bZ=0;bZ<bX.length;++bZ){var b2=bX.charAt(bZ);if(b2=="="){break}b2=bW[b2];if(b2==-1){continue}if(b2===z){throw"Illegal character at offset "+bZ}b1|=b2;if(++b3>=2){bY[bY.length]=b1;b1=0;b3=0}else{b1<<=4}}if(b3){throw"Hex encoding incomplete: 4 bits missing"}return bY};window.Hex=t})();(function(z){var t={},bW;t.decode=function(bX){var b0;if(bW===z){var bZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b4="= \f\n\r\t\u00A0\u2028\u2029";bW=[];for(b0=0;b0<64;++b0){bW[bZ.charAt(b0)]=b0}for(b0=0;b0<b4.length;++b0){bW[b4.charAt(b0)]=-1}}var bY=[];var b1=0,b3=0;for(b0=0;b0<bX.length;++b0){var b2=bX.charAt(b0);if(b2=="="){break}b2=bW[b2];if(b2==-1){continue}if(b2===z){throw"Illegal character at offset "+b0}b1|=b2;if(++b3>=4){bY[bY.length]=(b1>>16);bY[bY.length]=(b1>>8)&255;bY[bY.length]=b1&255;b1=0;b3=0}else{b1<<=6}}switch(b3){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:bY[bY.length]=(b1>>10);break;case 3:bY[bY.length]=(b1>>16);bY[bY.length]=(b1>>8)&255;break}return bY};t.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/;t.unarmor=function(bY){var bX=t.re.exec(bY);if(bX){if(bX[1]){bY=bX[1]}else{if(bX[2]){bY=bX[2]}else{throw"RegExp out of sync"}}}return t.decode(bY)};window.Base64=t})();(function(bZ){var z=100,t="\u2026",bW={tag:function(b1,b2){var b0=document.createElement(b1);b0.className=b2;return b0},text:function(b0){return document.createTextNode(b0)}};function bY(b0,b1){if(b0 instanceof bY){this.enc=b0.enc;this.pos=b0.pos}else{this.enc=b0;this.pos=b1}}bY.prototype.get=function(b0){if(b0===bZ){b0=this.pos++}if(b0>=this.enc.length){throw"Requesting byte offset "+b0+" on a stream of length "+this.enc.length}return this.enc[b0]};bY.prototype.hexDigits="0123456789ABCDEF";bY.prototype.hexByte=function(b0){return this.hexDigits.charAt((b0>>4)&15)+this.hexDigits.charAt(b0&15)};bY.prototype.hexDump=function(b4,b0,b1){var b3="";for(var b2=b4;b2<b0;++b2){b3+=this.hexByte(this.get(b2));if(b1!==true){switch(b2&15){case 7:b3+="  ";break;case 15:b3+="\n";break;default:b3+=" "}}}return b3};bY.prototype.parseStringISO=function(b3,b0){var b2="";for(var b1=b3;b1<b0;++b1){b2+=String.fromCharCode(this.get(b1))}return b2};bY.prototype.parseStringUTF=function(b4,b0){var b2="";for(var b1=b4;b1<b0;){var b3=this.get(b1++);if(b3<128){b2+=String.fromCharCode(b3)}else{if((b3>191)&&(b3<224)){b2+=String.fromCharCode(((b3&31)<<6)|(this.get(b1++)&63))}else{b2+=String.fromCharCode(((b3&15)<<12)|((this.get(b1++)&63)<<6)|(this.get(b1++)&63))}}}return b2};bY.prototype.parseStringBMP=function(b5,b1){var b4="";for(var b3=b5;b3<b1;b3+=2){var b0=this.get(b3);var b2=this.get(b3+1);b4+=String.fromCharCode((b0<<8)+b2)}return b4};bY.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;bY.prototype.parseTime=function(b3,b1){var b2=this.parseStringISO(b3,b1),b0=this.reTime.exec(b2);if(!b0){return"Unrecognized time: "+b2}b2=b0[1]+"-"+b0[2]+"-"+b0[3]+" "+b0[4];if(b0[5]){b2+=":"+b0[5];if(b0[6]){b2+=":"+b0[6];if(b0[7]){b2+="."+b0[7]}}}if(b0[8]){b2+=" UTC";if(b0[8]!="Z"){b2+=b0[8];if(b0[9]){b2+=":"+b0[9]}}}return b2};bY.prototype.parseInteger=function(b5,b1){var b0=b1-b5;if(b0>4){b0<<=3;var b3=this.get(b5);if(b3===0){b0-=8}else{while(b3<128){b3<<=1;--b0}}return"("+b0+" bit)"}var b4=0;for(var b2=b5;b2<b1;++b2){b4=(b4<<8)|this.get(b2)}return b4};bY.prototype.parseBitString=function(b0,b1){var b5=this.get(b0),b3=((b1-b0-1)<<3)-b5,b8="("+b3+" bit)";if(b3<=20){var b7=b5;b8+=" ";for(var b4=b1-1;b4>b0;--b4){var b6=this.get(b4);for(var b2=b7;b2<8;++b2){b8+=(b6>>b2)&1?"1":"0"}b7=0}}return b8};bY.prototype.parseOctetString=function(b4,b1){var b0=b1-b4,b3="("+b0+" byte) ";if(b0>z){b1=b4+z}for(var b2=b4;b2<b1;++b2){b3+=this.hexByte(this.get(b2))}if(b0>z){b3+=t}return b3};bY.prototype.parseOID=function(b7,b1){var b4="",b6=0,b5=0;for(var b3=b7;b3<b1;++b3){var b2=this.get(b3);b6=(b6<<7)|(b2&127);b5+=7;if(!(b2&128)){if(b4===""){var b0=b6<80?b6<40?0:1:2;b4=b0+"."+(b6-b0*40)}else{b4+="."+((b5>=31)?"bigint":b6)}b6=b5=0}}return b4};function bX(b3,b4,b2,b0,b1){this.stream=b3;this.header=b4;this.length=b2;this.tag=b0;this.sub=b1}bX.prototype.typeName=function(){if(this.tag===bZ){return"unknown"}var b2=this.tag>>6,b0=(this.tag>>5)&1,b1=this.tag&31;switch(b2){case 0:switch(b1){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+b1.toString(16)}case 1:return"Application_"+b1.toString(16);case 2:return"["+b1+"]";case 3:return"Private_"+b1.toString(16)}};bX.prototype.reSeemsASCII=/^[ -~]+$/;bX.prototype.content=function(){if(this.tag===bZ){return null}var b4=this.tag>>6,b1=this.tag&31,b3=this.posContent(),b0=Math.abs(this.length);if(b4!==0){if(this.sub!==null){return"("+this.sub.length+" elem)"}var b2=this.stream.parseStringISO(b3,b3+Math.min(b0,z));if(this.reSeemsASCII.test(b2)){return b2.substring(0,2*z)+((b2.length>2*z)?t:"")}else{return this.stream.parseOctetString(b3,b3+b0)}}switch(b1){case 1:return(this.stream.get(b3)===0)?"false":"true";case 2:return this.stream.parseInteger(b3,b3+b0);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(b3,b3+b0);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(b3,b3+b0);case 6:return this.stream.parseOID(b3,b3+b0);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(b3,b3+b0);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(b3,b3+b0);case 30:return this.stream.parseStringBMP(b3,b3+b0);case 23:case 24:return this.stream.parseTime(b3,b3+b0)}return null};bX.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+((this.sub===null)?"null":this.sub.length)+"]"};bX.prototype.print=function(b1){if(b1===bZ){b1=""}document.writeln(b1+this);if(this.sub!==null){b1+="  ";for(var b2=0,b0=this.sub.length;b2<b0;++b2){this.sub[b2].print(b1)}}};bX.prototype.toPrettyString=function(b1){if(b1===bZ){b1=""}var b3=b1+this.typeName()+" @"+this.stream.pos;if(this.length>=0){b3+="+"}b3+=this.length;if(this.tag&32){b3+=" (constructed)"}else{if(((this.tag==3)||(this.tag==4))&&(this.sub!==null)){b3+=" (encapsulates)"}}b3+="\n";if(this.sub!==null){b1+="  ";for(var b2=0,b0=this.sub.length;b2<b0;++b2){b3+=this.sub[b2].toPrettyString(b1)}}return b3};bX.prototype.toDOM=function(){var b1=bW.tag("div","node");b1.asn1=this;var b7=bW.tag("div","head");var b9=this.typeName().replace(/_/g," ");b7.innerHTML=b9;var b5=this.content();if(b5!==null){b5=String(b5).replace(/</g,"&lt;");var b4=bW.tag("span","preview");b4.appendChild(bW.text(b5));b7.appendChild(b4)}b1.appendChild(b7);this.node=b1;this.head=b7;var b8=bW.tag("div","value");b9="Offset: "+this.stream.pos+"<br/>";b9+="Length: "+this.header+"+";if(this.length>=0){b9+=this.length}else{b9+=(-this.length)+" (undefined)"}if(this.tag&32){b9+="<br/>(constructed)"}else{if(((this.tag==3)||(this.tag==4))&&(this.sub!==null)){b9+="<br/>(encapsulates)"}}if(b5!==null){b9+="<br/>Value:<br/><b>"+b5+"</b>";if((typeof oids==="object")&&(this.tag==6)){var b2=oids[b5];if(b2){if(b2.d){b9+="<br/>"+b2.d}if(b2.c){b9+="<br/>"+b2.c}if(b2.w){b9+="<br/>(warning!)"}}}}b8.innerHTML=b9;b1.appendChild(b8);var b0=bW.tag("div","sub");if(this.sub!==null){for(var b3=0,b6=this.sub.length;b3<b6;++b3){b0.appendChild(this.sub[b3].toDOM())}}b1.appendChild(b0);b7.onclick=function(){b1.className=(b1.className=="node collapsed")?"node":"node collapsed"};return b1};bX.prototype.posStart=function(){return this.stream.pos};bX.prototype.posContent=function(){return this.stream.pos+this.header};bX.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)};bX.prototype.fakeHover=function(b0){this.node.className+=" hover";if(b0){this.head.className+=" hover"}};bX.prototype.fakeOut=function(b1){var b0=/ ?hover/;this.node.className=this.node.className.replace(b0,"");if(b1){this.head.className=this.head.className.replace(b0,"")}};bX.prototype.toHexDOM_sub=function(b3,b2,b4,b5,b0){if(b5>=b0){return}var b1=bW.tag("span",b2);b1.appendChild(bW.text(b4.hexDump(b5,b0)));b3.appendChild(b1)};bX.prototype.toHexDOM=function(b1){var b4=bW.tag("span","hex");if(b1===bZ){b1=b4}this.head.hexNode=b4;this.head.onmouseover=function(){this.hexNode.className="hexCurrent"};this.head.onmouseout=function(){this.hexNode.className="hex"};b4.asn1=this;b4.onmouseover=function(){var b6=!b1.selected;if(b6){b1.selected=this.asn1;this.className="hexCurrent"}this.asn1.fakeHover(b6)};b4.onmouseout=function(){var b6=(b1.selected==this.asn1);this.asn1.fakeOut(b6);if(b6){b1.selected=null;this.className="hex"}};this.toHexDOM_sub(b4,"tag",this.stream,this.posStart(),this.posStart()+1);this.toHexDOM_sub(b4,(this.length>=0)?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent());if(this.sub===null){b4.appendChild(bW.text(this.stream.hexDump(this.posContent(),this.posEnd())))}else{if(this.sub.length>0){var b5=this.sub[0];var b3=this.sub[this.sub.length-1];this.toHexDOM_sub(b4,"intro",this.stream,this.posContent(),b5.posStart());for(var b2=0,b0=this.sub.length;b2<b0;++b2){b4.appendChild(this.sub[b2].toHexDOM(b1))}this.toHexDOM_sub(b4,"outro",this.stream,b3.posEnd(),this.posEnd())}}return b4};bX.prototype.toHexString=function(b0){return this.stream.hexDump(this.posStart(),this.posEnd(),true)};bX.decodeLength=function(b3){var b1=b3.get(),b0=b1&127;if(b0==b1){return b0}if(b0>3){throw"Length over 24 bits not supported at position "+(b3.pos-1)}if(b0===0){return -1}b1=0;for(var b2=0;b2<b0;++b2){b1=(b1<<8)|b3.get()}return b1};bX.hasContent=function(b1,b0,b6){if(b1&32){return true}if((b1<3)||(b1>4)){return false}var b5=new bY(b6);if(b1==3){b5.get()}var b4=b5.get();if((b4>>6)&1){return false}try{var b3=bX.decodeLength(b5);return((b5.pos-b6.pos)+b3==b0)}catch(b2){return false}};bX.decode=function(b7){if(!(b7 instanceof bY)){b7=new bY(b7,0)}var b6=new bY(b7),b9=b7.get(),b4=bX.decodeLength(b7),b3=b7.pos-b6.pos,b0=null;if(bX.hasContent(b9,b4,b7)){var b1=b7.pos;if(b9==3){b7.get()}b0=[];if(b4>=0){var b2=b1+b4;while(b7.pos<b2){b0[b0.length]=bX.decode(b7)}if(b7.pos!=b2){throw"Content size is not correct for container starting at offset "+b1}}else{try{for(;;){var b8=bX.decode(b7);if(b8.tag===0){break}b0[b0.length]=b8}b4=b1-b7.pos}catch(b5){throw"Exception while decoding undefined length content: "+b5}}}else{b7.pos+=b4}return new bX(b6,b3,b4,b9,b0)};bX.test=function(){var b5=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}];for(var b2=0,b0=b5.length;b2<b0;++b2){var b4=0,b3=new bY(b5[b2].value,0),b1=bX.decodeLength(b3);if(b1!=b5[b2].expected){document.write("In test["+b2+"] expected "+b5[b2].expected+" got "+b1+"\n")}}};window.ASN1=bX})();ASN1.prototype.getHexStringValue=function(){var t=this.toHexString();var bW=this.header*2;var z=this.length*2;return t.substr(bW,z)};F.prototype.parseKey=function(b2){try{var b7=0;var bX=0;var t=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/;var b6=t.test(b2)?Hex.decode(b2):Base64.unarmor(b2);var bY=ASN1.decode(b6);if(bY.sub.length===9){b7=bY.sub[1].getHexStringValue();this.n=C(b7,16);bX=bY.sub[2].getHexStringValue();this.e=parseInt(bX,16);var z=bY.sub[3].getHexStringValue();this.d=C(z,16);var b1=bY.sub[4].getHexStringValue();this.p=C(b1,16);var b0=bY.sub[5].getHexStringValue();this.q=C(b0,16);var b4=bY.sub[6].getHexStringValue();this.dmp1=C(b4,16);var b3=bY.sub[7].getHexStringValue();this.dmq1=C(b3,16);var bW=bY.sub[8].getHexStringValue();this.coeff=C(bW,16)}else{if(bY.sub.length===2){var b8=bY.sub[1];var bZ=b8.sub[0];b7=bZ.sub[0].getHexStringValue();this.n=C(b7,16);bX=bZ.sub[1].getHexStringValue();this.e=parseInt(bX,16)}else{return false}}return true}catch(b5){return false}};F.prototype.getPrivateBaseKey=function(){var z={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]};var t=new KJUR.asn1.DERSequence(z);return t.getEncodedHex()};F.prototype.getPrivateBaseKeyB64=function(){return ai(this.getPrivateBaseKey())};F.prototype.getPublicBaseKey=function(){var bW={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull()]};var t=new KJUR.asn1.DERSequence(bW);bW={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var bY=new KJUR.asn1.DERSequence(bW);bW={hex:"00"+bY.getEncodedHex()};var bX=new KJUR.asn1.DERBitString(bW);bW={array:[t,bX]};var z=new KJUR.asn1.DERSequence(bW);return z.getEncodedHex()};F.prototype.getPublicBaseKeyB64=function(){return ai(this.getPublicBaseKey())};F.prototype.wordwrap=function(bW,t){t=t||64;if(!bW){return bW}var z="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return bW.match(RegExp(z,"g")).join("\n")};F.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n";t+="-----END RSA PRIVATE KEY-----";return t};F.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n";t+="-----END PUBLIC KEY-----";return t};F.prototype.hasPublicKeyProperty=function(t){t=t||{};return(t.hasOwnProperty("n")&&t.hasOwnProperty("e"))};F.prototype.hasPrivateKeyProperty=function(t){t=t||{};return(t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff"))};F.prototype.parsePropertiesFrom=function(t){this.n=t.n;this.e=t.e;if(t.hasOwnProperty("d")){this.d=t.d;this.p=t.p;this.q=t.q;this.dmp1=t.dmp1;this.dmq1=t.dmq1;this.coeff=t.coeff}};var bx=function(t){F.call(this);if(t){if(typeof t==="string"){this.parseKey(t)}else{if(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t)){this.parsePropertiesFrom(t)}}}};bx.prototype=new F();bx.prototype.constructor=bx;var a4=function(t){t=t||{};this.default_key_size=parseInt(t.default_key_size)||1024;this.default_public_exponent=t.default_public_exponent||"010001";this.log=t.log||false;this.key=null};a4.prototype.setKey=function(t){if(this.log&&this.key){console.warn("A key was already set, overriding existing.")}this.key=new bx(t)};a4.prototype.setPrivateKey=function(t){this.setKey(t)};a4.prototype.setPublicKey=function(t){this.setKey(t)};a4.prototype.decrypt=function(t){try{return this.getKey().decrypt(aX(t))}catch(z){return false}};a4.prototype.encrypt=function(t){try{return ai(this.getKey().encrypt(t))}catch(z){return false}};a4.prototype.getKey=function(t){if(!this.key){this.key=new bx();if(t&&{}.toString.call(t)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);return}this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key};a4.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()};a4.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()};a4.prototype.getPublicKey=function(){return this.getKey().getPublicKey()};a4.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()};au.JSEncrypt=a4})(JSEncryptExports);var JSEncrypt=JSEncryptExports.JSEncrypt;var JSONreq={map:{},counter:0,getJSON:function(h,l,d){var k=h+(h.indexOf("?")+1?"&":"?"),j=document.getElementsByTagName("head")[0],q=document.createElement("script"),f=[],b="",g="json-"+this.counter;this.counter++,l.script_name=g,l._rand=Math.random(),this.map[g]=d,l.callback="JSONreq.success";for(b in l){f.push(b+"="+encodeURIComponent(l[b]))}k+=f.join("&"),q.type="text/javascript",q.src=k,q.id=g,j.appendChild(q)},success:function(d){var c=d.script_name;delete d.script_name,this.map[c](d);var f=document.getElementsByTagName("head")[0],b=document.getElementById(c);f.removeChild(b),delete this.map.script_name}};function WacomGSS_SignatureSDK(c,f){this.running=false;this.session=null;this.service_detected=false;var h=this;var d="https://localhost:";this.RBFlags={RenderOutputPicture:2097152,RenderOutputBase64:8192,RenderBackgroundTransparent:65536,RenderColor1BPP:131072,RenderColor24BPP:262144,RenderColor32BPP:524288,RenderColorAntiAlias:1048576,RenderEncodeData:4194304,RenderWatermark:8388608,RenderClipped:16777216,RenderRelative:33554432};this.IntegrityStatus={IntegrityOK:0,IntegrityFail:1,IntegrityMissing:2,IntegrityWrongType:3,IntegrityInsufficientData:4,IntegrityUncertain:5,IntegrityUnsupported:6};this.HashType={HashNone:0,HashMD5:1,HashSHA1:2,HashSHA224:3,HashSHA256:4,HashSHA384:5,HashSHA512:6};this.KeyType={KeyNone:0,KeyMD5:1,KeyMD5MAC:2,KeySHA1:3,KeySHA224:4,KeySHA256:5,KeySHA384:6,KeySHA512:7,KeyCAPICOM:8};this.SignedData={DataGood:0,DataNoHash:1,DataBadType:2,DataBadHash:3,DataError:4,DataUncertain:5,DataSigMoved:6};this.CaptData={CaptDigitizer:26,CaptDigitizerDriver:27,CaptMachineOS:28,CaptNetworkCard:29};this.DynamicCaptureResult={DynCaptOK:0,DynCaptCancel:1,DynCaptPadError:100,DynCaptError:101,DynCaptNotLicensed:103,DynCaptAbort:200,DynCaptIntegrityKeyInvalid:102};this.TimeZone={TimeLocal:0,TimeGMT:1,TimeUTC:1};this.DisplayMode={DspForceFit:0,DspUseZoom:1,DspBestFit:2};this.ShowText={TxtDontShow:0,TxtShowLeft:1,TxtShowCenter:2,TxtShowRight:4};this.ObjectType={ObjectText:0,ObjectButton:1,ObjectCheckbox:2,ObjectSignature:3,ObjectInput:4,ObjectInputEcho:5,ObjectHash:6,ObjectImage:7,ObjectDisplayAtShutdown:8,ObjectInking:9,ObjectRadioButton:10};this.TextOptions={TextAlignLeft:0,TextAlignRight:1,TextAlignCentre:2,TextAlignJustify:3};this.ButtonOptions={BtnAlignCentre:0,BtnAlignMiddle:0,BtnAlignLeft:1,BtnAlignRight:2,BtnAlignTop:4,BtnAlignBottom:8};this.CheckBoxOptions={CheckboxUnchecked:0,CheckboxChecked:1,CheckboxDisplayTick:2,CheckboxDisplayCross:4};this.ObjectOptionType={OBJECTOPTION_STRING:0,OBJECTOPTION_INT:1,OBJECTOPTION_BOOL:2};this.VariantType={VARIANT_EMPTY:0,VARIANT_TEXT:1,VARIANT_NUM:2,VARIANT_OBJECTOPTIONS:3,VARIANT_SIGOBJ:4,VARIANT_SIGCTL:5,VARIANT_INPUTOBJ:6,VARIANT_HASH:7,VARIANT_IMGURL:8,VARIANT_BASE64:9,VARIANT_DYNCAP:10,VARIANT_WIZCTL:11,VARIANT_FONT:12,VARIANT_KEY:13};this.PrimitiveType={PrimitiveLine:0,PrimitiveRectangle:1,PrimitiveEllipse:2};this.PrimitiveOptions={PrimitiveLineSolid:1,PrimitiveLineDashed:2,PrimitiveOutline:4,PrimitiveFill:8,PrimitiveFillXOR:16};this.EventType={EvTextClicked:0,EvButtonClicked:1,EvCheckboxChecked:2,EvCheckboxUnchecked:3,EvInputMinReached:4,EvInputMaxReached:5,EvInputExceeded:6};this.EncryptAlg={EncryptNone:0,EncryptTripleDES:1};this.ResponseStatus={OK:0,FAILED:1,INVALID_SESSION:3};this.FontWeight={FW_DONTCARE:0,FW_THIN:100,FW_EXTRALIGHT:200,FW_LIGHT:300,FW_NORMAL:400,FW_MEDIUM:500,FW_SEMIBOLD:600,FW_BOLD:700,FW_EXTRABOLD:800,FW_HEAVY:900,FW_ULTRALIGHT:200,FW_REGULAR:400,FW_DEMIBOLD:600,FW_ULTRABOLD:800,FW_BLACK:900};this.FontCharset={ANSI_CHARSET:0,DEFAULT_CHARSET:1,SYMBOL_CHARSET:2,SHIFTJIS_CHARSET:128,HANGEUL_CHARSET:129,HANGUL_CHARSET:129,GB2312_CHARSET:134,CHINESEBIG5_CHARSET:136,OEM_CHARSET:255,JOHAB_CHARSET:130,HEBREW_CHARSET:177,ARABIC_CHARSET:178,GREEK_CHARSET:161,TURKISH_CHARSET:162,VIETNAMESE_CHARSET:163,THAI_CHARSET:222,EASTEUROPE_CHARSET:238,RUSSIAN_CHARSET:204,MAC_CHARSET:77,BALTIC_CHARSET:186,FS_LATIN1:1,FS_LATIN2:2,FS_CYRILLIC:4,FS_GREEK:8,FS_TURKISH:16,FS_HEBREW:32,FS_ARABIC:64,FS_BALTIC:128,FS_VIETNAMESE:256,FS_THAI:65536,FS_JISJAPAN:131072,FS_CHINESESIMP:262144,FS_WANSUNG:524288,FS_CHINESETRAD:1048576,FS_JOHAB:2097152,FS_SYMBOL:2147483648};this.Font=function(k,l,j,q,n,r,m){this.type=h.VariantType.VARIANT_FONT;this.fontName=(typeof k=="undefined")?"Arial":k;this.fontSize=(typeof l=="undefined")?8:l;this.sWeight=(typeof j=="undefined")?h.FontWeight.FW_NORMAL:j;this.sCharset=(typeof q=="undefined")?h.FontCharset.ANSI_CHARSET:q;this.fItalic=(typeof fItalic=="undefined")?0:fItalic;this.fUnderline=(typeof r=="undefined")?0:fUnderline;this.fStrikethrough=(typeof m=="undefined")?0:m};function e(j){if(0==j.status){h.session=j.session;h.running=true;c()}else{console.log("Signature SDK local server error: "+j.status)}}function g(j){if(0==j.status){h.service_detected=true;d+=j.port+"/";var k={CreateSession:1};JSONreq.getJSON(d+"wacom.js",k,e)}else{console.log("Signature SDK Service error: "+j.status)}}function b(){var j={GetPort:1};JSONreq.getJSON(d+f+"/wacom.js",j,g)}b();this.getVersion=function(k){var j={GetVersion:1,session:h.session,};function l(m){k(m.version,parseInt(m.status))}JSONreq.getJSON(d+"wacom.js",j,l)};function a(j){return("undefined"==typeof j||null==j)?"":j}this.Hash=function(m){var j=this;this.handle=null;this.type=h.VariantType.VARIANT_HASH;var k={Hash:"Constructor",session:h.session};function l(n){j.handle=n.handle;m(j,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,l);this.Add=function(n,q){var r={Hash:"Add",session:h.session,handle:j.handle};n.Stringify(r,"hData");function s(t){q(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.Clear=function(n){var q={Hash:"Clear",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetType=function(n){var q={Hash:"GetType",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.hashType),parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.PutType=function(n,s){var q={Hash:"PutType",session:h.session,handle:j.handle,type:a(n)};function r(t){s(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",q,r)}};this.Key=function(j){var k=this;this.handle=null;this.type=h.VariantType.VARIANT_KEY;var l={Key:"Constructor",session:h.session};function m(n){k.handle=n.handle;j(k,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m);this.GetType=function(n){var q={Key:"GetType",session:h.session,handle:k.handle};function r(s){n(k,parseInt(s.type),parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.Set=function(n,s,r){var q={Key:"Set",session:h.session,handle:k.handle,type:a(n)};s.Stringify(q,"value");function t(u){r(k,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",q,t)}};this.Bitmap=function(){var j=this;this.handle=null;this.isBase64=false;this.mime_type=null;this.image=new Image()};this.SigObj=function(){var j=this;this.handle=null;this.type=h.VariantType.VARIANT_SIGOBJ;this.CheckIntegrity=function(l,k){var m={SigObj:"CheckIntegrity",session:h.session,handle:j.handle};var n=new h.Variant();n.Set(l);n.Stringify(m,"key");function q(r){k(j,parseInt(r.status))}JSONreq.getJSON(d+"wacom.js",m,q)};this.CheckSignedData=function(m,k){var l={SigObj:"CheckSignedData",session:h.session,handle:j.handle,HashHandle:a(m.handle)};function n(q){k(j,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",l,n)};this.Clear=function(k){var l={SigObj:"Clear",session:h.session,handle:j.handle};function m(n){k(j,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m)};this.GetAdditionalData=function(l,k){var m={SigObj:"GetAdditionalData",session:h.session,handle:j.handle,captData:a(l)};function n(q){k(j,q.additionalData,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",m,n)};this.GetCrossedOut=function(l){var k={SigObj:"GetCrossedOut",session:h.session,handle:j.handle};function m(n){l(j,Boolean(1==parseInt(n.crossedOut)),parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m)};this.GetExtraData=function(k,m){var l={SigObj:"GetExtraData",session:h.session,handle:j.handle,key:a(k)};function n(q){m(j,q.extraData,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",l,n)};this.GetHeight=function(k){var l={SigObj:"GetHeight",session:h.session,handle:j.handle};function m(n){k(j,parseInt(n.height),parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m)};this.GetInk=function(k){var l={SigObj:"GetInk",session:h.session,handle:j.handle};function m(n){k(j,n.ink,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m)};this.GetIsCaptured=function(l){var k={SigObj:"GetIsCaptured",session:h.session,handle:j.handle};function m(n){l(j,Boolean(1==parseInt(n.isCaptured)),parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m)};this.GetProperty=function(k,l){var m={SigObj:"GetProperty",session:h.session,handle:j.handle,key:a(k)};function n(q){var r=new h.Variant();r.Parse(q,"property");l(j,r,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",m,n)};this.GetSigData=function(k){var l={SigObj:"GetSigData",session:h.session,handle:j.handle};function m(n){var q=new h.Variant();q.Parse(n,"sigData");k(j,q,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m)};this.GetSigText=function(l){var k={SigObj:"GetSigText",session:h.session,handle:j.handle};function m(n){l(j,n.sigText,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m)};this.GetWhen=function(k,l){var m={SigObj:"GetWhen",session:h.session,handle:j.handle,timeZone:a(k)};function n(r){var q=new Date(parseFloat(r.year),parseFloat(r.month)-1,parseFloat(r.day),parseFloat(r.hour),parseFloat(r.minute),parseFloat(r.second));q.dayOfWeek=parseFloat(r.dayOfWeek);l(j,q,parseInt(r.status))}JSONreq.getJSON(d+"wacom.js",m,n)};this.GetWho=function(l){var k={SigObj:"GetWho",session:h.session,handle:j.handle};function m(n){l(j,n.who,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m)};this.GetWhy=function(l){var k={SigObj:"GetWhy",session:h.session,handle:j.handle};function m(n){l(j,n.why,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m)};this.GetWidth=function(k){var l={SigObj:"GetWidth",session:h.session,handle:j.handle};function m(n){k(j,parseInt(n.width),parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",l,m)};this.PutExtraData=function(k,m,q){var l={SigObj:"PutExtraData",session:h.session,handle:j.handle,key:a(k),value:a(m)};function n(r){q(j,parseInt(r.status))}JSONreq.getJSON(d+"wacom.js",l,n)};this.PutInk=function(k,l){var m={SigObj:"PutInk",session:h.session,handle:j.handle,ink:a(k)};function n(q){l(j,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",m,n)};this.PutSigData=function(m,k){var l={SigObj:"PutSigData",session:h.session,handle:j.handle};m.Stringify(l,"sigData");function n(q){k(j,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",l,n)};this.PutSigText=function(m,k){var l={SigObj:"PutSigText",session:h.session,handle:j.handle,sigText:a(m)};function n(q){k(j,parseInt(q.status))}JSONreq.getJSON(d+"wacom.js",l,n)};this.ReadEncodedBitmap=function(n,l){var m={SigObj:"ReadEncodedBitmap",session:h.session,handle:j.handle};var k=new h.Variant();k.type=h.VariantType.VARIANT_IMGURL;k.url=n;k.Stringify(m,"bitmapURL");function q(r){l(j,parseInt(r.status))}JSONreq.getJSON(d+"wacom.js",m,q)};this.RenderBitmap=function(t,k,z,A,l,s,m,q,n,u){var r={SigObj:"RenderBitmap",session:h.session,handle:j.handle,mimetype:a(t),width:a(k),height:a(z),ink_width:a(A),ink_color:a(l),bg_color:a(s),flags:a(m),paddingX:a(q),paddingY:a(n)};function w(C){var B=parseInt(C.status);if(B==0){if(m&h.RBFlags.RenderOutputPicture){var D=new h.Bitmap();D.handle=C.bitmapHandle;D.isBase64=(1==C.isBase64?true:false);D.image.onload=function(){u(j,D,B)};if(D.isBase64){D.image.src="data:image/"+t+";base64,"+C.base64}else{D.image.src=d+C.bitmapHandle+"?session="+h.session}}else{if(1==C.isBase64){u(j,C.base64,B)}}}else{u(j,null,B)}}JSONreq.getJSON(d+"wacom.js",r,w)};this.SetProperty=function(l,n,k){var m={SigObj:"SetProperty",session:h.session,handle:j.handle,key:a(l)};n.Stringify(m,"value");function q(r){k(j,parseInt(r.status))}JSONreq.getJSON(d+"wacom.js",m,q)}};this.DynamicCapture=function(l){var j=this;this.handle=null;var k={DynamicCapture:"Constructor",session:h.session};function m(n){j.handle=n.handle;l(j,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m);this.Capture=function(w,B,t,z,C,D){var q=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var F=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var r=window.screenLeft?window.screenLeft:window.screenX;var u=window.screenTop?window.screenTop:window.screenY;var s={DynamicCapture:"Capture",session:h.session,who:a(B),why:a(t),width:a(q),height:a(F),left:a(r),top:a(u),SigCtlHandle:a(w.handle),handle:j.handle};var A=new h.Variant();A.Set(z);A.Stringify(s,"what");var n=new h.Variant();n.Set(C);n.Stringify(s,"key");function E(H){var G=new h.SigObj();G.handle=H.handle;D(j,G,parseInt(H.status))}JSONreq.getJSON(d+"wacom.js",s,E)};this.GetLicence=function(n){var q={DynamicCapture:"GetLicence",session:h.session,handle:j.handle};function r(s){n(j,s.licence,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetProperty=function(n,q){var r={DynamicCapture:"GetProperty",session:h.session,handle:j.handle,key:a(n)};function s(t){var u=new h.Variant();u.Parse(t,"property");q(j,u,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.PutLicence=function(q,s){var n={DynamicCapture:"PutLicence",session:h.session,handle:j.handle,licence:a(q)};function r(t){s(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",n,r)};this.SetProperty=function(q,s,n){var r={DynamicCapture:"SetProperty",session:h.session,handle:j.handle,key:a(q)};s.Stringify(r,"value");function t(u){n(j,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",r,t)}};this.SigCtl=function(l){var j=this;this.handle=null;this.type=h.VariantType.VARIANT_SIGCTL;var k={SigCtl:"Constructor",session:h.session};function m(n){j.handle=n.handle;l(j,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m);this.AboutBox=function(r){var q=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var u=window.screenLeft?window.screenLeft:window.screenX;var t=window.screenTop?window.screenTop:window.screenY;var s={SigCtl:"AboutBox",session:h.session,width:a(q),height:a(n),left:a(u),top:a(t),handle:j.handle};function w(z){r(j,parseInt(z.status))}JSONreq.getJSON(d+"wacom.js",s,w)};this.GetAppData=function(q,n){var r={SigCtl:"GetAppData",session:h.session,handle:j.handle,key:a(q)};function s(u){var t=new h.Variant();t.Parse(u,"appData");n(j,t,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.GetInputData=function(r){var n={SigCtl:"GetInputData",session:h.session,handle:j.handle};function q(s){r(j,s.inputData,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",n,q)};this.GetLicence=function(n){var q={SigCtl:"GetLicence",session:h.session,handle:j.handle};function r(s){n(j,s.licence,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetProperty=function(n,q){var r={SigCtl:"GetProperty",session:h.session,handle:j.handle,key:a(n)};function s(t){var u=new h.Variant();u.Parse(t,"property");q(j,u,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.GetSignature=function(n){var q={SigCtl:"GetSignature",session:h.session,handle:j.handle};function r(t){var s=new h.SigObj();s.handle=t.signatureHandle;n(j,s,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.PutAppData=function(n,s,r){var q={SigCtl:"PutAppData",session:h.session,handle:j.handle,key:a(n)};s.Stringify(q,"val");function t(u){r(j,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",q,t)};this.PutInputData=function(r,n){var q={SigCtl:"PutInputData",session:h.session,handle:j.handle,inputData:a(r)};function s(t){n(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",q,s)};this.PutLicence=function(q,s){var n={SigCtl:"PutLicence",session:h.session,handle:j.handle,licence:a(q)};function r(t){s(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",n,r)};this.PutProperties=function(q,n){var r={SigCtl:"PutProperties",session:h.session,handle:j.handle,properties:a(q)};function s(t){n(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.PutSignature=function(n,q){var r={SigCtl:"PutSignature",session:h.session,handle:j.handle,signatureHandle:a(n.handle)};function s(t){q(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.SetProperty=function(q,s,n){var r={SigCtl:"SetProperty",session:h.session,handle:j.handle,key:a(q)};s.Stringify(r,"value");function t(u){n(j,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",r,t)}};this.InputObj=function(l){var j=this;this.handle=null;this.type=h.VariantType.VARIANT_INPUTOBJ;var k={InputObj:"Constructor",session:h.session};function m(n){j.handle=n.handle;l(j,parseInt(n.status))}JSONreq.getJSON(d+"wacom.js",k,m);this.Clear=function(n){var q={InputObj:"Clear",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetData=function(n){var q={InputObj:"GetData",session:h.session,handle:j.handle};function r(s){n(j,s.data,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetEncryptionType=function(n){var q={InputObj:"GetEncryptionType",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.encryptionType),parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetMaxLength=function(n){var q={InputObj:"GetMaxLength",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.maxLength),parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetMinLength=function(n){var q={InputObj:"GetMinLength",session:h.session,handle:j.handle};function r(s){n(j,parseInt(s.minLength),parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.GetProperty=function(n,q){var r={InputObj:"GetProperty",session:h.session,handle:j.handle,name:a(n)};function s(t){var u=new h.Variant();u.Parse(t,"property");q(j,t.property,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.GetText=function(n){var q={InputObj:"GetText",session:h.session,handle:j.handle};function r(s){n(j,s.text,parseInt(s.status))}JSONreq.getJSON(d+"wacom.js",q,r)};this.PutMaxLength=function(n,q){var r={InputObj:"PutMaxLength",session:h.session,handle:j.handle,maxLength:a(n)};function s(t){q(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",r,s)};this.PutMinLength=function(n,r){var q={InputObj:"PutMinLength",session:h.session,handle:j.handle,minLength:a(n)};function s(t){r(j,parseInt(t.status))}JSONreq.getJSON(d+"wacom.js",q,s)};this.SetEncryption=function(q,n,s){var r={InputObj:"SetEncryption",session:h.session,handle:j.handle,type:a(q)};n.Stringify(r,"key");function t(u){s(j,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",r,t)};this.SetProperty=function(q,s,n){var r={InputObj:"SetProperty",session:h.session,handle:j.handle,name:a(q),value:a(s)};function t(u){n(j,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",r,t)}};this.ObjectOptions=function(){var j=this;this.type=h.VariantType.VARIANT_OBJECTOPTIONS;this.AddOption=function(k,l){j[k]=l}};this.Variant=function(){var j=this;this.type=h.VariantType.VARIANT_EMPTY;this.Parse=function(l,m){var k=parseInt(l[m+".type"]);switch(k){case h.VariantType.VARIANT_TEXT:j.type=k;j.text=l[m+".text"];break;case h.VariantType.VARIANT_NUM:j.type=k;j.num=parseFloat(l[m+".num"]);break;case h.VariantType.VARIANT_OBJECTOPTIONS:j.type=k;break;case h.VariantType.VARIANT_SIGOBJ:case h.VariantType.VARIANT_SIGCTL:case h.VariantType.VARIANT_INPUTOBJ:case h.VariantType.VARIANT_HASH:case h.VariantType.VARIANT_KEY:case h.VariantType.VARIANT_DYNCAP:case h.VariantType.VARIANT_WIZCTL:j.type=k;j.handle=l[m+".handle"];break;case h.VariantType.VARIANT_BASE64:j.type=k;j.base64=l[m+".base64"];break;case h.VariantType.VARIANT_IMGURL:j.type=k;j.url=l[m+".url"];break;case h.VariantType.VARIANT_FONT:j.type=k;j.fontName=l[m+".fontName"];j.fontSize=l[m+".fontSize"];j.sWeight=l[m+".sWeight"];j.sCharset=l[m+".sCharset"];j.fItalic=l[m+".fItalic"];j.fUnderline=l[m+".fUnderline"];j.fStrikethrough=l[m+".fStrikethrough"];break;case h.VariantType.VARIANT_EMPTY:default:j.type=h.VariantType.VARIANT_EMPTY;break}};this.Set=function(k){if("string"===typeof k){j.type=h.VariantType.VARIANT_TEXT;j.text=k}else{if("number"===typeof k){j.type=h.VariantType.VARIANT_NUM;j.num=k}else{if(null!=k&&"object"===typeof k&&"undefined"!=typeof k.type&&null!=k.type){switch(k.type){case h.VariantType.VARIANT_OBJECTOPTIONS:j.type=h.VariantType.VARIANT_OBJECTOPTIONS;for(o in k){if(o!="type"){if(typeof k[o]=="string"){j[o]=k[o];j[o+".type"]=h.ObjectOptionType.OBJECTOPTION_STRING}else{if(typeof k[o]=="number"){j[o]=k[o]>0?Math.floor(k[o]):Math.ceil(k[o]);j[o+".type"]=h.ObjectOptionType.OBJECTOPTION_INT}else{if(typeof k[o]=="boolean"){j[o]=(k[o]==true?1:0);j[o+".type"]=h.ObjectOptionType.OBJECTOPTION_BOOL}}}}}break;case h.VariantType.VARIANT_SIGOBJ:case h.VariantType.VARIANT_SIGCTL:case h.VariantType.VARIANT_INPUTOBJ:case h.VariantType.VARIANT_HASH:case h.VariantType.VARIANT_KEY:case h.VariantType.VARIANT_DYNCAP:case h.VariantType.VARIANT_WIZCTL:j.type=k.type;j.handle=k.handle;break;case h.VariantType.VARIANT_IMGURL:j.type=h.VariantType.VARIANT_IMGURL;j.url=k.url;break;case h.VariantType.VARIANT_BASE64:j.type=h.VariantType.VARIANT_BASE64;j.base64=k.base64;break;case h.VariantType.VARIANT_FONT:j.type=h.VariantType.VARIANT_FONT;j.fontName=k.fontName;j.fontSize=k.fontSize;j.sWeight=k.sWeight;j.sCharset=k.sCharset;j.fItalic=k.fItalic;j.fUnderline=k.fUnderline;j.fStrikethrough=k.fStrikethrough;break;case h.VariantType.VARIANT_EMPTY:default:j.type=h.VariantType.VARIANT_EMPTY;break}}}}};this.Stringify=function(l,m){for(var k in j){if(typeof k=="string"&&typeof j[k]!="function"&&typeof j[k]!="symbol"&&(typeof j[k]=="object"||typeof j[k]=="string"||typeof j[k]=="number")){l[m+"."+k]=j[k.toString()]}}}};this.WizCtl=function(n){var r=this;this.handle=null;var j=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var k=window.screenLeft?window.screenLeft:window.screenX;var q=window.screenTop?window.screenTop:window.screenY;var m={WizCtl:"Constructor",session:h.session,width:j,height:t,left:k,top:q};function s(u){r.handle=u.handle;n(r,parseInt(u.status))}JSONreq.getJSON(d+"wacom.js",m,s);this.AddObject=function(B,u,A,w,E,F,z){var C={WizCtl:"AddObject",session:h.session,handle:r.handle,objType:a(B),id:a(u)};A.Stringify(C,"X");w.Stringify(C,"Y");E.Stringify(C,"objData");F.Stringify(C,"options");function D(G){z(r,parseInt(G.status))}JSONreq.getJSON(d+"wacom.js",C,D)};this.AddPrimitive=function(C,z,J,u,G,w,K,E){var A={WizCtl:"AddPrimitive",session:h.session,handle:r.handle,primType:a(C)};var I=new h.Variant();var D=new h.Variant();var F=new h.Variant();var B=new h.Variant();I.Set(z);D.Set(J);F.Set(u);B.Set(G);I.Stringify(A,"X1");D.Stringify(A,"Y1");F.Stringify(A,"X2");B.Stringify(A,"Y2");w.Stringify(A,"primData");K.Stringify(A,"options");function H(L){E(r,parseInt(L.status))}JSONreq.getJSON(d+"wacom.js",A,H)};this.Close=function(w){var u={WizCtl:"Close",session:h.session,handle:r.handle};function z(A){w(r,parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.Display=function(z){var u={WizCtl:"Display",session:h.session,handle:r.handle};function w(A){z(r,parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,w)};this.FireClick=function(A,w){var u={WizCtl:"FireClick",session:h.session,handle:r.handle,fireClickId:A};function z(B){w(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetBackColor=function(u){var w={WizCtl:"GetBackColor",session:h.session,handle:r.handle};function z(A){u(r,parseInt(A.backColor),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetBorderColor=function(u){var w={WizCtl:"GetBorderColor",session:h.session,handle:r.handle};function z(A){u(r,parseInt(A.borderColor),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetBorderStyle=function(w){var u={WizCtl:"GetBorderStyle",session:h.session,handle:r.handle};function z(A){w(r,parseInt(A.borderStyle),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetBorderVisible=function(z){var u={WizCtl:"GetBorderVisible",session:h.session,handle:r.handle};function w(A){z(r,Boolean(1==parseInt(A.borderVisible)),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,w)};this.GetBorderWidth=function(w){var u={WizCtl:"GetBorderWidth",session:h.session,handle:r.handle};function z(A){w(r,parseInt(A.borderWidth),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetEnableWizardDisplay=function(w){var u={WizCtl:"GetEnableWizardDisplay",session:h.session,handle:r.handle};function z(A){w(r,Boolean(1==parseInt(A.enableWD)),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetFont=function(w){var u={WizCtl:"GetFont",session:h.session,handle:r.handle};function z(B){var A=new h.Variant();A.Parse(B,"font");w(r,A,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetInkingPad=function(u){var w={WizCtl:"GetInkingPad",session:h.session,handle:r.handle};function z(A){u(r,Boolean(1==parseInt(A.inkingPad)),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetLicence=function(u){var w={WizCtl:"GetLicence",session:h.session,handle:r.handle};function z(A){u(r,A.licence,parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetObjectState=function(A,w){var u={WizCtl:"GetObjectState",session:h.session,handle:r.handle,objectId:a(A)};function z(B){var C=new h.Variant();C.Parse(B,"objState");w(r,C,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetPadHeight=function(u){var w={WizCtl:"GetPadHeight",session:h.session,handle:r.handle};function z(A){u(r,parseFloat(A.height),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetPadWidth=function(u){var w={WizCtl:"GetPadWidth",session:h.session,handle:r.handle};function z(A){u(r,parseFloat(A.width),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.GetProperty=function(u,w){var z={WizCtl:"GetProperty",session:h.session,handle:r.handle,key:a(u)};function A(B){var C=new h.Variant();C.Parse(B,"property");w(r,C,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.GetVisibleWindow=function(w){var u={WizCtl:"GetVisibleWindow",session:h.session,handle:r.handle};function z(A){w(r,Boolean(1==parseInt(A.visible)),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.GetZoom=function(u){var w={WizCtl:"GetZoom",session:h.session,handle:r.handle};function z(A){u(r,parseFloat(A.zoom),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.PadConnect=function(u){var w={WizCtl:"PadConnect",session:h.session,handle:r.handle};function z(A){u(r,Boolean(1==parseInt(A.padConnect)),parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.PadDisconnect=function(u){var w={WizCtl:"PadDisconnect",session:h.session,handle:r.handle};function z(A){u(r,parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.PutBackColor=function(u,z){var w={WizCtl:"PutBackColor",session:h.session,handle:r.handle,backColor:a(u)};function A(B){z(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",w,A)};this.PutBorderColor=function(A,w){var u={WizCtl:"PutBorderColor",session:h.session,handle:r.handle,borderColor:a(A)};function z(B){w(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.PutBorderStyle=function(w,u){var z={WizCtl:"PutBorderStyle",session:h.session,handle:r.handle,borderStyle:a(w)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.PutBorderVisible=function(z,u){var w={WizCtl:"PutBorderVisible",session:h.session,handle:r.handle,borderVisible:a(z)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",w,A)};this.PutBorderWidth=function(w,u){var z={WizCtl:"PutBorderWidth",session:h.session,handle:r.handle,borderWidth:a(w)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.PutEnableWizardDisplay=function(A,w){var u={WizCtl:"PutEnableWizardDisplay",session:h.session,handle:r.handle,enableWD:a(A)};function z(B){w(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.PutFont=function(u,z){var w={WizCtl:"PutFont",session:h.session,handle:r.handle};u.Stringify(w,"font");function A(B){z(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",w,A)};this.PutLicence=function(w,A){var u={WizCtl:"PutLicence",session:h.session,handle:r.handle,licence:a(w)};function z(B){A(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",u,z)};this.PutPadHeight=function(u,z){var w={WizCtl:"PutPadHeight",session:h.session,handle:r.handle,height:a(u)};function A(B){z(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",w,A)};this.PutPadWidth=function(w,u){var z={WizCtl:"PutPadWidth",session:h.session,handle:r.handle,width:a(w)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.PutProperties=function(w,u){var z={WizCtl:"PutProperties",session:h.session,handle:r.handle,properties:a(w)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.PutRefFont=function(u,w){var z={WizCtl:"PutRefFont",session:h.session,handle:r.handle};u.Stringify(z,"font");function A(B){w(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.PutVisibleWindow=function(z,u){var w={WizCtl:"PutVisibleWindow",session:h.session,handle:r.handle,visible:Number(z)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",w,A)};this.PutZoom=function(w,u){var z={WizCtl:"PutZoom",session:h.session,handle:r.handle,zoom:a(w)};function A(B){u(r,parseInt(B.status))}JSONreq.getJSON(d+"wacom.js",z,A)};this.Reset=function(u){var w={WizCtl:"Reset",session:h.session,handle:r.handle};function z(A){u(r,parseInt(A.status))}JSONreq.getJSON(d+"wacom.js",w,z)};this.SetProperty=function(w,A,u){var z={WizCtl:"SetProperty",session:h.session,handle:r.handle,key:w};function B(C){u(r,parseInt(C.status))}A.Stringify(z,"value");JSONreq.getJSON(d+"wacom.js",z,B)};var l;this.SetEventHandler=function(u){var w={WizCtl:"SetEventHandler",session:h.session,handle:r.handle};l=u;function z(B){var A={WizCtl:"UpdateEventHandler",session:h.session,handle:r.handle};if(0==parseInt(B.status)){JSONreq.getJSON(d+"wacom.js",A,z)}else{if("undefined"===typeof(B.status)){return}}setTimeout(function(){l(r.handle,B["event-id"],parseInt(B["event-type"]),parseInt(B.status))},0)}JSONreq.getJSON(d+"wacom.js",w,z)}}}m2soft.ns("m2soft.crownix.storage.IndexedDB");m2soft.crownix.storage.IndexedDB=(function(){var b=m2soft.crownix.Resource;var c=m2soft.crownix.Util;var a=m2soft.crownix.Message;window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction;window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;IndexedDB=function(){if(!IndexedDB.isAvailable()){throw b.get("unsupported_localStorage_error")}this.db=null;this.dbName="crownix-storage";this.initialize(this.dbName,1)};IndexedDB.isAvailable=function(){return typeof indexedDB!=="undefined"&&(!c.browser.ie&&!c.browser.uiwebview)};IndexedDB.prototype={initialize:function(h,d){var g=indexedDB.open(h,d);var f=this;var e=function(j){if(j.objectStoreNames.contains("export")){j.deleteObjectStore("export")}var k=j.createObjectStore("export",{keyPath:"key"});k.createIndex("key","key")};g.onerror=function(j){a.log("[Crownix Viewer] Error creating/accessing IndexedDB database",j.target)};g.onsuccess=function(l){var j=f.db=g.result;if(j.setVersion){if(j.version!=d){var k=j.setVersion(d);k.onsuccess=function(){e(j)}}}};g.onupgradeneeded=function(k){var j=k.target.result;e(j)}},getKeys:function(f){var d=[];var e=$.Deferred();var g=this.db.transaction(["export"],"readwrite").objectStore("export").index("key").openKeyCursor();g.onsuccess=function(h){var j=h.target.result;if(j){if(j.key.indexOf("crownix-viewer-"+f+"-")==0){d.push(j.key)}j["continue"]()}else{e.resolve(d)}};g.onerror=function(h){a.log(h.target);e.reject(h.target.error)};return e.promise()},get:function(f){try{var d=$.Deferred();var j=this.db.transaction(["export"],"readwrite");var g=j.objectStore("export").get(f);g.onsuccess=function(e){var k=e.target.result?e.target.result.value:"";d.resolve(k)};g.onerror=function(e){a.log(e.target);d.reject(e.target.error)};return d.promise()}catch(h){a.log(h.stack);return d.reject(b.get("data_load_error"))}},set:function(f,h){try{if(typeof h==="object"){h=JSON.stringify(h)}var d=$.Deferred();var k=this.db.transaction(["export"],"readwrite");var g=k.objectStore("export").put({key:f,value:h});g.onsuccess=function(){d.resolve()};g.onerror=function(e){a.log(e.target);d.reject(e.target.error)};return d.promise()}catch(j){a.log(j.stack);return d.reject("data_save_error")}},remove:function(f){try{var d=$.Deferred();var j=this.db.transaction(["export"],"readwrite");var g=j.objectStore("export")["delete"](f);g.onsuccess=function(e){d.resolve()};g.onerror=function(e){a.log(e.target);d.reject(e.target.error)};return d.promise()}catch(h){a.log(h.stack);return d.reject(b.get("data_load_error"))}},size:function(d){return this.get(d).pipe(function(f){var e=encodeURIComponent(f).match(/%[89ABab]/g);return $.Deferred().resolve(d,f.length+(e?e.length:0))})},};return IndexedDB})();m2soft.ns("m2soft.crownix.storage.LocalStorage");m2soft.crownix.storage.LocalStorage=(function(){var b=m2soft.crownix.Resource;var a=function(){if(!a.isAvailable()){throw b.get("unsupported_localStorage_error")}this.localStorage=localStorage};a.isAvailable=function(){return !(typeof localStorage==="undefined")};a.prototype={getKeys:function(e){var c=[];for(var d in this.localStorage){if(d.indexOf("crownix-viewer-"+e+"-")==0){c.push(d)}}return $.Deferred().resolve(c)},get:function(c){try{return $.Deferred().resolve(this.localStorage.getItem(c))}catch(d){return $.Deferred().reject(b.get("data_load_error"))}},set:function(c,d){try{if(typeof d==="object"){this.localStorage.setItem(c,JSON.stringify(d))}else{this.localStorage.setItem(c,d)}return $.Deferred().resolve()}catch(f){return $.Deferred().reject(b.get("data_save_error"))}},remove:function(c){try{this.localStorage.removeItem(c);return $.Deferred().resolve()}catch(d){return $.Deferred().reject(d)}},size:function(c){return this.get(c).then(function(e){var d=encodeURIComponent(e).match(/%[89ABab]/g);return $.Deferred().resolve(c,e.length+(d?d.length:0))})},};return a})();m2soft.ns("m2soft.crownix.storage.Window");m2soft.crownix.storage.Window=(function(){var e=m2soft.crownix.Resource;var g=m2soft.crownix.Window;var m=m2soft.crownix.storage.LocalStorage;var c=m2soft.crownix.storage.IndexedDB;var f=m2soft.crownix.Util;var a=m2soft.crownix.Message;var u=c.isAvailable()?new c():new m();var k;var t;var j=function(C,B){t=B;this.type=C;this.dataGetter=this.dataLoader=function(){};this.window=null};j.prototype={show:function(B){var E=n();var D=this;if(this.type=="mml"){s(E);windowTitle=e.get("storage_report");missingFileNameErrorText=e.get("missing_input_mml_name")}else{if(this.type=="formdata"){q(E);windowTitle=e.get("storage_formdata");missingFileNameErrorText=e.get("missing_input_formdata_name")}}A(this,this.type,E,u);var C=E.find(".crownix-manage-buttons");C.find(".crownix-save").click(function(){var F=E.find(".crownix-filename-set input.crownix-filename").val();if(F===""){t.show(missingFileNameErrorText);return}var G=function(){var I=l(D.type,F);var J=function(M){t.show(M);if(H.closeOnError){D.close()}};try{var H={};H[D.type==="mml"?"includeImage":"checkValid"]=!!E.find(".crownix-filename-set input.crownix-check-valid").is(":checked");H.includeNote=!!E.find(".crownix-filename-set input.crownix-include-note").is(":checked");var K=D.dataGetter(H);u.set(I,K).pipe(function(){D.close()},J)}catch(L){a.log(L.stack);J(L)}};z(D.type,u,F).pipe(function(H){if(H){t.show(e.get("storage_duplicated_id_confirm"),{type:"confirm",inputHandler:function(I){if(I){G()}}})}else{G()}})}).end().find(".crownix-load").click(function(){var G=E.find(".crownix-file-selected .crownix-filename").text();var F=l(D.type,G);var H=function(J){a.log(J.stack);t.show(J)};if(!G){return}try{u.get(F).pipe(function(J){D.dataLoader(J)},H)}catch(I){H(I)}}).end().find(".crownix-delete").click(function(){E.find(".crownix-file-selected .crownix-filename").each(function(){var G=$(this).text();var F=l(D.type,G);if(!G){return}u.remove(F)});A(D,D.type,E,u)});this.window=new g(windowTitle,E,{isOverlay:true,contentWidth:"400px",contentHeight:E.height(),buttonType:["close"],});this.window.show({parent:B.parent,css:{"max-width":"400px","max-height":"400px",},})},close:function(){this.window.close()},setDataGetter:function(B){this.dataGetter=B},setDataLoader:function(B){this.dataLoader=B},};var n=function(){var B=$(['<div class="crownix-storage-dialog">','<div class="crownix-inner-dialog">','<fieldset class="crownix-filelist-set">',"<legend>데이터 목록</legend>","<table>","<thead>","<tr>",'<td class="crownix-filename">이름</td><td class="crownix-size">용량</td>',"</tr>","</thead>","</tbody >",'<tr class="crownix-filelist-template">','<td class="crownix-filename"><input type="checkbox"></td><td class="crownix-size"></td>',"</tr>","</tbody>","</table>","</fieldset>",'<div class="crownix-manage-buttons">','<button class="crownix-load">불러오기</button>','<button class="crownix-delete">삭제</button>',"</div>",'<fieldset class="crownix-filename-set">',"<legend>저장 파일명</legend>",'<input type="text" name="filename" class="crownix-filename" />','<input type="checkbox" id="crownix-check-valid" class="crownix-check-valid" /><label for="crownix-check-valid">유효성 검사 체크</label>',"<br/>",'<input type="checkbox" id="crownix-include-note" class="crownix-include-note" /><label for="crownix-include-note">노트 포함 저장</label>',"</fieldset>",'<div class="crownix-manage-buttons">','<button class="crownix-save">저장하기</button>',"</div>","</div>","</div>"].join(""));return B};var h=function(){return $(['<tr class="crownix-filelist-empty">','<td colspan="2">empty</td>',"</tr>",].join(""))};var s=function(B){B.find(".crownix-filelist-set legend").text(e.get("report_list")).end().find(".crownix-filelist-set thead td.crownix-filename").text(e.get("report_name")).end().find(".crownix-filelist-set thead td.crownix-size").text(e.get("data_size")).end().find(".crownix-manage-buttons .crownix-load").text(e.get("open")).end().find(".crownix-manage-buttons .crownix-delete").text(e.get("remove")).end().find(".crownix-filename-set legend").text(e.get("saved_report_name")).end().find(".crownix-filename-set label[for=crownix-check-valid]").text(e.get("include_image_chart_barcode")).end().find(".crownix-filename-set label[for=crownix-include-note]").text(e.get("include_note_data")).end().find(".crownix-filename-set input.crownix-check-valid").attr("checked","checked").end().find(".crownix-manage-buttons .crownix-save").text(e.get("save"))};var q=function(B){B.find(".crownix-filelist-set legend").text(e.get("formdata_list")).end().find(".crownix-filelist-set thead td.crownix-filename").text(e.get("formdata_name")).end().find(".crownix-filelist-set thead td.crownix-size").text(e.get("data_size")).end().find(".crownix-manage-buttons .crownix-load").text(e.get("apply_data")).end().find(".crownix-manage-buttons .crownix-delete").text(e.get("remove")).end().find(".crownix-filename-set legend").text(e.get("saved_formdata_name")).end().find(".crownix-filename-set label[for=crownix-check-valid]").text(e.get("check_validation")).end().find(".crownix-filename-set label[for=crownix-include-note]").text(e.get("include_note_data")).end().find(".crownix-filename-set input.crownix-check-valid").removeAttr("checked").end().find(".crownix-manage-buttons .crownix-save").text(e.get("extract_data"))};var z=function(C,D,B){return D.getKeys(C).pipe(function(G){G=G.sort();for(var F=0;F<G.length;F++){var E=G[F];if(d(C,E)===B){return $.Deferred().resolve(true)}}return $.Deferred().resolve(false)})};var A=function(D,C,E,F){var B=E.find(".crownix-filelist-set tbody");$(".crownix-filelist-template").css("background-color","");B.find("tr:not(.crownix-filelist-template)").remove();F.getKeys(C).pipe(function(J){var G=[];for(var I=0;I<J.length;I++){var H=J[I];G.push(F.size(H).pipe(function(L,K){K=w(K);b(B,d(C,L),K)}))}if(J.length==0){E.find(".crownix-filelist-set table tbody").append(h())}return $.when.apply($,G).done(function(){E.find(".crownix-filelist-set table tbody tr:even").css("background-color","#eaeaea");E.find(".crownix-filelist-set table tbody tr:not(.crownix-filelist-empty)").click(function(N){var M=$(this);var L="crownix-file-selected";M.toggleClass(L);M.find("input").prop("checked",M.hasClass(L));if(E.find("."+L).length>1){E.find(".crownix-manage-buttons .crownix-load").attr("disabled","disabled")}else{E.find(".crownix-manage-buttons .crownix-load").removeAttr("disabled","disabled")}var K=M.first().find(".crownix-filename").text();E.find(".crownix-filename-set input.crownix-filename").val(K)})})}).pipe(function(){D.window&&D.window.resizeHandler()})};var b=function(B,C,D){var E=B.find(".crownix-filelist-template").clone().removeClass("crownix-filelist-template");E.find(".crownix-filename").append(C).end().find(".crownix-size").text(D);if(!f.browser.mobile){E.addClass("enableHover")}B.append(E)};var r=function(B,C){B.find(".crownix-filelist-set table tbody ."+C).removeClass(C)};var w=function(B){if(B<1024){return B+"B"}else{return Math.round(B/1024*10)/10+"KB"}};var d=function(C,B){return B.substr(("crownix-viewer-"+C+"-").length)};var l=function(C,B){return"crownix-viewer-"+C+"-"+B};return j})();