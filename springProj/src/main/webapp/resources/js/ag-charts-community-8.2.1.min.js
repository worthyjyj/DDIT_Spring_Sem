/**
          * ag-charts-community - Advanced Charting / Charts supporting Javascript / Typescript / React / Angular / Vue * @version v8.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */
/**
          * ag-charts-community - Advanced Charting / Charts supporting Javascript / Typescript / React / Angular / Vue * @version v8.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */
var t,e;t=this,e=function(t){"use strict";var e,n=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=function(){function t(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return t.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},t.prototype.range=function(t,e,n){var r,i=null===(r=this._rangeCallback)||void 0===r?void 0:r.call(this,t,e),o=this._encode(n?this.floor(t):this.ceil(t)),a=this._encode(n?this.ceil(e):this.floor(e));if(a<o)return[];for(var l=[],s=o;s<=a;s++){var u=this._decode(s);l.push(u)}return null==i||i(),l},t}(),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.getOffset=function(t,e){var n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e},e.prototype.every=function(t,e){var n,i=this,o=0,a=(null!=e?e:{}).snapTo,l=void 0===a?"start":a;if("string"==typeof l){var s=o;n=function(e,n){var r="start"===l?e:n;return o=i.getOffset(r,t),function(){return o=s}}}else"number"==typeof l?o=this.getOffset(new Date(l),t):l instanceof Date&&(o=this.getOffset(l,t));return new r((function(e){var n=i._encode(e);return Math.floor((n-o)/t)}),(function(e){return i._decode(e*t+o)}),n)},e}(r),o=new i((function(t){return t.getTime()}),(function(t){return new Date(t)}));new Date(0).getFullYear();var a=6e4*(new Date).getTimezoneOffset(),l=new i((function(t){return Math.floor((t.getTime()-a)/1e3)}),(function(t){return new Date(a+1e3*t)})),s=6e4*(new Date).getTimezoneOffset(),u=new i((function(t){return Math.floor((t.getTime()-s)/6e4)}),(function(t){return new Date(s+6e4*t)})),c=6e4*(new Date).getTimezoneOffset(),h=new i((function(t){return Math.floor((t.getTime()-c)/36e5)}),(function(t){return new Date(c+36e5*t)})),d=new i((function(t){var e=6e4*t.getTimezoneOffset();return Math.floor((t.getTime()-e)/864e5)}),(function(t){var e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}));function f(t){var e=new Date(2023,0,1+t).getTime();return new i((function(t){var n=t.getTime();return Math.floor((n-e)/6048e5)}),(function(t){var n=new Date(e);return n.setDate(n.getDate()+7*t),n}))}var p=f(0),y=f(1),v=f(2),g=f(3),m=f(4),b=f(5),x=f(6),w=new i((function(t){return 12*t.getFullYear()+t.getMonth()}),(function(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)})),S=new i((function(t){return t.getFullYear()}),(function(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e})),k=new i((function(t){return Math.floor(t.getTime()/6e4)}),(function(t){return new Date(6e4*t)})),O=new i((function(t){return Math.floor(t.getTime()/36e5)}),(function(t){return new Date(36e5*t)})),_=new i((function(t){return Math.floor(t.getTime()/864e5)}),(function(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e})),D=new i((function(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}),(function(t){var e=Math.floor(t/12),n=t-12*e;return new Date(Date.UTC(e,n,1))})),M=new i((function(t){return t.getUTCFullYear()}),(function(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e})),C=Object.freeze({__proto__:null,millisecond:o,second:l,minute:u,hour:h,day:d,sunday:p,monday:y,tuesday:v,wednesday:g,thursday:m,friday:b,saturday:x,month:w,year:S,utcMinute:k,utcHour:O,utcDay:_,utcMonth:D,utcYear:M}),E=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function P(){var t=navigator.userAgent;return!E.some((function(e){return e.test(t)}))}var T,N=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,r=t.width,i=void 0===r?600:r,o=t.height,a=void 0===o?300:o,l=t.domLayer,s=void 0!==l&&l,u=t.zIndex,c=void 0===u?0:u,h=t.name,d=void 0===h?void 0:h,f=t.overrideDevicePixelRatio,p=void 0===f?void 0:f;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=i,this.element.height=a,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var y=this.element.style;y.userSelect="none",y.display="block",s&&(y.position="absolute",y.zIndex=String(c),y.top="0",y.left="0",y.pointerEvents="none",y.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(p),this.resize(i,a)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(null!=t?t:"").trim()||"image";var n=this.getDataURL(e),r=this.document,i=r.createElement("a");i.href=n,i.download=t,i.style.display="none",r.body.appendChild(i),i.click(),r.body.removeChild(i)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=null!=e?e:window.devicePixelRatio;P()||(n=1),t.overrideScale(this.context,n),this._pixelRatio=n},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.element,r=this.context,i=this.pixelRatio;n.width=Math.round(t*i),n.height=Math.round(e*i),n.style.width=t+"px",n.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,n,r){var i=this.textMeasuringContext;return i.font=e,i.textBaseline=n,i.textAlign=r,i.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var r=n.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,r=n[e];if(r){var i=r[t];if(i)return i}else n[e]={};var o=this.svgText;o.style.font=e,o.textContent=t;var a=o.getBBox(),l={width:a.width,height:a.height};return n[e][t]=l,l},t.overrideScale=function(t,e){var n=0,r={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,r,i,o,a){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,r*e,i*e,o*e,a*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: "+n)}};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t["$"+i]||(t["$"+i]=t[i]),t[i]=r[i])},t.textSizeCache={},t}(),R=function(){return(R=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},L=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},A=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var n=this,r=function(t,e){switch(t){case"top":n.y+=e;case"bottom":n.height-=e;break;case"left":n.x+=e;case"right":n.width-=e;break;case"vertical":n.y+=e,n.height-=2*e;break;case"horizontal":n.x+=e,n.width-=2*e;break;default:n.x+=e,n.width-=2*e,n.y+=e,n.height-=2*e}};return"number"==typeof t?r(e,t):Object.entries(t).forEach((function(t){var e=L(t,2),n=e[0],i=e[1];return r(n,i)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var n=R({},t);for(var r in n)n[r]*=-1;this.shrink(n)}return this},t.merge=function(e){var n=1/0,r=1/0,i=-1/0,o=-1/0;return e.forEach((function(t){t.x<n&&(n=t.x),t.y<r&&(r=t.y),t.x+t.width>i&&(i=t.x+t.width),t.y+t.height>o&&(o=t.y+t.height)})),new t(n,r,i-n,o-r)},t}(),I=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},j=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},F=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return Object.defineProperty(t.prototype,"e",{get:function(){return j([],I(this.elements))},enumerable:!1,configurable:!0}),t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,n){var r=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],s=t[1]*e[4]+t[3]*e[5]+t[5];(n=null!=n?n:t)[0]=r,n[1]=i,n[2]=o,n[3]=a,n[4]=l,n[5]=s},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-r*i);return new t([o*=s,-(r*=s),-(i*=s),n*=s,i*l-o*a,r*a-n*l])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],l=e[5],s=1/(n*o-r*i);return n*=s,r*=s,i*=s,o*=s,t.setElements([o,-r,-i,n,i*l-o*a,r*a-n*l]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],l=1/(e*i-n*r);return e*=l,n*=l,r*=l,i*=l,t[0]=i,t[1]=-n,t[2]=-r,t[3]=e,t[4]=r*a-i*o,t[5]=n*o-e*a,this},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e){var n=this.elements,r=n[0],i=n[1],o=n[2],a=n[3],l=.5*t.width,s=.5*t.height,u=t.x+l,c=t.y+s,h=Math.abs(l*r)+Math.abs(s*o),d=Math.abs(l*i)+Math.abs(s*a);return e||(e=new A(0,0,0,0)),e.x=u*r+c*o+n[4]-h,e.y=u*i+c*a+n[5]-d,e.width=h+h,e.height=d+d,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,n,r,i,o,a){var l,s,u=I([0,0],2),c=u[0],h=u[1],d=e,f=n;1===d&&1===f?(l=0,s=0):(l=null==(null==a?void 0:a.scalingCenterX)?c:null==a?void 0:a.scalingCenterX,s=null==(null==a?void 0:a.scalingCenterY)?h:null==a?void 0:a.scalingCenterY);var p,y,v=r,g=Math.cos(v),m=Math.sin(v);0===v?(p=0,y=0):(p=null==(null==a?void 0:a.rotationCenterX)?c:null==a?void 0:a.rotationCenterX,y=null==(null==a?void 0:a.rotationCenterY)?h:null==a?void 0:a.rotationCenterY);var b=i,x=o,w=l*(1-d)-p,S=s*(1-f)-y;return t.setElements([g*d,m*d,-m*f,g*f,g*w-m*S+p+b,m*w+g*S+y+x]),t},t.fromContext=function(e){var n=e.getTransform();return new t([n.a,n.b,n.c,n.d,n.e,n.f])},t.instance=new t,t}(),B={};function z(t){var e,n=t.constructor,r=Object.prototype.hasOwnProperty.call(n,"className")?n.className:n.name;if(!r)throw new Error("The "+n+" is missing the 'className' property.");var i=(null!==(e=B[r])&&void 0!==e?e:0)+1;return B[r]=i,r+"-"+i}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(T||(T={}));var G=function(){try{return new Function("return true"),!0}catch(t){return!1}}();function W(t){var e=null!=t?t:{},n=e.changeCb,r=e.convertor;return function(e,i){var o="__"+i;e[i]||(G&&null==n&&null==r?function(t,e,n,r){var i=null!=r?r:{},o=i.redraw,a=void 0===o?T.TRIVIAL:o,l=i.type,s=void 0===l?"normal":l,u=i.checkDirtyOnAssignment,c=new Function("value","\n        const oldValue = this."+n+";\n        if (value !== oldValue) {\n            this."+n+" = value;\n            "+("normal"===s?"this.markDirty(this, "+a+");":"")+"\n            "+("transform"===s?"this.markDirtyTransform("+a+");":"")+"\n            "+("path"===s?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+a+"); }":"")+"\n            "+("font"===s?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+a+"); }":"")+"\n        }\n        "+(void 0!==u&&u?"if (value != null && value._dirty > "+T.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n"),h=new Function("return this."+n+";");Object.defineProperty(t,e,{set:c,get:h,enumerable:!0,configurable:!0})}(e,i,o,t):function(t,e,n,r){var i=null!=r?r:{},o=i.redraw,a=void 0===o?T.TRIVIAL:o,l=i.type,s=void 0===l?"normal":l,u=i.changeCb,c=i.convertor,h=i.checkDirtyOnAssignment,d=void 0!==h&&h;Object.defineProperty(t,e,{set:function(t){var e=this[n];(t=c?c(t):t)!==e&&(this[n]=t,"normal"===s&&this.markDirty(this,a),"transform"===s&&this.markDirtyTransform(a),"path"!==s||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,a)),"font"!==s||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,a)),u&&u(this)),d&&null!=t&&t._dirty>T.NONE&&this.markDirty(t,t._dirty)},get:function(){return this[n]},enumerable:!0,configurable:!0})}(e,i,o,t))}}var K,V=function(){function t(){this._dirty=T.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=T.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=T.NONE},t.prototype.isDirty=function(){return this._dirty>T.NONE},t}(),H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},X=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Z=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};!function(t){t[t.All=0]="All",t[t.None=1]="None"}(K||(K={}));var q=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},J=function(t){function e(n){var r=(void 0===n?{}:n).isVirtual,i=t.call(this)||this;return i.serialNumber=e._nextSerialNumber++,i.id=z(i),i.tag=NaN,i.isContainerNode=!1,i._virtualChildren=[],i._children=[],i.childSet={},i.matrix=new F,i.inverseMatrix=new F,i.dirtyTransform=!1,i.scalingX=1,i.scalingY=1,i.scalingCenterX=null,i.scalingCenterY=null,i.rotationCenterX=null,i.rotationCenterY=null,i.rotation=0,i.translationX=0,i.translationY=0,i.visible=!0,i.dirtyZIndex=!1,i.zIndex=0,i.zIndexSubOrder=void 0,i.pointerEvents=K.All,i.isVirtual=null!=r&&r,i}return H(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,n,r,i;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var o=X(this._children),a=o.next();!a.done;a=o.next())a.value._setLayerManager(t)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}try{for(var l=X(this._virtualChildren),s=l.next();!s.done;s=l.next())s.value._setLayerManager(t)}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t,e;if(0===this._virtualChildren.length)return this._children;var n=Z([],U(this._children));try{for(var r=X(this._virtualChildren),i=r.next();!i.done;i=r.next()){var o=i.value;n.push.apply(n,Z([],U(o.children)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtualChildren",{get:function(){return this._virtualChildren},enumerable:!1,configurable:!0}),e.prototype.hasVirtualChildren=function(){return this._virtualChildren.length>0},e.prototype.append=function(t){var e,n;Array.isArray(t)||(t=[t]);try{for(var r=X(t),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.layerManager)throw new Error(o+" already belongs to a scene: "+o.layerManager+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);o.isVirtual?this._virtualChildren.push(o):this._children.push(o),this.childSet[o.id]=!0,o._parent=this,o._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,T.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){var e,n=function(){throw new Error("The node to be removed is not a child of this node.")};return t.parent!==this&&n(),t.isVirtual?((e=this._virtualChildren.indexOf(t))<0&&n(),this._virtualChildren.splice(e,1)):((e=this._children.indexOf(t))<0&&n(),this._children.splice(e,1)),delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,T.MAJOR),t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=F.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this.dirtyTransform=!0,this.markDirty(this,T.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==K.None&&this.containsPoint(t,e)){var r=this.children;if(r.length>1e3)for(var i=r.length-1;i>=0;i--){var o=r[i];if(a=(null===(n=o.computeTransformedBBox())||void 0===n?void 0:n.containsPoint(t,e))?o.pickNode(t,e):void 0)return a}else if(r.length)for(i=r.length-1;i>=0;i--){var a;if(a=r[i].pickNode(t,e))return a}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,n,r=t(this)?[this]:[];try{for(var i=X(this.children),o=i.next();!o.done;o=i.next()){var a=o.value.findNodes(t);a&&r.push.apply(r,Z([],U(a)))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=F.flyweight(this.matrix),n=this.parent;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this.dirtyTransform){var t=this,e=t.matrix,n=t.scalingX,r=t.scalingY,i=t.rotation,o=t.translationX,a=t.translationY,l=t.scalingCenterX,s=t.scalingCenterY,u=t.rotationCenterX,c=t.rotationCenterY;F.updateTransformMatrix(e,n,r,i,o,a,{scalingCenterX:l,scalingCenterY:s,rotationCenterX:u,rotationCenterY:c}),e.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=T.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,r=e.y,i=e.width,o=e.height,a=this.transformPoint(n,r),l=this.transformPoint(n+i,r+o);t.clearRect(a.x,a.y,l.x-a.x,l.y-a.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=T.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,n,r,i,o=null!=t?t:{},a=o.force,l=void 0!==a&&a,s=o.recursive,u=void 0===s||s;if(this._dirty!==T.NONE||l){if(this._dirty=T.NONE,!1!==u)try{for(var c=X(this._virtualChildren),h=c.next();!h.done;h=c.next())h.value.markClean({force:l})}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(!0===u)try{for(var d=X(this._children),f=d.next();!f.done;f=d.next())f.value.markClean({force:l})}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n,r,i=1,o=this._dirty>=T.NONE||this.dirtyTransform?1:0,a=this.visible?1:0,l=function(t){var e=t.nodeCount,n=e.count,r=e.visibleCount,l=e.dirtyCount;i+=n,a+=r,o+=l};try{for(var s=X(this._children),u=s.next();!u.done;u=s.next())l(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}try{for(var c=X(this._virtualChildren),h=c.next();!h.done;h=c.next())l(h.value)}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{count:i,visibleCount:a,dirtyCount:o}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,Y([W({type:"transform"})],e.prototype,"scalingX",void 0),Y([W({type:"transform"})],e.prototype,"scalingY",void 0),Y([W({type:"transform"})],e.prototype,"scalingCenterX",void 0),Y([W({type:"transform"})],e.prototype,"scalingCenterY",void 0),Y([W({type:"transform"})],e.prototype,"rotationCenterX",void 0),Y([W({type:"transform"})],e.prototype,"rotationCenterY",void 0),Y([W({type:"transform"})],e.prototype,"rotation",void 0),Y([W({type:"transform"})],e.prototype,"translationX",void 0),Y([W({type:"transform"})],e.prototype,"translationY",void 0),Y([W({redraw:T.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),Y([W({redraw:T.TRIVIAL,changeCb:q})],e.prototype,"zIndex",void 0),Y([W({redraw:T.TRIVIAL,changeCb:q})],e.prototype,"zIndexSubOrder",void 0),e}(V);function $(t,e){var n=0;return"number"==typeof t&&"number"==typeof e?n=t-e:"string"==typeof t&&"string"==typeof e?n=t.localeCompare(e):null==t&&null==e||(n=null==t?-1:null==e?1:String(t).localeCompare(String(e))),n}function Q(t,e,n){var r=function(t){return"function"==typeof t?t():t};for(var i in t){var o=n(r(t[i]),r(e[i]));if(0!==o)return o}return 0}var tt={};function et(t,e){tt[e]||(t(),tt[e]=!0)}var nt,rt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},it=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ot={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,it([],rt(t)))},warn:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.warn.apply(console,it(["AG Charts - "+t],rt(e)))},error:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];"object"==typeof t?console.error.apply(console,it(["AG Charts error",t],rt(e))):console.error.apply(console,it(["AG Charts - "+t],rt(e)))},warnOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];et((function(){return ot.warn.apply(ot,it([t],rt(e)))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];et((function(){return ot.error.apply(ot,it([t],rt(e)))}),"Logger.warn: "+t)}},at=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},st=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ut=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ht=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},dt=function(t){function e(e){var n,r=t.call(this,{isVirtual:null==e?void 0:e.isVirtual})||this;r.opts=e,r.opacity=1,r.lastBBox=void 0;var i=null!=e?e:{},o=i.zIndex,a=i.zIndexSubOrder;return r.isContainerNode=!0,void 0!==o&&(r.zIndex=o),void 0!==a&&(r.zIndexSubOrder=a),r.name=null===(n=r.opts)||void 0===n?void 0:n.name,r}return at(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var n,r,i=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var o=null!==(r=this.opts)&&void 0!==r?r:{},a=o.zIndex,l=o.zIndexSubOrder,s=o.name;this.layer=e.addLayer({zIndex:a,zIndexSubOrder:l,name:s,getComputedOpacity:function(){return i.getComputedOpacity()},getVisibility:function(){return i.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,n=this;do{n instanceof e&&(t*=n.opacity)}while(n=n.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){if(void 0===n&&(n=T.TRIVIAL),this.isVirtual)t.prototype.markDirty.call(this,e,n);else{var r=n;(n<T.MINOR||null!=this.layer)&&(r=T.TRIVIAL),t.prototype.markDirty.call(this,e,n,r)}},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var n,r,i,o,a,l,s,u,c=this.opts,h=(void 0===c?{}:c).name,d=void 0===h?void 0:h,f=this._debug,p=(void 0===f?{}:f).consoleLog,y=void 0!==p&&p,v=this,g=v.dirty,m=v.dirtyZIndex,b=v.layer,x=v.children,w=v.clipRect,S=v.dirtyTransform,k=e.ctx,O=e.forceRender,_=e.clipBBox,D=e.resized,M=e.stats,C=k.getTransform(),E=g>=T.MINOR||m||D,P=E,N=!1;try{for(var R=ut(x),L=R.next();!L.done;L=R.next()){var A=L.value;if(P||(P=null==A.layerManager&&A.dirty>=T.TRIVIAL),N||(N=null!=A.layerManager&&A.dirty>=T.TRIVIAL),P)break}}catch(t){n={error:t}}finally{try{L&&!L.done&&(r=R.return)&&r.call(R)}finally{if(n)throw n.error}}if(d&&y&&ot.debug({name:d,group:this,isDirty:E,isChildDirty:P,dirtyTransform:S,renderCtx:e,forceRender:O}),S)O="dirtyTransform";else if(b){var I=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(I)||(O="dirtyTransform",this.lastBBox=I)}if(!(E||P||N||O)){if(d&&y&&M){var j=this.nodeCount;ot.debug({name:d,result:"skipping",renderCtx:e,counts:j,group:this})}return b&&M&&(M.layersSkipped++,M.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var F=this.visible;if(b){if((k=b.context).save(),k.resetTransform(),"dirtyTransform"!==O&&(O=P||m),O&&b.clear(),_){var B=_.width,z=_.height,G=_.x,W=_.y;y&&ot.debug({name:d,clipBBox:_,ctxTransform:k.getTransform(),renderCtx:e,group:this}),this.clipCtx(k,G,W,B,z)}k.setTransform(C)}else k.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(k),w&&(G=w.x,W=w.y,B=w.width,z=w.height,k.save(),y&&ot.debug({name:d,clipRect:w,ctxTransform:k.getTransform(),renderCtx:e,group:this}),this.clipCtx(k,G,W,B,z),_=this.matrix.transformBBox(w));var K=this.hasVirtualChildren();m?(this.sortChildren(x),"dirtyTransform"!==O&&(O=!0)):K&&this.sortChildren(x);var V=O!==e.forceRender||_!==e.clipBBox||k!==e.ctx?lt(lt({},e),{ctx:k,forceRender:O,clipBBox:_}):e,H=0;try{for(var Y=ut(x),X=Y.next();!X.done;X=Y.next())(A=X.value).visible&&F?O||A.dirty!==T.NONE?(k.save(),A.render(V),k.restore()):M&&(H+=A.nodeCount.count):(A.markClean(),M&&(H+=A.nodeCount.count))}catch(t){i={error:t}}finally{try{X&&!X.done&&(o=Y.return)&&o.call(Y)}finally{if(i)throw i.error}}if(M&&(M.nodesSkipped+=H),t.prototype.render.call(this,e),w&&k.restore(),K)try{for(var U=ut(this.virtualChildren),Z=U.next();!Z.done;Z=U.next())(A=Z.value).markClean({recursive:"virtual"})}catch(t){a={error:t}}finally{try{Z&&!Z.done&&(l=U.return)&&l.call(U)}finally{if(a)throw a.error}}b&&(M&&M.layersRendered++,k.restore(),O&&b.snapshot(),null===(u=(s=b.context).verifyDepthZero)||void 0===u||u.call(s)),d&&y&&M&&(j=this.nodeCount,ot.debug({name:d,result:"rendered",skipped:H,renderCtx:e,counts:j,group:this}))},e.prototype.sortChildren=function(t){this.dirtyZIndex=!1,t.sort((function(t,e){var n,r;return Q(ht(ht([t.zIndex],ct(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.serialNumber]),ht(ht([e.zIndex],ct(null!==(r=e.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0])),[e.serialNumber]),$)}))},e.prototype.clipCtx=function(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n),t.lineTo(e+r,n+i),t.lineTo(e,n+i),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,n=-1/0,r=1/0,i=-1/0;return t.forEach((function(t){if(t.visible){var o=t.computeTransformedBBox();if(o){var a=o.x,l=o.y;a<e&&(e=a),l<r&&(r=l),a+o.width>n&&(n=a+o.width),l+o.height>i&&(i=l+o.height)}}})),new A(e,r,n-e,i-r)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",st([W({redraw:T.MAJOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(J),ft=function(){function t(t){var e=t.width,n=void 0===e?600:e,r=t.height,i=void 0===r?300:r,o=t.overrideDevicePixelRatio,a=void 0===o?void 0:o;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,i),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(a),this.resize(n,i)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;P()||(e=1),N.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this.canvas,r=this.context,i=this.pixelRatio;n.width=Math.round(t*i),n.height=Math.round(e*i),r.resetTransform(),this._width=t,this._height=e}},t}();function pt(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}!function(t){t[t.SUMMARY=0]="SUMMARY",t[t.DETAILED=1]="DETAILED"}(nt||(nt={}));var yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},vt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},gt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},mt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},bt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},xt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=function(){function t(t){var e,n,r;this.id=z(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,level:nt.SUMMARY,sceneNodeHighlight:[]};var i=t.document,o=void 0===i?window.document:i,a=t.mode,l=void 0===a?null!==(e=pt("agChartsSceneRenderModel"))&&void 0!==e?e:"adv-composite":a,s=t.width,u=t.height,c=t.overrideDevicePixelRatio,h=void 0===c?void 0:c;this.overrideDevicePixelRatio=h,this.opts={document:o,mode:l},this.debug.consoleLog=[!0,"scene"].includes(pt("agChartsDebug")),this.debug.level=["scene"].includes(pt("agChartsDebug"))?nt.DETAILED:nt.SUMMARY,this.debug.stats=null!==(n=pt("agChartsSceneStats"))&&void 0!==n&&n,this.debug.dirtyTree=null!==(r=pt("agChartsSceneDirtyTree"))&&void 0!==r&&r,this.debug.sceneNodeHighlight=function(){var t,e=null!==(t=pt("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var n=[];return e.forEach((function(t){"layout"===t?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(t)})),n}(),this.canvas=new N({document:o,width:s,height:u,overrideDevicePixelRatio:h})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var n=t<=0||e<=0,r=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||r||n||(this.pendingSize=[t,e],this.markDirty(),0))},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var r=t.zIndex,i=void 0===r?this._nextZIndex++:r,o=t.name,a=t.zIndexSubOrder,l=t.getComputedOpacity,s=t.getVisibility,u=this.width,c=this.height,h=this.overrideDevicePixelRatio,d="dom-composite"===n,f="adv-composite"===n&&ft.isSupported()?new ft({width:u,height:c,overrideDevicePixelRatio:h}):new N({document:this.opts.document,width:u,height:c,domLayer:d,zIndex:i,name:o,overrideDevicePixelRatio:h}),p={id:this._nextLayerId++,name:o,zIndex:i,zIndexSubOrder:a,canvas:f,getComputedOpacity:l,getVisibility:s};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(p),this.sortLayers(),d){var y=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof N})),v=y.findIndex((function(t){return t===f}));(null!==(e=y[v-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug.consoleLog&&ot.debug("Scene.addLayer() - layers",this.layers),p.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&ot.debug("Scene.removeLayer() -  layers",this.layers))},t.prototype.moveLayer=function(t,e,n){var r=this.layers.find((function(e){return e.canvas===t}));r&&(r.zIndex=e,r.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&ot.debug("Scene.moveLayer() -  layers",this.layers))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var n,r;return Q(bt(bt([t.zIndex],mt(null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0])),[t.id]),bt(bt([e.zIndex],mt(null!==(r=e.zIndexSubOrder)&&void 0!==r?r:[void 0,void 0])),[e.id]),$)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){var e=this;t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager({addLayer:function(t){return e.addLayer(t)},moveLayer:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.moveLayer.apply(e,bt([],mt(t)))},removeLayer:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.removeLayer.apply(e,bt([],mt(t)))},markDirty:function(){return e.markDirty()},canvas:this.canvas,debug:yt(yt({},this.debug),{consoleLog:this.debug.level>=nt.DETAILED})})),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,n=this.layers;try{for(var r=xt(n),i=r.next();!i.done;i=r.next()){var o=i.value;o.canvas.destroy(),delete o.canvas}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return vt(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b;return gt(this,(function(x){return r=(n=null!=t?t:{}).debugSplitTimes,i=void 0===r?[performance.now()]:r,o=n.extraDebugStats,a=void 0===o?{}:o,s=(l=this).canvas,u=l.canvas.context,c=l.root,h=l.layers,d=l.pendingSize,f=l.opts.mode,d&&((b=this.canvas).resize.apply(b,bt([],mt(d))),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,bt([],mt(d)))})),this.pendingSize=void 0),c&&!c.visible?(this._dirty=!1,[2]):c&&!this.dirty?(this.debug.consoleLog&&ot.debug("Scene.render() - no-op",{redrawType:T[c.dirty],tree:this.buildTree(c)}),this.debugStats(i,u,void 0,a),[2]):(p={ctx:u,forceRender:!0,resized:!!d,debugNodes:{}},"detailed"===this.debug.stats&&(p.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),y=!1,(!c||c.dirty>=T.TRIVIAL)&&(y=!0,s.clear()),c&&this.debug.dirtyTree&&(v=this.buildDirtyTree(c),g=v.dirtyTree,m=v.paths,ot.debug("Scene.render() - dirtyTree",{dirtyTree:g,paths:m})),c&&y&&(this.debug.consoleLog&&ot.debug("Scene.render() - before",{redrawType:T[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),c.visible&&(u.save(),c.render(p),u.restore())),"dom-composite"!==f&&h.length>0&&y&&(this.sortLayers(),u.save(),u.setTransform(1/s.pixelRatio,0,0,1/s.pixelRatio,0,0),h.forEach((function(t){var e=t.canvas,n=e.imageSource,r=e.enabled,i=t.getComputedOpacity,o=t.getVisibility;r&&o()&&(u.globalAlpha=i(),u.drawImage(n,0,0))})),u.restore()),null===(e=u.verifyDepthZero)||void 0===e||e.call(u),this._dirty=!1,this.debugStats(i,u,p.stats,a),this.debugSceneNodeHighlight(u,this.debug.sceneNodeHighlight,p.debugNodes),c&&this.debug.consoleLog&&ot.debug("Scene.render() - after",{redrawType:T[c.dirty],canvasCleared:y,tree:this.buildTree(c)}),[2])}))}))},t.prototype.debugStats=function(t,e,n,r){var i,o;void 0===r&&(r={});var a=performance.now();if(this.debug.stats){var l=t[0];t.push(a);var s=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},u=function(t,e){return Math.round(100*(e-t))/100+"ms"},c=null!=n?n:{},h=c.layersRendered,d=void 0===h?0:h,f=c.layersSkipped,p=void 0===f?0:f,y=c.nodesRendered,v=void 0===y?0:y,g=c.nodesSkipped,m=void 0===g?0:g,b=t.map((function(e,n){return n>0?u(t[n-1],e):null})).filter((function(t){return null!=t})).join(" + "),x=Object.entries(r).map((function(t){var e=mt(t,2);return e[0]+": "+e[1]})).join(" ; "),w=[u(l,a)+" ("+b+")",""+x,"detailed"===this.debug.stats?"Layers: "+s(d,p):null,"detailed"===this.debug.stats?"Nodes: "+s(v,m):null].filter((function(t){return null!=t})).map((function(t){return[t,N.getTextSize(t,e.font)]})),S=Math.max.apply(Math,bt([],mt(w.map((function(t){return mt(t,2)[1].width}))))),k=w.reduce((function(t,e){return t+mt(e,2)[1].height}),0);e.save(),e.fillStyle="white",e.fillRect(0,0,S,k),e.fillStyle="black";var O=0;try{for(var _=xt(w),D=_.next();!D.done;D=_.next()){var M=mt(D.value,2),C=M[0];O+=M[1].height,e.fillText(C,2,O)}}catch(t){i={error:t}}finally{try{D&&!D.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,n){var r,i,o,a,l,s,u,c=function(t){return function(e){return!!t.test(e.id)||e instanceof dt&&null!=e.name&&t.test(e.name)}},h=function(t){return function(e){return t===e.id||e instanceof dt&&null!=e.name&&t===e.name}};try{for(var d=xt(e),f=d.next();!f.done;f=d.next()){var p=f.value;if("string"!=typeof p||null==n[p]){var y="string"==typeof p?h(p):c(p),v=null===(u=this.root)||void 0===u?void 0:u.findNodes(y);if(v&&0!==v.length)try{for(var g=(o=void 0,xt(v)),m=g.next();!m.done;m=g.next())(w=m.value)instanceof dt&&w.name?n[w.name]=w:n[w.id]=w}catch(t){o={error:t}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}else ot.debug("Scene.render() - no debugging node with id ["+p+"] in scene graph.")}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}t.save();try{for(var b=xt(Object.entries(n)),x=b.next();!x.done;x=b.next()){var w,S=mt(x.value,2),k=S[0],O=(w=S[1]).computeTransformedBBox();O?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(O.x,O.y,O.width,O.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(k,O.x,O.y,O.width),t.fillText(k,O.x,O.y,O.width)):ot.debug("Scene.render() - no bbox for debugged node ["+k+"].")}}catch(t){l={error:t}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}t.restore()},t.prototype.buildTree=function(t){var e,n,r=this,i=null!==(e=t instanceof dt?t.name:null)&&void 0!==e?e:t.id;return yt(yt({name:i,node:t,dirty:T[t.dirty]},(null===(n=t.parent)||void 0===n?void 0:n.isVirtual)?{virtualParentDirty:T[t.parent.dirty],virtualParent:t.parent}:{}),t.children.map((function(t){return r.buildTree(t)})).reduce((function(t,e){var n=e.name,r=e.node,i=r.visible,o=r.opacity,a=r.zIndex,l=r.zIndexSubOrder,s=e.node,u=e.virtualParent;(!i||o<=0)&&(n="("+n+")"),s instanceof dt&&s.isLayer()&&(n="*"+n+"*");for(var c=[""+(null!=n?n:"<unknown>"),"z: "+a,l&&"zo: "+l.map((function(t){return"function"==typeof t?t()+" (fn)":t})).join(" / "),u&&"(virtual parent)"].filter((function(t){return!!t})).join(" "),h=c,d=1;null!=t[h]&&d<100;)h=c+" ("+d+++")";return t[h]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===T.NONE)return{dirtyTree:{},paths:[]};var r=t.children.map((function(t){return n.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),i=null!==(e=t instanceof dt?t.name:null)&&void 0!==e?e:t.id,o=0===r.length?[i]:r.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return i+"."+t}));return{dirtyTree:yt({name:i,node:t,dirty:T[t.dirty]},r.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){var n;return t[null!==(n=e.name)&&void 0!==n?n:"<unknown>"]=e,t}),{})),paths:o}},t.className="Scene",t}(),St=function(){this.stops=[]},kt=2*Math.PI;function Ot(t){return t%=kt,t+=kt,t%=kt}function _t(t){return(t%=kt)<-Math.PI?t+=kt:t>=Math.PI&&(t-=kt),t}function Dt(t){return t/180*Math.PI}var Mt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return Mt(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,r=Ot(Dt(this.angle+90)),i=Math.cos(r),o=Math.sin(r),a=e.width,l=e.height,s=e.x+.5*a,u=e.y+.5*l;if(a>0&&l>0){var c=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a),d=void 0;d=r<Math.PI/2?r:r<Math.PI?Math.PI-r:r<3*Math.PI/2?r-Math.PI:2*Math.PI-r;var f=c*Math.abs(Math.cos(d-h)),p=t.createLinearGradient(s+i*f,u+o*f,s-i*f,u-o*f);return n.forEach((function(t){p.addColorStop(t.offset,t.color)})),p}return"black"},e}(St),Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Tt=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Nt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n}return Et(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,r=e.length;n<r;n++){var i=e[n];this[i]=t[i]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=Tt.exec(e))){for(var n=parseFloat(t[1]),r=[],i=t[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,a=void 0;a=o.exec(i);)r.push(a[0]);this.gradient=new Ct,this.gradient.angle=n,this.gradient.stops=r.map((function(t,e){return{offset:e/(r.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var n,r,i,o=null!==(i=null===(r=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===r?void 0:r.pixelRatio)&&void 0!==i?i:1,a=Math.round(t*o)/o;return null==e?a:0===e?0:e<1?Math.ceil(e*o)/o:Math.round((e+t)*o)/o-a},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,n,r=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,i=this.fillShadow;(null==i?void 0:i.enabled)&&(t.shadowColor=i.color,t.shadowOffsetX=i.xOffset*r,t.shadowOffsetY=i.yOffset*r,t.shadowBlur=i.blur*r)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),Pt([W({redraw:T.MINOR})],e.prototype,"fillOpacity",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"strokeOpacity",void 0),Pt([W({redraw:T.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"stroke",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"strokeWidth",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"lineDash",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"lineDashOffset",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"lineCap",void 0),Pt([W({redraw:T.MINOR})],e.prototype,"lineJoin",void 0),Pt([W({redraw:T.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),Pt([W({redraw:T.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(J),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},At=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function It(t){var e=null!=t?t:{},n=e.redraw;return W({redraw:void 0===n?T.MAJOR:n,type:"font",changeCb:e.changeCb})}var jt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text=void 0,n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=void 0,n}return Rt(e,t),e.prototype._setLines=function(){this.lines=Kt(this.text)},Object.defineProperty(e.prototype,"font",{get:function(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Ft(this)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return N.has.textMetrics?zt(this.lines,this.x,this.y,this):Gt(this.lines,this.x,this.y,this)},e.prototype.getLineHeight=function(t){var e,n;if(this.lineHeight)return this.lineHeight;if(N.has.textMetrics){var r=N.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=r.fontBoundingBoxAscent)&&void 0!==e?e:r.emHeightAscent)+(null!==(n=r.fontBoundingBoxDescent)&&void 0!==n?n:r.emHeightDescent)}return N.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==T.NONE||r)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.fill,a=this.stroke,l=this.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var s=this.layerManager.canvas.pixelRatio||1,u=n.globalAlpha;if(o){n.fillStyle=o,n.globalAlpha=u*this.opacity*this.fillOpacity;var c=this.fillShadow;(null==c?void 0:c.enabled)&&(n.shadowColor=c.color,n.shadowOffsetX=c.xOffset*s,n.shadowOffsetY=c.yOffset*s,n.shadowBlur=c.blur*s),this.renderLines((function(t,e,r){return n.fillText(t,e,r)}))}if(a&&l){n.strokeStyle=a,n.lineWidth=l,n.globalAlpha=u*this.opacity*this.strokeOpacity;var h=this.lineDash,d=this.lineDashOffset,f=this.lineCap,p=this.lineJoin;h&&n.setLineDash(h),d&&(n.lineDashOffset=d),f&&(n.lineCap=f),p&&(n.lineJoin=p),this.renderLines((function(t,e,r){return n.strokeText(t,e,r)}))}t.prototype.render.call(this,e)}else i&&(i.nodesSkipped+=this.nodeCount.count);else i&&(i.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,n=this.lines,r=this.x,i=this.y,o=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(o.reduce((function(t,e){return t+e}),0)-o[0])*Wt(this.textBaseline),l=0;l<n.length;l++)t(n[l],r,i+a),a+=o[l]},e.wrap=function(t,n,r,i,o){var a,l,s=function(t){var e=new Map,n=function(e){return N.getTextSize(e,t)};return{size:n,width:function(t){if(e.has(t))return e.get(t);var r=n(t).width;return e.set(t,r),r}}}(Ft(i)),u=t.split(/\r?\n/g);if(0===u.length)return"";if("never"===o)return e.truncateLine(u[0],n,s,!1);var c=[],h=0;try{for(var d=At(u),f=d.next();!f.done;f=d.next()){var p=f.value,y=e.wrapLine(p,n,r,s,i,o,h);if(c.push(y.result),h=y.cumulativeHeight,y.truncated)break}}catch(t){a={error:t}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return c.join("\n").trim()},e.wrapLine=function(t,n,r,i,o,a,l){if(!(t=t.trim()))return{result:"",truncated:!1,cumulativeHeight:l};var s=i.size(t);if(s.width<=n)return{result:t,truncated:!1,cumulativeHeight:l+s.height};if(s.height>r||i.width("W")>n)return{result:"",truncated:!0,cumulativeHeight:l};var u=t.split(/\s+/g),c=e.wrapLineSequentially(u,n,r,i,o,a,l);l=c.cumulativeHeight;var h=c.lines;if(!c.wordsBrokenOrTruncated&&!c.linesTruncated){var d=c.lines.length,f=e.wrapLineBalanced(u,n,i,d);f.length===h.length&&(h=f)}return{result:h.map((function(t){return t.join(" ")})).join("\n"),truncated:c.linesTruncated,cumulativeHeight:l}},e.breakWord=function(t,n,r,i,o){for(var a,l,s=function(n){return e.punctuationMarks.includes(t[n])},u=i?o.width("-"):0,c=[],h=0,d=0,f=0;f<t.length;f++){var p=t[f],y=o.width(p);h+y+u>(0===d?n:r)&&(c.push(f),h=0,d++),h+=y}var v=[],g=0;try{for(var m=At(c),b=m.next();!b.done;b=m.next()){var x=b.value,w=t.substring(g,x);i&&w.length>0&&!s(x-1)&&!s(x)&&(w+="-"),v.push(w),g=x}}catch(t){a={error:t}}finally{try{b&&!b.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}return v.push(t.substring(g)),v},e.truncateLine=function(t,e,n,r){var i=n.width(t);if(i<e&&!r)return t;var o=n.width("\u2026");if(i+o<=e)return t+"\u2026";var a,l,s=Math.floor(t.length*e/i)+1;do{a=t.substring(0,s),l=n.width(a)}while(--s>=0&&l+o>e);return a+"\u2026"},e.wrapLineSequentially=function(t,n,r,i,o,a,l){var s=o.fontSize,u=o.lineHeight,c=void 0===u?s*e.defaultLineHeightRatio:u,h="always"===a||"hyphenate"===a,d="hyphenate"===a,f=i.width(" "),p=!1,y=!1,v=[],g=[],m=0,b=function(){var t=l+c;if(t>=r){var o=g.join(" "),a=e.truncateLine(o,n,i,!0);return g.splice(0,g.length,a),y=!0,!1}return g=[],m=0,l=t,v.push(g),!0};if(!b())return{lines:v,linesTruncated:!0,wordsBrokenOrTruncated:p,cumulativeHeight:l};for(var x=0;x<t.length;x++){var w=t[x],S=i.width(w),k=0===g.length?0:f,O=m+k+S;if(O<=n)g.push(w),m=O;else if(S<=n){if(!b())break;g.push(w),m=S}else{if(p=!0,!h){if(!b())break;var _=e.truncateLine(w,n,i,!0);g.push(_),x<t.length-1&&(y=!0);break}for(var D=n-m-k,M=e.breakWord(w,D,n,d,i),C=!1,E=0;E<M.length;E++){var P=M[E];if(P&&g.push(P),E===M.length-1)m=i.width(P);else if(!b()){C=!0;break}}if(C)break}}return{lines:v,linesTruncated:y,wordsBrokenOrTruncated:p,cumulativeHeight:l}},e.wrapLineBalanced=function(t,e,n,r){var i,o,a=t.reduce((function(t,e){return t+n.width(e)}),0),l=n.width(" "),s=(a+l*(t.length-r-2))/r,u=[],c=[],h=n.width(t[0]),d=!0;try{for(var f=At(t),p=f.next();!p.done;p=f.next()){var y=p.value,v=n.width(y);if(d)(c=[]).push(y),h=v,d=!1,u.push(c);else{var g=h+l+v;g<=s?(c.push(y),h=g):g<=e?(c.push(y),d=!0):(c=[y],h=v,u.push(c))}}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return u},e.prototype.setFont=function(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight},e.prototype.setAlign=function(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline},e.className="Text",e.defaultLineHeightRatio=1.15,e.defaultStyles=Object.assign({},Nt.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),e.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],Lt([W({redraw:T.MAJOR})],e.prototype,"x",void 0),Lt([W({redraw:T.MAJOR})],e.prototype,"y",void 0),Lt([W({redraw:T.MAJOR,changeCb:function(t){return t._setLines()}})],e.prototype,"text",void 0),Lt([It()],e.prototype,"fontStyle",void 0),Lt([It()],e.prototype,"fontWeight",void 0),Lt([It()],e.prototype,"fontSize",void 0),Lt([It()],e.prototype,"fontFamily",void 0),Lt([W({redraw:T.MAJOR})],e.prototype,"textAlign",void 0),Lt([W({redraw:T.MAJOR})],e.prototype,"textBaseline",void 0),Lt([W({redraw:T.MAJOR})],e.prototype,"lineHeight",void 0),e}(Nt);function Ft(t){var e=t.fontFamily,n=t.fontSize,r=t.fontStyle,i=t.fontWeight;return[null!=r?r:"",null!=i?i:"",n+"px",e].join(" ").trim()}function Bt(t,e,n,r){return N.has.textMetrics?zt(t,e,n,r):Gt(t,e,n,r)}function zt(t,e,n,r){for(var i,o,a=0,l=0,s=0,u=0,c=0,h=Ft(r),d=r.lineHeight,f=r.textBaseline,p=void 0===f?jt.defaultStyles.textBaseline:f,y=r.textAlign,v=void 0===y?jt.defaultStyles.textAlign:y,g=0;g<t.length;g++){var m=N.measureText(t[g],h,p,v);a=Math.max(a,m.actualBoundingBoxLeft),s=Math.max(s,m.width),0==g?(l+=m.actualBoundingBoxAscent,u+=m.actualBoundingBoxAscent):c+=null!==(i=m.fontBoundingBoxAscent)&&void 0!==i?i:m.emHeightAscent,g==t.length-1?u+=m.actualBoundingBoxDescent:c+=null!==(o=m.fontBoundingBoxDescent)&&void 0!==o?o:m.emHeightDescent}return void 0!==d&&(c=(t.length-1)*d),u+=c,l+=c*Wt(p),new A(e-a,n-l,s,u)}function Gt(t,e,n,r){var i=0,o=0,a=0,l=Ft(r),s=r.lineHeight,u=r.textBaseline,c=void 0===u?jt.defaultStyles.textBaseline:u,h=r.textAlign,d=void 0===h?jt.defaultStyles.textAlign:h;t.length>0&&(i=(p=N.getTextSize(t[0],l)).width,o=p.height);for(var f=1;f<t.length;f++){var p=N.getTextSize(t[f],l);i=Math.max(i,p.width),a+=null!=s?s:p.height}switch(d){case"end":case"right":e-=i;break;case"center":e-=i/2}switch(c){case"alphabetic":n-=.7*o+.5*a;break;case"middle":n-=.45*o+.5*a;break;case"ideographic":n-=o+a;break;case"hanging":n-=.2*o+.5*a;break;case"bottom":n-=o+a}return new A(e,n,i,o+a)}function Wt(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function Kt(t){return"string"==typeof t?t.split(/\r?\n/g):[]}var Vt=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,r=n.get(t);r||(r=new Set,n.set(t,r)),r.has(e)||r.add(e)},t.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,r=n.get(t);r&&(r.delete(e),0===r.size&&n.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),Ht=function(t){return"string"==typeof t},Yt=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&Ht(t.toString())};function Xt(t){return Ht(t)||Yt(t)}function Ut(t){var e;return qt(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&qt(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function Zt(t,e){return e&&Ut(t)?t:e?void 0:Xt(t)?t:String(t)}var qt=function(t){return"number"==typeof t&&Number.isFinite(t)},Jt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},$t=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e.toLowerCase()];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(n){return ot.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var r=Jt(n,4);return new t(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=Jt([NaN,NaN],2),n=e[0],r=e[1],i=0;i<t.length;i++){var o=t[i];if(n||"("!==o){if(")"===o){r=i;break}}else n=i}var a=n&&r&&t.substring(n+1,r);if(a){var l=a.split(","),s=[];for(i=0;i<l.length;i++){var u=l[i],c=parseFloat(u);if(isNaN(c))return;u.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):3===i?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),s.push(c)}return s}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,i){void 0===i&&(i=1);var o=t.HSBtoRGB(e,n,r);return new t(o[0],o[1],o[2],i)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=NaN;if(r!==i){var a=i-r,l=(i-t)/a,s=(i-e)/a,u=(i-n)/a;o=t===i?u-s:e===i?2+l-u:4+s-l,(o/=6)<0&&(o+=1)}return[360*o,0!==i?(i-r)/i:0,i]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,i=0,o=0;if(0===e)r=i=o=n;else{var a=6*(t-Math.floor(t)),l=a-Math.floor(a),s=n*(1-e),u=n*(1-e*l),c=n*(1-e*(1-l));switch(a>>0){case 0:r=n,i=c,o=s;break;case 1:r=u,i=n,o=s;break;case 2:r=s,i=n,o=c;break;case 3:r=s,i=u,o=n;break;case 4:r=c,i=s,o=n;break;case 5:r=n,i=s,o=u}}return[r,i,o]},t.prototype.derive=function(e,n,r,i){var o=t.RGBtoHSB(this.r,this.g,this.b),a=o[2];0==a&&r>1&&(a=.05);var l=((o[0]+e)%360+360)%360,s=Math.max(Math.min(o[1]*n,1),0);a=Math.max(Math.min(a*r,1),0);var u=Math.max(Math.min(this.a*i,1),0),c=t.HSBtoRGB(l,s,a);return c.push(u),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.interpolate=function(e,n){var r=t.tryParseFromString(e),i=t.tryParseFromString(n);return function(e){var n=function(t,n){return t*(1-e)+n*e};return new t(n(r.r,i.r),n(r.g,i.g),n(r.b,i.b),n(r.a,i.a)).toString()}},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}(),Qt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=Symbol("BREAK");function ee(t,e){return function(n,r){var i=r.toString(),o=function(t,e,n,r){null==Object.getOwnPropertyDescriptor(t,"__decorator_config")&&Object.defineProperty(t,"__decorator_config",{value:{}});var i=t.__decorator_config;if(null!=i[n])return i[n];i[n]={setters:[],getters:[]};var o=Object.getOwnPropertyDescriptor(t,e),a=null==o?void 0:o.set,l=null==o?void 0:o.get;return Object.defineProperty(t,e,{set:function(t){var o,s,u,c,h,d=null!==(c=null===(u=i[n])||void 0===u?void 0:u.setters)&&void 0!==c?c:[];d.some((function(t){return t.length>2}))&&(h=l?l.call(this):this[r]);try{for(var f=Qt(d),p=f.next();!p.done;p=f.next())if((t=(0,p.value)(this,e,t,h))===te)return}catch(t){o={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}a?a.call(this,t):this[r]=t},get:function(){var t,o,a,s,u=l?l.call(this):this[r];try{for(var c=Qt(null!==(s=null===(a=i[n])||void 0===a?void 0:a.getters)&&void 0!==s?s:[]),h=c.next();!h.done;h=c.next())if((u=(0,h.value)(this,e,u))===te)return}catch(e){t={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return u},enumerable:!0,configurable:!1}),i[n]}(n,r,i,"__"+i),a=o.getters;o.setters.push(t),e&&a.splice(0,0,e)}}function ne(t){return ee((function(e,n,r){var i,o,a;if(t(r,{target:e}))return r;var l=n.toString().replace(/^_*/,""),s=null!==(o=null===(i=e.constructor)||void 0===i?void 0:i.className)&&void 0!==o?o:null===(a=e.constructor)||void 0===a?void 0:a.name;(null==s?void 0:s.length)<3&&(s=null);var u=s?"of ["+s+"] ":"";return t.message?ot.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(r)+"]; "+t.message+", ignoring."):ot.warn("Property ["+l+"] "+u+"cannot be set to ["+JSON.stringify(r)+"], ignoring."),te}))}function re(t,e){return t.message=e,t}var ie=function(t,e,n){return void 0===t||n(t,e)},oe=function(t,e){return re((function(n,r){return Array.isArray(n)&&(!t||n.length===t)&&(!e||n.every((function(t){return e(t,r)})))}),"expecting an Array")},ae=function(t){return re((function(e,n){return ie(e,n,oe(t))}),"expecting an optional Array")},le=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return re((function(e,n){return t.every((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},se=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return re((function(e,n){return t.some((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))},ue=function(t){return null!=t&&!isNaN(t)},ce=function(t){return re((function(e,n){return!ue(e)||!ue(n.target[t])||e<n.target[t]}),"expected to be less than "+t)},he=function(t){return re((function(e,n){return!ue(e)||!ue(n.target[t])||e>n.target[t]}),"expected to be greater than "+t)},de=re((function(t){return"function"==typeof t}),"expecting a Function"),fe=re((function(t,e){return ie(t,e,de)}),"expecting an optional Function"),pe=re((function(t){return!0===t||!1===t}),"expecting a Boolean"),ye=re((function(t,e){return ie(t,e,pe)}),"expecting an optional Boolean"),ve=re((function(t){return"string"==typeof t}),"expecting a String"),ge=re((function(t,e){return ie(t,e,ve)}),"expecting an optional String"),me=re((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),be=re((function(t,e){return ie(t,e,me)}),"expecting an optional Date"),xe=re(oe(void 0,me),"expecting an Array of Date objects"),we=Ee(0),Se=re((function(t,e){return ie(t,e,we)}),"expecting an optional number"),ke=se(be,Se),Oe="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",_e=re((function(t){return"string"==typeof t&&$t.validColorString(t)}),"expecting a color String. "+Oe),De=re((function(t,e){return ie(t,e,_e)}),"expecting an optional color String. "+Oe),Me=re(oe(void 0,_e),"expecting an Array of color strings. "+Oe),Ce=re((function(t,e){return ie(t,e,Me)}),"expecting an optional Array of color strings. "+Oe);function Ee(t,e){return re((function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function Pe(t,e){return re((function(n,r){return ie(n,r,Ee(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function Te(t,e){return re((function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var Ne=re(oe(void 0,Ee()),"expecting an Array of numbers"),Re=re((function(t,e){return ie(t,e,Ne)}),"expecting an optional Array of numbers"),Le=re(oe(void 0,ve),"expecting an Array of strings"),Ae=re((function(t,e){return ie(t,e,Le)}),"expecting an optional Array of strings");function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="expecting one of: "+t.join(", ");return re((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),n)}var je,Fe,Be=re(oe(void 0,pe),"expecting an Array of boolean values"),ze=re((function(t,e){return ie(t,e,Be)}),"expecting an optional Array of boolean values"),Ge=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],We=re((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),Ke=re((function(t,e){return ie(t,e,We)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),Ve=re((function(t){return Ge.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),He=re((function(t,e){return ie(t,e,Ve)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),Ye=re(oe(void 0,Ee(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Xe=re((function(t,e){return ie(t,e,Ye)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ue=["butt","round","square"],Ze=re((function(t){return Ue.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'"),qe=re((function(t,e){return ie(t,e,Ze)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'"),Je=["round","bevel","miter"],$e=re((function(t){return Je.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'"),Qe=re((function(t,e){return ie(t,e,$e)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'"),tn=["top","right","bottom","left"],en=re((function(t){return tn.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),nn=["exact","nearest"],rn=re((function(t){return"number"==typeof t&&Number.isFinite(t)||nn.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),on=["never","always","hyphenate","on-space"],an=re((function(t){return on.includes(t)}),"expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'");!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(je||(je={})),function(t){t.X="x",t.Y="y"}(Fe||(Fe={}));var ln=function(){function t(t){this.type=t,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}return t.prototype.extend=function(t){"discrete"===this.type?this.discreteDomain.add(t):"continuous"===this.type&&(this.continuousDomain[0]>t&&(this.continuousDomain[0]=t),this.continuousDomain[1]<t&&(this.continuousDomain[1]=t))},t.prototype.getDomain=function(){if("discrete"===this.type)return this.discreteDomain;if("continuous"===this.type)return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)},t}(),sn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function un(t,e){var n,r;void 0===e&&(e=[1/0,-1/0]);try{for(var i=sn(t),o=i.next();!o.done;o=i.next()){var a=o.value;"number"==typeof a&&(a<e[0]&&(e[0]=a),a>e[1]&&(e[1]=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}var cn=function(){return(cn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},hn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},dn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fn=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function pn(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}function yn(t){if(void 0===t)return[];var e=hn(t,2),n=e[0],r=e[1];return r=+r,0==(n=+n)&&0===r?[0,1]:n===1/0&&r===-1/0?[]:(n===1/0&&(n=0),r===-1/0&&(r=0),qt(n)&&qt(r)?[n,r]:[])}var vn=Symbol("invalid"),gn=function(){function t(t){var e,n,r,i,o,a,l=this,s=t.props,u=!0;try{for(var c=dn(s),h=c.next();!h.done;h=c.next()){var d=h.value;if("key"===d.type&&!u)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===d.type&&u&&(u=!1)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.opts=cn({dataVisible:!0},t),this.keys=s.filter((function(t){return"key"===t.type})).map((function(t,e){return cn(cn({},t),{index:e,missing:0})})),this.values=s.filter((function(t){return"value"===t.type})).map((function(t,e){return cn(cn({},t),{index:e,missing:0})})),this.aggregates=s.filter((function(t){return"aggregate"===t.type})).map((function(t,e){return cn(cn({},t),{index:e})})),this.groupProcessors=s.filter((function(t){return"group-value-processor"===t.type})).map((function(t,e){return cn(cn({},t),{index:e})})),this.propertyProcessors=s.filter((function(t){return"property-value-processor"===t.type})).map((function(t,e){return cn(cn({},t),{index:e})})),this.reducers=s.filter((function(t){return"reducer"===t.type})).map((function(t,e){return cn(cn({},t),{index:e})})),this.processors=s.filter((function(t){return"processor"===t.type})).map((function(t,e){return cn(cn({},t),{index:e})}));try{for(var f=dn(this.values),p=f.next();!p.done;p=f.next())if(null==(x=p.value).property)throw new Error("AG Charts - internal config error: no properties specified for value definitions: "+JSON.stringify(x))}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}var y=function(t){var e,n,r=t.matchGroupIds,i=function(t){if(!l.values.some((function(e){return e.groupId===t})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=dn(null!=r?r:[]),a=o.next();!a.done;a=o.next())i(a.value)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},v=function(t){var e,n,r=t.matchScopes,i=function(t){if(!l.values.some((function(e){var n;return null===(n=e.scopes)||void 0===n?void 0:n.includes(t)})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=dn(null!=r?r:[]),a=o.next();!a.done;a=o.next())i(a.value)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},g=function(t){var e,n,r=t.matchIds,i=function(t){if(!l.values.some((function(e){return e.id===t})))throw new Error("AG Charts - internal config error: matchGroupIds properties must match defined groups ("+t+").")};try{for(var o=dn(null!=r?r:[]),a=o.next();!a.done;a=o.next())i(a.value)}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}};try{for(var m=dn(fn(fn([],hn(this.groupProcessors)),hn(this.aggregates))),b=m.next();!b.done;b=m.next()){var x;g(x=b.value),y(x),v(x)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}return t.prototype.resolveProcessedDataIndexById=function(t,e,n){var r;void 0===n&&(n="value");var i=null!==(r=this.resolveProcessedDataDefById(t,e,n))&&void 0!==r?r:{};return{type:n,index:i.index,def:i.def}},t.prototype.resolveProcessedDataIndicesById=function(t,e,n){return void 0===n&&(n="value"),this.resolveProcessedDataDefsById(t,e,n).map((function(t){var e=t.index,r=t.def;return{type:n,index:e,def:r}}))},t.prototype.resolveProcessedDataDefById=function(t,e,n){return void 0===n&&(n="value"),this.resolveProcessedDataDefsById(t,e,n)[0]},t.prototype.resolveProcessedDataDefsById=function(t,e,n){var r,i;void 0===n&&(n="value");var o=this,a=function(n){var r=n.id,i=n.scopes;return null!=r&&!(null!=t&&!(null==i?void 0:i.includes(t.id)))&&("string"==typeof e?r===e:e.test(r))},l=[o.keys,o.values,o.aggregates,o.groupProcessors,o.reducers],s=[];try{for(var u=dn(l),c=u.next();!c.done;c=u.next()){var h=c.value;s.push.apply(s,fn([],hn(h.filter(a).map((function(t){return{index:t.index,def:t}})))))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}if(s.length>0)return s;throw new Error("AG Charts - didn't find property definition for ["+e+", "+t.id+", "+n+"]")},t.prototype.getDomain=function(t,e,n,r){var i,o,a,l,s,u,c,h;void 0===n&&(n="value");try{c=this.resolveProcessedDataIndicesById(t,e,n)}catch(t){if("string"!=typeof e&&/didn't find property definition/.test(t.message))return[];throw t}switch(n){case"key":h="keys";break;case"value":h="values";break;case"aggregate":h="aggValues";break;case"group-value-processor":h="groups";break;default:return[]}var d=null!==(l=null===(a=r.domain[h])||void 0===a?void 0:a[c[0].index])&&void 0!==l?l:[];if(1===c.length)return d;var f=fn([],hn(d));try{for(var p=dn(c.slice(1)),y=p.next();!y.done;y=p.next()){var v=y.value;un(null!==(u=null===(s=r.domain[h])||void 0===s?void 0:s[v.index])&&void 0!==u?u:[],f)}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return f},t.prototype.processData=function(e){var n,r,i,o,a=this,l=a.opts,s=l.groupByKeys,u=l.groupByFn,c=a.aggregates,h=a.groupProcessors,d=a.reducers,f=a.processors,p=a.propertyProcessors,y=performance.now();try{for(var v=dn(fn(fn([],hn(this.keys)),hn(this.values))),g=v.next();!g.done;g=v.next())(w=g.value).missing=0}catch(t){n={error:t}}finally{try{g&&!g.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}if(!s||0!==this.keys.length){var m=this.extractData(e);s?m=this.groupData(m):u&&(m=this.groupData(m,u(m))),h.length>0&&this.postProcessGroups(m),c.length>0&&this.aggregateData(m),p.length>0&&this.postProcessProperties(m),d.length>0&&this.reduceData(m),f.length>0&&this.postProcessData(m);try{for(var b=dn(fn(fn([],hn(this.keys)),hn(this.values))),x=b.next();!x.done;x=b.next()){var w=x.value;e.length>0&&w.missing>=e.length&&ot.warnOnce("the key '"+w.property+"' was not found in any data element.")}}catch(t){i={error:t}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}var S=performance.now();return m.time=S-y,t.DEBUG()&&function(t){var e,n,r=function(t,e){e.length>0&&(console.log("DataModel.processData() - "+t),console.table(e))};if(console.log("DataModel.processData() - processedData",t),r("Key Domains",t.domain.keys),r("Group Domains",null!==(e=t.domain.groups)&&void 0!==e?e:[]),r("Value Domains",t.domain.values),r("Aggregate Domains",null!==(n=t.domain.aggValues)&&void 0!==n?n:[]),"grouped"===t.type){var i=t.data.reduce((function(t,e){var n,r,i=null!==(n=e.keys)&&void 0!==n?n:[],o=null!==(r=e.aggValues)&&void 0!==r?r:[],a=e.keys.map((function(){})),l=null==o?void 0:o.map((function(){}));return t.push.apply(t,fn([],hn(e.values.map((function(t,e){return fn(fn(fn([],hn(0===e?i:a)),hn(null!=t?t:[])),hn(0==e?o:l))}))))),t}),[]);r("Values",i)}else i=t.data.reduce((function(t,e){var n,r=null!==(n=e.aggValues)&&void 0!==n?n:[];return t.push(fn(fn(fn([],hn(e.keys)),hn(e.values)),hn(r))),t}),[]),r("Values",i)}(m),m}},t.prototype.valueGroupIdxLookup=function(t){var e=t.matchGroupIds,n=t.matchIds,r=t.matchScopes;return this.values.map((function(t,e){return{def:t,index:e}})).filter((function(t){var i=t.def;return!(e&&(null==i.groupId||!e.includes(i.groupId))||n&&(null==i.id||!n.includes(i.id))||r&&(null==i.scopes||!r.some((function(t){var e;return null===(e=i.scopes)||void 0===e?void 0:e.includes(t)}))))})).map((function(t){return t.index}))},t.prototype.valueIdxLookup=function(t,e){var n,r=null==t||0===t.length,i=function(e){if(null==e)return!0;var n=null==e||0===e.length;return r===n||(null==e?void 0:e.some((function(e){return t.includes(e)})))};if((n="string"==typeof e?this.values.findIndex((function(t){return i(t.scopes)&&t.property===e})):this.values.findIndex((function(t){return i(t.scopes)&&t.id===e.id})))>=0)return n;throw new Error("AG Charts - configuration error, unknown property "+JSON.stringify(e)+" in scope(s) "+JSON.stringify(t))},t.prototype.extractData=function(t){var e,n,r,i,o,a,l,s,u,c=this.keys,h=this.values,d=this.opts.dataVisible,f=this.initDataDomainProcessor(),p=f.dataDomain,y=f.processValue,v=f.scopes,g=f.allScopesHaveSameDefs,m=new Array(d?t.length:0),b=0,x=0;try{for(var w=dn(t),S=w.next();!S.done;S=w.next()){var k=S.value,O=v.size>0?new Set(v):void 0,_=d?new Array(c.length):void 0,D=0,M=void 0;try{for(var C=(r=void 0,dn(c)),E=C.next();!E.done&&(M=y(A=E.value,k,M))!==vn;E=C.next())_&&(_[D++]=M)}catch(t){r={error:t}}finally{try{E&&!E.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}if(M!==vn){var P=d&&h.length>0?new Array(h.length):void 0,T=0,N=void 0;try{for(var R=(o=void 0,dn(h)),L=R.next();!L.done;L=R.next()){var A;if((N=y(A=L.value,k,N))===vn){if(g)break;try{for(var I=(l=void 0,dn(null!==(u=A.scopes)&&void 0!==u?u:v)),j=I.next();!j.done;j=I.next()){var F=j.value;null==O||O.delete(F)}}catch(t){l={error:t}}finally{try{j&&!j.done&&(s=I.return)&&s.call(I)}finally{if(l)throw l.error}}if(T++,0===(null==O?void 0:O.size))break}else P&&(P[T++]=N)}}catch(t){o={error:t}}finally{try{L&&!L.done&&(a=R.return)&&a.call(R)}finally{if(o)throw o.error}}if((N!==vn||!g)&&0!==(null==O?void 0:O.size)&&d){var B={datum:k,keys:_,values:P};!g&&O&&O.size<v.size&&(x++,B.validScopes=fn([],hn(O))),m[b++]=B}}}}catch(t){e={error:t}}finally{try{S&&!S.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}m.length=b;var z=function(t){var e=p.get(t).getDomain();return Array.isArray(e)&&e[0]>e[1]?[]:fn([],hn(e))};return{type:"ungrouped",data:m,domain:{keys:c.map((function(t){return z(t)})),values:h.map((function(t){return z(t)}))},defs:{allScopesHaveSameDefs:g,keys:c,values:h},partialValidDataCount:x,time:0}},t.prototype.groupData=function(t,e){var n,r,i,o,a,l,s,u,c=new Map;try{for(var h=dn(t.data),d=h.next();!d.done;d=h.next()){var f=d.value,p=f.keys,y=f.values,v=f.datum,g=f.validScopes,m=e?e(f):p,b=pn(m);if(c.has(b)){var x=c.get(b);if(x.values.push(y),x.datum.push(v),null!=g)for(var w=function(t){var e=null===(s=x.validScopes)||void 0===s?void 0:s[t];if(g.some((function(t){return t===e})))return"continue";null===(u=x.validScopes)||void 0===u||u.splice(t,1)},S=0;S<(null!==(l=null===(a=x.validScopes)||void 0===a?void 0:a.length)&&void 0!==l?l:0);S++)w(S)}else c.set(b,{keys:m,values:[y],datum:[v],validScopes:g})}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var k=new Array(c.size),O=new Array(c.size),_=0;try{for(var D=dn(c.entries()),M=D.next();!M.done;M=D.next()){var C=hn(M.value,2)[1];p=C.keys,y=C.values,v=C.datum,0!==(null==(g=C.validScopes)?void 0:g.length)&&(O[_]=p,k[_++]={keys:p,values:y,datum:v,validScopes:g})}}catch(t){i={error:t}}finally{try{M&&!M.done&&(o=D.return)&&o.call(D)}finally{if(i)throw i.error}}return cn(cn({},t),{type:"grouped",data:k,domain:cn(cn({},t.domain),{groups:O})})},t.prototype.aggregateData=function(t){var e,n,r,i,o,a,l,s,u,c,h=this,d=this.aggregates;if(d){var f=d.map((function(){return[1/0,-1/0]})),p=d.map((function(t){return h.valueGroupIdxLookup(t)})),y=d.map((function(t){return t.aggregateFunction})),v=d.map((function(t){return t.groupAggregateFunction})),g=d.map((function(t){return t.finalFunction})),m=function(e){var n,h,m,b,x=e.values,w=e.validScopes;null!==(r=e.aggValues)&&void 0!==r||(e.aggValues=new Array(p.length)),"ungrouped"===t.type&&(x=[x]);var S=0;try{for(var k=(n=void 0,dn(p)),O=k.next();!O.done;O=k.next()){var _=O.value;if(null===(i=null==w?void 0:w.some((function(t){var e;return null===(e=d[S].matchScopes)||void 0===e?void 0:e.some((function(e){return t===e}))})))||void 0===i||i){var D=null!==(a=null===(o=v[S])||void 0===o?void 0:o.call(v))&&void 0!==a?a:un([]),M=function(t){var n=_.map((function(e){return t[e]})),r=y[S](n,e.keys);r&&(D=null!==(s=null===(l=v[S])||void 0===l?void 0:l.call(v,r,D))&&void 0!==s?s:un(r,D))};try{for(var C=(m=void 0,dn(x)),E=C.next();!E.done;E=C.next())M(E.value)}catch(t){m={error:t}}finally{try{E&&!E.done&&(b=C.return)&&b.call(C)}finally{if(m)throw m.error}}var P=(null!==(c=null===(u=g[S])||void 0===u?void 0:u.call(g,D))&&void 0!==c?c:D).map((function(t){return e=t,Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(1e4*e)/1e4;var e}));un(P,f[S]),e.aggValues[S++]=P}else S++}}catch(t){n={error:t}}finally{try{O&&!O.done&&(h=k.return)&&h.call(k)}finally{if(n)throw n.error}}};try{for(var b=dn(t.data),x=b.next();!x.done;x=b.next())m(x.value)}catch(t){e={error:t}}finally{try{x&&!x.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}t.domain.aggValues=f}},t.prototype.postProcessGroups=function(t){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m=this.groupProcessors;if(m){var b=new Set,x=new Map,w=new Map,S=new Map;try{for(var k=dn(m),O=k.next();!O.done;O=k.next()){var _=O.value,D=this.valueGroupIdxLookup(_);w.set(_,D),S.set(_,_.adjust());try{for(var M=(r=void 0,dn(D)),C=M.next();!C.done;C=M.next()){var E=C.value,P=this.values[E];b.add(E),x.set(E,new ln("category"===P.valueType?"discrete":"continuous"))}}catch(t){r={error:t}}finally{try{C&&!C.done&&(i=M.return)&&i.call(M)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{O&&!O.done&&(n=k.return)&&n.call(k)}finally{if(e)throw e.error}}var T=function(t){var e,n,r;try{for(var i=dn(b),o=i.next();!o.done;o=i.next()){var a=o.value;null===(r=x.get(a))||void 0===r||r.extend(t[a])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}};try{for(var N=dn(t.data),R=N.next();!R.done;R=N.next()){var L=R.value,A=function(e){var n,r;if(null!==(p=null===(f=L.validScopes)||void 0===f?void 0:f.some((function(t){var n;return null===(n=e.matchScopes)||void 0===n?void 0:n.some((function(e){return t===e}))})))&&void 0!==p&&!p)return"continue";var i=null!==(y=w.get(e))&&void 0!==y?y:[],o=null!==(g=null===(v=S.get(e))||void 0===v?void 0:v())&&void 0!==g?g:function(){};if("grouped"===t.type){try{for(var a=(n=void 0,dn(L.values)),l=a.next();!l.done;l=a.next()){var s=l.value;s&&o(s,i)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return"continue"}L.values&&o(L.values,i)};try{for(var I=(l=void 0,dn(m)),j=I.next();!j.done;j=I.next())A(_=j.value)}catch(t){l={error:t}}finally{try{j&&!j.done&&(s=I.return)&&s.call(I)}finally{if(l)throw l.error}}if("grouped"===t.type)try{for(var F=(u=void 0,dn(L.values)),B=F.next();!B.done;B=F.next())T(B.value)}catch(t){u={error:t}}finally{try{B&&!B.done&&(c=F.return)&&c.call(F)}finally{if(u)throw u.error}}else T(L.values)}}catch(t){o={error:t}}finally{try{R&&!R.done&&(a=N.return)&&a.call(N)}finally{if(o)throw o.error}}try{for(var z=dn(x),G=z.next();!G.done;G=z.next()){var W=hn(G.value,2),K=(E=W[0],W[1]);t.domain.values[E]=fn([],hn(K.getDomain()))}}catch(t){h={error:t}}finally{try{G&&!G.done&&(d=z.return)&&d.call(z)}finally{if(h)throw h.error}}}},t.prototype.postProcessProperties=function(t){var e,n,r=this.propertyProcessors;if(r)try{for(var i=dn(r),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.adjust,s=a.property,u=a.scopes;l()(t,this.valueIdxLookup(null!=u?u:[],s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.reduceData=function(t){var e,n,r,i,o,a=this.reducers,l=a.map((function(t){return t.scopes})),s=a.map((function(t){return t.reducer()})),u=a.map((function(t){return t.initialValue})),c=function(t){var e,n,o=0;try{for(var a=(e=void 0,dn(s)),c=a.next();!c.done;c=a.next()){var h=c.value;null===(i=null===(r=t.validScopes)||void 0===r?void 0:r.some((function(t){var e;return null===(e=l[o])||void 0===e?void 0:e.some((function(e){return t===e}))})))||void 0===i||i?(u[o]=h(u[o],t),o++):o++}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}};try{for(var h=dn(t.data),d=h.next();!d.done;d=h.next())c(d.value)}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}for(var f=0;f<u.length;f++)null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[a[f].property]=u[f]},t.prototype.postProcessData=function(t){var e,n,r,i=this.processors;try{for(var o=dn(i),a=o.next();!a.done;a=o.next()){var l=a.value;null!==(r=t.reduced)&&void 0!==r||(t.reduced={}),t.reduced[l.property]=l.calculate(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t,e,n,r,i,o=this.keys,a=this.values,l=new Set;try{for(var s=dn(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{for(var h=(n=void 0,dn(null!==(i=c.scopes)&&void 0!==i?i:[])),d=h.next();!d.done;d=h.next()){var f=d.value;l.add(f)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}var p=l.size,y=new Map,v=new Map,g=!0,m=function(t,e,n){var r;void 0===n&&(n=y),"category"===e?n.set(t,new ln("discrete")):(n.set(t,new ln("continuous")),g&&(g=(null!==(r=t.scopes)&&void 0!==r?r:[]).length===p))},b=function(){o.forEach((function(t){return m(t,t.valueType)})),a.forEach((function(t){return m(t,t.valueType)}))};b();var x=this.buildAccessors.apply(this,fn(fn([],hn(o)),hn(a)));return{dataDomain:y,processValue:function(t,e,n){var r,i,o,a,l,s=!1;if(t.property in x){try{l=x[t.property](e)}catch(t){}s=void 0!==l}else l=(s=t.property in e)?e[t.property]:t.missingValue;if(s||"missingValue"in t||t.missing++,y.has(t)||b(),s&&null!==(i=null===(r=t.validation)||void 0===r?void 0:r.call(t,l,e))&&void 0!==i&&!i){if(!("invalidValue"in t))return vn;l=t.invalidValue}return t.processor&&(v.has(t)||v.set(t,t.processor()),l=null===(o=v.get(t))||void 0===o?void 0:o(l,n!==vn?n:void 0)),null===(a=y.get(t))||void 0===a||a.extend(l),l},initDataDomain:b,scopes:l,allScopesHaveSameDefs:g}},t.prototype.buildAccessors=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};try{for(var o=dn(n),a=o.next();!a.done;a=o.next()){var l=a.value,s=l.property.indexOf(".")>=0||l.property.indexOf("[")>=0;if(s){var u=void 0;u=l.property.startsWith("[")?"return datum"+l.property+";":"return datum."+l.property+";",i[l.property]=new Function("datum",u)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i},t.DEBUG=function(){var t;return null!==(t=[!0,"data-model"].includes(pt("agChartsDebug")))&&void 0!==t&&t},t}();function mn(){return function(t,e){var n=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");ot.warnOnce(n)}}var bn=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},xn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function wn(t,e){var n,r,i,o;if("string"==typeof t)return t;e=null!=e?e:{};var a=t.content,l=void 0===a?null!==(n=e.content)&&void 0!==n?n:"":a,s=t.title,u=void 0===s?null!==(r=e.title)&&void 0!==r?r:void 0:s,c=t.color,h=void 0===c?null!==(i=e.color)&&void 0!==i?i:"white":c,d=t.backgroundColor,f=void 0===d?null!==(o=e.backgroundColor)&&void 0!==o?o:"#888":d;return(u?'<div class="ag-chart-tooltip-title"\n        style="color: '+h+"; background-color: "+f+'">'+u+"</div>":"")+'<div class="ag-chart-tooltip-content">'+l+"</div>"}var Sn=["pointer","node"],kn=re((function(t){return Sn.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),On=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return bn([ne(kn)],t.prototype,"type",void 0),bn([ne(Ee())],t.prototype,"xOffset",void 0),bn([ne(Ee())],t.prototype,"yOffset",void 0),t}(),_n=function(){function t(e,n,r){var i=this;this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new On,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=r;var o=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add("ag-chart-tooltip"),this.canvasElement=e,window.IntersectionObserver){var a=new IntersectionObserver((function(t){var e,n;try{for(var r=xn(t),o=r.next();!o.done;o=r.next()){var a=o.value;a.target===i.canvasElement&&0===a.intersectionRatio&&i.toggle(!1)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}if(t.tooltipDocuments.indexOf(n)<0){var l=n.createElement("style");l.innerHTML='\n.ag-chart-tooltip {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.ag-chart-tooltip-no-animation {\n    transition: none !important;\n}\n\n.ag-chart-tooltip-hidden {\n    visibility: hidden;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',n.head.insertBefore(l,n.head.querySelector("style")),t.tooltipDocuments.push(n)}}var e,n,r;return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains("ag-chart-tooltip-hidden")},t.prototype.updateClass=function(t,e){var n=this.element,r=this.class,i=this.lastClass,o=this.enableInteraction,a=function(t,e){var r="ag-chart-tooltip-"+t;e?n.classList.add(r):n.classList.remove(r)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!o),a("hidden",!t),a("arrow",!!e),r!==i&&(i&&n.classList.remove(i),r&&n.classList.add(r),this.lastClass=r)},t.prototype.show=function(t,e,n){var r,i,o,a,l,s,u,c=this;void 0===n&&(n=!1);var h=this.element,d=this.canvasElement;if(void 0!==e)h.innerHTML=e;else if(!h.innerHTML)return void this.toggle(!1);var f=function(t,e,n){return Math.max(Math.min(e,n),t)},p=null!==(i=null===(r=t.position)||void 0===r?void 0:r.xOffset)&&void 0!==i?i:0,y=null!==(a=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==a?a:0,v=d.getBoundingClientRect(),g=v.left+t.offsetX-h.clientWidth/2+p,m=v.top+t.offsetY-h.clientHeight-8+y,b=this.getWindowBoundingBox(),x=b.x+b.width-h.clientWidth-1,w=b.y+b.height-h.clientHeight,S=f(b.x,g,x),k=f(b.y,m,w),O=!(S!==g||k!==m||p||y),_=null!==(s=null!==(l=t.showArrow)&&void 0!==l?l:this.showArrow)&&void 0!==s?s:O;if(this.updateShowArrow(_),h.style.transform="translate("+Math.round(S)+"px, "+Math.round(k)+"px)",this.enableInteraction=null!==(u=t.enableInteraction)&&void 0!==u&&u,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){c.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new A(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,r=Boolean(["","-title","-content"].filter((function(t){return null==n?void 0:n.contains("ag-chart-tooltip"+t)})));return void 0!==n&&r},t.prototype.updateShowArrow=function(t){this._showArrow=t},t.tooltipDocuments=[],bn([ne(pe)],t.prototype,"enabled",void 0),bn([ne(ye)],t.prototype,"showArrow",void 0),bn([ne(ge)],t.prototype,"class",void 0),bn([ne(Ee(0))],t.prototype,"delay",void 0),bn([(e="range",n=function(t){return t?"nearest":"exact"},r=mn(),ee((function(t,i,o){return o!==t[e]&&(r(i.toString(),"Use ["+e+"] instead."),t[e]=n?n(o):o),te}),(function(t,n){return r(n.toString(),"Use ["+e+"] instead."),t[e]})))],t.prototype,"tracking",void 0),bn([ne(rn)],t.prototype,"range",void 0),t}(),Dn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Mn(t,e){var n,r;void 0===e&&(e=[0,0]);try{for(var i=Dn(t),o=i.next();!o.done;o=i.next()){var a=o.value;"number"==typeof a&&(a<0&&(e[0]+=a),a>0&&(e[1]+=a))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}function Cn(t,e){return{id:e,scopes:[t.id],type:"aggregate",aggregateFunction:function(){return[0,1]},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e}}}function En(t,e,n,r){var i={id:e,scopes:[t.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:function(t,e){void 0===e&&(e=[]);var r=e[1]-e[0];return n.aggregateFunction(t).map((function(t){return t/r}))}};return n.groupAggregateFunction&&(i.groupAggregateFunction=n.groupAggregateFunction),i}var Pn=new Map;function Tn(t,e){var n,r,i,o=JSON.stringify(t,null,0);return Pn.has(e)||Pn.set(e,new Map),(null===(n=Pn.get(e))||void 0===n?void 0:n.has(o))||null===(r=Pn.get(e))||void 0===r||r.set(o,e(t)),null===(i=Pn.get(e))||void 0===i?void 0:i.get(o)}var Nn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Rn=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ln=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},An={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,n){var r=n.keys[0],i=Math.abs(r-t);return t=r,!isNaN(i)&&i>0&&i<e?i:e}}},In={type:"processor",property:"sortedGroupDomain",calculate:function(t){var e=t.domain.groups;if(null!=e)return Rn([],Nn(e)).sort((function(t,e){for(var n=0;n<t.length;n++){var r=t[n]-e[n];if(0!==r)return r}return 0}))}};function jn(t){var e=t.normaliseTo,n=t.mode,r=function(t,n){var r=t*e/n;return r>=0?Math.min(e,r):Math.max(-e,r)};return function(){return function(){return function(t,e){var i,o,a,l,s=[0,0];try{for(var u=Ln(e),c=u.next();!c.done;c=u.next()){var h=t[v=c.value],d=h<0?0:1;"sum"===n?s[d]+=h:s[d]=0===d?Math.min(s[d],h):Math.max(s[d],h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var f=Math.max(Math.abs(s[0]),s[1]);try{for(var p=Ln(e),y=p.next();!y.done;y=p.next()){var v;t[v=y.value]=r(t[v],f)}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}}}function Fn(t,e,n,r){return void 0===r&&(r="sum"),{scopes:[t.id],type:"group-value-processor",matchGroupIds:e,adjust:Tn({normaliseTo:n,mode:r},jn)}}function Bn(t){var e=t.normaliseTo,n=t.rangeMin,r=t.rangeMax,i=e[1]-e[0],o=function(t,n,r){var o=e[0]+(t-n)/r*i;return 0===r||o>=e[1]?e[1]:o<e[0]?e[0]:o};return function(){return function(t,i){var a,l,s,u,c=Nn(t.domain.values[i],2),h=c[0],d=c[1];null!=n&&(h=n),null!=r&&(d=r);var f=d-h;t.domain.values[i]=[e[0],e[1]];try{for(var p=Ln(t.data),y=p.next();!y.done;y=p.next()){var v=y.value.values;"ungrouped"===t.type&&(v=[v]);try{for(var g=(s=void 0,Ln(v)),m=g.next();!m.done;m=g.next()){var b=m.value;b[i]=o(b[i],h,f)}}catch(t){s={error:t}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}}}catch(t){a={error:t}}finally{try{y&&!y.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}}function zn(t,e,n,r,i){return{scopes:[t.id],type:"property-value-processor",property:e,adjust:Tn({normaliseTo:n,rangeMin:r,rangeMax:i},Bn)}}function Gn(t){return function(){return function(){return function(e,n){var r,i,o=0;try{for(var a=Ln(n),l=a.next();!l.done;l=a.next()){var s=l.value,u=e[s];"number"!=typeof u||isNaN(u)||("normal"===t&&(o+=u),e[s]=o,"trailing"===t&&(o+=u))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}}}}function Wn(t){var e=t.mode,n=t.sum;return function(){var t=[],r=!0;return function(){return function(i,o){var a,l,s=0;try{for(var u=Ln(o),c=u.next();!c.done;c=u.next()){var h=c.value,d=i[h],f=r&&"current"===n?0:t[h];t[h]=d;var p="current"===n?d:f;"number"!=typeof d||isNaN(d)||"number"!=typeof f||isNaN(f)?i[h]=p:("normal"===e&&(s+=p),i[h]=s,"trailing"===e&&(s+=p))}}catch(t){a={error:t}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(a)throw a.error}}r=!1}}}}function Kn(t,e,n,r){var i;return i=n.startsWith("window")?Tn({mode:n.endsWith("-trailing")?"trailing":"normal",sum:r},Wn):Tn(n,Gn),{scopes:[t.id],type:"group-value-processor",matchGroupIds:[e],adjust:i}}function Vn(t,e){return void 0===e&&(e=!0),{type:"processor",property:"diff",calculate:function(n){for(var r={changed:!1,added:[],updated:[],removed:[]},i=new Map,o=new Map,a=new Map,l=0;l<Math.max(t.data.length,n.data.length);l++){var s=t.data[l],u=n.data[l],c=null==s?void 0:s.keys.join("___"),h=null==u?void 0:u.keys.join("___");c!==h?(a.has(h)?(!e&&Hn(a.get(h).values,u.values)||o.set(h,u),a.delete(h)):u&&i.set(h,u),i.has(c)?(!e&&Hn(i.get(c).values,s.values)||o.set(c,s),i.delete(c)):s&&a.set(c,s)):Hn(s.values,u.values)||o.set(h,u)}return r.added=Array.from(i.values()).map((function(t){return t.keys})),r.updated=Array.from(o.values()).map((function(t){return t.keys})),r.removed=Array.from(a.values()).map((function(t){return t.keys})),r.changed=r.added.length>0||r.updated.length>0||r.removed.length>0,r}}}function Hn(t,e){if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){if(Array.isArray(t[n])&&Array.isArray(e[n]))return Hn(t[n],e[n]);if(t[n]!==e[n])return!1}return!0}function Yn(t,e){return ee((function(n,r,i){return n[t][null!=e?e:r]=i,i}))}function Xn(t){var e=t.newValue,n=t.oldValue,r=t.changeValue;return ee((function(t,i,o,a){return o!==a&&(void 0!==a&&(null==n||n.call(t,a)),void 0!==o&&(null==e||e.call(t,o)),null==r||r.call(t,o,a)),o}))}var Un,Zn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qn=function(){return(qn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Jn=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Qn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},er=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function nr(t){return null!=Zt(t,!0)}function rr(t){return null!=Zt(t,!1)}function ir(t,e,n,r){return void 0===r&&(r={}),qn({scopes:[t.id],property:e,type:"key",valueType:n?"range":"category",validation:n?nr:rr},r)}function or(t,e,n,r){return void 0===r&&(r={}),qn({scopes:[t.id],property:e,type:"value",valueType:n?"range":"category",validation:n?nr:rr},r)}function ar(t,e,n){void 0===n&&(n={});var r=n.min,i=void 0===r?-1/0:r,o=n.max,a=void 0===o?1/0:o,l=$n(n,["min","max"]);return qn({scopes:[t.id],type:"value",property:e,valueType:"range",validation:nr,processor:function(){return function(t){return"number"!=typeof t||isNaN(t)?t:Math.min(Math.max(t,i),a)}}},l)}function lr(t,e,n,r){return void 0===r&&(r={}),qn(qn({},or(t,e,n,r)),{processor:function(){var t=0;return function(e){return"number"!=typeof e||isNaN(e)?e:t+=e}}})}function sr(t,e,n,r,i,o){return void 0===i&&(i="current"),[or(t,e,n,o),Kn(t,o.groupId,r,i)]}!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(Un||(Un={}));var ur=function(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id},cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zn(e,t),e}(ur),hr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Zn(e,t),e}(ur),dr=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return Jn([ne(De)],t.prototype,"fill",void 0),Jn([ne(Pe(0,1))],t.prototype,"fillOpacity",void 0),Jn([ne(De)],t.prototype,"stroke",void 0),Jn([ne(Pe(0))],t.prototype,"strokeWidth",void 0),t}(),fr=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return Jn([ne(Pe(0))],t.prototype,"strokeWidth",void 0),Jn([ne(Pe(0,1))],t.prototype,"dimOpacity",void 0),Jn([ne(ye)],t.prototype,"enabled",void 0),t}(),pr=function(){function t(){this.color="black"}return Jn([ne(De)],t.prototype,"color",void 0),t}(),yr=function(){this.item=new dr,this.series=new fr,this.text=new pr},vr=function(){function t(){this.enabled=!0,this.showArrow=void 0,this.interaction=new gr,this.position=new On}return Jn([ne(pe)],t.prototype,"enabled",void 0),Jn([ne(ye)],t.prototype,"showArrow",void 0),t}(),gr=function(){function t(){this.enabled=!1}return Jn([ne(pe)],t.prototype,"enabled",void 0),t}(),mr=function(t){function e(e){var n,r=t.call(this)||this;r.id=z(r),r.rootGroup=new dt({name:"seriesRoot",isVirtual:!0}),r.axes=((n={})[Fe.X]=void 0,n[Fe.Y]=void 0,n),r.directions=[Fe.X,Fe.Y],r.nodeDataRefresh=!0,r._data=void 0,r._visible=!0,r.showInLegend=!0,r.cursor="default",r.nodeClickRange="exact",r.seriesGrouping=void 0,r._declarationOrder=-1,r.highlightStyle=new yr,r.ctx=e.moduleCtx;var i=e.useLabelLayer,o=void 0!==i&&i,a=e.pickModes,l=void 0===a?[Un.NEAREST_BY_MAIN_AXIS_FIRST]:a,s=e.directionKeys,u=void 0===s?{}:s,c=e.directionNames,h=void 0===c?{}:c,d=e.contentGroupVirtual,f=void 0===d||d,p=r.rootGroup;return r.directionKeys=u,r.directionNames=h,r.contentGroup=p.appendChild(new dt({name:r.id+"-content",layer:!f,isVirtual:f,zIndex:je.SERIES_LAYER_ZINDEX,zIndexSubOrder:r.getGroupZIndexSubOrder("data")})),r.highlightGroup=p.appendChild(new dt({name:r.id+"-highlight",layer:!0,zIndex:je.SERIES_LAYER_ZINDEX,zIndexSubOrder:r.getGroupZIndexSubOrder("highlight")})),r.highlightNode=r.highlightGroup.appendChild(new dt({name:"highlightNode"})),r.highlightLabel=r.highlightGroup.appendChild(new dt({name:"highlightLabel"})),r.highlightNode.zIndex=0,r.highlightLabel.zIndex=10,r.pickModes=l,o&&(r.labelGroup=p.appendChild(new dt({name:r.id+"-series-labels",layer:!0,zIndex:je.SERIES_LABEL_ZINDEX}))),r}return Zn(e,t),Object.defineProperty(e.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.onSeriesGroupingChange=function(t,e){var n=this,r=this.id,i=this.type,o=this.visible,a=this.rootGroup;t&&this.ctx.seriesStateManager.deregisterSeries({id:r,type:i}),e&&this.ctx.seriesStateManager.registerSeries({id:r,type:i,visible:o,seriesGrouping:e}),this.ctx.seriesLayerManager.changeGroup({id:r,type:i,rootGroup:a,getGroupZIndexSubOrder:function(t){return n.getGroupZIndexSubOrder(t)},seriesGrouping:e,oldGrouping:t})},e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.getGroupZIndexSubOrder=function(t,e){var n=this;void 0===e&&(e=0);var r=0;switch(t){case"data":case"paths":break;case"labels":r+=2e4;break;case"marker":r+=1e4;break;case"highlight":e+=15e3}return[function(){return n._declarationOrder+r},e]},e.prototype.addChartEventListeners=function(){},e.prototype.destroy=function(){this.ctx.seriesStateManager.deregisterSeries(this),this.ctx.seriesLayerManager.releaseGroup(this)},e.prototype.getDirectionValues=function(t,e){var n=this,r=this.resolveKeyDirection(t),i=null==e?void 0:e[r],o=[],a=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var i=Qn(n),o=i.next();!o.done;o=i.next()){var a=o.value;l(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},l=function(t){Array.isArray(t)?a.apply(void 0,er([],tr(t))):"object"==typeof t?a(Object.values(t)):o.push(t)};return i?(i.forEach((function(t){var e=n[t];l(e)})),o):o},e.prototype.getKeys=function(t){return this.getDirectionValues(t,this.directionKeys)},e.prototype.getNames=function(t){return this.getDirectionValues(t,this.directionNames)},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){this.ctx.seriesStateManager.registerSeries(this)},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,n=e.dimOpacity,r=void 0===n?1:n,i=e.enabled;if(!1===(void 0===i||i)||1===r)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return r}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series,r=n.strokeWidth,i=n.enabled;if(!1===(void 0===i||i)||void 0===r)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return r;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=null!=n?n:{},i=r.series,o=r.itemId;return null!=i?i!==this?"other-highlighted":void 0===o?"highlighted":t&&n!==t&&o!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var n,r,i=this.pickModes,o=this.visible,a=this.rootGroup;if(o&&a.visible)try{for(var l=Qn(i),s=l.next();!s.done;s=l.next()){var u=s.value;if(!e||e.includes(u)){var c=void 0;switch(u){case Un.EXACT_SHAPE_MATCH:c=this.pickNodeExactShape(t);break;case Un.NEAREST_BY_MAIN_AXIS_FIRST:case Un.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:c=this.pickNodeMainAxisFirst(t,u===Un.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case Un.NEAREST_NODE:c=this.pickNodeClosestDatum(t)}if(c)return{pickMode:u,match:c.datum,distance:c.distance}}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var n=this.getNodeClickEvent(t,e);this.fireEvent(n)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)},e.prototype.getNodeClickEvent=function(t,e){return new cr(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new hr(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var n,r=yn(t);if(0===r.length)return r;var i=tr(r,2),o=i[0],a=i[1];if(o===a){var l=tr(null!==(n=null==e?void 0:e.calculatePadding(o,a))&&void 0!==n?n:[1,1],2);o-=l[0],a+=l[1]}return[o,a]},e.highlightedZIndex=1e12,Jn([ne(ve)],e.prototype,"id",void 0),Jn([ne(pe)],e.prototype,"_visible",void 0),Jn([ne(pe)],e.prototype,"showInLegend",void 0),Jn([ne(ve)],e.prototype,"cursor",void 0),Jn([ne(rn)],e.prototype,"nodeClickRange",void 0),Jn([Xn({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],e.prototype,"seriesGrouping",void 0),e}(Vt),br=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},xr=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===r&&(r=e),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},br([ne(Ee(0))],t.prototype,"top",void 0),br([ne(Ee(0))],t.prototype,"right",void 0),br([ne(Ee(0))],t.prototype,"bottom",void 0),br([ne(Ee(0))],t.prototype,"left",void 0),t}(),wr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sr=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e((function(e){var n,r;try{for(var i=wr(e),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.contentRect,s=l.width,u=l.height;t.checkSize(t.elements.get(a.target),a.target,s,u)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})):this.pollerHandler=window.setInterval((function(){t.elements.forEach((function(e,n){t.checkClientSize(n,e)}))}),100),this.ready=!0},t.destroy=function(){var t;null!=this.pollerHandler&&(clearInterval(this.pollerHandler),this.pollerHandler=void 0),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=void 0,this.ready=!1},t.checkSize=function(t,e,n,r){t&&(t.size&&n===t.size.width&&r===t.size.height||(t.size={width:n,height:r},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t,!1),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t,e){void 0===e&&(e=!0),this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t),e&&0===this.elements.size&&this.destroy()},t.checkClientSize=function(t,e){var n=t.clientWidth?t.clientWidth:0,r=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,n,r)},t.elements=new Map,t.ready=!1,t}();function kr(t,e,n,r,i){var o=t.x;t.x<e?o=e:t.x>e+r&&(o=e+r);var a=t.y;t.y<n?a=n:t.y>n+i&&(a=n+i);var l=t.x-o,s=t.y-a;return Math.sqrt(l*l+s*s)<=.5*t.size}function Or(t,e,n,r,i){var o=t.x+t.width>e&&t.x<e+r,a=t.y+t.height>n&&t.y<n+i;return o&&a}var _r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Dr=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function Mr(t,e){var n,r,i=0,o=!1,a=function(){return o},l=function(){o=!1,null==r||r(),r=void 0,n=void 0,i>0&&t(s)},s=function(){var t=i;i=0,o=!0;var n=e({count:t});n?n.then(l).catch(l):l()};return{schedule:function(e){0!==i||a()||t(s,e),i++},await:function(){return _r(this,void 0,void 0,(function(){return Dr(this,(function(t){switch(t.label){case 0:if(!a())return[2];null==n&&(n=new Promise((function(t){r=t}))),t.label=1;case 1:return a()?[4,n]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}function Cr(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var Er=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Pr=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,n,r=this.element;if(r||((r=document.createElement("div")).className=this.className,this.element=r),r.style.position="absolute",r.style.left=t.x+"px",r.style.top=t.y+"px",r.style.width=t.width+"px",r.style.height=t.height+"px",this.renderer)r.innerHTML=this.renderer();else{var i=document.createElement("div");i.style.alignItems="center",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.style.margin="8px",i.style.height="100%",i.style.font="12px Verdana, sans-serif",i.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",r.append(i)}null===(n=this.parentElement)||void 0===n||n.append(r)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},Er([ne(fe)],t.prototype,"renderer",void 0),Er([ne(ge)],t.prototype,"text",void 0),t}(),Tr=function(t){this.noData=new Pr("ag-chart-no-data-overlay",t)},Nr=function(){return(Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Rr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Lr=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ar=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ir(t,e){var n,r,i=Kr(t),o=Kr(e);if("array"===o){var a=e;return"array"!==i||t.length!==a.length||a.some((function(e,n){var r;return null!=Ir(null===(r=t)||void 0===r?void 0:r[n],e)}))?Lr([],Rr(a)):null}if("primitive"===o)return"primitive"!==i?Nr({},e):t!==e?e:null;var l=t||{},s=e||{},u=new Set(Lr(Lr([],Rr(Object.keys(l))),Rr(Object.keys(s)))),c=0,h={},d=function(t){if(l[t]===s[t])return"continue";var e=function(e){h[t]=e,c++},n=Kr(l[t]),r=Kr(s[t]);if(n!==r)return e(s[t]),"continue";if("primitive"===r||null===r)return e(s[t]),"continue";if("array"===r&&l[t].length!==s[t].length)return e(s[t]),"continue";if("class-instance"===r)return e(s[t]),"continue";if("function"===r&&l[t]!==s[t])return e(s[t]),"continue";var i=Ir(l[t],s[t]);null!==i&&e(i)};try{for(var f=Ar(u),p=f.next();!p.done;p=f.next())d(p.value)}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return 0===c?null:h}var jr=Symbol("<delete-property>"),Fr=Symbol("<unspecified-property>");function Br(t,e){var n,r,i,o=null!==(i=null==e?void 0:e.avoidDeepClone)&&void 0!==i?i:[];if(t.map((function(t){return Kr(t)})).some((function(t){return"array"===t}))){var a=t[t.length-1];return a instanceof Array?a.map((function(t){var n=Kr(t);return"array"===n?Br([[],t],e):"object"===n?Br([{},t],e):t})):a}var l={},s=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),u=function(n){var r=t.map((function(t){return null!=t&&"object"==typeof t&&n in t?t[n]:Fr})).filter((function(t){return t!==Fr}));if(0===r.length)return"continue";var i=r[r.length-1];if(i===jr)return"continue";var a=r.map((function(t){return Kr(t)})),s=a[0];if(a.some((function(t){return t!==s})))return l[n]=i,"continue";"array"!==s&&"object"!==s||o.includes(n)?l[n]="array"===s?Lr([],Rr(i)):i:l[n]=Br(r,e)};try{for(var c=Ar(s),h=c.next();!h.done;h=c.next())u(h.value)}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l}function zr(t,e,n){var r,i,o;void 0===n&&(n={});var a=n.path,l=void 0===a?void 0:a,s=n.matcherPath,u=void 0===s?l?l.replace(/(\[[0-9+]+\])/i,"[]"):void 0:s,c=n.skip,h=void 0===c?[]:c,d=n.constructors,f=void 0===d?{}:d,p=n.constructedArrays,y=void 0===p?new WeakMap:p,v=n.allowedTypes,g=void 0===v?{}:v,m=n.idx;if(null==t)throw new Error("AG Charts - target is uninitialised: "+(null!=l?l:"<root>"));if(null==e)return t;var b=t;null!=m&&"_declarationOrder"in b&&(b._declarationOrder=m);var x=Kr(t),w=function(a){var s=(u?u+".":"")+a;if(h.indexOf(s)>=0)return"continue";var c=e[a],d=(l?l+".":"")+a,p=b.constructor,v=b[a],m=null!==(r=f[s])&&void 0!==r?r:f[a];try{var w=Kr(v),S=Kr(c);if("class-instance"===x&&!(a in t)&&!Object.prototype.hasOwnProperty.call(b,a))return ot.warn("unable to set ["+d+"] in "+(null==p?void 0:p.name)+" - property is unknown"),"continue";var k=null!==(i=g[s])&&void 0!==i?i:[w];if("class-instance"===w&&"object"===S);else if(null!=w&&null!=S&&!k.includes(S))return ot.warn("unable to set ["+d+"] in "+(null==p?void 0:p.name)+" - can't apply type of ["+S+"], allowed types are: ["+k+"]"),"continue";if("array"===S)if(null!=(m=null!==(o=null!=m?m:y.get(v))&&void 0!==o?o:f[s+"[]"])){var O=c;b[a]=O.map((function(t,e){return zr(new m,t,Nr(Nr({},n),{path:d,matcherPath:s+"[]",idx:e}))}))}else b[a]=c;else"class-instance"===S?b[a]=c:"object"===S?null!=v?zr(v,c,Nr(Nr({},n),{path:d,matcherPath:s,idx:void 0})):b[a]=null!=m?zr(new m,c,Nr(Nr({},n),{path:d,matcherPath:s,idx:void 0})):c:b[a]=c}catch(t){return ot.warn("unable to set ["+d+"] in ["+(null==p?void 0:p.name)+"]; nested error is: "+t.message),"continue"}};for(var S in e)w(S);return t}function Gr(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Kr(t),l=null!==(r=n.skip)&&void 0!==r?r:[];if("array"!==a){if("object"===a){e.apply(void 0,Lr([a,t],Rr(i)));var s=function(r){if(l.indexOf(r)>=0)return"continue";var o=t[r],a=null==i?void 0:i.map((function(t){return null==t?void 0:t[r]})),s=Kr(o);"object"!==s&&"array"!==s||Gr.apply(void 0,Lr([o,e,n],Rr(a)))};for(var u in t)s(u)}}else t.forEach((function(t,r){Gr.apply(void 0,Lr([t,e,n],Rr((null!=i?i:[]).map((function(t){return null==t?void 0:t[r]})))))}))}var Wr="undefined"!=typeof window;function Kr(t){return null==t?null:Wr&&t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var Vr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yr=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Xr=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var n,r=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:r,handler:e}),r},t.prototype.dispatch=function(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=null!==(r=this.registeredListeners[t])&&void 0!==r?r:[],l=[];try{for(var s=Vr(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{l.push(c.handler.apply(c,Yr([],Hr(i))))}catch(t){ot.errorOnce(t),l.push(void 0)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return l},t.prototype.cancellableDispatch=function(t,e){for(var n,r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],s=[];try{for(var u=Vr(l),c=u.next();!c.done;c=u.next()){var h=c.value;if(e())break;s.push(h.handler.apply(h,Yr([],Hr(o))))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},t.prototype.reduceDispatch=function(t,e){for(var n,r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l=null!==(i=this.registeredListeners[t])&&void 0!==i?i:[],s=void 0;try{for(var u=Vr(l),c=u.next();!c.done;c=u.next()){var h=c.value;s=h.handler.apply(h,Yr([],Hr(o))),o=e.apply(void 0,Yr([s],Hr(o)))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],r=null==n?void 0:n.findIndex((function(e){return e.symbol===t}));null!=r&&r>=0&&(null==n||n.splice(r,1)),null!=r&&0===(null==n?void 0:n.length)&&delete this.registeredListeners[e]}},t}(),Ur=function(){function t(){this.listeners=new Xr}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}();function Zr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qr(t,e){if("string"==typeof t)try{t=$t.fromString(t)}catch(e){t=$t.fromArray([0,0,0])}if("string"==typeof e)try{e=$t.fromString(e)}catch(t){e=$t.fromArray([0,0,0])}var n=Zr(t.r,e.r),r=Zr(t.g,e.g),i=Zr(t.b,e.b),o=Zr(t.a,e.a);return function(t){return $t.fromArray([n(t),r(t),i(t),o(t)]).toRgbaString()}}function Jr(t,e){var n=typeof e;if("number"===n)return Zr(t,e);if("string"===n)try{return qr(t,e=$t.fromString(e))}catch(t){}throw new Error("Unable to interpolate values")}function $r(t){return function(e){var n=Jr(e.from,e.to);return function(e){return n(t(e))}}}function Qr(t){return Jr(t.from,t.to)}var ti,ei=$r((function(t){return 1-Math.cos(t*Math.PI/2)})),ni=$r((function(t){return Math.sin(t*Math.PI/2)})),ri=$r((function(t){return-(Math.cos(t*Math.PI)-1)/2})),ii=$r((function(t){if(0===t||1===t)return t;var e=Math.pow(2,-10*t),n=10*t-.75,r=2*Math.PI/3;return e*Math.sin(n*r)+1})),oi=Object.freeze({__proto__:null,linear:Qr,easeIn:ei,easeOut:ni,easeInOut:ri,easeOutElastic:ii}),ai=function(){return(ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function li(t){var e,n=t.driver,r=t.duration,i=t.from,o=t.to,a=t.autoplay,l=void 0===a||a,s=t.delay,u=void 0===s?0:s,c=t.ease,h=void 0===c?Qr:c,d=t.repeat,f=void 0===d?0:d,p=t.repeatType,y=void 0===p?ti.Loop:p,v=t.onComplete,g=t.onPlay,m=t.onRepeat,b=t.onStop,x=t.onUpdate,w=0,S=0,k=0,O=!0,_=!1,D=h({from:i,to:o}),M={isPlaying:!1,play:E,pause:function(){return M.isPlaying=!1,M},stop:P,reset:function(){return _=!1,S=0,k=0,C.reset(),M}},C=n((function(t){O||(t=-t),w>=u?(S+=t,_||(e=D(Math.min(1,Math.max(0,S/r))),_=O?S>=r:S<=0),null==x||x(e),_&&(k<f?(k++,y===ti.Reverse?S=(O=k%2==0)?S%r:r-S%r:S%=r,_=!1,null==m||m()):(P(),null==v||v()))):w+=t}));function E(){return M.isPlaying=!0,C.start(),null==g||g(),M}function P(){return M.isPlaying=!1,C.stop(),null==b||b(),M}return l&&E(),M}!function(t){t.Loop="loop",t.Reverse="reverse"}(ti||(ti={}));var si,ui=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ci=function(){return(ci=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},hi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},di=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},pi=function(t){function e(e){var n=t.call(this)||this;return n.controllers={},n.throttles={},n.throttleGroups=new Set,n.updaters=[],n.isPlaying=!1,n.readyToPlay=!1,n.defaultOptions={},n.skipAnimations=!1,n.debug=!1,n.interactionManager=e,window.addEventListener("DOMContentLoaded",(function(){n.readyToPlay=!0})),setTimeout((function(){n.readyToPlay=!0}),10),n}return ui(e,t),e.prototype.play=function(){if(!this.isPlaying){for(var t in this.isPlaying=!0,this.debug&&ot.debug("AnimationManager.play()"),this.controllers)this.controllers[t].play();this.startAnimationCycle()}},e.prototype.pause=function(){if(this.isPlaying)for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&ot.debug("AnimationManager.pause()"),this.controllers)this.controllers[t].pause()},e.prototype.stop=function(){for(var t in this.isPlaying=!1,this.cancelAnimationFrame(),this.debug&&ot.debug("AnimationManager.stop()"),this.controllers)this.controllers[t].stop()},e.prototype.reset=function(){this.isPlaying?(this.stop(),this.play()):this.stop()},e.prototype.animate=function(t,e){var n,r,i=e.disableInteractions,o=void 0===i||i,a=hi(e,["disableInteractions"]);if(!this.skipAnimations){var l=ci(ci({},a),{autoplay:!!this.isPlaying&&a.autoplay,driver:this.createDriver(t,o)});this.controllers[t]&&this.controllers[t].stop();var s=li(l);return this.controllers[t]=s,null===(r=a.onUpdate)||void 0===r||r.call(a,a.from),s}null===(n=a.onUpdate)||void 0===n||n.call(a,a.to)},e.prototype.animateMany=function(t,e,n){var r,i,o;if(this.skipAnimations){var a=e.map((function(t){return t.to}));return n.onUpdate(a),void(null===(o=n.onComplete)||void 0===o||o.call(n))}var l=e.map((function(t){return t.from})),s=0,u=0,c=0,h=0,d=function(t){return function(r){var i;l[t]=r,++c>=e.length&&(null===(i=n.onUpdate)||void 0===i||i.call(n,l),c=0)}},f=function(){var t;++s>=e.length&&(null===(t=n.onPlay)||void 0===t||t.call(n))},p=function(){var t;++u>=e.length&&(null===(t=n.onStop)||void 0===t||t.call(n))},y=function(){var t;++h>=e.length&&(null===(t=n.onComplete)||void 0===t||t.call(n))},v=0;try{for(var g=di(e),m=g.next();!m.done;m=g.next()){var b=m.value,x=t+"-"+v;this.animate(x,ci(ci(ci({},n),b),{onUpdate:d(v),onPlay:f,onStop:p,onComplete:y})),v++}}catch(t){r={error:t}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}},e.prototype.animateWithThrottle=function(t,e){var n,r=null!==(n=e.throttleId)&&void 0!==n?n:t;this.throttles[r]&&e.duration&&Date.now()-this.throttles[r]<e.duration&&(e.delay=0,e.duration=1),this.throttles[t]=Date.now(),this.animate(t,ci({},e))},e.prototype.animateManyWithThrottle=function(t,e,n){var r,i=this,o=n.throttleGroup,a=null!==(r=n.throttleId)&&void 0!==r?r:t,l=Date.now(),s=this.throttles[a]&&n.duration&&l-this.throttles[a]<n.duration,u=o&&this.throttleGroups.has(o);return s&&!u&&(n.delay=0,n.duration=1),!s&&o&&this.throttleGroups.add(o),this.throttles[a]=l,this.animateMany(t,e,ci(ci({},n),{onStop:function(){var t;o&&i.throttleGroups.delete(o),null===(t=n.onStop)||void 0===t||t.call(n)}}))},e.prototype.tween=function(t){var e="tween-"+btoa(JSON.stringify(t));return function(t){var e,n=li(ai(ai({},t),{autoplay:!1,onUpdate:function(t){null==e||e(t)}})),r={start:function(t){return n.stop(),n.reset(),n.play(),e=t,r},stop:function(){return n.stop(),r}};return r}(ci(ci({},t),{driver:this.createDriver(e)}))},e.prototype.createDriver=function(t,e){var n=this;return function(r){return{start:function(){n.updaters.push([t,r]),null==n.requestId&&n.startAnimationCycle(),e&&n.interactionManager.pause("animation_"+t)},stop:function(){delete n.controllers[t],n.updaters=n.updaters.filter((function(e){return fi(e,1)[0]!==t})),n.updaters.length<=0&&n.cancelAnimationFrame(),e&&n.interactionManager.resume("animation_"+t)},reset:function(){}}}},e.prototype.startAnimationCycle=function(){var t=this;if(0!==this.updaters.length){var e=function(n){if(t.requestId=requestAnimationFrame(e),t.readyToPlay){void 0===t.lastTime&&(t.lastTime=n);var r=n-t.lastTime;t.lastTime=n,t.debug&&ot.debug("AnimationManager - frame()",{updaterCount:t.updaters.length}),t.updaters.forEach((function(t){var e=fi(t,2);return e[0],(0,e[1])(r)})),t.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})}};this.requestId=requestAnimationFrame(e)}},e.prototype.cancelAnimationFrame=function(){this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=void 0,this.lastTime=void 0)},e}(Ur),yi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},vi=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var n=yi(e,2);n[0];var r=n[1].style;return t=r})),this.element.style.cursor=t},t}(),gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gi(e,t),e.prototype.legendItemClick=function(t,e,n,r){var i={type:"legend-item-click",series:t,itemId:e,enabled:n,legendItemName:r};this.listeners.dispatch("legend-item-click",i)},e.prototype.legendItemDoubleClick=function(t,e,n,r,i){var o={type:"legend-item-double-click",series:t,itemId:e,enabled:n,legendItemName:i,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",o)},e.prototype.axisHover=function(t,e){var n={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",n)},e}(Ur),bi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},wi=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return bi(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t,e,n=this.activeHighlight,r=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var e=xi(t,2);e[0];var n=e[1].highlightedDatum;return r=n})),this.activeHighlight=r,t=n,e=this.activeHighlight,t!==e&&((null==t?void 0:t.series)!==(null==e?void 0:e.series)||(null==t?void 0:t.itemId)!==(null==e?void 0:e.itemId)||(null==t?void 0:t.datum)!==(null==e?void 0:e.datum))){var i={type:"highlight-change",previousHighlight:n,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",i)}},e}(Ur),Si=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ki=function(){return(ki=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Oi=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},_i=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Di=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mi=["pagehide","mousemove","mouseup","wheel"],Ci=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],Ei=function(t){function e(n,r){var i,o,a,l;void 0===r&&(r=document);var s=t.call(this)||this;s.eventHandler=function(t){return s.processEvent(t)},s.mouseDown=!1,s.touchDown=!1,s.enabled=!0,s.pausers=[],s.rootElement=r.body,s.element=n;try{for(var u=Di(Ci),c=u.next();!c.done;c=u.next())(f=c.value).startsWith("touch")?n.addEventListener(f,s.eventHandler,{passive:!0}):n.addEventListener(f,s.eventHandler)}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}try{for(var h=Di(Mi),d=h.next();!d.done;d=h.next()){var f;"wheel"===(f=d.value)?window.addEventListener(f,s.eventHandler,{passive:!1}):window.addEventListener(f,s.eventHandler)}}catch(t){a={error:t}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}if(e.interactionDocuments.indexOf(r)<0){var p=document.createElement("style");p.innerHTML="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",document.head.insertBefore(p,document.head.querySelector("style")),e.interactionDocuments.push(r)}return s}return Si(e,t),e.prototype.destroy=function(){var t,e,n,r;try{for(var i=Di(Mi),o=i.next();!o.done;o=i.next()){var a=o.value;window.removeEventListener(a,this.eventHandler)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var l=Di(Ci),s=l.next();!s.done;s=l.next())a=s.value,this.element.removeEventListener(a,this.eventHandler)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},e.prototype.resume=function(t){return this.pausers=this.pausers.filter((function(e){return e!==t})),this.enabled=this.pausers.length<=0,this.enabled},e.prototype.pause=function(t){this.enabled=!1,this.pausers.push(t)},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.enabled&&this.dispatchEvent(t,e).catch((function(t){return ot.errorOnce(t)}))},e.prototype.dispatchEvent=function(t,e){return Oi(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u;return _i(this,(function(c){if(null==(n=this.calculateCoordinates(t)))return[2];r=function(e){var r=i.buildEvent(ki(ki({event:t},n),{type:e}));i.listeners.cancellableDispatch(e,(function(){return r.consumed}),r)},i=this;try{for(o=Di(e),a=o.next();!a.done;a=o.next())l=a.value,r(l)}catch(t){s={error:t}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(s)throw s.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var n;if(t instanceof MouseEvent){var r=t.clientX,i=t.clientY,o=t.pageX,a=t.pageY,l=t.offsetX,s=t.offsetY;return this.fixOffsets(t,{clientX:r,clientY:i,pageX:o,pageY:a,offsetX:l,offsetY:s})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var u=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];return r=u.clientX,i=u.clientY,o=u.pageX,a=u.pageY,ki(ki({},e.NULL_COORDS),{clientX:r,clientY:i,pageX:o,pageY:a})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var n=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var r=n(this.dragStartElement),i=n(t.target);e.offsetX-=r.x-i.x,e.offsetY-=r.y-i.y}return e},e.prototype.buildEvent=function(t){var e=t.type,n=t.event,r=t.clientX,i=t.clientY,o=t.offsetX,a=t.offsetY,l=t.pageX,s=t.pageY;if(!qt(o)||!qt(a)){var u=this.element.getBoundingClientRect();o=r-u.left,a=i-u.top}if(!qt(l)||!qt(s)){var c=this.rootElement.getBoundingClientRect();l=r-c.left,s=i-c.top}var h={type:e,offsetX:o,offsetY:a,pageX:l,pageY:s,sourceEvent:n,consumed:!1,consume:function(){return h.consumed=!0}};return h},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(Ur),Pi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ti=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ni=function(){function t(t,e){var n=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var r=e.addListener("hover",(function(t){return n.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(r)}))}return t.prototype.updateTooltip=function(t,e,n){var r;null==n&&(n=null===(r=this.states[t])||void 0===r?void 0:r.content),this.states[t]={content:n,meta:e},this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var n=Pi(this.destroyFns),r=n.next();!r.done;r=n.next())(0,r.value)()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,n,r;try{for(var i=Pi(Object.entries(this.exclusiveAreas)),o=i.next();!o.done;o=i.next()){var a=Ti(o.value,2),l=a[0];if(a[1].containsPoint(t.offsetX,t.offsetY)){r=l;break}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=r,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,n=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),r=void 0,i=void 0;if(n.reverse(),n.slice(0,1).forEach((function(t){var n,o=null!==(n=e.states[t])&&void 0!==n?n:{},a=o.content,l=o.meta;r=a,i=l})),void 0===i||void 0===r)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===r){var o=this.tooltip.isVisible();this.tooltip.show(i,void 0,o)}else this.tooltip.show(i,r);this.appliedState={content:r,meta:i}},t}(),Ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Li=function(){return(Li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ai=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ii=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.axes={},e}return Ri(e,t),e.prototype.updateAxes=function(t){var e=this,n=new Set(Object.keys(this.axes));t.forEach((function(t){var r,i,o;n.delete(t.id),null!==(r=(i=e.axes)[o=t.id])&&void 0!==r||(i[o]=new Fi(t))})),n.forEach((function(t){delete e.axes[t]})),this.initialZoom&&(this.updateZoom(this.initialZoom.callerId,this.initialZoom.newZoom),this.initialZoom=void 0)},e.prototype.updateZoom=function(t,e){0!==Object.keys(this.axes).length?(Object.values(this.axes).forEach((function(n){n.updateZoom(t,null==e?void 0:e[n.getDirection()])})),this.applyStates()):this.initialZoom={callerId:t,newZoom:e}},e.prototype.updateAxisZoom=function(t,e,n){var r;null===(r=this.axes[e])||void 0===r||r.updateZoom(t,n),this.applyStates()},e.prototype.getZoom=function(){var t,e;if(Object.values(this.axes).forEach((function(n){n.getDirection()===Fe.X?t=n.getZoom():n.getDirection()===Fe.Y&&(e=n.getZoom())})),t||e)return{x:t,y:e}},e.prototype.getAxisZoom=function(t){var e;return null===(e=this.axes[t])||void 0===e?void 0:e.getZoom()},e.prototype.getAxisZooms=function(){var t,e,n={};try{for(var r=Ai(Object.entries(this.axes)),i=r.next();!i.done;i=r.next()){var o=Ii(i.value,2),a=o[0],l=o[1];n[a]={direction:l.getDirection(),zoom:l.getZoom()}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},e.prototype.applyStates=function(){var t,e;if(Object.values(this.axes).map((function(t){return t.applyStates()})).some(Boolean)){var n=this.getZoom(),r={};try{for(var i=Ai(Object.entries(this.axes)),o=i.next();!o.done;o=i.next()){var a=Ii(o.value,2),l=a[0],s=a[1];r[l]=s.getZoom()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}var u=Li(Li({type:"zoom-change"},null!=n?n:{}),{axes:r});this.listeners.dispatch("zoom-change",u)}},e}(Ur),Fi=function(){function t(t){this.states={},this.currentZoom=void 0,this.axis=t}return t.prototype.getDirection=function(){return this.axis.direction},t.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=Li({},e))},t.prototype.getZoom=function(){return this.currentZoom},t.prototype.applyStates=function(){var t,e,n=this.currentZoom,r=Object.keys(this.states)[Object.keys(this.states).length-1];return this.currentZoom=Li({},this.states[r]),(null==n?void 0:n.min)!==(null===(t=this.currentZoom)||void 0===t?void 0:t.min)||(null==n?void 0:n.max)!==(null===(e=this.currentZoom)||void 0===e?void 0:e.max)},t}(),Bi=function(){return(Bi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},zi=function(){function t(){this.layoutProcessors=new Xr,this.listeners=new Xr}return t.prototype.addListener=function(t,e){if("layout-complete"!==t)return this.layoutProcessors.addListener(t,e);if(function(t){return"layout-complete"===t}(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var n=this.layoutProcessors.reduceDispatch(t,(function(t,e){var n=t.shrinkRect;return[Bi(Bi({},e),{shrinkRect:n})]}),e);return null!=n?n:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),Gi=function(t){this.getSeries=t};!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(si||(si={}));var Wi=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t,e){void 0===t&&(t=si.FULL);var n=(void 0===e?{}:e).forceNodeDataRefresh,r=void 0!==n&&n;this.updateCallback(t,{forceNodeDataRefresh:r})},t}(),Ki=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Vi=function(){function t(){this.range="tooltip"}return Ki([ne(Ie("tooltip","node"))],t.prototype,"range",void 0),t}(),Hi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xi=function(){function t(t,e,n){void 0===n&&(n=!0),this._nodes=[],this._data=[],this._datumNodeIndices=new Map,this._garbage=[],this._garbageCollection=!0,this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(J,e)?function(){return new e}:e,this._garbageCollection=n}return t.select=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t.prototype.each=function(t){return this._nodes.forEach((function(e,n){return t(e,e.datum,n)})),this},t.prototype.update=function(t,e,n){var r,i,o=this,a=this._data,l=this._parent,s=this._factory,u=new Map;if(n?t.forEach((function(t,r){var i=n(t);if(u.set(i,r),!o._datumNodeIndices.has(i)){var a=s(t);a.datum=t,null==e||e(a),l.appendChild(a),o._nodes.push(a),o._datumNodeIndices.set(i,o._nodes.length-1)}})):t.length>a.length?t.slice(a.length).forEach((function(t){var n=s(t);n.datum=t,null==e||e(n),l.appendChild(n),o._nodes.push(n)})):t.length<a.length&&this._nodes.splice(t.length).forEach((function(t){l.removeChild(t)})),this._data=t.slice(0),n){try{for(var c=Hi(this._datumNodeIndices),h=c.next();!h.done;h=c.next()){var d=Yi(h.value,2),f=d[0],p=d[1],y=u.get(f);void 0!==y?this._nodes[p].datum=t[y]:this._garbage.push(f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this._garbageCollection&&this.cleanup()}else for(var v=0;v<t.length;v++)this._nodes[v].datum=this._data[v];return this},t.prototype.clear=function(){return this.update([]),this},t.prototype.cleanup=function(){var t,e,n=this;if(0!==this._garbage.length){this._garbage.forEach((function(t){var e=n._datumNodeIndices.get(t);if(void 0!==e){var r=n._nodes[e];delete n._nodes[e],n._datumNodeIndices.delete(t),r&&n._parent.removeChild(r)}}));var r=0,i=this._datumNodeIndices.entries(),o=new Map;try{for(var a=Hi(i),l=a.next();!l.done;l=a.next()){var s=Yi(l.value,2),u=s[0],c=s[1];o.set(c,u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this._nodes=this._nodes.filter((function(t,e){if(void 0===t)return!1;var i=o.get(e);return n._datumNodeIndices.set(i,r),r++,!0})),this._garbage=[]}},t.selectAll=function(t,e){var n=[],r=function(t){e(t)&&n.push(t),t.children.forEach(r)};return r(t),n},t.selectByClass=function(e,n){return t.selectAll(e,(function(t){return t instanceof n}))},t.selectByTag=function(e,n){return t.selectAll(e,(function(t){return t.tag===n}))},t.prototype.select=function(e){return t.selectAll(this._parent,e)},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}();function Ui(t,e,n,r){if(0===t)return function(t,e,n){if(0===t)return function(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}(e,n);var r=e*e-4*t*n,i=[];if(0===r){var o=-e/(2*t);o>=0&&o<=1&&i.push(o)}else if(r>0){var a=Math.sqrt(r),l=(-e-a)/(2*t),s=(-e+a)/(2*t);l>=0&&l<=1&&i.push(l),s>=0&&s<=1&&i.push(s)}return i}(e,n,r);var i=e/t,o=n/t,a=(3*o-i*i)/9,l=(9*i*o-r/t*27-2*i*i*i)/54,s=a*a*a+l*l,u=[];if(s>=0){var c=Math.sqrt(s),h=Math.sign(l+c)*Math.pow(Math.abs(l+c),1/3),d=Math.sign(l-c)*Math.pow(Math.abs(l-c),1/3),f=Math.abs(Math.sqrt(3)*(h-d)/2),p=-1/3*i+(h+d);if(p>=0&&p<=1&&u.push(p),0===f){var y=-1/3*i-(h+d)/2;y>=0&&y<=1&&u.push(y)}}else{var v=Math.acos(l/Math.sqrt(-a*a*a)),g=1/3*i,m=2*Math.sqrt(-a),b=m*Math.cos(1/3*v)-g,x=m*Math.cos(1/3*(v+2*Math.PI))-g,w=m*Math.cos(1/3*(v+4*Math.PI))-g;b>=0&&b<=1&&u.push(b),x>=0&&x<=1&&u.push(x),w>=0&&w<=1&&u.push(w)}return u}var Zi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function qi(t,e,n,r,i,o,a,l){var s=(n-t)*(l-o)-(r-e)*(a-i);if(0===s)return null;var u=((a-i)*(e-o)-(t-i)*(l-o))/s,c=((n-t)*(e-o)-(r-e)*(t-i))/s;return u>=0&&u<=1&&c>=0&&c<=1?{x:t+u*(n-t),y:e+u*(r-e)}:null}function Ji(t,e,n,r,i,o,a,l,s,u,c,h){var d,f,p=[],y=u-h,v=c-s,g=s*(h-u)-u*(c-s),m=$i(t,n,i,a),b=$i(e,r,o,l),x=Ui(y*m[0]+v*b[0],y*m[1]+v*b[1],y*m[2]+v*b[2],y*m[3]+v*b[3]+g);try{for(var w=Zi(x),S=w.next();!S.done;S=w.next()){var k=S.value,O=k*k,_=k*O,D=m[0]*_+m[1]*O+m[2]*k+m[3],M=b[0]*_+b[1]*O+b[2]*k+b[3],C=void 0;(C=s!==c?(D-s)/(c-s):(M-u)/(h-u))>=0&&C<=1&&p.push({x:D,y:M})}}catch(t){d={error:t}}finally{try{S&&!S.done&&(f=w.return)&&f.call(w)}finally{if(d)throw d.error}}return p}function $i(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function Qi(t,e,n,r,i,o,a,l,s,u){var c=(u-l)/(s-a),h=l-c*a,d=Math.pow(c,2)+1,f=2*(c*(h-e)-t),p=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(n,2),y=Math.pow(f,2)-4*d*p;if(y<0)return[];var v=(-f+Math.sqrt(y))/2/d,g=(-f-Math.sqrt(y))/2/d,m=[];return[v,g].forEach((function(t){if(t>=Math.min(a,s)&&t<=Math.max(a,s)){var e=c*t,n=Ot(o?i:r),l=Ot(o?r:i),u=Ot(Math.atan2(e,t));l<=n&&(l+=2*Math.PI),u<n&&(u+=2*Math.PI),u>=n&&u<=l&&m.push({x:t,y:e})}})),m}var to,eo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(to||(to={}));var no=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,r=this.commands,i=this.params,o=0;t.beginPath();try{for(var a=eo(r),l=a.next();!l.done;l=a.next())switch(l.value){case to.Move:t.moveTo(i[o++],i[o++]);break;case to.Line:t.lineTo(i[o++],i[o++]);break;case to.Curve:t.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case to.Arc:t.arc(i[o++],i[o++],i[o++],i[o++],i[o++],1===i[o++]);break;case to.ClosePath:t.closePath()}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}0===r.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(to.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(to.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.closePath()},t.prototype.arc=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=t+n*Math.cos(i),l=e+n*Math.sin(i);this.xy?(this.xy[0]=a,this.xy[1]=l):this.xy=[a,l],this.commands.push(to.Arc),this.params.push(t,e,n,r,i,o?1:0)},t.prototype.cubicCurveTo=function(t,e,n,r,i,o){this.xy||this.moveTo(t,e),this.commands.push(to.Curve),this.params.push(t,e,n,r,i,o),this.xy&&(this.xy[0]=i,this.xy[1]=o)},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(to.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,r=this.params,i=n.length,o=-1e4,a=-1e4,l=NaN,s=NaN,u=0,c=0,h=0,d=0,f=0;d<i;d++)switch(n[d]){case to.Move:isNaN(l)||qi(l,s,u,c,o,a,t,e)&&h++,l=u=r[f++],s=c=r[f++];break;case to.Line:qi(u,c,r[f++],r[f++],o,a,t,e)&&h++,u=r[f-2],c=r[f-1];break;case to.Curve:h+=Ji(u,c,r[f++],r[f++],r[f++],r[f++],r[f++],r[f++],o,a,t,e).length,u=r[f-2],c=r[f-1];break;case to.Arc:h+=Qi(r[f++],r[f++],r[f++],r[f++],r[f++],Boolean(r[f++]),o,a,t,e).length,u=r[f-2],c=r[f-1];break;case to.ClosePath:isNaN(l)||qi(l,s,u,c,o,a,t,e)&&h++}return h%2==1},t}(),ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),io=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function oo(t){var e=null!=t?t:{},n=e.redraw,r=void 0===n?T.MAJOR:n,i=e.changeCb;return W({redraw:r,type:"path",convertor:e.convertor,changeCb:i})}var ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new no,e._dirtyPath=!0,e}return ro(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,T.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,r,i=e.ctx,o=e.forceRender,a=e.stats;if(this.dirty!==T.NONE||o){if(this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(i.save(),"normal"===this.clipMode&&(this.clipPath.draw(i),i.clip()),this.path.draw(i),this.fillStroke(i),"punch-out"===this.clipMode){this.clipPath.draw(i),i.clip();var l=null!==(n=this.computeBBox())&&void 0!==n?n:{},s=l.x,u=void 0===s?-1e4:s,c=l.y,h=void 0===c?-1e4:c,d=l.width,f=void 0===d?2e4:d,p=l.height,y=void 0===p?2e4:p;i.clearRect(u,h,f,y)}i.restore()}else this.path.draw(i),this.fillStroke(i);null===(r=this.fillShadow)||void 0===r||r.markClean(),t.prototype.render.call(this,e)}else a&&(a.nodesSkipped+=this.nodeCount.count)},e.className="Path",io([oo()],e.prototype,"clipPath",void 0),io([oo()],e.prototype,"clipMode",void 0),e}(Nt),lo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),so=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},uo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return lo(e,t),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.size,r=n/2;return new A(t-r,e-r,n,n)},e.prototype.applyPath=function(t,e){var n,r,i=this.path,o=this.x,a=this.y;i.clear();try{for(var l=uo(e),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.x,h=u.y,d=u.t;o+=c*t,a+=h*t,"move"===d?i.moveTo(o,a):i.lineTo(o,a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}i.closePath()},so([oo()],e.prototype,"x",void 0),so([oo()],e.prototype,"y",void 0),so([oo({convertor:Math.abs})],e.prototype,"size",void 0),e}(ao),ho=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ho(e,t),e.prototype.updatePath=function(){var t=this.path,e=this.x,n=this.y,r=this.size/2;t.clear(),t.moveTo(this.align(e-r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n+r)),t.lineTo(this.align(e-r),this.align(n+r)),t.closePath()},e.className="Square",e}(co),po=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},vo=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new jt,e._marker=new fo,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=N.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return po(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",yo([Yn("label")],e.prototype,"text",void 0),yo([Yn("label")],e.prototype,"fontStyle",void 0),yo([Yn("label")],e.prototype,"fontWeight",void 0),yo([Yn("label")],e.prototype,"fontSize",void 0),yo([Yn("label")],e.prototype,"fontFamily",void 0),yo([Yn("label","fill")],e.prototype,"color",void 0),yo([Yn("marker","fill")],e.prototype,"markerFill",void 0),yo([Yn("marker","stroke")],e.prototype,"markerStroke",void 0),yo([Yn("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),yo([Yn("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),yo([Yn("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(dt),go=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return go(e,t),e.prototype.updatePath=function(){var t=this.x,e=this.y,n=this.path,r=this.size/2;n.clear(),n.arc(t,e,r,0,2*Math.PI),n.closePath()},e.className="Circle",e}(co),bo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bo(e,t),e.prototype.updatePath=function(){var n=this.size/4.2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(co),wo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wo(e,t),e.prototype.updatePath=function(){var n=this.size/2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(co),ko=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ko(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this.x,e=this.path,n=this.size,r=this.rad,i=n/4,o=this.y+i/2;e.clear(),e.arc(t-i,o-i,i,r(130),r(330)),e.arc(t+i,o-i,i,r(220),r(50)),e.lineTo(t,o+i),e.closePath()},e.className="Heart",e}(co),_o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _o(e,t),e.prototype.updatePath=function(){var n=this.size/3;t.prototype.applyPath.call(this,n,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(co),Mo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mo(e,t),e.prototype.updatePath=function(){var n=1.1*this.size;t.prototype.applyPath.call(this,n,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(co);function Eo(t){if(void 0===t&&(t=fo),"string"==typeof t)switch(t){case"circle":return mo;case"cross":return xo;case"diamond":return So;case"heart":return Oo;case"plus":return Do;case"triangle":return Co;default:return fo}return"function"==typeof t?t:fo}var Po=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function To(t){for(var e=t.orientation,n=t.bboxes,r=t.maxHeight,i=t.maxWidth,o=t.itemPaddingY,a=void 0===o?0:o,l=t.itemPaddingX,s=void 0===l?0:l,u=t.forceResult,c=void 0!==u&&u,h="horizontal"===e,d={max:h?i:r,fn:h?function(t){return t.width}:function(t){return t.height},padding:h?s:a},f={max:h?r:i,fn:h?function(t){return t.height}:function(t){return t.width},padding:h?a:s},p=0,y=[];p<n.length;){var v=No(n.slice(p),p,d,f,c);if(!v)return;p+=v.processedBBoxCount,y.push(v.pageIndices)}return function(t,e,n,r,i){var o=0,a=0;return{pages:t.map((function(t){"horizontal"===e&&(t=function(t){var e,n,r=[];try{for(var i=Po(t[0]),o=i.next();!o.done;o=i.next())o.value,r.push([])}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,n){r[n][e]=t}))})),r}(t));var l=0,s=t.map((function(t){var e=t.map((function(t){return l=Math.max(t,l),n[t]})),o=0,a=0;return e.forEach((function(t){o+=t.height+r,a=Math.max(a,t.width+i)})),{indices:t,bboxes:e,columnHeight:o,columnWidth:a}})),u=0,c=0;return s.forEach((function(t){u+=t.columnWidth,c=Math.max(c,t.columnHeight)})),o=Math.max(u,o),a=Math.max(c,a),{columns:s,startIndex:t[0][0],endIndex:l,pageWidth:u,pageHeight:c}})),maxPageWidth:o,maxPageHeight:a}}(y,e,n,a,s)}function No(t,e,n,r,i){var o=function(t,e){for(var n=t.length,r=0,i=0;i<n;i++)if((r+=e.fn(t[i])+e.padding)>e.max)return n/i<2?Math.ceil(n/2):i;return n}(t,n);if(o<1){if(!i)return;o=1}for(var a=o;a>=1;a--){var l=Ro(t,e,a,n,r,i);if(null==l&&a<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;a=l<a&&l>1?l:a}}}function Ro(t,e,n,r,i,o){for(var a,l=[],s=0,u=0,c=[],h=[],d=0;d<t.length;d++){var f=(d+n)%n;0===f&&(s+=u,u=0,c.length>0&&l.push(c),c=[]);var p=r.fn(t[d])+r.padding;h[f]=Math.max(null!==(a=h[f])&&void 0!==a?a:0,p);var y=s+(u=Math.max(u,i.fn(t[d])+i.padding)),v=!o||l.length>0;if(y>i.max&&v){c=[];break}if(h.reduce((function(t,e){return t+e}),0)>r.max&&!o)return h.length<n?h.length:void 0;c.push(d+e)}return c.length>0&&l.push(c),l.length>0?l:void 0}var Lo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ao=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return Lo([ne(_e)],t.prototype,"color",void 0),Lo([ne(Ke)],t.prototype,"fontStyle",void 0),Lo([ne(He)],t.prototype,"fontWeight",void 0),Lo([ne(Ee(0))],t.prototype,"fontSize",void 0),Lo([ne(ve)],t.prototype,"fontFamily",void 0),t}(),Io=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return Lo([ne(Ee(0))],t.prototype,"size",void 0),Lo([ne(De)],t.prototype,"fill",void 0),Lo([ne(Pe(0,1))],t.prototype,"fillOpacity",void 0),Lo([ne(De)],t.prototype,"stroke",void 0),Lo([ne(Ee(0))],t.prototype,"strokeWidth",void 0),Lo([ne(Ee(0,1))],t.prototype,"strokeOpacity",void 0),t}(),jo=function(){function t(){this.size=15,this._shape=Co,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),Lo([ne(Ee(0))],t.prototype,"size",void 0),Lo([ne(Ee(0))],t.prototype,"padding",void 0),t}(),Fo=function(){function t(t,e,n,r){var i=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=r,this.id=z(this),this.group=new dt({name:"pagination"}),this.labelNode=new jt,this.marker=new jo,this.activeStyle=new Io,this.inactiveStyle=new Io,this.highlightStyle=new Io,this.label=new Ao,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Co,this._previousButton=new Co;var o=this.labelNode;o.textBaseline="middle",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.fill="black",o.y=N.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,o]),this.interactionManager.addListener("click",(function(t){return i.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return i.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){switch(this._orientation=t,t){case"horizontal":this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break;case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this.currentPage,e=this.totalPages,n=this.labelNode,r=this.label,i=r.color,o=r.fontStyle,a=r.fontWeight,l=r.fontSize,s=r.fontFamily;n.text=t+1+" / "+e,n.fill=i,n.fontStyle=o,n.fontWeight=a,n.fontSize=l,n.fontFamily=s},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,n=t.previousButton,r=t.nextButtonDisabled,i=t.previousButtonDisabled,o=t.activeStyle,a=t.inactiveStyle,l=t.highlightStyle,s=t.highlightActive,u=function(t,e){return e?a:t===s?l:o};this.updateMarker(e,u("next",r)),this.updateMarker(n,u("previous",i))},t.prototype.updateMarker=function(t,e){var n,r=this.marker.size;t.size=r,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,n=0===e,r=t===e-1,i=0===t;this.nextButtonDisabled=r||n,this.previousButtonDisabled=i||n},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(si.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=Eo(this.marker.shape||Co);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(si.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),Bo=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},zo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Go=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Wo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ko=["horizontal","vertical"],Vo=re((function(t,e){return ie(t,e,(function(t){return Ko.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),Ho=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return Bo([ne(Pe(0))],t.prototype,"maxLength",void 0),Bo([ne(_e)],t.prototype,"color",void 0),Bo([ne(Ke)],t.prototype,"fontStyle",void 0),Bo([ne(He)],t.prototype,"fontWeight",void 0),Bo([ne(Ee(0))],t.prototype,"fontSize",void 0),Bo([ne(ve)],t.prototype,"fontFamily",void 0),Bo([ne(fe)],t.prototype,"formatter",void 0),t}(),Yo=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),Bo([ne(Ee(0))],t.prototype,"size",void 0),Bo([ne(Ee(0))],t.prototype,"padding",void 0),Bo([ne(Ee(0))],t.prototype,"strokeWidth",void 0),t}(),Xo=function(){function t(){this.marker=new Yo,this.label=new Ho,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return Bo([ne(Pe(0))],t.prototype,"maxWidth",void 0),Bo([ne(Ee(0))],t.prototype,"paddingX",void 0),Bo([ne(Ee(0))],t.prototype,"paddingY",void 0),Bo([ne(pe)],t.prototype,"toggleSeriesVisible",void 0),t}(),Uo=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return Bo([ne(fe)],t.prototype,"legendItemClick",void 0),t}(),Zo={category:function(){function t(t){var e,n=this;this.ctx=t,this.id=z(this),this.group=new dt({name:"legend",layer:!0,zIndex:je.LEGEND_ZINDEX}),this.itemSelection=Xi.select(this.group,vo),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new Xo,this.listeners=new Uo,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="bottom",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Fo((function(e){return t.updateService.update(e)}),(function(t){return n.updatePageNumber(t)}),t.interactionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var r=[t.interactionManager.addListener("click",(function(t){return n.checkLegendClick(t)})),t.interactionManager.addListener("dblclick",(function(t){return n.checkLegendDoubleClick(t)})),t.interactionManager.addListener("hover",(function(t){return n.handleLegendMouseMove(t)}))],i=[t.layoutService.addListener("start-layout",(function(t){return n.positionLegend(t.shrinkRect)}))];(e=this.destroyFns).push.apply(e,Go(Go(Go([],zo(r.map((function(e){return function(){return t.interactionManager.removeListener(e)}})))),zo(i.map((function(e){return function(){return t.layoutService.removeListener(e)}})))),[function(){return n.detachLegend()}]))}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,T.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":N.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.detachLegend=function(){var t;null===(t=this.group.parent)||void 0===t||t.removeChild(this.group)},t.prototype.getItemLabel=function(t){var e=this.ctx.callbackCache,n=this.item.label.formatter;return n?e.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text},t.prototype.performLayout=function(t,e){var n=this,r=this.item,i=r.paddingX,o=r.paddingY,a=r.label,l=r.maxWidth,s=r.marker,u=s.size,c=s.padding,h=s.shape,d=r.label,f=d.maxLength,p=void 0===f?1/0:f,y=d.fontStyle,v=d.fontWeight,g=d.fontSize,m=d.fontFamily,b=Go([],zo(this.data));this.reverseOrder&&b.reverse(),this.itemSelection.update(b);var x=[],w=Ft(a),S=null!=l?l:.8*t,k=u+c+i;if(this.itemSelection.each((function(t,e){var r,i=Eo(null!=h?h:e.marker.shape);t.marker&&t.marker instanceof i||(t.marker=new i),t.markerSize=u,t.spacing=c,t.fontStyle=y,t.fontWeight=v,t.fontSize=g,t.fontFamily=m;var o=null!==(r=e.itemId)&&void 0!==r?r:e.id,a=n.getItemLabel(e),l=(null!=a?a:"<unknown>").replace(/\r?\n/g," ");t.text=n.truncate(l,p,S,k,w,o),x.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var O=this.size,_=this.oldSize;O[0]=t,O[1]=e,O[0]===_[0]&&O[1]===_[1]||(_[0]=O[0],_[1]=O[1]);var D=this.updatePagination(x,t,e),M=D.pages,C=D.maxPageHeight,E=D.maxPageWidth;this.pages=M,this.maxPageSize=[E-i,C-o];var P=this.pagination.currentPage,T=this.pages[P];this.pages.length<1||!T?this.visible=!1:(this.visible=!0,this.updatePositions(P),this.update())},t.prototype.truncate=function(t,e,n,r,i,o){var a,l,s=t.split(""),u=!1;if(t.length>e&&(t=""+t.substring(0,e),u=!0),Math.floor(r+N.getTextSize(t,i).width)>n){var c="",h=this.getCharacterWidths(i),d=r+h["..."];try{for(var f=Wo(s),p=f.next();!p.done;p=f.next()){var y=p.value;if(h[y]||(h[y]=N.getTextSize(y,i).width),(d+=h[y])>n)break;c+=y}}catch(t){a={error:t}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}t=c,u=!0}return u?(t+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),t},t.prototype.updatePagination=function(t,e,n){var r=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;var o=this.calculatePagination(t,e,n),a=o.pages,l=o.maxPageHeight,s=o.maxPageWidth,u=o.paginationBBox,c=o.paginationVertical,h=a.findIndex((function(t){return t.endIndex>=i}));this.pagination.currentPage=Math.min(Math.max(h,0),a.length-1);var d=this.item,f=s-d.paddingX,p=l-d.paddingY,y=0,v=-u.y-this.item.marker.size/2;return c?v+=p+8:(y+=-u.x+f+8,v+=(p-u.height)/2),this.pagination.translationX=y,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:l,maxPageWidth:s,pages:a}},t.prototype.calculatePagination=function(t,e,n){var r,i,o,a=this.item,l=a.paddingX,s=a.paddingY,u=this.getOrientation(),c=["left","right"].includes(this.position),h=this.pagination.computeBBox(),d=new A(0,0,0,0),f=[],p=0,y=0,v=0,g=function(t){var e=t.width,n=t.height;return e===h.width&&n===h.height},m=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(v++>10){ot.warn("unable to find stable legend layout.");break}h=d;var b=e-(c?0:h.width),x=To({orientation:u,bboxes:t,maxHeight:n-(c?h.height:0),maxWidth:b,itemPaddingY:s,itemPaddingX:l,forceResult:m});f=null!==(r=null==x?void 0:x.pages)&&void 0!==r?r:[],p=null!==(i=null==x?void 0:x.maxPageWidth)&&void 0!==i?i:0,y=null!==(o=null==x?void 0:x.maxPageHeight)&&void 0!==o?o:0;var w=f.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:p,maxPageHeight:y,pages:f,paginationBBox:h,paginationVertical:c}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this.item.paddingY,n=this.itemSelection,r=this.pages;if(!(r.length<1)&&r[t]){var i=r[t],o=i.columns,a=i.startIndex,l=i.endIndex,s=0,u=0,c=o.length,h=o[0].indices.length,d="horizontal"===this.getOrientation(),f=o[0].bboxes[0].height+e,p=[];n.each((function(t,e,n){var r,i;if(n<a||n>l)t.visible=!1;else{var y=n-a,v=0,g=0;d?(v=y%c,g=Math.floor(y/c)):(v=Math.floor(y/h),g=y%h),t.visible=!0;var m=o[v];m&&(u=f*g,s=null!==(r=p[g])&&void 0!==r?r:0,p[g]=(null!==(i=p[g])&&void 0!==i?i:0)+m.columnWidth,t.translationX=Math.floor(s),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],r=n.startIndex,i=n.endIndex;0===r?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=i:this.paginationTrackingIndex=Math.floor((r+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(si.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each((function(t,r){var i=r.marker;t.markerFill=i.fill,t.markerStroke=i.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=i.fillOpacity,t.markerStrokeOpacity=i.strokeOpacity,t.opacity=r.enabled?1:.5,t.color=n}))},t.prototype.getDatumForPoint=function(t,e){var n,r,i=[],o={dist:1/0,datum:void 0};try{for(var a=Wo(this.group.children),l=a.next();!l.done;l=a.next()){var s=l.value;if(s.visible&&s instanceof vo){var u=s.computeBBox();if(u.grow(this.item.paddingX/2,"horizontal"),u.grow(this.item.paddingY/2,"vertical"),u.containsPoint(t,e))return s.datum;var c=t-u.x-this.item.paddingX/2,h=e-u.y-this.item.paddingY/2,d=Math.pow(c,2)+Math.pow(h,2);c>=0&&h>=0&&d<o.dist&&(o.dist=d,o.datum=s.datum),i.push(u)}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}if(A.merge(i).containsPoint(t,e))return o.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=zo(this.maxPageSize,2),n=e[0],r=e[1];return t.height=Math.max(r,t.height),t.width=Math.max(n,t.width),t},t.prototype.checkLegendClick=function(t){var e=this.listeners.legendItemClick,n=this.ctx,r=n.dataService,i=n.highlightManager,o=this.item.toggleSeriesVisible,a=t.offsetX,l=t.offsetY,s=this.computeBBox(),u=this.group.visible&&s.containsPoint(a,l),c=this.getDatumForPoint(a,l);if(u&&c){var h=c.id,d=c.itemId,f=c.enabled,p=r.getSeries().find((function(t){return t.id===h}));if(p){t.consume();var y=f;o&&(y=!f,this.ctx.chartEventManager.legendItemClick(p,d,y,c.legendItemName)),y?i.updateHighlight(this.id,{series:p,itemId:d,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(si.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==e||e({type:"click",enabled:y,itemId:d,seriesId:p.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,n=this.listeners.legendItemDoubleClick,r=this.ctx.dataService,i=this.item.toggleSeriesVisible,o=t.offsetX,a=t.offsetY;if("integrated"!==this.ctx.mode){var l=this.computeBBox(),s=this.group.visible&&l.containsPoint(o,a),u=this.getDatumForPoint(o,a);if(s&&u){var c=u.id,h=u.itemId,d=u.seriesId,f=r.getSeries(),p=f.find((function(t){return t.id===c}));if(p){if(t.consume(),i){var y=f.reduce((function(t,e){return Go(Go([],zo(t)),zo(e.getLegendData().filter((function(t){return"category"===t.legendType}))))}),[]),v={};y.forEach((function(t){var e,n;null!==(e=v[n=t.seriesId])&&void 0!==e||(v[n]=0),t.enabled&&v[t.seriesId]++}));var g=y.find((function(t){return t.itemId===h&&t.seriesId===d}));this.ctx.chartEventManager.legendItemDoubleClick(p,h,null!==(e=null==g?void 0:g.enabled)&&void 0!==e&&e,v,null==g?void 0:g.legendItemName)}this.ctx.updateService.update(si.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"dblclick",enabled:!0,itemId:h,seriesId:p.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e,n=this.enabled,r=this.item.toggleSeriesVisible,i=this.listeners;if(n){var o=this.computeBBox(),a=t.pageX,l=t.pageY,s=t.offsetX,u=t.offsetY,c=this.group.visible&&o.containsPoint(s,u);if(!c)return this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),void this.ctx.tooltipManager.removeTooltip(this.id);t.consume();var h=this.getDatumForPoint(s,u);if(!c||void 0===h)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);var d=h?this.ctx.dataService.getSeries().find((function(t){return t.id===(null==h?void 0:h.id)})):void 0;if(h&&this.truncatedItems.has(null!==(e=h.itemId)&&void 0!==e?e:h.id)){var f=this.getItemLabel(h);this.ctx.tooltipManager.updateTooltip(this.id,{pageX:a,pageY:l,offsetX:s,offsetY:u,event:t,showArrow:!1},wn({content:f}))}else this.ctx.tooltipManager.removeTooltip(this.id);(r||null!=i.legendItemClick||null!=i.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),(null==h?void 0:h.enabled)&&d?this.ctx.highlightManager.updateHighlight(this.id,{series:d,itemId:null==h?void 0:h.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,n=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:n};var r=zo(this.calculateLegendDimensions(t),2),i=r[0],o=r[1];this.group.translationX=0,this.group.translationY=0,this.performLayout(i,o);var a=this.computePagedBBox(),l=function(){switch(e.position){case"top":return 0;case"bottom":return t.height-a.height;case"left":return 0;case"right":default:return t.width-a.width}};if(this.visible){var s=void 0,u=void 0;switch(this.position){case"top":case"bottom":s=(t.width-a.width)/2,u=l(),n.shrink(a.height,this.position);break;case"left":case"right":default:s=l(),u=(t.height-a.height)/2,n.shrink(a.width,this.position)}this.group.translationX=Math.floor(-a.x+t.x+s),this.group.translationY=Math.floor(-a.y+t.y+u)}if(this.visible&&this.enabled&&this.data.length){var c=this.spacing;n.shrink(c,this.position);var h=a.clone();h.x+=this.group.translationX,h.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,h)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:n}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,n=t.height,r=e/n,i=0,o=0;switch(this.position){case"top":case"bottom":var a=r<1?Math.min(.5,1/r*.2):.2;i=this.maxWidth?Math.min(this.maxWidth,e):e,o=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*a);break;case"left":case"right":default:var l=r>1?Math.min(.5,.25*r):.25;i=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*l),o=this.maxHeight?Math.min(this.maxHeight,n):n}return[i,o]},t.className="Legend",Bo([ne(pe)],t.prototype,"_enabled",void 0),Bo([ne(en)],t.prototype,"position",void 0),Bo([ne(Pe(0))],t.prototype,"maxWidth",void 0),Bo([ne(Pe(0))],t.prototype,"maxHeight",void 0),Bo([ne(ye)],t.prototype,"reverseOrder",void 0),Bo([ne(Vo)],t.prototype,"orientation",void 0),Bo([ne(Ee(0))],t.prototype,"spacing",void 0),t}()};function qo(t,e){if(Zo[t])throw new Error("AG Charts - already registered legend type: "+t);Zo[t]=e}var Jo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},$o=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Qo=function(){function t(){this.cache=new Map}return t.prototype.call=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.cache.get(t),o=function(){try{var r=t.apply(void 0,$o([],Jo(n)));return i&&null!=e&&i.set(e,r),r}catch(t){return void ot.warnOnce("User callback errored, ignoring",t)}};try{e=JSON.stringify(n)}catch(t){return o()}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(e)?i.get(e):o()},t.prototype.invalidateCache=function(){this.cache=new Map},t}(),ta=function(){return(ta=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ea=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},na=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ra=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ia=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},oa=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},aa=function(){function t(){this.requested=[],this.status="setup"}return t.prototype.request=function(t,e,n){return ea(this,void 0,void 0,(function(){var r=this;return na(this,(function(i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return[2,new Promise((function(i,o){r.requested.push({id:t,opts:n,data:e,resultCb:i,reject:o})}))]}))}))},t.prototype.execute=function(){return ea(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f;return na(this,(function(p){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",t.DEBUG()&&ot.debug("DataController.execute() - requested",this.requested),e=this.mergeRequested(),t.DEBUG()&&ot.debug("DataController.execute() - merged",e),n=function(t,e,n,i,o){try{var a=new gn(t),l=a.processData(e);l&&0===l.partialValidDataCount?n.forEach((function(t){return t({dataModel:a,processedData:l})})):l?r.splitResult(a,l,o,n):i.forEach((function(t){return t(new Error("AG Charts - no processed data generated"))}))}catch(t){i.forEach((function(e){return e(t)}))}},r=this;try{for(i=ra(e),o=i.next();!o.done;o=i.next())a=o.value,l=a.opts,s=a.data,u=a.resultCbs,c=a.rejects,h=a.ids,n(l,s,u,c,h)}catch(t){d={error:t}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(d)throw d.error}}return[2]}))}))},t.prototype.mergeRequested=function(){var t,e,n=[],r=function(t){return t.filter((function(t){return"key"===t.type})).map((function(t){return t.property})).join(";")},i=function(t){var e=t.opts,n=t.data;return function(t){return t[0].data===n&&t[0].opts.groupByKeys===e.groupByKeys&&t[0].opts.dataVisible===e.dataVisible&&t[0].opts.groupByFn===e.groupByFn&&r(t[0].opts.props)===r(e.props)}},o=function(t){return function(e){var n;if(e.type!==t.type)return!1;if(e.id!==t.id)return!1;var r=null!==(n=Ir(e,t))&&void 0!==n?n:{};return delete r.scopes,0===Object.keys(r).length}},a=function(t){return ta(ta({},t[0]),{props:t.reduce((function(t,e){var n,r,i,a,l,s;try{for(var u=ra(e.props),c=u.next();!c.done;c=u.next()){var h=c.value,d=t.find(o(h));d?(null!==(a=d.scopes)&&void 0!==a||(d.scopes=[]),(i=d.scopes).push.apply(i,oa(oa([],ia(null!==(l=h.scopes)&&void 0!==l?l:[])),ia(null!==(s=e.scopes)&&void 0!==s?s:[])))):t.push(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return t}),[])})};try{for(var l=ra(this.requested),s=l.next();!s.done;s=l.next()){var u=s.value,c=n.find(i(u));c?c.push(u):n.push([u])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return n.map((function(t){return{ids:t.map((function(t){return t.id})),resultCbs:t.map((function(t){return t.resultCb})),rejects:t.map((function(t){return t.reject})),data:t[0].data,opts:a(t.map((function(t){return t.opts})))}}))},t.prototype.splitResult=function(t,e,n,r){for(var i=function(i){var o=n[i];(0,r[i])({dataModel:t,processedData:ta(ta({},e),{data:e.data.filter((function(t){var e=t.validScopes;return null==e||e.some((function(t){return t===o}))}))})})},o=0;o<n.length;o++)i(o)},t.DEBUG=function(){var t;return null!==(t=[!0,"data-model"].includes(pt("agChartsDebug")))&&void 0!==t&&t},t}(),la=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},sa=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ua=function(){function t(){this.groups={}}return t.prototype.registerSeries=function(t){var e,n,r=t.id,i=t.seriesGrouping,o=t.visible,a=t.type;i&&(null!==(e=(n=this.groups)[a])&&void 0!==e||(n[a]={}),this.groups[a][r]={grouping:i,visible:o})},t.prototype.deregisterSeries=function(t){var e=t.id,n=t.type;this.groups[n]&&delete this.groups[n][e],this.groups[n]&&0===Object.keys(this.groups[n]).length&&delete this.groups[n]},t.prototype.getVisiblePeerGroupIndex=function(t){var e,n=t.type,r=t.seriesGrouping;if(!r)return{visibleGroupCount:1,index:0};var i=sa([],la(Object.entries(null!==(e=this.groups[n])&&void 0!==e?e:{}).filter((function(t){var e=la(t,2);return e[0],e[1].visible})).reduce((function(t,e){var n=la(e,2);n[0];var r=n[1];return r.visible&&t.add(r.grouping.groupIndex),t}),new Set).values()));return i.sort((function(t,e){return t-e})),{visibleGroupCount:i.length,index:i.indexOf(r.groupIndex)}},t}(),ca=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ha=function(){function t(t){this.groups={},this.series={},this.rootGroup=t}return t.prototype.requestGroup=function(t){var e,n,r,i,o=t.id,a=t.type,l=t.rootGroup,s=t.seriesGrouping,u=(null!=s?s:{}).groupIndex,c=void 0===u?o:u;if(null!=this.series[o])throw new Error("AG Charts - series already has an allocated layer: "+this.series[o]);null!==(e=(r=this.groups)[a])&&void 0!==e||(r[a]={});var h=this.groups[a][c];return h||(h=null!==(n=(i=this.groups[a])[c])&&void 0!==n?n:i[c]={seriesIds:[],group:this.rootGroup.appendChild(new dt({name:a+"-content",layer:!0,zIndex:je.SERIES_LAYER_ZINDEX,zIndexSubOrder:t.getGroupZIndexSubOrder("data")}))}),this.series[o]={layerState:h,seriesConfig:t},h.seriesIds.push(o),h.group.appendChild(l),h.group},t.prototype.changeGroup=function(t){var e,n,r=t.id,i=t.seriesGrouping,o=t.type,a=t.rootGroup,l=t.oldGrouping,s=(null!=i?i:{}).groupIndex,u=void 0===s?r:s;(null===(n=null===(e=this.groups[o])||void 0===e?void 0:e[u])||void 0===n?void 0:n.seriesIds.includes(r))||(null!=this.series[r]&&this.releaseGroup({id:r,seriesGrouping:l,type:o,rootGroup:a}),this.requestGroup(t))},t.prototype.releaseGroup=function(t){var e,n,r,i,o,a=t.id,l=t.seriesGrouping,s=t.rootGroup,u=t.type,c=(null!=l?l:{}).groupIndex,h=void 0===c?a:c;if(null==this.series[a])throw new Error("AG Charts - series doesn't have an allocated layer: "+a);var d=null!==(n=null===(e=this.groups[u])||void 0===e?void 0:e[h])&&void 0!==n?n:null===(r=this.series[a])||void 0===r?void 0:r.layerState;if(d&&(d.seriesIds=d.seriesIds.filter((function(t){return t!==a})),d.group.removeChild(s)),0===(null==d?void 0:d.seriesIds.length))this.rootGroup.removeChild(d.group),delete this.groups[u][h],delete this.groups[u][a];else if((null==d?void 0:d.seriesIds.length)>0){var f=null===(o=this.series[null===(i=null==d?void 0:d.seriesIds)||void 0===i?void 0:i[0]])||void 0===o?void 0:o.seriesConfig;d.group.zIndexSubOrder=null==f?void 0:f.getGroupZIndexSubOrder("data")}delete this.series[a]},t.prototype.destroy=function(){var t,e,n,r;try{for(var i=ca(Object.values(this.groups)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,ca(Object.values(a))),s=l.next();!s.done;s=l.next()){var u=s.value;this.rootGroup.removeChild(u.group)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.groups={},this.series={}},t}(),da=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fa=function(){return(fa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},pa=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ya=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},va=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ga=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ma=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ba=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},xa=function(t){function e(e,n,r){var i;void 0===e&&(e=window.document);var o=t.call(this)||this;o.id=z(o),o.processedOptions={},o.userOptions={},o.queuedUserOptions=[],o.seriesRoot=new dt({name:o.id+"-Series-root"}),o.extraDebugStats={},o.container=void 0,o.data=[],o.padding=new xr(20),o.seriesAreaPadding=new xr(0),o.title=void 0,o.subtitle=void 0,o.footnote=void 0,o.mode="standalone",o._destroyed=!1,o.modules={},o.legendModules={},o._pendingFactoryUpdates=[],o._performUpdateNoRenderCount=0,o._performUpdateType=si.NONE,o.seriesToUpdate=new Set,o.performUpdateTrigger=Mr((function(t,e){return void 0===e&&(e=0),setTimeout(t,e)}),(function(t){var e=t.count;return ya(o,void 0,void 0,(function(){var t;return va(this,(function(n){switch(n.label){case 0:if(this._destroyed)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this._lastPerformUpdateError=t,ot.error("update error",t),[3,4];case 4:return[2]}}))}))})),o._axes=[],o._series=[],o.applyLegendOptions=void 0,o.lastInteractionEvent=void 0,o.pointerScheduler=function(t){return Mr((function(t,e){return requestAnimationFrame(t)}),t)}((function(){o.lastInteractionEvent&&o.handlePointer(o.lastInteractionEvent),o.lastInteractionEvent=void 0})),o.onSeriesNodeClick=function(t){var e=fa(fa({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),o.fireEvent(e)},o.onSeriesNodeDoubleClick=function(t){var e=fa(fa({},t),{type:"seriesNodeDoubleClick"});o.fireEvent(e)};var a=null==r?void 0:r.scene,l=null!==(i=null==r?void 0:r.element)&&void 0!==i?i:e.createElement("div"),s=null==r?void 0:r.container,u=new dt({name:"root"});return u.visible=!1,u.append(o.seriesRoot),o.axisGroup=new dt({name:"Axes",layer:!0,zIndex:je.AXIS_ZINDEX}),u.appendChild(o.axisGroup),o.element=l,l.classList.add("ag-chart-wrapper"),l.style.position="relative",o.scene=null!=a?a:new wt({document:e,overrideDevicePixelRatio:n}),o.scene.debug.consoleLog=!1,o.scene.root=u,o.scene.container=l,o.autoSize=!0,o.chartEventManager=new mi,o.cursorManager=new vi(l),o.highlightManager=new wi,o.interactionManager=new Ei(l),o.zoomManager=new ji,o.dataService=new Gi((function(){return o.series})),o.layoutService=new zi,o.updateService=new Wi((function(t,e){void 0===t&&(t=si.FULL);var n=e.forceNodeDataRefresh;return o.update(t,{forceNodeDataRefresh:n})})),o.seriesStateManager=new ua,o.seriesLayerManager=new ha(o.seriesRoot),o.callbackCache=new Qo,o.animationManager=new pi(o.interactionManager),o.animationManager.skipAnimations=!0,o.animationManager.play(),o.tooltip=new _n(o.scene.canvas.element,e,e.body),o.tooltipManager=new Ni(o.tooltip,o.interactionManager),o.overlays=new Tr(o.element),o.highlight=new Vi,o.container=s,o.debug=!1,Sr.observe(o.element,(function(t){var e,n=t.width,r=t.height;if(o.autoSize&&(0!==n||0!==r)){var i=ga(null!==(e=o._lastAutoSize)&&void 0!==e?e:[],2),a=i[0],l=void 0===a?0:a,s=i[1];l===n&&(void 0===s?0:s)===r||(o._lastAutoSize=[n,r],o.resize())}})),o.layoutService.addListener("start-layout",(function(t){return o.positionPadding(t.shrinkRect)})),o.layoutService.addListener("start-layout",(function(t){return o.positionCaptions(t.shrinkRect)})),o.interactionManager.addListener("click",(function(t){return o.onClick(t)})),o.interactionManager.addListener("dblclick",(function(t){return o.onDoubleClick(t)})),o.interactionManager.addListener("hover",(function(t){return o.onMouseMove(t)})),o.interactionManager.addListener("leave",(function(t){return o.onLeave(t)})),o.interactionManager.addListener("page-left",(function(){return o.destroy()})),o.interactionManager.addListener("wheel",(function(){return o.disablePointer()})),o.animationManager.addListener("animation-frame",(function(t){o.update(si.SCENE_RENDER)})),o.highlightManager.addListener("highlight-change",(function(t){return o.changeHighlightDatum(t)})),o.zoomManager.addListener("zoom-change",(function(t){return o.update(si.PROCESS_DATA,{forceNodeDataRefresh:!0})})),o.attachLegend("category"),o}return da(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return Br([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize()}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=new t.instanceConstructor(this.getModuleContext());this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this,e=t.scene,n=t.animationManager,r=t.chartEventManager,i=t.cursorManager,o=t.highlightManager,a=t.interactionManager,l=t.tooltipManager,s=t.zoomManager,u=t.dataService,c=t.layoutService,h=t.updateService,d=t.seriesStateManager,f=t.seriesLayerManager;return{scene:e,animationManager:n,chartEventManager:r,cursorManager:i,highlightManager:o,interactionManager:a,tooltipManager:l,zoomManager:s,dataService:u,layoutService:c,updateService:h,mode:t.mode,seriesStateManager:d,seriesLayerManager:f,callbackCache:t.callbackCache}},e.prototype.destroy=function(t){var e,n,r;if(!this._destroyed){var i=null==t?void 0:t.keepTransferableResources,o=void 0;this._performUpdateType=si.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),null===(r=this.legend)||void 0===r||r.destroy(),this.overlays.noData.hide(),Sr.unobserve(this.element);try{for(var a=ma(Object.entries(this.modules)),l=a.next();!l.done;l=a.next()){var s=ga(l.value,2),u=s[0];s[1].instance.destroy(),delete this.modules[u],delete this[u]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),this.animationManager.stop(),i?(this.scene.strip(),o={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.removeAllSeries(),this.seriesLayerManager.destroy(),this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this.callbackCache.invalidateCache(),this._destroyed=!0,o}},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&ot.debug.apply(ot,ba([],ga(t)))},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks().catch((function(t){return ot.errorOnce(t)}))):e.splice(1,n-1,t)},e.prototype._processCallbacks=function(){return ya(this,void 0,void 0,(function(){var t,e;return va(this,(function(n){switch(n.label){case 0:t=this._pendingFactoryUpdates,n.label=1;case 1:return t.length>0?this.updatePending?[4,Cr(1)]:[3,3]:[3,7];case 2:return n.sent(),[3,1];case 3:return n.trys.push([3,5,,6]),[4,t[0]()];case 4:return n.sent(),this.callbackCache.invalidateCache(),[3,6];case 5:return e=n.sent(),ot.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==si.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return ya(this,void 0,void 0,(function(){return va(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var n,r;void 0===t&&(t=si.FULL);var i=null!=e?e:{},o=i.forceNodeDataRefresh,a=void 0!==o&&o,l=i.seriesToUpdate,s=void 0===l?this.series:l;a&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var u=ma(s),c=u.next();!c.done;c=u.next()){var h=c.value;this.seriesToUpdate.add(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return ya(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u;return va(this,(function(c){switch(c.label){case 0:switch(r=(n=this)._performUpdateType,i=n.extraDebugStats,this.log("Chart.performUpdate() - start",si[r]),o=[performance.now()],r){case si.FULL:case si.PROCESS_DATA:return[3,1];case si.PERFORM_LAYOUT:return[3,3];case si.SERIES_UPDATE:return[3,5];case si.TOOLTIP_RECALCULATION:return[3,7];case si.SCENE_RENDER:return[3,8];case si.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:c.sent(),this.disablePointer(!0),o.push(performance.now()),c.label=3;case 3:return this.checkFirstAutoSize()?[4,this.performLayout()]:[3,11];case 4:c.sent(),this.handleOverlays(),this.log("Chart.performUpdate() - seriesRect",this.seriesRect),o.push(performance.now()),c.label=5;case 5:return a=this.seriesRect,l=ba([],ga(this.seriesToUpdate)).map((function(t){return t.update({seriesRect:a})})),this.seriesToUpdate.clear(),[4,Promise.all(l)];case 6:c.sent(),o.push(performance.now()),c.label=7;case 7:s=this.tooltipManager.getTooltipMeta(this.id),r<si.SERIES_UPDATE&&"hover"===(null===(e=null==s?void 0:s.event)||void 0===e?void 0:e.type)&&this.handlePointer(s.event),c.label=8;case 8:return[4,this.scene.render({debugSplitTimes:o,extraDebugStats:i})];case 9:c.sent(),this.extraDebugStats={},c.label=10;case 10:this._performUpdateType=si.NONE,c.label=11;case 11:return u=performance.now(),this.log("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(u-o[0]))/100,count:t,performUpdateType:si[r]}),[2]}}))}))},e.prototype.checkFirstAutoSize=function(){if(this.autoSize&&!this._lastAutoSize){var t=this._performUpdateNoRenderCount++,e=10*(2^t);if(t<5)return this._performUpdateType=si.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(e),this.log("Chart.checkFirstAutoSize() - backing off until first size update",e),!1;this.log("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,n=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),n.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),n.delete(t)})),this.zoomManager.updateAxes(this._axes),n.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t){var e=this.series;return!!(e.indexOf(t)<0)&&(e.push(t),null==t.rootGroup.parent&&this.seriesLayerManager.requestGroup(t),this.initSeries(t),!0)},e.prototype.initSeries=function(t){t.chart=this,t.data||(t.data=this.data),this.addSeriesListeners(t),t.addChartEventListeners()},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),e.destroy(),e.chart=void 0})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return t.axes[e.direction]===e}))}))},e.prototype.assignAxesToSeries=function(){var t=this,e={};this.axes.forEach((function(t){var n,r=t.direction;(null!==(n=e[r])&&void 0!==n?n:e[r]=[]).push(t)})),this.series.forEach((function(n){n.directions.forEach((function(r){var i=e[r];if(i){var o=n.getKeys(r),a=t.findMatchingAxis(i,n.getKeys(r));a?n.axes[r]=a:ot.warn("no matching axis for direction ["+r+"] and keys ["+o+"]; check series and axes configuration.")}else ot.warn("no available axis for direction ["+r+"]; check series and axes configuration.")}))}))},e.prototype.findMatchingAxis=function(t,e){var n,r,i,o;try{for(var a=ma(t),l=a.next();!l.done;l=a.next()){var s=l.value,u=s.keys;if(!u.length)return s;if(e)try{for(var c=(i=void 0,ma(e)),h=c.next();!h.done;h=c.next()){var d=h.value;if(u.indexOf(d)>=0)return s}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){var n,r,i,o;null!=t||(t=null!==(n=this.width)&&void 0!==n?n:this.autoSize?null===(r=this._lastAutoSize)||void 0===r?void 0:r[0]:this.scene.canvas.width),null!=e||(e=null!==(i=this.height)&&void 0!==i?i:this.autoSize?null===(o=this._lastAutoSize)||void 0===o?void 0:o[1]:this.scene.canvas.height),this.log("Chart.resize()",{width:t,height:e}),t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(si.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return ya(this,void 0,void 0,(function(){var t,e;return va(this,(function(n){switch(n.label){case 0:return this.axes.length>0&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),t=new aa,e=this.series.map((function(e){return e.processData(t)})),[4,t.execute()];case 1:return n.sent(),[4,Promise.all(e)];case 2:return n.sent(),[4,this.updateLegend()];case 3:return n.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,n,r=[],i=[];try{for(var o=ma(this.series),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.visible){var s=l.getLabelData();s&&null!=(n=s[0])&&"object"==typeof n.point&&"object"==typeof n.label&&(i.push(s),r.push(l))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var u=this.seriesRect,c=u&&i.length>0?function(t,e,n){void 0===n&&(n=5);var r=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var i=0;i<t.length;i++){var o=r[i]=[],a=t[i];if((null==a?void 0:a.length)&&a[0].label)for(var l=function(i,l){var s,u,c,h,d=a[i],f=d.label,p=.5*d.point.size,y=d.point.x-.5*f.width,v=d.point.y-p-f.height-n,g=f.width,m=f.height;return!e||(c=v,h=m,(u=y)+g<(s=e).x+s.width&&u>s.x&&c>s.y&&c+h<s.y+s.height)?t.some((function(t){return t.some((function(t){return kr(t.point,y,v,g,m)}))}))||r.some((function(t){return t.some((function(t){return Or(t,y,v,g,m)}))}))?"continue":void o.push({index:i,text:f.text,x:y,y:v,width:g,height:m,datum:d}):"continue"},s=0,u=a.length;s<u;s++)l(s)}return r}(i,{x:0,y:0,width:u.width,height:u.height}):[];return new Map(c.map((function(t,e){return[r[e],t]})))},e.prototype.attachLegend=function(t){var e;if(this.legendType===t&&this.legend)return this.legend;null===(e=this.legend)||void 0===e||e.destroy(),this.legend=void 0;var n=function(t,e){if(Zo[t])return new Zo[t](e);throw new Error("AG Charts - unknown legend type: "+t)}(t,this.getModuleContext());return n.attachLegend(this.scene.root),this.legend=n,this.legendType=t,n},e.prototype.setLegendInit=function(t){this.applyLegendOptions=t},e.prototype.updateLegend=function(){var t;return ya(this,void 0,void 0,(function(){var e,n,r;return va(this,(function(i){return e=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(t){var n=t.getLegendData();e.push.apply(e,ba([],ga(n)))})),n=e.length>0?e[0].legendType:"category",r=this.attachLegend(n),null===(t=this.applyLegendOptions)||void 0===t||t.call(this,r),"category"===n&&this.validateLegendData(e),r.data=e,[2]}))}))},e.prototype.validateLegendData=function(t){var e=this,n={};t.forEach((function(t){var r,i,o,a,l,s,u=null===(i=e.series.find((function(e){return e.id===t.seriesId})))||void 0===i?void 0:i.type;if(u){var c=t;null!==(o=n[u])&&void 0!==o||(n[u]=((r={})[c.label.text]=new Set,r)),null!==(a=(l=n[u])[s=c.label.text])&&void 0!==a||(l[s]=new Set),null!=c.marker.fill&&n[u][c.label.text].add(c.marker.fill)}})),Object.keys(n).forEach((function(t){Object.keys(n[t]).forEach((function(e){n[t][e].size>1&&ot.warnOnce("legend item '"+e+"' has multiple fill colors, this may cause unexpected behaviour.")}))}))},e.prototype.performLayout=function(){return ya(this,void 0,void 0,(function(){var t,e,n,r;return va(this,(function(i){return null!=this.scene.root&&(this.scene.root.visible=!0),t=this.scene,e=t.width,n=t.height,r=new A(0,0,e,n),r=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:r}).shrinkRect,[2,r=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:r}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e,n=this.title,r=this.subtitle,i=this.footnote,o=t.clone(),a=function(e){var n,r=t.height/10,i=null!==(n=e.lineHeight)&&void 0!==n?n:e.fontSize*jt.defaultLineHeightRatio,o=t.width,a=Math.max(i,r);e.computeTextWrap(o,a)},l=function(t){var e,n=o.y;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="top",a(t);var r=t.node.computeBBox(),i=Math.ceil(r.y-n+r.height+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(i,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&l(n)),r&&(r.node.visible=null!==(e=(null==n?void 0:n.enabled)&&r.enabled)&&void 0!==e&&e,r.node.visible&&l(r)),i&&(i.node.visible=i.enabled,i.node.visible&&function(t){var e,n=o.y+o.height;t.node.x=o.x+o.width/2,t.node.y=n,t.node.textBaseline="bottom",a(t);var r=t.node.computeBBox(),i=Math.ceil(n-r.y+(null!==(e=t.spacing)&&void 0!==e?e:0));o.shrink(i,"bottom")}(i)),{shrinkRect:o}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,n){var r,i,o,a,l=performance.now(),s=e?[Un.EXACT_SHAPE_MATCH]:void 0,u=ba([],ga(this.series)).reverse(),c=void 0;try{for(var h=ma(u),d=h.next();!d.done;d=h.next()){var f=d.value;if(f.visible&&f.rootGroup.visible){var p=null!==(o=f.pickNode(t,s))&&void 0!==o?o:{},y=p.match,v=p.distance;if(y&&null!=v&&((!c||c.distance>v)&&v<=(null!=n?n:1/0)&&(c={series:f,distance:v,datum:y}),0===v))break}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(a=this.extraDebugStats.pickSeriesNode)&&void 0!==a?a:0)+(performance.now()-l)),c},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(si.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,n=this.lastPick,r=this.hoverRect,i=t.offsetX,o=t.offsetY,a=function(t){void 0===t&&(t=!1),n&&e.disablePointer(t)};(null==r?void 0:r.containsPoint(i,o))?(this.handlePointerTooltip(t,a),this.handlePointerNode(t)):a()},e.prototype.handlePointerTooltip=function(t,e){var n,r,i,o=this.lastPick,a=this.tooltip.range,l=t.pageX,s=t.pageY,u=t.offsetX,c=t.offsetY;"number"==typeof a&&Number.isFinite(a)&&(i=a);var h=this.pickSeriesNode({x:u,y:c},"exact"===a,i);if(!h)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var d,f="node"===this.highlight.range||!o||o.datum!==h.datum;f?(d=h.series.getTooltipHtml(h.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,h.datum)):o&&(o.event=t.sourceEvent);var p=null!=i,y=this.tooltip.enabled&&h.series.tooltip.enabled,v="exact"===a&&0===h.distance,g=y&&("nearest"===a||p||v)&&(!f||void 0!==d),m={xOffset:h.datum.series.tooltip.position.xOffset,yOffset:h.datum.series.tooltip.position.yOffset},b=this.mergePointerDatum({pageX:l,pageY:s,offsetX:u,offsetY:c,event:t,showArrow:h.series.tooltip.showArrow,position:m},h.datum);b.enableInteraction=null!==(r=null===(n=h.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==r&&r,g&&this.tooltipManager.updateTooltip(this.id,b,d)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,n){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,n)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(si.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(si.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeDoubleClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeRange=function(t,e){var n,r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=null==r?void 0:r.datum,o=null==i?void 0:i.series.nodeClickRange;if(i&&"nearest"===o)return e(i.series,i),!0;"number"==typeof o&&Number.isFinite(o)&&(n=o);var a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===o,n);if(!a)return!1;var l=null!=n,s="exact"===o&&0===a.distance;return!(!l&&!s||(e(a.series,a.datum),0))},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var n=e.nodeMidPoint,r=n.x,i=n.y,o=this.scene.canvas,a=e.series.contentGroup.inverseTransformPoint(r,i),l=o.element.getBoundingClientRect();return fa(fa({},t),{pageX:Math.round(l.left+window.scrollX+a.x),pageY:Math.round(l.top+window.scrollY+a.y),offsetX:Math.round(a.x),offsetY:Math.round(a.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e,n,r=new Set,i=null!==(e=t.currentHighlight)&&void 0!==e?e:{},o=i.series,a=void 0===o?void 0:o,l=i.datum,s=null!==(n=t.previousHighlight)&&void 0!==n?n:{},u=s.series,c=void 0===u?void 0:u,h=s.datum;c&&r.add(c),a&&r.add(a),(null==c?void 0:c.cursor)&&h&&this.cursorManager.updateCursor(c.id),(null==a?void 0:a.cursor)&&l&&this.cursorManager.updateCursor(a.id,a.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==a||null==c?this.update(si.SERIES_UPDATE):this.update(si.SERIES_UPDATE,{seriesToUpdate:r})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),ya(this,void 0,void 0,(function(){var e;return va(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,Cr(5)];case 2:return n.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return n.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},pa([Xn({newValue:function(t){this.scene.debug.consoleLog=t,this.animationManager&&(this.animationManager.debug=t)}})],e.prototype,"debug",void 0),pa([Xn({newValue:function(t){this.destroyed||t.appendChild(this.element)},oldValue:function(t){t.removeChild(this.element)}})],e.prototype,"container",void 0),pa([Xn({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),pa([Xn({newValue:function(t){this.resize(t)}})],e.prototype,"width",void 0),pa([Xn({newValue:function(t){this.resize(void 0,t)}})],e.prototype,"height",void 0),pa([Xn({changeValue:function(t){this.autoSizeChanged(t)}}),ne(pe)],e.prototype,"autoSize",void 0),pa([Xn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),pa([Xn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),pa([Xn({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),pa([ne(Ie("standalone","integrated"))],e.prototype,"mode",void 0),e}(Vt),wa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Sa(t,e,n){return Math.max(e,Math.min(n,t))}var ka=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]}))||(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),0))},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,n=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%n==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Sa(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Sa(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Sa(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,r=this._paddingOuter,i=wa(this.range,2),o=i[0],a=i[1]-o,l=a/Math.max(1,t+2*r-n),s=e?Math.floor(l):l,u=o+(a-s*(t-n))/2,c=e?Math.round(u):u,h=s*(1-n),d=e?Math.round(h):h,f=l*(1-n),p=[],y=0;y<t;y++)p.push(c+s*y);this._bandwidth=d,this._rawBandwidth=f,this.ordinalRange=p}},t}(),Oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_a=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Da=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return Oa(e,t),e.prototype.computeBBox=function(){return new A(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,r=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==T.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;if(a===s){var c=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=c,s=c}else if(l===u){var h=Math.round(l)+Math.floor(this.strokeWidth)%2/2;l=h,u=h}r.beginPath(),r.moveTo(a,l),r.lineTo(s,u),this.fillStroke(r),null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},Nt.defaultStyles,{fill:void 0,strokeWidth:1}),_a([W({redraw:T.MAJOR})],e.prototype,"x1",void 0),_a([W({redraw:T.MAJOR})],e.prototype,"y1",void 0),_a([W({redraw:T.MAJOR})],e.prototype,"x2",void 0),_a([W({redraw:T.MAJOR})],e.prototype,"y2",void 0),e}(Nt),Ma=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ca=function(){function t(){this.node=new jt,this.enabled=!1,this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this.lineHeight=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.wrapping="always";var e=this.node;e.textAlign="center",e.pointerEvents=K.None}return t.prototype.computeTextWrap=function(t,e){var n,r,i=this.text,o=this.wrapping,a=Math.min(null!==(n=this.maxWidth)&&void 0!==n?n:1/0,t),l=null!==(r=this.maxHeight)&&void 0!==r?r:e;if(isFinite(a)||isFinite(l)){var s=jt.wrap(null!=i?i:"",a,l,this,o);this.node.text=s}else this.node.text=i},t.PADDING=10,Ma([ne(pe)],t.prototype,"enabled",void 0),Ma([ne(ge),Yn("node")],t.prototype,"text",void 0),Ma([ne(Ke),Yn("node")],t.prototype,"fontStyle",void 0),Ma([ne(He),Yn("node")],t.prototype,"fontWeight",void 0),Ma([ne(Ee(0)),Yn("node")],t.prototype,"fontSize",void 0),Ma([ne(ve),Yn("node")],t.prototype,"fontFamily",void 0),Ma([ne(De),Yn("node","fill")],t.prototype,"color",void 0),Ma([ne(Pe(0))],t.prototype,"spacing",void 0),Ma([ne(Pe(0))],t.prototype,"lineHeight",void 0),Ma([ne(Pe(0))],t.prototype,"maxWidth",void 0),Ma([ne(Pe(0))],t.prototype,"maxHeight",void 0),Ma([ne(an)],t.prototype,"wrapping",void 0),t}();function Ea(t,e){return t.length===e.length&&t.every((function(t,n){return Number(t)===Number(e[n])}))}var Pa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ta=function(){function t(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var n,r=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var i=null!==(n=null==e?void 0:e.strict)&&void 0!==n?n:this.strictClampByDefault,o=this.getDomain().map((function(t){return r.transform(t)})),a=Pa(o,2),l=a[0],s=a[1],u=this.range,c=Pa(u,2),h=c[0],d=c[1];return(t=this.transform(t))<l?i?NaN:h:t>s?i?NaN:d:l===s?(h+d)/2:t===l?h:t===s?d:h+(this.fromDomain(t)-this.fromDomain(l))/(this.fromDomain(s)-this.fromDomain(l))*(d-h)},t.prototype.invert=function(t){var e=this;this.refresh();var n,r=this.getDomain().map((function(t){return e.transform(t)})),i=Pa(r,2),o=i[0],a=i[1],l=this.range,s=Pa(l,2),u=s[0],c=s[1],h=u>c;return t<(h?c:u)?h?a:o:t>(h?u:c)?h?o:a:(n=u===c?this.toDomain((this.fromDomain(o)+this.fromDomain(a))/2):this.toDomain(this.fromDomain(o)+(t-u)/(c-u)*(this.fromDomain(a)-this.fromDomain(o))),this.transformInvert(n))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]}))||(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),0))},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,n=t.stop,r=t.interval,i=t.count,o=this.range,a=n-e,l=Math.min(o[0],o[1]);return null!=i||(i=a/("number"==typeof r?r:1)),i>=Math.max(o[0],o[1])-l&&(ot.warn("the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),Na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ra(t,e,n,r,i){if(n<2)return ja(t,e,e-t);var o=Aa(t,e,n,r,i);return isNaN(o)?new Ia(0):ja(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o,o)}var La=[1,2,5,10];function Aa(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=1/0);var o=(e-t)/n,a=Math.floor(Math.log10(o)),l=Math.pow(10,a),s=La.map((function(o){var a=o*l,s=Math.ceil((e-t)/a);return{multiplier:o,isWithinBounds:s>=r&&s<=i,diffCount:Math.abs(s-n)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!s||isNaN(s)?NaN:s*l}var Ia=function(t){function e(e,n){var r=t.call(this)||this;if(n)for(var i=0,o=n.length;i<o;i++)r[i]=n[i];return r.fractionDigits=e,r}return Na(e,t),e}(Array);function ja(t,e,n){for(var r=function(t){var e,n,r=t.split("e");return Math.max((null!==(n=null===(e=r[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0)-Number(r[1]),0)}((n%1).toExponential()),i=Math.pow(10,r),o=Math.ceil((e-t)/n),a=new Ia(r),l=0;l<=o;l++){var s=t+n*l;a.push(Math.round(s*i)/i)}return a}var Fa={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Ba(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var n=t.getTimezoneOffset()-e.getTimezoneOffset(),r=t.getTime()-e.getTime()+6e4*n;return Math.floor(r/864e5)}function za(t,e){var n=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,r=new Date(t.getFullYear(),0,n+1);return r<=t?Math.floor(Ba(t,r)/7)+1:0}var Ga={a:function(t){return Fa.shortDays[t.getDay()]},A:function(t){return Fa.days[t.getDay()]},b:function(t){return Fa.shortMonths[t.getMonth()]},B:function(t){return Fa.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return Ka(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return Ka(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return Ka(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var n=t.getHours()%12;return 0===n?"12":Ka(n,2,null!=e?e:"0")},j:function(t,e){return Ka(Ba(t)+1,3,null!=e?e:"0")},m:function(t,e){return Ka(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return Ka(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return Ka(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return Ka(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return Ka(za(t,0),2,null!=e?e:"0")},V:function(t,e){return Ka(function t(e,n){void 0===n&&(n=e.getFullYear());var r=new Date(n,0,1).getDay(),i=new Date(n,0,(4-r+7)%7-3+1);return i<=e?Math.floor(Ba(e,i)/7)+1:t(e,n-1)}(t),2,null!=e?e:"0")},w:function(t,e){return Ka(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return Ka(za(t,1),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return Ka(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return Ka(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return function(t){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+Ka(Math.floor(n/60),2,"0")+Ka(Math.floor(n%60),2,"0")}(t)},"%":function(){return"%"}},Wa={_:" ",0:"0","-":""};function Ka(t,e,n){var r=String(Math.floor(t));return r.length>=e?r:""+n.repeat(e-r.length)+r}function Va(t){for(var e=[];t.length>0;){var n=t.indexOf("%");if(0!==n){var r=n>0?t.substring(0,n):t;e.push(r)}if(n<0)break;var i=t[n+1],o=Wa[i];null!=o&&n++;var a=t[n+1],l=Ga[a];if("function"==typeof l)e.push([l,o]);else if("string"==typeof l){var s=Va(l);e.push([s,o])}else e.push(""+(null!=o?o:"")+a);t=t.substring(n+2)}return function(t){var n="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](n,t[1])})).join("")}}var Ha,Ya,Xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ua=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Za=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qa=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(Ya||(Ya={}));var Ja=((Ha={})[Ya.MILLISECOND]=".%L",Ha[Ya.SECOND]=":%S",Ha[Ya.MINUTE]="%I:%M",Ha[Ya.HOUR]="%I %p",Ha[Ya.WEEK_DAY]="%a",Ha[Ya.SHORT_MONTH]="%b %d",Ha[Ya.MONTH]="%B",Ha[Ya.SHORT_YEAR]="%y",Ha[Ya.YEAR]="%Y",Ha);function $a(t){return t instanceof Date?t.getTime():t}var Qa,tl=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=S,e.month=w,e.week=p,e.day=d,e.hour=h,e.minute=u,e.second=l,e.millisecond=o,e.tickIntervals=[[e.second,1,1e3],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,6e4],[e.minute,5,3e5],[e.minute,15,9e5],[e.minute,30,18e5],[e.hour,1,36e5],[e.hour,3,108e5],[e.hour,6,216e5],[e.hour,12,432e5],[e.day,1,864e5],[e.day,2,1728e5],[e.week,1,6048e5],[e.week,2,12096e5],[e.week,3,18144e5],[e.month,1,2592e6],[e.month,2,5184e6],[e.month,3,7776e6],[e.month,4,10368e6],[e.month,6,15552e6],[e.year,1,31536e6]],e}return Xa(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,n;void 0===t&&(t=[]);var r=Ya.YEAR,i=function(t){t<r&&(r=t)};try{for(var o=Ua(t),a=o.next();!a.done;a=o.next()){var l=a.value;i(this.getLowestGranularityFormat(l))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}var s=$a(t[0]),u=$a(t[t.length-1]),c=new Date(s).getFullYear(),h=new Date(u).getFullYear()-c>0;return this.buildFormatString(r,h)},e.prototype.buildFormatString=function(t,e){var n=[Ja[t]],r=0,i=this.getDomain(),o=Math.min.apply(Math,qa([],Za(i.map($a)))),a=Math.max.apply(Math,qa([],Za(i.map($a))))-o;switch(t){case Ya.SECOND:a/6e4>1&&n.push(Ja[Ya.MINUTE]);case Ya.MINUTE:a/36e5>1&&n.push(Ja[Ya.HOUR]);case Ya.HOUR:r=n.length,a/864e5>1&&n.push(Ja[Ya.WEEK_DAY]);case Ya.WEEK_DAY:if(a/6048e5>1||e){var l=n.indexOf(Ja[Ya.WEEK_DAY]);l>-1&&n.splice(l,1,Ja[Ya.SHORT_MONTH])}case Ya.SHORT_MONTH:case Ya.MONTH:(a/31536e6>1||e)&&n.push(Ja[Ya.YEAR])}return r<n.length&&(n=qa(qa([],Za(n.slice(0,r))),[n.slice(r).join(" ")])),r>0&&r<(n=qa(qa([],Za(n.slice(0,r).reverse())),Za(n.slice(r)))).length&&n.splice(r,0," "),n.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?Ya.MILLISECOND:this.minute.floor(t)<t?Ya.SECOND:this.hour.floor(t)<t?Ya.MINUTE:this.day.floor(t)<t?Ya.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?Ya.WEEK_DAY:Ya.SHORT_MONTH:this.year.floor(t)<t?Ya.MONTH:Ya.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return Va(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,n,r,i=t.start,o=t.stop,a=t.count,l=t.minCount,s=t.maxCount,u=this.tickIntervals,c=null!=a?a:Ta.defaultTickCount,h=Math.abs(o-i)/Math.max(c,1),d=0;d<u.length&&h>u[d][2];)d++;if(0===d)r=Math.max(Aa(i,o,c,l,s),1),n=this.millisecond;else if(d===u.length)r=Aa(i/31536e6,o/31536e6,c,l,s),n=this.year;else{var f=h-u[d-1][2],p=u[d][2]-h;n=(e=Za(u[f<p?d-1:d],2))[0],r=e[1]}return n.every(r)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=Za(this.getDomain().map($a),2),e=t[0],n=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:n});if(this.nice){var r=this.tickCount;if(2===r)return this.niceDomain;if(1===r)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:n})},e.prototype.getDefaultTicks=function(t){var e=t.start,n=t.stop,r=this.getTickInterval({start:e,stop:n,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return r?r.range(new Date(e),new Date(n)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,n=t.stop,i=this.interval,o=this.tickIntervals;if(!i)return[];if(i instanceof r){var a=i.range(new Date(e),new Date(n));return this.isDenseInterval({start:e,stop:n,interval:i,count:a.length})?this.getDefaultTicks({start:e,stop:n}):a}var l=Math.abs(i);if(this.isDenseInterval({start:e,stop:n,interval:l}))return this.getDefaultTicks({start:e,stop:n});var s=qa([],Za(o));s.reverse();var u=s.find((function(t){return l%t[2]==0}));if(u)return u[0].every(l/(u[2]/u[1])).range(new Date(e),new Date(n));for(var c=new Date(e),h=new Date(n),d=[];c<=h;)d.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+l);return d},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return null==n?this.defaultTickFormat(e):Va(n)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=Za(this.domain,2),e=t[0],n=t[1],r=0;r<4;r++){this.updateNiceDomainIteration(e,n);var i=Za(this.niceDomain,2),o=i[0],a=i[1];if($a(e)===$a(o)&&$a(n)===$a(a))break;e=o,n=a}},e.prototype.updateNiceDomainIteration=function(t,e){var n,i=$a(t),o=$a(e),a=this.interval;if(a instanceof r)n=a;else{var l="number"==typeof a?(o-i)/Math.max(a,1):this.tickCount;n=this.getTickInterval({start:i,stop:o,count:l,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(n){var s=n.range(t,e,!0),u=s[0],c=s[s.length-1];this.niceDomain=[u,c]}},e}(Ta),el=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},nl=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},rl=function(t){return"("+t+")"},il=function(t){return rl(t)+"?"},ol=function(t){return il("?:"+t)},al=new RegExp(["^",ol(""+il(".")+rl("[<>=^]")),il("[+\\-( ]"),il("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),il("0"),il("\\d+"),il(","),ol("\\."+rl("\\d+")),il("~"),il("[%a-z]"),"$"].join(""),"i"),ll=new RegExp(["^",rl(".*?"),"#\\{"+rl(".+?")+"\\}",rl(".*?"),"$"].join(""));function sl(t){var e,n,r,i=ll.exec(t);i&&(n=(e=el(i,4))[1],t=e[2],r=e[3]);var o=al.exec(t);if(!o)throw new Error("The number formatter is invalid: "+t);var a=el(o,11),l=a[1],s=a[2],u=a[3],c=a[4],h=a[5],d=a[6],f=a[7],p=a[8],y=a[9],v=a[10];return{fill:l,align:s,sign:u,symbol:c,zero:h,width:parseInt(d),comma:f,precision:parseInt(p),trim:Boolean(y),type:v,prefix:n,suffix:r}}function ul(t){var e,n,r="string"==typeof t?sl(t):t,i=r.fill,o=r.align,a=r.sign,l=void 0===a?"-":a,s=r.symbol,u=r.zero,c=r.width,h=r.comma,d=r.type,f=r.prefix,p=void 0===f?"":f,y=r.suffix,v=void 0===y?"":y,g=r.precision,m=r.trim,b=void 0===g||isNaN(g);if(d)if(d in dl&&d in hl)e=b?hl[d]:dl[d];else if(d in dl)e=dl[d];else{if(!(d in hl))throw new Error("The number formatter type is invalid: "+d);e=hl[d]}else e=dl.g,m=!0;return n=null==g||b?d?6:12:g,function(t){var r=e(t,n);return m&&(r=r.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),h&&(r=function(t,e){var n=t.indexOf(".");n<0&&(n=t.length);for(var r=t.substring(0,n).split(""),i=t.substring(n),o=r.length-3;o>0;o-=3)r.splice(o,0,e);return""+r.join("")+i}(r,h)),r=function(t,e,n){if(void 0===n&&(n=""),"("===n)return t>=0?e:"("+e+")";var r="+"===n?"+":"";return""+(t>=0?r:"\u2212")+e}(t,r,l),s&&"#"!==s&&(r=""+s+r),"#"===s&&"x"===d&&(r="0x"+r),"s"===d&&(r=""+r+function(t){return vl[fl(t)]}(t)),"%"!==d&&"p"!==d||(r+="%"),null==c||isNaN(c)||(r=function(t,e,n,r){void 0===n&&(n=" "),void 0===r&&(r=">");var i=t;if(">"!==r&&r){if("<"===r)i=i.padEnd(e,n);else if("^"===r){var o=Math.max(0,e-i.length),a=Math.ceil(o/2),l=Math.floor(o/2);i=(i=i.padStart(a+i.length,n)).padEnd(l+i.length,n)}}else i=i.padStart(e,n);return i}(r,c,null!=i?i:u,o)),r=""+p+r+v}}var cl=function(t){return Math.floor(Math.abs(t))},hl={b:function(t){return cl(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return cl(t).toString(8)},x:function(t){return cl(t).toString(16)},X:function(t){return hl.x(t).toUpperCase()},n:function(t){return hl.d(t)},"%":function(t){return""+cl(100*t).toFixed(0)}},dl={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return dl.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return dl.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var n=Math.abs(t),r=Math.floor(Math.log10(n));return r>=-4&&r<e?n.toFixed(e-1-r):n.toExponential(e-1)},G:function(t,e){return dl.g(t,e).toUpperCase()},n:function(t,e){return dl.g(t,e)},p:function(t,e){return dl.r(100*t,e)},r:function(t,e){if(0===t)return"0";var n=Math.abs(t),r=Math.floor(Math.log10(n))-(e-1);if(r<=0)return n.toFixed(-r);var i=Math.pow(10,r);return(Math.round(n/i)*i).toFixed()},s:function(t,e){var n=fl(t);return dl.r(t/Math.pow(10,n),e)},"%":function(t,e){return dl.f(100*t,e)}};function fl(t){var e=Math.log10(Math.abs(t)),n=3*Math.floor(e/3);return Math.max(pl,Math.min(yl,n))}var pl=-24,yl=24,vl=((Qa={})[pl]="y",Qa[-21]="z",Qa[-18]="a",Qa[-15]="f",Qa[-12]="p",Qa[-9]="n",Qa[-6]="\xb5",Qa[-3]="m",Qa[0]="",Qa[3]="k",Qa[6]="M",Qa[9]="G",Qa[12]="T",Qa[15]="P",Qa[18]="E",Qa[21]="Z",Qa[yl]="Y",Qa);function gl(t,e){var n=sl(null!=e?e:",f"),r=n.precision;(null==r||isNaN(r))&&("f"===n.type||"%"===n.type?n.precision=Math.max.apply(Math,nl([],el(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),r=n.type?6:12,i=t.toExponential(r-1).replace(/\.?0+e/,"e"),o=i.indexOf(".");if(o<0)return e>=0?0:-e;var a=i.indexOf("e")-o;return Math.max(0,a-e-1)}))))):n.type&&!(n.type in dl)||(n.precision=Math.max.apply(Math,nl([],el(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length})))))));var i=ul(n);return function(t){return i(Number(t))}}var ml=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},xl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},wl=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Sl=function(t){return t},kl=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=Sl,e.basePow=Sl,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return ml(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var n=Math.log(e);t=function(t){return Math.log(t)/n}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,n=this.base;t=10===n?e.pow10:n===Math.E?Math.exp:function(t){return Math.pow(n,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=xl(this.domain,2),e=t[0],n=t[1],r=this.pow(Math.floor(this.log(e))),i=this.pow(Math.ceil(this.log(n)));this.niceDomain=[r,i]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,n=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();var r=this.base,i=xl(this.getDomain(),2),o=i[0],a=i[1],l=this.log(o),s=this.log(a);if(this.interval){var u=Math.abs(this.interval),c=Math.abs(s-l),h=ja(l,s,Math.min(c,u)).map((function(t){return e.pow(t)})).filter((function(t){return t>=o&&t<=a}));if(!this.isDenseInterval({start:o,stop:a,interval:u,count:h.length}))return h}if(r%1!=0||s-l>=n)return Ra(l,s,Math.min(s-l,n)).map((function(t){return e.pow(t)}));var d=[],f=o>0;l=Math.floor(l)-1,s=Math.round(s)+1;for(var p=Math.min.apply(Math,wl([],xl(this.range))),y=(Math.max.apply(Math,wl([],xl(this.range)))-p)/n,v=1/0,g=l;g<=s;g++)for(var m=this.convert(this.pow(g+1)),b=1;b<r;b++){var x=f?b:r-b+1,w=this.pow(g)*x,S=this.convert(w),k=Math.abs(v-S),O=Math.abs(S-m);w>=o&&w<=a&&(1===b||k>=y&&O>=y)&&(d.push(w),v=S)}return d},e.prototype.tickFormat=function(t){var e=t.count,n=t.ticks,r=t.specifier,i=this.base;return null==r&&(r=10===i?".0e":","),"string"==typeof r&&(r=ul(r)),e===1/0?r:(null==n&&this.ticks(),function(t){return r(t)})},bl([ne(Ee(0))],e.prototype,"base",void 0),e}(Ta);function Ol(t){var e=t.length;if(0!==e){for(var n=1/0,r=-1/0,i=0;i<e;i++){var o=t[i];o instanceof Date&&(o=o.getTime()),"number"==typeof o&&(o<n&&(n=o),o>r&&(r=o))}var a=[n,r];if(!a.some((function(t){return!isFinite(t)})))return a}}function _l(t,e,n){var r;return t.length>2&&(t=null!==(r=Ol(t))&&void 0!==r?r:[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]),t[0]>t[1]&&(t=[]),t}var Dl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ml=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return Ft(this)},Dl([ne(pe)],t.prototype,"enabled",void 0),Dl([ne(Ee(0))],t.prototype,"fontSize",void 0),Dl([ne(ve)],t.prototype,"fontFamily",void 0),Dl([ne(Ke)],t.prototype,"fontStyle",void 0),Dl([ne(He)],t.prototype,"fontWeight",void 0),Dl([ne(_e)],t.prototype,"color",void 0),t}();function Cl(t){var e=t.parallelFlipRotation,n=void 0===e?0:e,r=t.regularFlipRotation,i=void 0===r?0:r,o=t.rotation?Ot(Dt(t.rotation)):0,a=!o&&n>=0&&n<=Math.PI?-1:1,l=!o&&i>=0&&i<=Math.PI?-1:1,s=0;return t.parallel?s=a*Math.PI/2:-1===l&&(s=Math.PI),{configuredRotation:o,defaultRotation:s,parallelFlipFlag:a,regularFlipFlag:l}}function El(t,e,n,r,i){var o=e>0&&e<=Math.PI,a=n>0&&n<=Math.PI;if(t){if(!e&&!n)return"center";if(r*(o||a?-1:1)==-1)return"end"}else if(r*i==-1)return"end";return"start"}function Pl(t,e,n,r,i){var o=e.width,a=e.height,l=new A(n,r,0,0);i.transformBBox(l,e);var s=e.x,u=void 0===s?0:s,c=e.y,h=void 0===c?0:c;return e.width=o,e.height=a,{point:{x:u,y:h,size:0},label:{width:o,height:a,text:t}}}function Tl(t,e){return void 0===e&&(e=[void 0]),ee((function(n,r,i){return e.includes(i)?t:i}))}var Nl,Rl,Ll=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Al=function(){function t(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return t.prototype.getSideFlag=function(){return this.mirrored?1:-1},t.prototype.getFont=function(){return Ft(this)},Ll([ne(pe)],t.prototype,"enabled",void 0),Ll([ne(ye)],t.prototype,"autoWrap",void 0),Ll([ne(Pe(0))],t.prototype,"maxWidth",void 0),Ll([ne(Pe(0))],t.prototype,"maxHeight",void 0),Ll([ne(Ke)],t.prototype,"fontStyle",void 0),Ll([ne(He)],t.prototype,"fontWeight",void 0),Ll([ne(Ee(1))],t.prototype,"fontSize",void 0),Ll([ne(ve)],t.prototype,"fontFamily",void 0),Ll([ne(Ee(0))],t.prototype,"padding",void 0),Ll([ne(Te()),Tl(NaN)],t.prototype,"minSpacing",void 0),Ll([ne(De)],t.prototype,"color",void 0),Ll([ne(Pe(-360,360))],t.prototype,"rotation",void 0),Ll([ne(ye)],t.prototype,"autoRotate",void 0),Ll([ne(Ee(-360,360))],t.prototype,"autoRotateAngle",void 0),Ll([ne(pe)],t.prototype,"avoidCollisions",void 0),Ll([ne(pe)],t.prototype,"mirrored",void 0),Ll([ne(pe)],t.prototype,"parallel",void 0),Ll([ne(ge)],t.prototype,"format",void 0),t}(),Il=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},jl=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return Il([ne(Ee(0))],t.prototype,"width",void 0),Il([ne(De)],t.prototype,"color",void 0),t}(),Fl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Bl=re((function(t,e){return Ee(0)(t,e)||t instanceof r}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),zl=re((function(t,e){return ie(t,e,Bl)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Gl=re((function(t,e){return ie(t,e,(function(t,e){return 0!==t&&Ee(0)(t,e)||t instanceof r}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Wl=function(){function t(){this.enabled=!0,this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}var e,n,r,i;return Fl([ne(pe)],t.prototype,"enabled",void 0),Fl([ne(Ee(0))],t.prototype,"width",void 0),Fl([ne(Ee(0))],t.prototype,"size",void 0),Fl([ne(De)],t.prototype,"color",void 0),Fl([ne(zl),(e="Use tick.interval or tick.minSpacing and tick.maxSpacing instead",r=null==n?void 0:n.default,i=mn(),ee((function(t,n,o){return o!==r&&i(n.toString(),e),o})))],t.prototype,"count",void 0),Fl([ne(Gl)],t.prototype,"interval",void 0),Fl([ne(ae())],t.prototype,"values",void 0),Fl([ne(le(Te(1),ce("maxSpacing"))),Tl(NaN)],t.prototype,"minSpacing",void 0),t}(),Kl=function(){function t(e,n){this.state=e,this.states=n,t.DEBUG()&&ot.debug("%c"+this.constructor.name+" | init -> "+e,"color: green")}return t.prototype.transition=function(e,n){var r,i,o,a,l,s=this.states[this.state],u=null===(r=null==s?void 0:s.on)||void 0===r?void 0:r[e];if(u){var c=u.target,h=this.states[c];return t.DEBUG()&&ot.debug("%c"+this.constructor.name+" | "+this.state+" -> "+e+" -> "+c,"color: green"),u.action(n),null===(o=null===(i=null==s?void 0:s.actions)||void 0===i?void 0:i.onExit)||void 0===o||o.call(i),null===(l=null===(a=null==h?void 0:h.actions)||void 0===a?void 0:a.onEnter)||void 0===l||l.call(a),this.state=c,this.state}t.DEBUG()&&ot.debug("%c"+this.constructor.name+" | "+this.state+" -> "+e+" -> "+this.state,"color: grey")},t.DEBUG=function(){var t;return null!==(t=[!0,"animation"].includes(pt("agChartsDebug")))&&void 0!==t&&t},t}(),Vl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hl=function(){return(Hl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Yl=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Xl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ul=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ql=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Jl=["stroke","lineDash"],$l=re(oe(void 0,(function(t){for(var e in t)if(!Jl.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'");!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(Nl||(Nl={})),function(t){t[t.CREATE=0]="CREATE",t[t.CREATE_SECONDARY=1]="CREATE_SECONDARY",t[t.FILTER=2]="FILTER",t[t.VALUES=3]="VALUES"}(Rl||(Rl={}));var Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vl(e,t),e}(Kl),ts=function(){function t(t,e){var n=this;this.moduleCtx=t,this.id=z(this),this.nice=!0,this.dataDomain=[],this.keys=[],this.boundSeries=[],this.includeInvisibleDomains=!1,this.axisGroup=new dt({name:this.id+"-axis",zIndex:je.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Da),this.tickLineGroup=this.axisGroup.appendChild(new dt({name:this.id+"-Axis-tick-lines",zIndex:je.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new dt({name:this.id+"-Axis-tick-labels",zIndex:je.AXIS_ZINDEX})),this.crossLineGroup=new dt({name:this.id+"-CrossLines"}),this.gridGroup=new dt({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new dt({name:this.id+"-gridLines",zIndex:je.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Xi.select(this.tickLineGroup,Da,!1),this.tickLabelGroupSelection=Xi.select(this.tickLabelGroup,jt,!1),this.gridLineGroupSelection=Xi.select(this.gridLineGroup,Da,!1),this.line=new jl,this.tick=this.createTick(),this.label=new Al,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.modules={},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Ca,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.maxThickness=1/0,this._scale=e,this.refreshScale(),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node);var r=t.interactionManager.addListener("hover",(function(t){return n.checkAxisHover(t)}));this.destroyFns.push((function(){return t.interactionManager.removeListener(r)})),this.animationManager=t.animationManager,this.animationState=new Ql("empty",{empty:{on:{update:{target:"align",action:function(){return n.resetSelectionNodes()}}}},align:{on:{update:{target:"ready",action:function(){return n.resetSelectionNodes()}}}},ready:{on:{update:{target:"ready",action:function(t){return n.animateReadyUpdate(t)}}}}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines)}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;return null!==(t=this.constructor.type)&&void 0!==t?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,n,r=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return r.detachCrossLine(t)})),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach((function(t){r.attachCrossLine(t),r.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){var t,e;try{for(var n=Ul(Object.entries(this.modules)),r=n.next();!r.done;r=n.next()){var i=Zl(r.value,2),o=i[0];i[1].instance.destroy(),delete this.modules[o],delete this[o]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.destroyFns.forEach((function(t){return t()}))},t.prototype.refreshScale=function(){var t,e=this;this.range=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this.range,n=this.visibleRange,r=this.scale,i=(e[1]-e[0])/(n[1]-n[0]),o=i*n[0],a=e[0]-o;r.range=[a,a+i],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[e[0],e[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t){t.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=this.range,i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return t+e<i-n?-1:t>o+n?1:0},t.prototype.onLabelFormatChange=function(t,e){var n=this.scale,r=this.fractionDigits,i=!(n instanceof kl)&&r>0?function(t){return"number"==typeof t?t.toFixed(r):String(t)}:function(t){return String(t)};if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=i,ot.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=i},t.prototype.setDomain=function(){var t,e=this.scale,n=this.dataDomain,r=this.tick.values;if(r&&e instanceof Ta){var i=Zl(null!==(t=Ol(r))&&void 0!==t?t:[1/0,-1/0],2),o=i[0],a=i[1],l=Math.min(e.fromDomain(n[0]),o),s=Math.max(e.fromDomain(n[1]),a);e.domain=[e.toDomain(l),e.toDomain(s)]}else e.domain=n},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,n){var r=this.scale;if(t&&r instanceof Ta)return"number"==typeof t?(r.tickCount=t,r.minTickCount=null!=e?e:0,void(r.maxTickCount=null!=n?n:1/0)):void(r instanceof tl&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,n=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){n.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.createTick=function(){return new Wl},t.prototype.checkAxisHover=function(t){this.computeBBox().containsPoint(t.offsetX,t.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)},t.prototype.update=function(t){var e=this.tickLabelGroupSelection.nodes().map((function(t){return t.datum.tickId})),n=this.calculateRotations(),r=n.rotation,i=n.parallelFlipRotation,o=n.regularFlipRotation,a=this.label.getSideFlag(),l=a*(this.tick.size+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.updatePosition({rotation:r,sideFlag:a}),this.updateLine();var s=this.generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:o,labelX:l,sideFlag:a}),u=s.tickData,c=s.combinedRotation,h=s.textBaseline,d=s.textAlign,f=Xl(s,["tickData","combinedRotation","textBaseline","textAlign"]);if(this.updateSelections(u.ticks),this.animationManager.skipAnimations)this.resetSelectionNodes();else{var p=this.calculateUpdateDiff(e,u);this.animationState.transition("update",p)}return this.updateLabels({tickLabelGroupSelection:this.tickLabelGroupSelection,combinedRotation:c,textBaseline:h,textAlign:d,labelX:l}),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(a),this.updateTitle({anyTickVisible:u.ticks.length>0,sideFlag:a}),this.updateCrossLines({rotation:r,parallelFlipRotation:i,regularFlipRotation:o,sideFlag:a}),this.updateLayoutState(),t=f.primaryTickCount},t.prototype.updateLayoutState=function(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}},t.prototype.updateScale=function(){this.updateRange(),this.calculateDomain(),this.setDomain(),this.setTickInterval(this.tick.interval);var t=this.scale,e=this.nice;t instanceof Ta&&(this.setTickCount(this.tick.count),t.nice=e,t.update())},t.prototype.calculateRotations=function(){var t=Dt(this.rotation);return{rotation:t,parallelFlipRotation:Ot(t),regularFlipRotation:Ot(t-Math.PI/2)}},t.prototype.generateTicks=function(t){for(var e,n,r,i,o=t.primaryTickCount,a=t.parallelFlipRotation,l=t.regularFlipRotation,s=t.labelX,u=t.sideFlag,c=this.scale,h=this.tick,d=this.label,f=d.parallel,p=d.rotation,y=d.fontFamily,v=d.fontSize,g=d.fontStyle,m=d.fontWeight,b=void 0!==o,x=Cl({rotation:p,parallel:f,regularFlipRotation:l,parallelFlipRotation:a}),w=x.defaultRotation,S=x.configuredRotation,k=x.parallelFlipFlag,O=x.regularFlipFlag,_=S+w,D=new F,M=this.estimateTickCount({minSpacing:h.minSpacing,maxSpacing:null!==(i=h.maxSpacing)&&void 0!==i?i:NaN}).maxTickCount,C=c instanceof Ta,E=h.count||!C||isNaN(M)?10:M,P=El(f,S,0,u,O),T=function(t,e,n,r){return t&&!e?n*r==-1?"hanging":"bottom":"middle"}(f,S,u,k),N={fontFamily:y,fontSize:v,fontStyle:g,fontWeight:m,textBaseline:T,textAlign:P},R={rawTicks:[],ticks:[],labelCount:0},L=0,A=0,I=!0,j=!1;I&&L<=E&&!j;){A=0,P=El(f,S,0,u,O);var B=this.getTickStrategies({secondaryAxis:b,index:L});try{for(var z=(e=void 0,Ul(B)),G=z.next();!G.done;G=z.next()){R=(r=(0,G.value)({index:L,tickData:R,textProps:N,labelOverlap:I,terminate:j,primaryTickCount:o})).tickData,L=r.index,A=r.autoRotation,j=r.terminate;var W=R.ticks;P=El(f,S,A,u,O);var K=0!==S||0!==A,V=_+A;I=this.checkLabelOverlap(V,K,D,W,s,Hl(Hl({},N),{textAlign:P}))}}catch(t){e={error:t}}finally{try{G&&!G.done&&(n=z.return)&&n.call(z)}finally{if(e)throw e.error}}}var H=w+S+A;return!b&&R.rawTicks.length>0&&(o=R.rawTicks.length),{tickData:R,primaryTickCount:o,combinedRotation:H,textBaseline:T,textAlign:P}},t.prototype.getTickStrategies=function(t){var e,n=this,r=t.index,i=t.secondaryAxis,o=this.scale,a=this.label,l=this.tick,s=o instanceof Ta,u=a.enabled&&a.avoidCollisions,c=!(s&&void 0===this.tick.count)&&0!==r&&u,h=!0===a.autoRotate&&void 0===a.rotation,d=[];return e=this.tick.values?Rl.VALUES:i?Rl.CREATE_SECONDARY:c?Rl.FILTER:Rl.CREATE,d.push((function(t){var r=t.index,i=t.tickData,o=t.primaryTickCount,a=t.terminate;return n.createTickData(e,r,i,a,o)})),s||isNaN(l.minSpacing)||d.push((function(t){var e=t.index,r=t.tickData,i=t.primaryTickCount,o=t.terminate;return n.createTickData(Rl.FILTER,e,r,o,i)})),u?(a.autoWrap?d.push((function(t){var e=t.index,r=t.tickData,i=t.textProps;return n.wrapLabels(r,e,i)})):h&&d.push((function(t){var e=t.index,r=t.tickData,i=t.labelOverlap,o=t.terminate;return{index:e,tickData:r,autoRotation:n.getAutoRotation(i),terminate:o}})),d):d},t.prototype.createTickData=function(t,e,n,r,i){for(var o,a,l,s=this.scale,u=this.tick,c=this.estimateTickCount({minSpacing:u.minSpacing,maxSpacing:null!==(o=u.maxSpacing)&&void 0!==o?o:NaN}),h=c.maxTickCount,d=c.minTickCount,f=c.defaultTickCount,p=s instanceof Ta,y=u.count||!p||isNaN(h)?10:h,v=null!==(a=u.count)&&void 0!==a?a:p?Math.max(f-e,d):h,g=void 0===u.interval&&void 0===u.values&&void 0===u.count&&v>d&&(p||t===Rl.FILTER),m=!0;m&&e<=y;){var b=n.rawTicks;v=null!==(l=u.count)&&void 0!==l?l:p?Math.max(f-e,d):h;var x=this.getTicks({tickGenerationType:t,previousTicks:b,tickCount:v,minTickCount:d,maxTickCount:h,primaryTickCount:i}),w=x.rawTicks,S=x.ticks,k=x.labelCount;n.rawTicks=w,n.ticks=S,n.labelCount=k,m=!!g&&Ea(w,b),e++}var O=void 0!==u.interval||void 0!==u.values;return r||(r=O),{tickData:n,index:e,autoRotation:0,terminate:r}},t.prototype.checkLabelOverlap=function(t,e,n,r,i,o){return F.updateTransformMatrix(n,1,1,t,0,0),function(t,e){for(var n=[],r=function(r){var i=t[r],o=i.point,a=o.x,l=o.y,s=i.label.text,u=i.label,c=u.width,h=u.height;if(c+=null!=e?e:0,h+=null!=e?e:0,n.some((function(t){return Or(t,a,l,c,h)})))return{value:!0};n.push({index:r,text:s,x:a,y:l,width:c,height:h,datum:i})},i=0;i<t.length;i++){var o=r(i);if("object"==typeof o)return o.value}return!1}(this.createLabelData(r,i,o,n),function(t,e){return isNaN(t)?e?0:10:t}(this.label.minSpacing,e))},t.prototype.createLabelData=function(t,e,n,r){var i,o,a=[];try{for(var l=Ul(t),s=l.next();!s.done;s=l.next()){var u=s.value,c=u.tickLabel,h=u.translationY;if(""!==c&&null!=c){var d=Bt(Kt(c),e,h,n),f=d.width,p=d.height,y=Pl(c,new A(e,h,f,p),e,h,r);a.push(y)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a},t.prototype.getAutoRotation=function(t){return t?Ot(Dt(this.label.autoRotateAngle)):0},t.prototype.getTicks=function(t){var e,n=t.tickGenerationType,r=t.previousTicks,i=t.tickCount,o=t.minTickCount,a=t.maxTickCount,l=t.primaryTickCount,s=this.scale,u=[];switch(n){case Rl.VALUES:u=this.tick.values;break;case Rl.CREATE_SECONDARY:u=this.updateSecondaryAxisTicks(l);break;case Rl.FILTER:u=this.filterTicks(r,i);break;default:u=this.createTicks(i,o,a)}this.onLabelFormatChange(u,this.label.format),this.fractionDigits=u.fractionDigits>=0?u.fractionDigits:0;for(var c=(null!==(e=this.scale.bandwidth)&&void 0!==e?e:0)/2,h=[],d=0,f=new Map,p=0;p<u.length;p++){var y=u[p],v=s.convert(y)+c,g=this.formatTick(y,p),m=g;if(f.has(m)){var b=f.get(m);f.set(m,b+1),m=m+"_"+b}else f.set(m,1);h.push({tick:y,tickId:m,tickLabel:g,translationY:v}),""!==g&&null!=g&&d++}return{rawTicks:u,ticks:h,labelCount:d}},t.prototype.filterTicks=function(t,e){var n,r=isNaN(this.tick.minSpacing)&&isNaN(null!==(n=this.tick.maxSpacing)&&void 0!==n?n:NaN)?2:Math.ceil(t.length/e);return t.filter((function(t,e){return e%r==0}))},t.prototype.createTicks=function(t,e,n){var r,i,o;return this.setTickCount(t,e,n),null!==(o=null===(i=(r=this.scale).ticks)||void 0===i?void 0:i.call(r))&&void 0!==o?o:[]},t.prototype.estimateTickCount=function(e){var n=e.minSpacing,r=e.maxSpacing,i=this.calculateAvailableRange(),o=Math.max(t.defaultTickMinSpacing,i/Ta.defaultMaxTickCount);isNaN(n)&&isNaN(r)?(n=o)>(r=i)&&(r=n):isNaN(n)?(n=o)>r&&(n=r):isNaN(r)&&n>(r=i)&&(r=n);var a=Math.max(1,Math.floor(i/n)),l=Math.min(a,Math.ceil(i/r)),s=Ta.defaultTickCount;return s>a?s=a:s<l&&(s=l),{minTickCount:l,maxTickCount:a,defaultTickCount:s}},t.prototype.updateVisibility=function(){var t=this.range,e=Math.min.apply(Math,ql([],Zl(t))),n=Math.max.apply(Math,ql([],Zl(t))),r=function(t){var r=Math.floor(e),i=Math.ceil(n);if(r!==i){t.translationY>=r-1&&t.translationY<r&&(t.translationY=r),t.translationY>i&&t.translationY<=i+1&&(t.translationY=i);var o=t.translationY>=r&&t.translationY<=i;t.visible=o}else t.visible=!1},i=this.gridLineGroupSelection,o=this.tickLineGroupSelection,a=this.tickLabelGroupSelection;i.each(r),o.each(r),a.each(r),this.tickLineGroup.visible=this.tick.enabled,this.tickLabelGroup.visible=this.label.enabled},t.prototype.updateCrossLines=function(t){var e,n=this,r=t.rotation,i=t.parallelFlipRotation,o=t.regularFlipRotation,a=t.sideFlag,l=this.isAnySeriesActive();null===(e=this.crossLines)||void 0===e||e.forEach((function(t){var e;t.sideFlag=-a,t.direction=r===-Math.PI/2?Fe.X:Fe.Y,t.label.parallel=null!==(e=t.label.parallel)&&void 0!==e?e:n.label.parallel,t.parallelFlipRotation=i,t.regularFlipRotation=o,t.update(l)}))},t.prototype.updateTickLines=function(t){var e=this.tick;this.tickLineGroupSelection.each((function(n){n.strokeWidth=e.width,n.stroke=e.color,n.x1=t*e.size,n.x2=0,n.y1=0,n.y2=0}))},t.prototype.calculateAvailableRange=function(){var t=this.range,e=Math.min.apply(Math,ql([],Zl(t)));return Math.max.apply(Math,ql([],Zl(t)))-e},t.prototype.calculateDomain=function(){var t,e,n,r=this.direction,i=this.boundSeries,o=this.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var a=[],l=i.filter((function(t){return o||t.isEnabled()}));try{for(var s=Ul(l),u=s.next();!u.done;u=s.next()){var c=u.value;a.push(c.getDomain(r))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}var h=(n=new Array).concat.apply(n,ql([],Zl(a)));this.dataDomain=this.normaliseDataDomain(h)}},t.prototype.updatePosition=function(t){var e=t.rotation,n=t.sideFlag,r=this,i=r.crossLineGroup,o=r.axisGroup,a=r.gridGroup,l=r.translation,s=r.gridLineGroupSelection,u=r.gridPadding,c=r.gridLength,h=Math.floor(l.x),d=Math.floor(l.y);i.translationX=h,i.translationY=d,i.rotation=e,o.translationX=h,o.translationY=d,o.rotation=e,a.translationX=h,a.translationY=d,a.rotation=e,s.each((function(t){t.x1=u,t.x2=-n*c+u,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=this.gridLength?t:[],n=this.gridLineGroupSelection.update(e,(function(t){var e=new Da;e.tag=Nl.GridLine,t.append(e)}),(function(t){return t.tickId})),r=this.tickLineGroupSelection.update(t,(function(t){var e=new Da;e.tag=Nl.TickLine,t.appendChild(e)}),(function(t){return t.tickId})),i=this.tickLabelGroupSelection.update(t,(function(t){var e=new jt;e.tag=Nl.TickLabel,t.appendChild(e)}),(function(t){return t.tickId}));this.tickLineGroupSelection=r,this.tickLabelGroupSelection=i,this.gridLineGroupSelection=n},t.prototype.updateGridLines=function(t){var e=this.gridStyle,n=this.tick,r=this.gridPadding,i=this.gridLength;if(0!==i&&0!==e.length){var o=e.length;this.gridLineGroupSelection.each((function(a,l,s){var u=e[s%o];a.x1=r,a.x2=-t*i+r,a.y1=0,a.y2=0,a.stroke=u.stroke,a.strokeWidth=n.width,a.lineDash=u.lineDash,a.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=t.tickLabelGroupSelection,n=t.combinedRotation,r=t.textBaseline,i=t.textAlign,o=t.labelX,a=this.label;this.label.enabled&&e.each((function(t,e){var l=e.tickLabel;t.fontStyle=a.fontStyle,t.fontWeight=a.fontWeight,t.fontSize=a.fontSize,t.fontFamily=a.fontFamily,t.fill=a.color,t.text=l,""===t.text||null==t.text?t.visible=!1:(t.textBaseline=r,t.textAlign=i,t.x=o,t.rotationCenterX=o,t.rotation=n,t.visible=!0)}))},t.prototype.wrapLabels=function(t,e,n){var r=this.label,i=r.parallel,o=r.maxWidth,a=r.maxHeight,l=i?Math.round(this.calculateAvailableRange()/t.labelCount):this.maxThickness,s=null!=o?o:l,u=i?this.maxThickness:Math.round(this.calculateAvailableRange()/t.labelCount),c=null!=a?a:u;return t.ticks.forEach((function(t){var e=t.tickLabel,r=jt.wrap(e,s,c,n,"hyphenate");t.tickLabel=r})),{tickData:t,index:e,autoRotation:0,terminate:!0}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.range;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e,n=t.anyTickVisible,r=t.sideFlag,i=this,o=i.rotation,a=i.title,l=i._titleCaption,s=i.lineNode,u=i.range,c=i.tickLineGroup,h=i.tickLabelGroup,d=i.moduleCtx.callbackCache,f=(null!==(e=this.title)&&void 0!==e?e:{}).formatter,p=void 0===f?function(t){return t.defaultValue}:f;if(a){l.enabled=a.enabled,l.fontFamily=a.fontFamily,l.fontSize=a.fontSize,l.fontStyle=a.fontStyle,l.fontWeight=a.fontWeight,l.color=a.color,l.wrapping=a.wrapping;var y=!1,v=l.node;if(a.enabled&&s.visible){y=!0;var g=Ot(o),m=Ca.PADDING,b=-1===r&&g>Math.PI&&g<2*Math.PI?-1:1;v.rotation=b*r*Math.PI/2,v.x=Math.floor(b*r*(u[0]+u[1])/2);var x=0;if(n){var w=dt.computeBBox([c,h]),S=0===o?w.width:w.height;Math.abs(S)<1/0&&(x+=S)}v.y=-1===r?Math.floor(b*(-m-x)):Math.floor(-m-x),v.textBaseline=1===b?"bottom":"top",v.text=d.call(p,this.getTitleFormatterParams())}v.visible=y}else l.enabled=!1},t.prototype.formatTick=function(t,e){var n,r,i=this.label,o=this.labelFormatter,a=this.fractionDigits,l=this.moduleCtx.callbackCache;if(i.formatter){var s=a>0?t:String(t);return null!==(n=l.call(i.formatter,{value:s,index:e,fractionDigits:a,formatter:o}))&&void 0!==n?n:s}return o&&null!==(r=l.call(o,t))&&void 0!==r?r:String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},t.prototype.clipTickLines=function(t,e,n,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new A(t,e,n,r))},t.prototype.clipGrid=function(t,e,n,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new A(t,e,n,r))},t.prototype.calculatePadding=function(t,e){return[Math.abs(.01*t),Math.abs(.01*t)]},t.prototype.getTitleFormatterParams=function(){var t,e=this,n=this.boundSeries.reduce((function(t,n){for(var r=n.getKeys(e.direction),i=n.getNames(e.direction),o=0;o<r.length;o++)t.push({key:r[o],name:i[o]});return t}),[]);return{direction:this.direction,boundSeries:n,defaultValue:null===(t=this.title)||void 0===t?void 0:t.text}},t.prototype.normaliseDataDomain=function(t){return t},t.prototype.getLayoutState=function(){return Hl({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},t.prototype.createAxisContext=function(){var t=this;return{axisId:this.id,direction:this.direction,continuous:this.scale instanceof Ta,keys:function(){return t.boundSeries.map((function(e){return e.getKeys(t.direction)})).reduce((function(t,e){return t.push.apply(t,ql([],Zl(e))),t}),[])},scaleValueFormatter:function(e){var n,r,i;return null!==(i=null===(r=(n=t.scale).tickFormat)||void 0===r?void 0:r.call(n,{specifier:e}))&&void 0!==i?i:void 0},scaleBandwidth:function(){var e;return null!==(e=t.scale.bandwidth)&&void 0!==e?e:0},scaleConvert:function(e){return t.scale.convert(e)},scaleInvert:function(e){var n,r,i;return null!==(i=null===(r=(n=t.scale).invert)||void 0===r?void 0:r.call(n,e))&&void 0!==i?i:void 0}}},t.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);null==this.axisContext&&(this.axisContext=this.createAxisContext());var e=new t.instanceConstructor(Hl(Hl({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]={instance:e},this[t.optionsKey]=e},t.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},t.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},t.prototype.animateReadyUpdate=function(t){var e,n,r=this;if(t.changed){var i=this.gridLineGroupSelection,o=this.tickLineGroupSelection,a=this.tickLabelGroupSelection,l=Object.keys(t.added).length,s=Object.keys(t.removed).length;if(s!==t.tickCount){var u=null!==(n=null===(e=this.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,c=Math.floor(u/2);l>0&&s>0&&(c=Math.floor(u/3));var h={delay:s>0?c:0,duration:c},d=this.id+"_"+Math.random();a.each((function(e,n){r.animateSelectionNode(a,t,h,e,n,d)})),i.each((function(e,n){r.animateSelectionNode(i,t,h,e,n,d)})),o.each((function(e,n){r.animateSelectionNode(o,t,h,e,n,d)}))}else this.resetSelectionNodes()}else this.resetSelectionNodes()},t.prototype.animateSelectionNode=function(t,e,n,r,i,o){var a=Math.round(i.translationY),l={from:r.translationY,to:a},s={from:1,to:1},u=n.duration,c=n.delay,h=i.tickLabel;e.added[h]?(l={from:a,to:a},s={from:0,to:1},c+=u):e.removed[h]&&(s={from:1,to:0},c=0);var d=[l,s];this.animationManager.animateManyWithThrottle(this.id+"_ready-update_"+r.id,d,{disableInteractions:!1,delay:c,duration:u,ease:ni,throttleId:this.id,throttleGroup:o,onUpdate:function(t){var e=Zl(t,2),n=e[0],i=e[1];r.translationY=n,r.opacity=i},onComplete:function(){t.cleanup()}})},t.prototype.resetSelectionNodes=function(){var t=this.gridLineGroupSelection,e=this.tickLineGroupSelection,n=this.tickLabelGroupSelection;t.cleanup(),e.cleanup(),n.cleanup();var r=function(t){t.translationY=Math.round(t.datum.translationY),t.opacity=1};t.each(r),e.each(r),n.each(r)},t.prototype.calculateUpdateDiff=function(t,e){for(var n,r=new Set,i=new Set,o=Math.max(t.length,e.ticks.length),a=0;a<o;a++){var l=t[a],s=null===(n=e.ticks[a])||void 0===n?void 0:n.tickId;l!==s&&(i.has(s)?i.delete(s):s&&r.add(s),r.has(l)?r.delete(l):l&&i.add(l))}var u={},c={};return r.forEach((function(t){u[t]=!0})),i.forEach((function(t){c[t]=!0})),{changed:r.size>0||i.size>0,tickCount:o,added:u,removed:c}},t.defaultTickMinSpacing=50,Yl([ne(pe)],t.prototype,"nice",void 0),Yl([ne(Le)],t.prototype,"keys",void 0),Yl([ne($l)],t.prototype,"gridStyle",void 0),t}(),es=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ns=function(){function t(){this.enabled=!1,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.color=void 0,this.wrapping="always",this.formatter=void 0}return es([ne(pe)],t.prototype,"enabled",void 0),es([ne(ge)],t.prototype,"text",void 0),es([ne(Ke)],t.prototype,"fontStyle",void 0),es([ne(He)],t.prototype,"fontWeight",void 0),es([ne(Ee(0))],t.prototype,"fontSize",void 0),es([ne(ve)],t.prototype,"fontFamily",void 0),es([ne(De)],t.prototype,"color",void 0),es([ne(an)],t.prototype,"wrapping",void 0),es([ne(fe)],t.prototype,"formatter",void 0),t}(),rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),is=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},os=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return rs(e,t),is([ne(pe),W({redraw:T.MAJOR})],e.prototype,"enabled",void 0),is([ne(_e),W({redraw:T.MAJOR})],e.prototype,"color",void 0),is([ne(Ee()),W({redraw:T.MAJOR})],e.prototype,"xOffset",void 0),is([ne(Ee()),W({redraw:T.MAJOR})],e.prototype,"yOffset",void 0),is([ne(Ee(0)),W({redraw:T.MAJOR})],e.prototype,"blur",void 0),e}(V),as=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ls=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ss=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return as(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:Ta.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var n=ls(this.getDomain(),2),r=n[0],i=n[1],o=this.interval;if(o){var a=Math.abs(o);if(!this.isDenseInterval({start:r,stop:i,interval:a}))return ja(r,i,a)}return Ra(r,i,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,n=null!==(t=this.tickCount)&&void 0!==t?t:Ta.defaultTickCount,r=ls(this.domain,2),i=r[0],o=r[1];if(n<1)this.niceDomain=[i,o];else if(1!==n){for(var a=i,l=o,s=0;s<4;s++){var u=null!==(e=this.interval)&&void 0!==e?e:Aa(i,o,n,this.minTickCount,this.maxTickCount),c=ls(this.domain,2),h=c[0],d=c[1];if(u>=1)i=Math.floor(h/u)*u,o=Math.ceil(d/u)*u;else{var f=1/u;i=Math.floor(h*f)/f,o=Math.ceil(d*f)/f}if(i===a&&o===l)break;a=i,l=o}this.niceDomain=[i,o]}else this.niceDomain=function(t,e){var n=Math.floor(Math.log10(e-t)),r=Math.pow(10,n);return La.map((function(n){var i=n*r,o=Math.floor(t/i)*i,a=Math.ceil(e/i)*i;return{error:1-(e-t)/(a-o),domain:[o,a]}})).sort((function(t,e){return t.error-e.error}))[0].domain}(i,o)},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return gl(null!=e?e:this.ticks(),n)},e}(Ta);function us(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function cs(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function hs(t,e,n){var r=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i=n.innerRadius,o=n.outerRadius;if(r<Math.min(i,o)||r>Math.max(i,o))return!1;var a=Math.atan2(e,t);a<-Math.PI/2&&(a+=2*Math.PI);var l=n.startAngle,s=n.endAngle;return s===-Math.PI/2?a<l:l===3*Math.PI/2?a>s:a<=s&&a>=l}function ds(t,e){var n=e.startAngle,r=e.endAngle,i=e.innerRadius,o=e.outerRadius,a={x:o*Math.cos(n),y:o*Math.sin(n)},l={x:o*Math.cos(r),y:o*Math.sin(r)},s=0===i?{x:0,y:0}:{x:i*Math.cos(n),y:i*Math.sin(n)},u=0===i?{x:0,y:0}:{x:i*Math.cos(r),y:i*Math.sin(r)};return null!=qi(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,s.x,s.y)||null!=qi(t.start.x,t.start.y,t.end.x,t.end.y,l.x,l.y,u.x,u.y)||Qi(0,0,o,n,r,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}var fs,ps=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ys=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},vs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return ps(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new A(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=this.startAngle+e,r=this.endAngle+e,i=Math.min(this.innerRadius,this.outerRadius),o=Math.max(this.innerRadius,this.outerRadius),a=us(Ot(this.startAngle),Ot(this.endAngle)),l=this.centerX,s=this.centerY;t.clear(),a?(t.arc(l,s,o,n,r),i>0&&(t.moveTo(l+i*Math.cos(r),s+i*Math.sin(r)),t.arc(l,s,i,r,n,!0))):(t.moveTo(l+i*Math.cos(n),s+i*Math.sin(n)),t.arc(l,s,o,n,r),i>0?t.arc(l,s,i,r,n,!0):t.lineTo(l,s)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var n=this.angleOffset,r=this.startAngle+n,i=this.endAngle+n,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),l=this.transformPoint(t,e);return hs(l.x,l.y,{startAngle:r,endAngle:i,innerRadius:o,outerRadius:a})},e.className="Sector",ys([oo()],e.prototype,"centerX",void 0),ys([oo()],e.prototype,"centerY",void 0),ys([oo()],e.prototype,"innerRadius",void 0),ys([oo()],e.prototype,"outerRadius",void 0),ys([oo()],e.prototype,"startAngle",void 0),ys([oo()],e.prototype,"endAngle",void 0),ys([oo()],e.prototype,"angleOffset",void 0),e}(ao),gs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ms=function(t){function e(e){var n,r,i=e.moduleCtx,o=e.useLabelLayer,a=void 0!==o&&o,l=e.pickModes,s=void 0===l?[Un.EXACT_SHAPE_MATCH]:l,u=t.call(this,{moduleCtx:i,useLabelLayer:a,pickModes:s,contentGroupVirtual:!1,directionKeys:(n={},n[Fe.X]=["angleKey"],n[Fe.Y]=["radiusKey"],n),directionNames:(r={},r[Fe.X]=["angleName"],r[Fe.Y]=["radiusName"],r)})||this;return u.centerX=0,u.centerY=0,u.radius=0,u}return gs(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t,e){return null},e}(mr),bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(){return(xs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ws=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ss=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},ks=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Os=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_s=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ds=function(t){function e(e,n,r,i,o,a,l){var s=t.call(this,o,a,l)||this;return s.angleKey=e,s.calloutLabelKey=n,s.sectorLabelKey=r,s.radiusKey=i,s}return bs(e,t),e}(ur),Ms=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return bs(e,t),e}(Ds),Cs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return bs(e,t),e}(Ds);!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(fs||(fs={}));var Es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e.avoidCollisions=!0,e}return bs(e,t),ws([ne(Ee(0))],e.prototype,"offset",void 0),ws([ne(Ee(0))],e.prototype,"minAngle",void 0),ws([ne(fe)],e.prototype,"formatter",void 0),ws([ne(Ee(0))],e.prototype,"minSpacing",void 0),ws([ne(Ee(0))],e.prototype,"maxCollisionOffset",void 0),ws([ne(pe)],e.prototype,"avoidCollisions",void 0),e}(Ml),Ps=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return bs(e,t),ws([ne(Ee())],e.prototype,"positionOffset",void 0),ws([ne(Ee(0,1))],e.prototype,"positionRatio",void 0),ws([ne(fe)],e.prototype,"formatter",void 0),e}(Ml),Ts=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return ws([ne(Ce)],t.prototype,"colors",void 0),ws([ne(Ee(0))],t.prototype,"length",void 0),ws([ne(Ee(0))],t.prototype,"strokeWidth",void 0),t}(),Ns=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return bs(e,t),ws([ne(fe)],e.prototype,"renderer",void 0),e}(vr),Rs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}return bs(e,t),ws([ne(pe)],e.prototype,"showInLegend",void 0),e}(Ca),Ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}return bs(e,t),ws([ne(ve)],e.prototype,"text",void 0),ws([ne(Ee())],e.prototype,"margin",void 0),e}(Ml),As=function(){function t(){this.fill="transparent",this.fillOpacity=1}return ws([ne(_e)],t.prototype,"fill",void 0),ws([ne(Pe(0,1))],t.prototype,"fillOpacity",void 0),t}(),Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bs(e,t),e}(Kl),js=function(t){function e(e){var n,r,i,o=t.call(this,{moduleCtx:e,useLabelLayer:!0})||this;o.radiusScale=new ss,o.groupSelection=Xi.select(o.contentGroup,dt),o.highlightSelection=Xi.select(o.highlightGroup,dt),o.nodeData=[],o.seriesItemEnabled=[],o.title=void 0,o.calloutLabel=new Es,o.sectorLabel=new Ps,o.calloutLine=new Ts,o.tooltip=new Ns,o.angleKey="",o.angleName="",o.innerLabels=[],o.innerCircle=void 0,o.radiusKey=void 0,o.radiusName=void 0,o.radiusMin=void 0,o.radiusMax=void 0,o.calloutLabelKey=void 0,o.calloutLabelName=void 0,o.sectorLabelKey=void 0,o.sectorLabelName=void 0,o.legendItemKey=void 0,o.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],o.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],o.fillOpacity=1,o.strokeOpacity=1,o.lineDash=[0],o.lineDashOffset=0,o.formatter=void 0,o.rotation=0,o.outerRadiusOffset=0,o.outerRadiusRatio=1,o.innerRadiusOffset=0,o.innerRadiusRatio=1,o.strokeWidth=1,o.shadow=void 0,o.highlightStyle=new yr,o.surroundingRadius=void 0,o.angleScale=new ss,o.angleScale.domain=[0,1],o.angleScale.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),o.backgroundGroup=o.rootGroup.appendChild(new dt({name:o.id+"-background",layer:!0,zIndex:je.SERIES_BACKGROUND_ZINDEX}));var a=new dt({name:"pieCalloutLabels"}),l=new dt({name:"pieSectorLabels"}),s=new dt({name:"innerLabels"});return null===(n=o.labelGroup)||void 0===n||n.append(a),null===(r=o.labelGroup)||void 0===r||r.append(l),null===(i=o.labelGroup)||void 0===i||i.append(s),o.calloutLabelSelection=Xi.select(a,dt),o.sectorLabelSelection=Xi.select(l,jt),o.innerLabelsSelection=Xi.select(s,jt),o.animationState=new Is("empty",{empty:{on:{update:{target:"ready",action:function(){return o.animateEmptyUpdateReady()}}}},ready:{on:{update:{target:"ready",action:function(){return o.animateReadyUpdateReady()}}}}}),o}return bs(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e=this;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return e.onLegendItemClick(t)}))},e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t,e=this.data,n=this.visible;this.seriesItemEnabled=null!==(t=null==e?void 0:e.map((function(){return n})))&&void 0!==t?t:[]},e.prototype.getDomain=function(t){return t===Fe.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(t){var e,n;return Ss(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d,f,p,y;return ks(this,(function(v){switch(v.label){case 0:return r=this.data,i=void 0===r?[]:r,a=(o=this).angleKey,l=o.radiusKey,s=o.calloutLabelKey,u=o.sectorLabelKey,c=o.legendItemKey,h=o.seriesItemEnabled,a?(d=[],l&&(d.push(ar(this,l,{id:"radiusValue",min:null!==(e=this.radiusMin)&&void 0!==e?e:0,max:this.radiusMax}),or(this,l,!0,{id:"radiusRaw"}),zn(this,{id:"radiusValue"},[0,1],null!==(n=this.radiusMin)&&void 0!==n?n:0,this.radiusMax)),d.push()),s&&d.push(or(this,s,!1,{id:"calloutLabelValue"})),u&&d.push(or(this,u,!1,{id:"sectorLabelValue"})),c&&d.push(or(this,c,!1,{id:"legendItemValue"})),i=i.map((function(t,e){var n;return h[e]?t:xs(xs({},t),((n={})[a]=0,n))})),[4,t.request(this.id,i,{props:_s([lr(this,a,!0,{id:"angleValue"}),or(this,a,!0,{id:"angleRaw"}),zn(this,{id:"angleValue"},[0,1],0)],Os(d))})]):[2];case 1:return f=v.sent(),p=f.dataModel,y=f.processedData,this.dataModel=p,this.processedData=y,[2]}}))}))},e.prototype.maybeRefreshNodeData=function(){if(this.nodeDataRefresh){var t=Os(this._createNodeData(),1)[0],e=(void 0===t?{}:t).nodeData,n=void 0===e?[]:e;this.nodeData=n,this.nodeDataRefresh=!1}},e.prototype.createNodeData=function(){return Ss(this,void 0,void 0,(function(){return ks(this,(function(t){return[2,this._createNodeData()]}))}))},e.prototype.getProcessedDataIndexes=function(t){return{angleIdx:t.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}},e.prototype._createNodeData=function(){var t=this,e=this,n=e.id,r=e.processedData,i=e.dataModel,o=e.rotation,a=e.angleScale;if(!r||!i||"ungrouped"!==r.type)return[];var l=this.getProcessedDataIndexes(i),s=l.angleIdx,u=l.radiusIdx,c=l.calloutLabelIdx,h=l.sectorLabelIdx,d=l.legendItemIdx,f=0,p=r.data.map((function(e,n){var r,i=e.datum,l=e.values,p=l[s],y=a.convert(f)+Dt(o);f=p;var v=a.convert(f)+Dt(o),g=Math.abs(v-y),m=y+g/2,b=l[s+1],x=u>=0&&null!==(r=l[u])&&void 0!==r?r:1,w=u>=0?l[u+1]:void 0,S=d>=0?l[d]:void 0,k=t.getLabels(i,m,g,!0,p,w,l[c],l[h],S),O=t.getSectorFormat(i,n,n,!1);return xs({itemId:n,series:t,datum:i,index:n,angleValue:b,midAngle:m,midCos:Math.cos(m),midSin:Math.sin(m),startAngle:y,endAngle:v,sectorFormat:O,radius:x,radiusValue:w,legendItemValue:S},k)}));return[{itemId:n,nodeData:p,labelData:p}]},e.prototype.getLabels=function(t,e,n,r,i,o,a,l,s){var u=this.calloutLabel,c=this.sectorLabel,h=this.legendItemKey,d=this.ctx.callbackCache,f=!r||u.enabled?this.calloutLabelKey:void 0,p=!r||c.enabled?this.sectorLabelKey:void 0;if(!f&&!p&&!h)return{};var y,v,g=this.getLabelFormatterParams(t,i,o,a,l);return f&&(y=n>Dt(u.minAngle)?u.formatter?d.call(u.formatter,g):String(a):void 0),p&&(v=c.formatter?d.call(c.formatter,g):String(l)),xs(xs(xs({},null!=y?{calloutLabel:xs(xs({},this.getTextAlignment(e)),{text:y,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})}:{}),null!=v?{sectorLabel:{text:v}}:{}),null!=h&&null!=s?{legendItem:{key:h,text:s}}:{})},e.prototype.getLabelFormatterParams=function(t,e,n,r,i){var o=this,a=o.id,l=o.radiusKey,s=o.radiusName;return{datum:t,angleKey:o.angleKey,angleValue:e,angleName:o.angleName,radiusKey:l,radiusValue:n,radiusName:s,calloutLabelKey:o.calloutLabelKey,calloutLabelValue:r,calloutLabelName:o.calloutLabelName,sectorLabelKey:o.sectorLabelKey,sectorLabelValue:i,sectorLabelName:o.sectorLabelName,seriesId:a}},e.prototype.getTextAlignment=function(t){var e,n,r=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=_t(t)- -3*Math.PI/4,o=Math.floor(i/(Math.PI/2));return r[(n=r.length,(e=o)>=0?Math.floor(e%n):Math.floor(e%n+n))]},e.prototype.getSectorFormat=function(t,e,n,r){var i,o,a,l,s,u,c,h,d,f=this,p=f.angleKey,y=f.radiusKey,v=f.fills,g=f.strokes,m=f.fillOpacity,b=f.formatter,x=f.id,w=f.ctx,S=w.callbackCache,k=w.highlightManager,O=null==k?void 0:k.getActiveHighlight(),_=r&&(null==O?void 0:O.series)===this&&e===O.itemId,D=_?this.highlightStyle.item:null,M=null!==(i=null==D?void 0:D.fill)&&void 0!==i?i:v[n%v.length],C=null!==(o=null==D?void 0:D.fillOpacity)&&void 0!==o?o:m,E=null!==(a=null==D?void 0:D.stroke)&&void 0!==a?a:g[n%g.length],P=null!==(l=null==D?void 0:D.strokeWidth)&&void 0!==l?l:this.getStrokeWidth(this.strokeWidth);return b&&(d=S.call(b,{datum:t,angleKey:p,radiusKey:y,fill:M,stroke:E,strokeWidth:P,highlighted:_,seriesId:x})),{fill:null!==(s=null==d?void 0:d.fill)&&void 0!==s?s:M,fillOpacity:null!==(u=null==d?void 0:d.fillOpacity)&&void 0!==u?u:C,stroke:null!==(c=null==d?void 0:d.stroke)&&void 0!==c?c:E,strokeWidth:null!==(h=null==d?void 0:d.strokeWidth)&&void 0!==h?h:P}},e.prototype.getInnerRadius=function(){var t=this.radius,e=this.innerRadiusRatio,n=this.innerRadiusOffset,r=t*(null!=e?e:1)+(n||0);return r===t||r<0?0:r},e.prototype.getOuterRadius=function(){var t=this.radius,e=this.outerRadiusRatio,n=this.outerRadiusOffset,r=t*(null!=e?e:1)+(n||0);return r<0?0:r},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,n=Math.max(0,this.radiusScale.range[1]);return 0===n?NaN:-n-(2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0))-Math.max(0,-n)},e.prototype.update=function(t){var e=t.seriesRect;return Ss(this,void 0,void 0,(function(){var t,n,r;return ks(this,(function(i){switch(i.label){case 0:return t=this.title,this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(),this.updateInnerCircleNodes(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t&&(n=this.getTitleTranslationY(),r=t.node.computeBBox(),t.node.visible=t.enabled&&isFinite(n)&&!this.bboxIntersectsSurroundingSeries(r,0,n),t.node.translationY=isFinite(n)?n:0),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return i.sent(),[4,this.updateNodes(e)];case 2:return i.sent(),[2]}}))}))},e.prototype.updateTitleNodes=function(){var t,e,n=this.title,r=this.oldTitle;r!==n&&(r&&(null===(t=this.labelGroup)||void 0===t||t.removeChild(r.node)),n&&(n.node.textBaseline="bottom",null===(e=this.labelGroup)||void 0===e||e.appendChild(n.node)),this.oldTitle=n)},e.prototype.updateInnerCircleNodes=function(){var t,e=this.innerCircle,n=this.oldInnerCircle,r=this.innerCircleNode;if(n!==e){var i=void 0;r&&this.backgroundGroup.removeChild(r),e&&((i=new mo).fill=e.fill,i.fillOpacity=null!==(t=e.fillOpacity)&&void 0!==t?t:1,this.backgroundGroup.appendChild(i)),this.oldInnerCircle=e,this.innerCircleNode=i}},e.prototype.updateNodeMidPoint=function(){var t=this;this.nodeData.forEach((function(e){var n=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,n/2),y:e.midSin*Math.max(0,n/2)}}))},e.prototype.updateSelections=function(){return Ss(this,void 0,void 0,(function(){return ks(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return Ss(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l=this;return ks(this,(function(s){return e=(t=this).groupSelection,n=t.highlightSelection,r=t.calloutLabelSelection,i=t.sectorLabelSelection,o=t.innerLabelsSelection,a=function(t){return t.update(l.nodeData,(function(t){var e=new vs;e.tag=fs.Sector,t.appendChild(e)}))},this.groupSelection=a(e),this.highlightSelection=a(n),r.update(this.nodeData,(function(t){var e=new Da;e.tag=fs.Callout,e.pointerEvents=K.None,t.appendChild(e);var n=new jt;n.tag=fs.Label,n.pointerEvents=K.None,t.appendChild(n)})),i.update(this.nodeData,(function(t){t.pointerEvents=K.None})),o.update(this.innerLabels,(function(t){t.pointerEvents=K.None})),[2]}))}))},e.prototype.updateNodes=function(t){var e;return Ss(this,void 0,void 0,(function(){var n,r,i,o,a,l=this;return ks(this,(function(s){return n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),r=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=r,this.backgroundGroup.visible=r,this.contentGroup.visible=r,this.highlightGroup.visible=r&&(null==n?void 0:n.series)===this,this.labelGroup&&(this.labelGroup.visible=r),this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),i=this.radiusScale,o=i.convert(0),a=function(t,e,n,r){var a=i.convert(e.radius),s=t.parent,u=null==s?void 0:s.parent;r&&s&&u&&(u.removeChild(s),u.appendChild(s)),t.innerRadius=Math.max(0,o),t.outerRadius=Math.max(0,a),r&&(t.startAngle=e.startAngle,t.endAngle=e.endAngle);var c=l.getSectorFormat(e.datum,e.itemId,n,r);t.fill=c.fill,t.stroke=c.stroke,t.strokeWidth=c.strokeWidth,t.fillOpacity=c.fillOpacity,t.strokeOpacity=l.strokeOpacity,t.lineDash=l.lineDash,t.lineDashOffset=l.lineDashOffset,t.fillShadow=l.shadow,t.lineJoin="round",t.visible=l.seriesItemEnabled[n]},this.groupSelection.selectByTag(fs.Sector).forEach((function(t,e){return a(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(fs.Sector).forEach((function(t,e){var r=(null==n?void 0:n.series)===l&&t.datum.itemId===n.itemId;r?a(t,t.datum,e,r):t.visible=!1})),this.animationState.transition("update"),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t,e=this.radiusScale,n=this.calloutLine,r=n.length,i=n.strokeWidth,o=null!==(t=n.colors)&&void 0!==t?t:this.strokes,a=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(fs.Callout).forEach((function(t,n){var l=t.datum,s=e.convert(l.radius),u=Math.max(0,s),c=l.calloutLabel;if((null==c?void 0:c.text)&&!c.hidden&&0!==u){t.visible=!0,t.strokeWidth=i,t.stroke=o[n%o.length],t.fill=void 0;var h=l.midCos*u,d=l.midSin*u,f=l.midCos*(u+r),p=l.midSin*(u+r);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){var y=c.box,v=f,g=p;f<y.x?v=y.x:f>y.x+y.width&&(v=y.x+y.width),p<y.y?g=y.y:p>y.y+y.height&&(g=y.y+y.height);var m=v-f,b=g-p,x=Math.sqrt(Math.pow(m,2)+Math.pow(b,2)),w=x-a;w>0&&(f+=m*w/x,p+=b*w/x)}t.x1=h,t.y1=d,t.x2=f,t.y2=p}else t.visible=!1}))},e.prototype.getLabelOverflow=function(t,e,n){var r=n.x-this.centerX,i=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1;e.x+1<r?l=(e.x+e.width-r)/e.width:e.x+e.width-1>i&&(l=(i-e.x)/e.width);var s=e.y+1<o||e.y+e.height-1>a;return{textLength:1===l?t.length:Math.floor(t.length*l)-1,hasVerticalOverflow:s,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(e)}},e.prototype.bboxIntersectsSurroundingSeries=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=this.surroundingRadius;if(null==r)return!1;var i=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],o=Math.pow(r,2);return i.some((function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)>o}))},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this.radiusScale,n=this.calloutLabel,r=this.calloutLine,i=n.offset,o=n.minSpacing,a=e.convert(0),l=this.nodeData,s=this.nodeData.filter((function(t){return r=(n=t).calloutLabel,i=e.convert(n.radius),o=Math.max(0,i),!(!r||0===o);var n,r,i,o}));if(s.forEach((function(t){var e=t.calloutLabel;null!=e&&(e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0)})),!(s.length<=1)){var u=s.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),c=s.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),h=s.filter((function(t){var e;return t.midSin<0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort((function(t,e){return t.midCos-e.midCos})),d=s.filter((function(t){var e;return t.midSin>=0&&"center"===(null===(e=t.calloutLabel)||void 0===e?void 0:e.textAlign)})).sort((function(t,e){return t.midCos-e.midCos})),f=new jt,p=function(n){var o,a=n.calloutLabel;if(null==a)return new A(0,0,0,0);var l=e.convert(n.radius),s=Math.max(0,l)+r.length+i,u=n.midCos*s,c=n.midSin*s+a.collisionOffsetY;return f.text=a.text,f.x=u,f.y=c,f.setFont(t.calloutLabel),f.setAlign({textAlign:null!==(o=a.collisionTextAlign)&&void 0!==o?o:a.textAlign,textBaseline:a.textBaseline}),f.computeBBox()},y=function(t,e,n){var r=p(t).grow(o/2),i=p(e).grow(o/2);if(r.x<i.x+i.width&&r.x+r.width>i.x&&("to-top"===n?r.y<i.y+i.height:r.y+r.height>i.y)){var a="to-top"===n?r.y-i.y-i.height:r.y+r.height-i.y;e.calloutLabel.collisionOffsetY=a}},v=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],n=t.indexOf(e),r=n-1;r>=0;r--){var i=t[r+1],o=t[r];y(i,o,"to-top")}for(r=n+1;r<t.length;r++)i=t[r-1],o=t[r],y(i,o,"to-bottom")},g=function(t){for(var n=s.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),r=t.map((function(t){return p(t)})),i=r.map((function(t){return t.clone().grow(o/2)})),u=!1,c=0;c<i.length&&!u;c++)for(var h=i[c],d=c+1;d<t.length;d++){var f=i[d];if(h.collidesBBox(f)){u=!0;break}}var y=l.map((function(t){var n=t.startAngle,r=t.endAngle,i=e.convert(t.radius),o=Math.max(0,i);return{startAngle:n,endAngle:r,innerRadius:a,outerRadius:o}})),v=r.some((function(t){return y.some((function(e){return function(t,e){var n={x:t.x,y:t.y},r={x:t.x+t.width,y:t.y},i={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return ds({start:n,end:r},e)||ds({start:i,end:o},e)}(t,e)}))}));(u||n||v)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){var e=t.calloutLabel;t.midCos<0?e.collisionTextAlign="right":t.midCos>0?e.collisionTextAlign="left":e.collisionTextAlign="center"}))};v(u),v(c),g(h),g(d)}},e.prototype.updateCalloutLabelNodes=function(t){var e=this,n=this.radiusScale,r=this.calloutLabel,i=this.calloutLine.length,o=r.offset,a=r.color,l=new jt;this.calloutLabelSelection.selectByTag(fs.Label).forEach((function(s){var u,c=s.datum,h=c.calloutLabel,d=n.convert(c.radius),f=Math.max(0,d);if((null==h?void 0:h.text)&&0!==f&&!h.hidden){var p=f+i+o,y=c.midCos*p,v=c.midSin*p+h.collisionOffsetY,g={textAlign:null!==(u=h.collisionTextAlign)&&void 0!==u?u:h.textAlign,textBaseline:h.textBaseline};l.text=h.text,l.x=y,l.y=v,l.setFont(e.calloutLabel),l.setAlign(g);var m=l.computeBBox(),b=h.text,x=!0;if(r.avoidCollisions){var w=e.getLabelOverflow(h.text,m,t),S=w.textLength,k=w.hasVerticalOverflow;b=h.text.length===S?h.text:h.text.substring(0,S)+"\u2026",x=!k}s.text=b,s.x=y,s.y=v,s.setFont(e.calloutLabel),s.setAlign(g),s.fill=a,s.visible=x}else s.visible=!1}))},e.prototype.computeLabelsBBox=function(t,e){var n,r=this,i=this.radiusScale,o=this.calloutLabel,a=this.calloutLine.length,l=o.offset,s=o.maxCollisionOffset,u=o.minSpacing;if(!o.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var c,h=[],d=new jt;if((null===(n=this.title)||void 0===n?void 0:n.text)&&this.title.enabled){var f=this.getTitleTranslationY();isFinite(f)&&(d.text=this.title.text,d.x=0,d.y=f,d.setFont(this.title),d.setAlign({textBaseline:"bottom",textAlign:"center"}),c=d.computeBBox(),h.push(c))}return this.nodeData.forEach((function(n){var o,f=n.calloutLabel,p=i.convert(n.radius),y=Math.max(0,p);if(!f||0===y)return null;var v=y+a+l,g=n.midCos*v,m=n.midSin*v+f.collisionOffsetY;d.text=f.text,d.x=g,d.y=m,d.setFont(r.calloutLabel),d.setAlign({textAlign:null!==(o=f.collisionTextAlign)&&void 0!==o?o:f.textAlign,textBaseline:f.textBaseline});var b=d.computeBBox();if(f.box=b,Math.abs(f.collisionOffsetY)>s)f.hidden=!0;else{if(c){var x=e.y-r.centerY,w=new A(c.x-u,x,c.width+2*u,c.y+c.height+u-x);if(b.collidesBBox(w))return void(f.hidden=!0)}if(t.hideWhenNecessary){var S=r.getLabelOverflow(f.text,b,e),k=S.textLength,O=S.hasVerticalOverflow,_=S.hasSurroundingSeriesOverflow,D=f.text.length>2&&k<2;if(O||D||_)return void(f.hidden=!0)}f.hidden=!1,h.push(b)}})),0===h.length?null:A.merge(h)},e.prototype.updateSectorLabelNodes=function(){var t=this.radiusScale,e=t.convert(0),n=this.sectorLabel,r=n.fontSize,i=n.fontStyle,o=n.fontWeight,a=n.fontFamily,l=n.positionOffset,s=n.positionRatio,u=n.color,c=e>0,h=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(n,d){var f=d.sectorLabel,p=t.convert(d.radius),y=Math.max(0,p),v=!1;if(f&&0!==y){var g=e*(1-s)+p*s+l;n.fill=u,n.fontStyle=i,n.fontWeight=o,n.fontSize=r,n.fontFamily=a,n.text=f.text,!c&&h?(n.x=0,n.y=0):(n.x=d.midCos*g,n.y=d.midSin*g),n.textAlign="center",n.textBaseline="middle";var m=n.computeBBox(),b=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],x={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:e,outerRadius:y};b.every((function(t){var e=Os(t,2);return hs(e[0],e[1],x)}))&&(v=!0)}n.visible=v}))},e.prototype.updateInnerCircle=function(){var t=this.innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(n,r){var i=r.fontStyle,o=r.fontWeight,a=r.fontSize,l=r.fontFamily,s=r.color;n.fontStyle=i,n.fontWeight=o,n.fontSize=a,n.fontFamily=l,n.text=r.text,n.x=0,n.y=0,n.fill=s,n.textAlign="center",n.textBaseline="alphabetic",t.push(n.computeBBox()),e.push(r.margin)}));for(var n=function(t){return 0===t?0:e[t]},r=function(t){return t===e.length-1?0:e[t]},i=t.reduce((function(t,e,i){return t+e.height+n(i)+r(i)}),0),o=Math.max.apply(Math,_s([],Os(t.map((function(t){return t.width}))))),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),s=[],u=0,c=-i/2;u<t.length;u++){var h=t[u].height+c+n(u);s.push(h),c=h+r(u)}this.innerLabelsSelection.each((function(t,e,n){t.y=s[n],t.visible=l}))},e.prototype.getNodeClickEvent=function(t,e){return new Ms(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Cs(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n=this.angleKey;if(!n)return"";var r=this,i=r.tooltip,o=r.angleName,a=r.radiusKey,l=r.radiusName,s=r.calloutLabelKey,u=r.sectorLabelKey,c=r.calloutLabelName,h=r.sectorLabelName,d=r.id,f=i.renderer,p=t.datum,y=t.angleValue,v=t.radiusValue,g=t.sectorFormat.fill,m=t.calloutLabel,b=(void 0===m?{}:m).text,x=void 0===b?"":b,w="number"==typeof y?cs(y):String(y),S=null===(e=this.title)||void 0===e?void 0:e.text,k={title:S,backgroundColor:g,content:(x?x+": ":"")+w};return f?wn(f({datum:p,angleKey:n,angleValue:y,angleName:o,radiusKey:a,radiusValue:v,radiusName:l,calloutLabelKey:s,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:h,title:S,color:g,seriesId:d}),k):wn(k)},e.prototype.getLegendData=function(){var t,e,n,r=this,i=r.processedData,o=r.calloutLabelKey,a=r.legendItemKey,l=r.id,s=r.dataModel;if(!s||!i||0===i.data.length)return[];if(!a&&!o)return[];for(var u=this.getProcessedDataIndexes(s),c=u.angleIdx,h=u.radiusIdx,d=u.calloutLabelIdx,f=u.sectorLabelIdx,p=u.legendItemIdx,y=(null===(t=this.title)||void 0===t?void 0:t.showInLegend)&&this.title.text,v=[],g=0;g<i.data.length;g++){var m=i.data[g],b=m.datum,x=m.values,w=[];y&&w.push(y);var S=this.getLabels(b,2*Math.PI,2*Math.PI,!1,x[c],x[h],x[d],x[f],x[p]);if(a&&void 0!==S.legendItem?w.push(S.legendItem.text):o&&void 0!==(null===(e=S.calloutLabel)||void 0===e?void 0:e.text)&&w.push(null===(n=S.calloutLabel)||void 0===n?void 0:n.text),0!==w.length){var k=this.getSectorFormat(b,g,g,!1);v.push({legendType:"category",id:l,itemId:g,seriesId:l,enabled:this.seriesItemEnabled[g],label:{text:w.join(" - ")},marker:{fill:k.fill,stroke:k.stroke,fillOpacity:this.fillOpacity,strokeOpacity:this.strokeOpacity}})}}return v},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId,r=t.series;r.id===this.id?this.toggleSeriesItem(n,e):"pie"===r.type&&this.toggleOtherSeriesItems(r,n,e)},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n){var r,i,o=this,a=this.legendItemKey,l=this.dataModel;if(a&&l){var s=t.legendItemKey&&(null===(r=t.data)||void 0===r?void 0:r.find((function(t,n){return n===e}))[t.legendItemKey]);if(s){var u=l.resolveProcessedDataIndexById(this,"legendItemValue").index;null===(i=this.processedData)||void 0===i||i.data.forEach((function(t,e){t.values[u]===s&&o.toggleSeriesItem(e,n)}))}}},e.prototype.animateEmptyUpdateReady=function(){var t,e,n=this,r=null!==(e=null===(t=this.ctx.animationManager)||void 0===t?void 0:t.defaultOptions.duration)&&void 0!==e?e:1e3,i=Math.PI/-2+Dt(this.rotation);this.groupSelection.selectByTag(fs.Sector).forEach((function(t){var e,o=t.datum;null===(e=n.ctx.animationManager)||void 0===e||e.animateMany(n.id+"_empty-update-ready_"+t.id,[{from:i,to:o.startAngle},{from:i,to:o.endAngle}],{duration:r,ease:ni,onUpdate:function(e){var n=Os(e,2),r=n[0],i=n[1];t.startAngle=r,t.endAngle=i}})}));var o={from:0,to:1,delay:r,duration:200};this.calloutLabelSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,xs(xs({},o),{onUpdate:function(e){t.opacity=e}}))})),this.sectorLabelSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,xs(xs({},o),{onUpdate:function(e){t.opacity=e}}))})),this.innerLabelsSelection.each((function(t){var e;null===(e=n.ctx.animationManager)||void 0===e||e.animate(n.id+"_empty-update-ready_"+t.id,xs(xs({},o),{onUpdate:function(e){t.opacity=e}}))}))},e.prototype.animateReadyUpdateReady=function(){this.groupSelection.selectByTag(fs.Sector).forEach((function(t){var e=t.datum;t.startAngle=e.startAngle,t.endAngle=e.endAngle}))},e.className="PieSeries",e.type="pie",ws([ne(ve)],e.prototype,"angleKey",void 0),ws([ne(ve)],e.prototype,"angleName",void 0),ws([ne(ge)],e.prototype,"radiusKey",void 0),ws([ne(ge)],e.prototype,"radiusName",void 0),ws([ne(Pe(0))],e.prototype,"radiusMin",void 0),ws([ne(Pe(0))],e.prototype,"radiusMax",void 0),ws([ne(ge)],e.prototype,"calloutLabelKey",void 0),ws([ne(ge)],e.prototype,"calloutLabelName",void 0),ws([ne(ge)],e.prototype,"sectorLabelKey",void 0),ws([ne(ge)],e.prototype,"sectorLabelName",void 0),ws([ne(ge)],e.prototype,"legendItemKey",void 0),ws([ne(Me)],e.prototype,"fills",void 0),ws([ne(Me)],e.prototype,"strokes",void 0),ws([ne(Ee(0,1))],e.prototype,"fillOpacity",void 0),ws([ne(Ee(0,1))],e.prototype,"strokeOpacity",void 0),ws([ne(Xe)],e.prototype,"lineDash",void 0),ws([ne(Ee(0))],e.prototype,"lineDashOffset",void 0),ws([ne(fe)],e.prototype,"formatter",void 0),ws([ne(Ee(-360,360))],e.prototype,"rotation",void 0),ws([ne(Ee())],e.prototype,"outerRadiusOffset",void 0),ws([ne(Ee(0))],e.prototype,"outerRadiusRatio",void 0),ws([ne(Ee())],e.prototype,"innerRadiusOffset",void 0),ws([ne(Ee(0))],e.prototype,"innerRadiusRatio",void 0),ws([ne(Ee(0))],e.prototype,"strokeWidth",void 0),e}(ms),Fs=function(){return(Fs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Bs={constructors:{},constructedArrays:new WeakMap};function zs(t,e){var n;null===(n=Bs.constructedArrays)||void 0===n||n.set(t,e)}var Gs={constructors:{title:Ca,subtitle:Ca,footnote:Ca,shadow:os,innerCircle:As,"axes[].title":ns,"series[].innerLabels[]":Ls},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function Ws(){return{constructors:Fs(Fs({},Gs.constructors),Bs.constructors),constructedArrays:Bs.constructedArrays,allowedTypes:Fs({},Gs.allowedTypes)}}var Ks={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Vs={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},Hs=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n/2,y:r}:{x:n,y:isNaN(i)?r:(r+i)/2}},Ys=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:n,y:isNaN(o)?i:(i+o)/2}:{x:r/2,y:i}},Xs=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n,y:isNaN(i)?r:(r+i)/2}:{x:n/2,y:isNaN(i)?r:i}},Us=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:r/2,y:isNaN(o)?i:o}:{x:n,y:isNaN(o)?i:(i+o)/2}},Zs=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart;return e?{x:n/2,y:i}:{x:r,y:i}},qs=function(t){var e=t.yDirection,n=t.xStart,r=t.yStart,i=t.yEnd;return e?{x:n,y:isNaN(i)?r:i}:{x:n,y:r}},Js=function(t){var e=t.yDirection,n=t.xEnd,r=t.yStart,i=t.yEnd;return e?{x:n,y:r}:{x:n,y:isNaN(i)?r:i}},$s=function(t){var e=t.yDirection,n=t.xStart,r=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:r,y:isNaN(o)?i:o}:{x:n,y:isNaN(o)?i:o}},Qs={top:{c:Hs},bottom:{c:Us},left:{c:Ys},right:{c:Xs},topLeft:{c:Zs},topRight:{c:Js},bottomLeft:{c:qs},bottomRight:{c:$s},inside:{c:function(t){var e=t.xEnd,n=t.yStart,r=t.yEnd;return{x:e/2,y:isNaN(r)?n:(n+r)/2}}},insideLeft:{c:Ys},insideRight:{c:Xs},insideTop:{c:Hs},insideBottom:{c:Us},insideTopLeft:{c:Zs},insideBottomLeft:{c:qs},insideTopRight:{c:Js},insideBottomRight:{c:$s}},tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(){return(eu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},nu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ru=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return tu(e,t),e.prototype.computeBBox=function(){return new A(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,r=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==T.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(r);var a=this.x1,l=this.y1,s=this.x2,u=this.y2;a=this.align(a),l=this.align(l),s=this.align(s),u=this.align(u);var c=this.fill,h=this.opacity;if(this.isRange&&c){var d=this.fillOpacity;r.fillStyle=c,r.globalAlpha=h*d,r.beginPath(),r.moveTo(a,l),r.lineTo(s,l),r.lineTo(s,u),r.lineTo(a,u),r.closePath(),r.fill()}var f=this.stroke,p=this.strokeWidth,y=this.startLine,v=this.endLine;if((y||v)&&f&&p){var g=this,m=g.strokeOpacity,b=g.lineDash,x=g.lineDashOffset,w=g.lineCap,S=g.lineJoin;r.strokeStyle=f,r.globalAlpha=h*m,r.lineWidth=p,b&&r.setLineDash(b),x&&(r.lineDashOffset=x),w&&(r.lineCap=w),S&&(r.lineJoin=S),r.beginPath(),y&&(r.moveTo(a,l),r.lineTo(s,l)),v&&(r.moveTo(s,u),r.lineTo(a,u)),r.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=eu(eu({},Nt.defaultStyles),{strokeWidth:1}),nu([W({redraw:T.MINOR})],e.prototype,"x1",void 0),nu([W({redraw:T.MINOR})],e.prototype,"y1",void 0),nu([W({redraw:T.MINOR})],e.prototype,"x2",void 0),nu([W({redraw:T.MINOR})],e.prototype,"y2",void 0),nu([W({redraw:T.MINOR})],e.prototype,"startLine",void 0),nu([W({redraw:T.MINOR})],e.prototype,"endLine",void 0),nu([W({redraw:T.MINOR})],e.prototype,"isRange",void 0),e}(Nt),iu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ou=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},au=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},lu=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],su=re((function(t,e){return ie(t,e,(function(t){return lu.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),uu=re((function(t,e){return ie(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),cu=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return iu([ne(ye)],t.prototype,"enabled",void 0),iu([ne(ge)],t.prototype,"text",void 0),iu([ne(Ke)],t.prototype,"fontStyle",void 0),iu([ne(He)],t.prototype,"fontWeight",void 0),iu([ne(Ee(0))],t.prototype,"fontSize",void 0),iu([ne(ve)],t.prototype,"fontFamily",void 0),iu([ne(Ee(0))],t.prototype,"padding",void 0),iu([ne(De)],t.prototype,"color",void 0),iu([ne(su)],t.prototype,"position",void 0),iu([ne(Pe(-360,360))],t.prototype,"rotation",void 0),iu([ne(ye)],t.prototype,"parallel",void 0),t}(),hu=function(){function t(){this.id=z(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new cu,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=Fe.X,this.group=new dt({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new ru,this.crossLineLabel=new jt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this.group,n=this.crossLineRange,r=this.crossLineLabel;e.append([n,r]),n.pointerEvents=K.None}return t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,n,r,i,o=this,a=o.scale,l=o.gridLength,s=o.sideFlag,u=o.direction,c=o.label.position,h=void 0===c?"top":c,d=o.clippedRange,f=o.strokeWidth,p=void 0===f?0:f;if(!a)return!1;var y=null!==(r=a.bandwidth)&&void 0!==r?r:0,v=function(t){return Math.max(Math.min.apply(Math,au([],ou(d))),Math.min(Math.max.apply(Math,au([],ou(d))),t))},g=ou([0,s*l],2),m=g[0],b=g[1],x=ou(this.getRange(),2),w=x[0],S=x[1],k=ou([Number(a.convert(w,{strict:!1})),a.convert(S,{strict:!1})+y],2),O=k[0],_=k[1];O=v(O),_=v(_),w=(t=ou([Number(a.convert(w)),a.convert(S)+y],2))[0],S=t[1];var D=!isNaN(O)&&!isNaN(_)&&(w===O||S===_||O!==_)&&Math.abs(_-O)>0;if(D&&O!==Math.min(O,_)&&(O=(e=ou([Math.min(O,_),Math.max(O,_)],2))[0],_=e[1],w=(n=ou([S,w],2))[0],S=n[1]),this.isRange=D,this.startLine=!isNaN(w)&&p>0&&w===O,this.endLine=!isNaN(S)&&p>0&&S===_,!D&&!this.startLine&&!this.endLine)return!1;if(this.data=[O,_],this.label.enabled){var M=u===Fe.Y,C=(null!==(i=Qs[h])&&void 0!==i?i:{}).c,E=(void 0===C?Hs:C)({yDirection:M,xStart:m,xEnd:b,yStart:O,yEnd:_}),P=E.x,T=E.y;this.labelPoint={x:P,y:T}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,r=e.sideFlag,i=e.gridLength,o=e.data,a=e.startLine,l=e.endLine,s=e.isRange,u=e.fill,c=e.fillOpacity,h=e.stroke,d=e.strokeWidth,f=e.lineDash;n.x1=0,n.x2=r*i,n.y1=o[0],n.y2=o[1],n.startLine=a,n.endLine=l,n.isRange=s,n.fill=u,n.fillOpacity=null!=c?c:1,n.stroke=h,n.strokeWidth=null!=d?d:1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=f},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,r=void 0===n?{}:n,i=r.x,o=void 0===i?void 0:i,a=r.y,l=void 0===a?void 0:a,s=t.label,u=s.parallel,c=s.rotation,h=s.position,d=void 0===h?"top":h,f=s.padding,p=void 0===f?0:f,y=t.direction,v=t.parallelFlipRotation,g=t.regularFlipRotation;if(void 0!==o&&void 0!==l){var m=Cl({rotation:c,parallel:u,regularFlipRotation:g,parallelFlipRotation:v}),b=m.defaultRotation,x=m.configuredRotation;e.rotation=b+x,e.textBaseline="middle",e.textAlign="center";var w=this.computeLabelBBox();if(w){var S=function(t){var e=t.yDirection,n=t.padding,r=void 0===n?0:n,i=t.position,o=void 0===i?"top":i,a=t.bbox,l=(e?Ks:Vs)[o],s=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:s*(r+(e?a.width:a.height)/2),yTranslation:u*(r+(e?a.height:a.width)/2)}}({yDirection:y===Fe.Y,padding:p,position:d,bbox:w}),k=S.xTranslation,O=S.yTranslation;e.translationX=o+k,e.translationY=l+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t=this.value,e=this.range,n=this.scale instanceof Ta,r=ou(null!=e?e:[t,void 0],2),i=r[0],o=r[1];return n||void 0!==o||(o=i),i=null!=Zt(i,n)?i:void 0,o=null!=Zt(o,n)?o:void 0,n&&i===o&&(o=void 0),void 0===i&&void 0!==o&&(i=o,o=void 0),[i,o]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t){var e,n,r,i,o,a,l,s,u=this,c=u.isRange,h=u.startLine,d=u.endLine,f=u.direction,p=u.label,y=p.padding,v=void 0===y?0:y,g=p.position,m=void 0===g?"top":g;if(c||h||d){var b=this.computeLabelBBox(),x=null==b?void 0:b.x,w=null==b?void 0:b.y;if(b&&null!=x&&null!=w){var S=function(t){var e=t.yDirection,n=t.bbox,r=t.padding,i=void 0===r?0:r,o=t.position,a=void 0===o?"top":o,l={};return a.startsWith("inside")||("top"!==a||e?"bottom"!==a||e?"left"===a&&e?l.left=i+n.width:"right"===a&&e&&(l.right=i+n.width):l.bottom=i+n.height:l.top=i+n.height),l}({yDirection:f===Fe.Y,padding:v,position:m,bbox:b});t.left=Math.max(null!==(e=t.left)&&void 0!==e?e:0,null!==(n=S.left)&&void 0!==n?n:0),t.right=Math.max(null!==(r=t.right)&&void 0!==r?r:0,null!==(i=S.right)&&void 0!==i?i:0),t.top=Math.max(null!==(o=t.top)&&void 0!==o?o:0,null!==(a=S.top)&&void 0!==a?a:0),t.bottom=Math.max(null!==(l=t.bottom)&&void 0!==l?l:0,null!==(s=S.bottom)&&void 0!==s?s:0)}}},t.LINE_LAYER_ZINDEX=je.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=je.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",iu([ne(ye)],t.prototype,"enabled",void 0),iu([ne(uu)],t.prototype,"type",void 0),iu([ne(ae(2))],t.prototype,"range",void 0),iu([ne(De)],t.prototype,"fill",void 0),iu([ne(Pe(0,1))],t.prototype,"fillOpacity",void 0),iu([ne(De)],t.prototype,"stroke",void 0),iu([ne(Pe())],t.prototype,"strokeWidth",void 0),iu([ne(Pe(0,1))],t.prototype,"strokeOpacity",void 0),iu([ne(Xe)],t.prototype,"lineDash",void 0),t}(),du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(){return(fu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},pu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thickness=0,e.position="left",e}return du(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return["top","bottom"].includes(this.position)?Fe.X:Fe.Y},enumerable:!1,configurable:!0}),e.prototype.updateDirection=function(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)},e.prototype.update=function(e){return this.updateDirection(),t.prototype.update.call(this,e)},e.prototype.createAxisContext=function(){return fu(fu({},t.prototype.createAxisContext.call(this)),{position:this.position})},e.prototype.assignCrossLineArrayConstructor=function(t){zs(t,hu)},pu([ne(Ee(0))],e.prototype,"thickness",void 0),pu([ne(en)],e.prototype,"position",void 0),e}(ts),vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},mu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},xu=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},wu=function(t){function e(e){var n=t.call(this,e,new ka)||this;return n._paddingOverrideEnabled=!1,n.groupPaddingInner=.1,n.includeInvisibleDomains=!0,n}return vu(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e,n,r,i,o={};try{for(var a=mu(t),l=a.next();!l.done;l=a.next()){var s=l.value;null!==(r=o[i=String(s)])&&void 0!==r||(o[i]=s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return Object.values(o)},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,xu([],bu(e.map((function(t){return t.inner}))))),this.scale.paddingOuter=Math.max.apply(Math,xu([],bu(e.map((function(t){return t.outer}))))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",gu([ne(Ee(0,1))],e.prototype,"groupPaddingInner",void 0),e}(yu),Su=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function ku(t,e){void 0===e&&(e=!0);var n=new Su,r=0;return e&&t.forEach((function(t){return r=Math.max(r,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<r;)t.labels.unshift("");!function(t,e){var n=e.labels.slice().reverse(),r=n.length-1;n.forEach((function(e,n){var i=t.children,o=i.find((function(t){return t.label===e})),a=n!==r;if(o&&a)t=o;else{var l=new Su(e,t);l.number=i.length,i.push(l),a&&(t=l)}}))}(n,t)})),n}function Ou(t,e,n){var r=n/(e.number-t.number);e.change-=r,e.shift+=n,t.change+=r,e.prelim+=n,e.mod+=n}function _u(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function Du(t,e){var n=t.children;if(n.length){var r=n[0];n.forEach((function(t){Du(t,e),r=function(t,e,n){var r=t.getLeftSibling();if(r){for(var i=t,o=t,a=r,l=o.getLeftmostSibling(),s=o.mod,u=i.mod,c=a.mod,h=l.mod;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),l=l.nextLeft(),(i=i.nextRight()).ancestor=t;var d=a.prelim+c-(o.prelim+s)+n;d>0&&(Ou(_u(a,t,e),t,d),s+=d,u+=d),c+=a.mod,s+=o.mod,h+=l.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!l.nextLeft()&&(l.thread=o.nextLeft(),l.mod+=s-h),e=t)}return e}(t,r,e)})),function(t){var e=t.children;if(e)for(var n=0,r=0,i=e.length-1;i>=0;i--){var o=e[i];o.prelim+=n,o.mod+=n,r+=o.change,n+=o.shift+r}}(t);var i=(n[0].prelim+n[n.length-1].prelim)/2;(o=t.getLeftSibling())?(t.prelim=o.prelim+e,t.mod=t.prelim-i):t.prelim=i}else{var o=t.getLeftSibling();t.prelim=o?o.prelim+e:0}}var Mu=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),r=n.x,i=n.y;r>this.right&&(this.right=r),r<this.left&&(this.left=r),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)},t}();function Cu(t){var e=new Eu;return Du(t,1),function t(e,n,r){e.x=e.prelim+n,e.y=e.depth,r.update(e),e.children.forEach((function(i){return t(i,n+e.mod,r)}))}(t,-t.prelim,e),function t(e){var n=e.children,r=0;n.forEach((function(e){t(e),e.children.length?r+=e.leafCount:r++})),e.leafCount=r,n.length?(e.subtreeLeft=n[0].subtreeLeft,e.subtreeRight=n[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}(t),e}var Eu=function(){function t(){this.dimensions=new Mu,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,r,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=!1);var o=this.leafCount-1,a=this.depth,l=this.dimensions,s=1,u=1;if(t>0&&o){var c=(l.right-l.left)/o;s=t/o/c,i&&(s=-s)}if(e>0&&a){var h=(l.bottom-l.top)/a;u=e/a/h}var d=new Mu;this.nodes.forEach((function(t){t.screenX=t.x*s,t.screenY=t.y*u,d.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var f=-d.left,p=-d.top;this.nodes.forEach((function(t){t.screenX+=f+n,t.screenY+=p+r}))},t}(),Pu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Nu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ru=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Lu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return Pu(e,t),Tu([ne(pe)],e.prototype,"grid",void 0),e}(Al),Au=function(t){function e(e){var n=t.call(this,e,new ka)||this;n.tickScale=new ka,n.translation={x:0,y:0},n.line=new jl,n.label=new Lu,n.labelColor="rgba(87, 87, 87, 1)",n.includeInvisibleDomains=!0;var r=n,i=r.tickLineGroup,o=r.tickLabelGroup,a=r.gridLineGroup,l=r.tickScale,s=r.scale;return s.paddingOuter=.1,s.paddingInner=2*s.paddingOuter,n.range=s.range.slice(),n.refreshScale(),l.paddingInner=1,l.paddingOuter=0,n.gridLineSelection=Xi.select(a,Da),n.axisLineSelection=Xi.select(i,Da),n.separatorSelection=Xi.select(i,Da),n.labelSelection=Xi.select(o,jt),n}return Pu(e,t),e.prototype.updateRange=function(){var t=this.range,e=this.visibleRange,n=this.scale,r=(t[1]-t[0])/(e[1]-e[0]),i=r*e[0],o=t[0]-i;this.tickScale.range=n.range=[o,o+r],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t,e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,r=this.tickTreeLayout,i=this.lineHeight;r&&r.resize(Math.abs(n[1]-n[0]),r.depth*i,(Math.min(n[0],n[1])||0)+(null!==(t=e.bandwidth)&&void 0!==t?t:0)/2,-r.depth*i,n[1]-n[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e,n=this.direction,r=this.boundSeries,i=[],o=void 0;r.filter((function(t){return t.visible})).forEach((function(t){if(n===Fe.X)if(void 0===o){var e=t.getDomain(n);i.push(e),o="number"==typeof e[0]}else o&&i.push(t.getDomain(n));else i.push(t.getDomain(n))}));var a=(t=new Array).concat.apply(t,Ru([],Nu(i))),l=null!==(e=Ol(a))&&void 0!==e?e:a;this.dataDomain=this.normaliseDataDomain(l),this.scale.domain=this.dataDomain},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,n){return n.indexOf(t)===e})),n=ku(e);this.tickTreeLayout=Cu(n);var r=e.slice();return r.push(""),this.tickScale.domain=r,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.updateDirection(),this.calculateDomain(),this.updateRange();var n=this,r=n.scale,i=n.label,o=n.label.parallel,a=n.moduleCtx.callbackCache,l=n.tickScale,s=n.range,u=n.title,c=n.title,h=(void 0===c?{}:c).formatter,d=void 0===h?function(t){return t.defaultValue}:h,f=n._titleCaption,p=r.range[0],y=r.range[1],v=Math.abs(y-p)/r.domain.length||0,g=Dt(this.rotation),m=Math.abs(Math.cos(g))<1e-8,b=i.getSideFlag();this.updatePosition({rotation:g,sideFlag:b}),f.node.visible=!1;var x=this.lineHeight,w=this.tickTreeLayout,S=r.ticks(),k=w?w.nodes:[],O=!!w&&w.depth>1,_=l.ticks(),D=Cl({rotation:i.rotation,parallel:o,regularFlipRotation:Ot(g-Math.PI/2),parallelFlipRotation:Ot(g)}),M=D.defaultRotation,C=D.configuredRotation,E=D.parallelFlipFlag,P=this.gridLineSelection.update(this.gridLength?_:[]),T=this.labelSelection.update(k),N=i.formatter,R=new Map,L=0;T.each((function(t,n,r){var o;t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.textBaseline=-1===E?"bottom":"hanging",t.textAlign="center",t.translationX=n.screenY-.25*i.fontSize,t.translationY=n.screenX,0===r?(null==u?void 0:u.enabled)&&S.length>0?(t.visible=!0,t.text=a.call(d,e.getTitleFormatterParams()),t.fontSize=u.fontSize,t.fontStyle=u.fontStyle,t.fontWeight=u.fontWeight,t.fontFamily=u.fontFamily,t.textBaseline="hanging"):t.visible=!1:N?(t.text=null!==(o=a.call(N,{value:String(n.label),index:r}))&&void 0!==o?o:String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]):(t.text=String(n.label),t.visible=n.screenX>=s[0]&&n.screenX<=s[1]);var l=t.computeBBox();R.set(t.id,l),l.width>L&&(L=l.width)}));var A=b*i.padding,I=this.label.grid,j=[];T.each((function(t,n,r){if(t.x=A,t.rotationCenterX=A,n.children.length){t.translationX-=L-x+e.label.padding;var i=n.leafCount*v;(o=R.get(t.id))&&o.width>i?t.visible=!1:t.rotation=m?M:-Math.PI/2}else{var o;t.rotation=C,t.textAlign="end",t.textBaseline="middle",(o=R.get(t.id))&&o.height>v&&(t.visible=!1)}if(n.parent&&O){var a=n.children.length?n.screenX-n.leafCount*v/2:n.screenX-v/2;if(n.children.length){var l=-L-2*e.label.padding+n.screenY;j.push({y:a,x1:l+x,x2:l,toString:function(){return String(r)}})}else(n.number!==n.children.length-1||I)&&j.push({y:a,x1:0,x2:-L-2*e.label.padding,toString:function(){return String(r)}})}}));var F=0;j.forEach((function(t){return F=Math.min(F,t.x2)})),j.push({y:Math.max(p,y),x1:0,x2:F,toString:function(){return String(j.length)}});var B=this.separatorSelection.update(j);B.each((function(t,n){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=s[0]-1e-7&&n.y<=s[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=P,this.labelSelection=T;for(var z=w?w.depth+1:1,G=[],W=0;W<z;W++)G.push(W);if(this.axisLineSelection.update(G).each((function(t,n,r){var i=r>0?-L-2*e.label.padding-(r-1)*x:0;t.x1=i,t.x2=i,t.y1=s[0],t.y2=s[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=S.length>0&&(0===r||I&&O)})),this.gridLength){var K=this.gridStyle,V=K.length;P.each((function(t,n,r){var i=Math.round(l.convert(n));t.x1=0,t.x2=-b*e.gridLength,t.y1=i,t.y2=i,t.visible=i>=s[0]&&i<=s[1];var o=K[r%V];t.stroke=o.stroke,t.strokeWidth=e.tick.width,t.lineDash=o.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",Tu([ne(De)],e.prototype,"labelColor",void 0),e}(yu),Iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=function(){return(ju=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Fu=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Bu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},zu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Wu=["top","right","bottom","left"],Ku=function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i.paired=!0,i._lastAxisWidths={top:0,bottom:0,left:0,right:0},i._lastVisibility={crossLines:!0,series:!0},i}return Iu(e,t),e.prototype.performLayout=function(){return Fu(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c;return Bu(this,(function(h){switch(h.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=h.sent(),n=this.updateAxes(e),r=n.seriesRect,i=n.visibility,o=n.clipSeries,this.seriesRoot.visible=i.series,this.seriesRect=r,this.seriesRoot.translationX=Math.floor(r.x),this.seriesRoot.translationY=Math.floor(r.y),l=(a=this).seriesRoot,s=a.seriesAreaPadding,u=r.clone().grow({top:s.top,right:s.right,bottom:s.bottom,left:s.left}),c=u.clone().grow(20),this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:r,paddedRect:u,hoverRect:c,visible:i.series},axes:this.axes.map((function(t){return ju({id:t.id},t.getLayoutState())}))}),o?l.setClipRectInGroupCoordinateSpace(r):l.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,n,r,i=ju({},this._lastAxisWidths),o=ju({},this._lastVisibility),a=new Set(this._axes.map((function(t){return t.position})));try{for(var l=zu(Object.keys(i)),s=l.next();!s.done;s=l.next()){var u=s.value;a.has(u)||delete i[u]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var c,h=function(t,e){return!Object.keys(t).some((function(t){return null==i[t]}))&&o.crossLines===e.crossLines&&o.series===e.series&&Object.entries(i).every((function(e){var n=Gu(e,2),r=n[0],i=n[1],o=t[r];return null==i&&null==o||i===o}))},d={},f={},p=!1,y=null===(r=this.seriesRect)||void 0===r?void 0:r.clone(),v=0;do{Object.assign(i,d),Object.assign(o,f);var g=this.updateAxesPass(i,t.clone(),y);if(c=g.axisWidths,d=Object.entries(c).reduce((function(t,e){var n=Gu(e,2),r=n[0],i=n[1];return i&&Math.abs(i)===1/0&&(i=0),t[r]=null!=i?Math.ceil(i):i,t}),{}),f=g.visibility,p=g.clipSeries,y=g.seriesRect,v++>10){ot.warn("unable to find stable axis layout.");break}}while(!h(d,f));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(o.crossLines),y)switch(e.clipGrid(y.x,y.y,y.width+5,y.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,y.y,t.width+5,y.height+5);break;case"top":case"bottom":e.clipTickLines(y.x,t.y,y.width+5,t.height+5)}})),this._lastAxisWidths=i,this._lastVisibility=o,{seriesRect:y,visibility:o,clipSeries:p}},e.prototype.updateAxesPass=function(t,e,n){var r=this,i=this.axes,o={},a={},l={series:!0,crossLines:!0},s=!1,u={},c=this.applySeriesPadding(e),h=n?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(c,t,h,l),f=this.buildSeriesRect(d,t);return i.forEach((function(e){var n,i,l=e.position,h=void 0===l?"left":l,p=r.calculateAxisDimensions({axis:e,seriesRect:f,paddedBounds:c,axisWidths:t,newAxisWidths:a,primaryTickCounts:u,clipSeries:s,addInterAxisPadding:(null!==(n=o[h])&&void 0!==n?n:0)>0}),y=p.clipSeries,v=p.axisThickness,g=p.axisOffset;o[h]=(null!==(i=o[h])&&void 0!==i?i:0)+1,s=s||y,r.positionAxis({axis:e,axisBound:d,axisOffset:g,axisThickness:v,axisWidths:t,primaryTickCounts:u,seriesRect:f})})),{clipSeries:s,seriesRect:f,axisWidths:a,visibility:l}},e.prototype.buildCrossLinePadding=function(t){var e,n,r,i={};this.axes.forEach((function(t){t.crossLines&&t.crossLines.forEach((function(t){t.calculatePadding(i)}))}));try{for(var o=zu(Object.entries(i)),a=o.next();!a.done;a=o.next()){var l=Gu(a.value,2),s=l[0],u=l[1],c=void 0===u?0:u;i[s]=Math.max(c-(null!==(r=t[s])&&void 0!==r?r:0),0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},e.prototype.applySeriesPadding=function(t){var e=this,n=t.clone(),r=this.axes.slice().reverse();return Wu.forEach((function(t){var i=e.seriesAreaPadding[t],o=r.find((function(e){return e.position===t}));o?o.seriesAreaPadding=i:n.shrink(i,t)})),n},e.prototype.buildAxisBound=function(t,e,n,r){var i,o,a,l,s=t.clone(),u=n.top,c=void 0===u?0:u,h=n.right,d=void 0===h?0:h,f=n.bottom,p=void 0===f?0:f,y=n.left,v=void 0===y?0:y,g=v+d,m=c+p,b=(null!==(i=e.left)&&void 0!==i?i:0)+(null!==(o=e.right)&&void 0!==o?o:0)+g,x=(null!==(a=e.top)&&void 0!==a?a:0)+(null!==(l=e.bottom)&&void 0!==l?l:0)+m;return s.width<=b||s.height<=x?(r.crossLines=!1,r.series=!1,s):(s.x+=v,s.y+=c,s.width-=g,s.height-=m,s)},e.prototype.buildSeriesRect=function(t,e){var n=t.clone(),r=e.top,i=e.bottom,o=e.left,a=e.right;return n.x+=null!=o?o:0,n.y+=null!=r?r:0,n.width-=(null!=o?o:0)+(null!=a?a:0),n.height-=(null!=r?r:0)+(null!=i?i:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n},e.prototype.clampToOutsideSeriesRect=function(t,e,n,r){var i=t.x,o=t.y,a=[i,o,i+t.width,o+t.height];return(1===r?Math.min:Math.max)(e,a[("x"===n?0:1)+(1===r?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,n,r,i,o,a=t.axis,l=t.seriesRect,s=t.paddedBounds,u=t.axisWidths,c=t.newAxisWidths,h=t.primaryTickCounts,d=t.addInterAxisPadding,f=t.clipSeries,p=a.position,y=void 0===p?"left":p,v=a.direction,g=null!==(e=c[y])&&void 0!==e?e:0;switch(y){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=function(t){return t instanceof wu||t instanceof Au?[0,l.height]:[l.height,0]}(a),a.gridLength=l.width}var m=this.zoomManager.getAxisZoom(a.id),b=null!=m?m:{},x=b.min,w=void 0===x?0:x,S=b.max,k=void 0===S?1:S;a.visibleRange=[w,k],!f&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(f=!0);var O=a.nice?h[v]:void 0;null!=a.thickness&&a.thickness>0?a.maxThickness=a.thickness:v===Fe.Y?a.maxThickness=.3*s.width:a.maxThickness=.3*s.height,O=a.update(O),h[v]=null!==(n=h[v])&&void 0!==n?n:O;var _=0;if(null!=a.thickness&&a.thickness>0)_=a.thickness;else{var D=a.computeBBox();_=v===Fe.X?D.height:D.width}return d&&(_+=15),_=Math.ceil(_),c[y]=(null!==(r=c[y])&&void 0!==r?r:0)+_,a.gridPadding=(null!==(i=u[y])&&void 0!==i?i:0)-(null!==(o=c[y])&&void 0!==o?o:0),{clipSeries:f,axisThickness:_,axisOffset:g}},e.prototype.positionAxis=function(t){var e,n,r,i,o=t.axis,a=t.axisBound,l=t.axisWidths,s=t.seriesRect,u=t.axisOffset,c=t.axisThickness;switch(o.position){case"top":o.translation.x=a.x+(null!==(e=l.left)&&void 0!==e?e:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+1+u+c,"y",1);break;case"bottom":o.translation.x=a.x+(null!==(n=l.left)&&void 0!==n?n:0),o.translation.y=this.clampToOutsideSeriesRect(s,a.y+a.height+1-c-u,"y",-1);break;case"left":o.translation.y=a.y+(null!==(r=l.top)&&void 0!==r?r:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+u+c,"x",1);break;case"right":o.translation.y=a.y+(null!==(i=l.top)&&void 0!==i?i:0),o.translation.x=this.clampToOutsideSeriesRect(s,a.x+a.width-c-u,"x",-1)}o.updatePosition({rotation:Dt(o.rotation),sideFlag:o.label.getSideFlag()})},e.className="CartesianChart",e.type="cartesian",e}(xa),Vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shape="polygon",e}return Vu(e,t),e.prototype.computeLabelsBBox=function(t,e){return null},e}(ts),Yu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Uu=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Zu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qu=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ju=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$u=function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i.padding=new xr(40),i}return Yu(e,t),e.prototype.performLayout=function(){return Xu(this,void 0,void 0,(function(){var e,n,r;return Uu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=i.sent(),n=e.clone(),this.computeSeriesRect(e),this.computeCircle(e),this.axes.forEach((function(t){return t.update()})),r=e.clone().grow(20),this.hoverRect=r,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:n,paddedRect:e,hoverRect:r,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.updateAxes=function(t,e,n){var r;this.axes.forEach((function(r){var i;if(r.direction===Fe.X){var o=Dt(null!==(i=r.rotation)&&void 0!==i?i:0);r.range=[-Math.PI/2+o,3*Math.PI/2+o],r.gridLength=n,r.translation.x=t,r.translation.y=e}else r.direction===Fe.Y&&(r.range=[n,0],r.translation.x=t,r.translation.y=e-n);r.updateScale()}));var i=this.axes.find((function(t){return t.direction===Fe.X})),o=null==i?void 0:i.scale,a=null===(r=null==o?void 0:o.ticks)||void 0===r?void 0:r.call(o).map((function(t){return o.convert(t)}));this.axes.filter((function(t){return t instanceof Hu})).forEach((function(t){return t.gridAngles=a}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(t){var e=this,n=this.series.filter((function(t){return t instanceof ms})),r=this.axes.filter((function(t){return t instanceof Hu})),i=function(t,r,i){e.updateAxes(t,r,i),n.forEach((function(e){e.centerX=t,e.centerY=r,e.radius=i}));var o=n.filter((function(t){return t instanceof js}));if(o.length>1){var a=o.map((function(t){var e=t.getInnerRadius();return{series:t,innerRadius:e}})).sort((function(t,e){return t.innerRadius-e.innerRadius}));a[a.length-1].series.surroundingRadius=void 0;for(var l=0;l<a.length-1;l++)a[l].series.surroundingRadius=a[l+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,l=Math.max(0,Math.min(t.width,t.height)/2),s=l;i(o,a,s);var u=function(u){var c,h,d=(void 0===u?{}:u).hideWhenNecessary,f=void 0!==d&&d,p=[];try{for(var y=Ju(qu(qu([],Zu(r)),Zu(n))),v=y.next();!v.done;v=y.next()){var g=v.value.computeLabelsBBox({hideWhenNecessary:f},t);g&&p.push(g)}}catch(t){c={error:t}}finally{try{v&&!v.done&&(h=y.return)&&h.call(y)}finally{if(c)throw c.error}}if(0!==p.length){var m=A.merge(p),b=e.refineCircle(m,s,t);i(b.centerX,b.centerY,b.radius),b.radius!==s&&(s=b.radius)}else i(o,a,l)};return u(),u(),u(),u({hideWhenNecessary:!0}),u({hideWhenNecessary:!0}),{radius:s,centerX:o,centerY:a}},e.prototype.refineCircle=function(t,e,n){var r=-e,i=-e,o=e,a=e,l=Math.max(0,r-t.x),s=Math.max(0,i-t.y),u=Math.max(0,t.x+t.width-o),c=Math.max(0,t.y+t.height-a),h=n.width-l-u,d=n.height-s-c,f=Math.min(h,d)/2,p=.5*n.width/2,y=.5*n.height/2,v=Math.min(p,y);if(f<v){var g=l+u;if(2*(f=v)+(s+c)>n.height){var m=n.height-2*f;2*Math.min(s,c)>m?(s=m/2,c=m/2):s>c?s=m-c:c=m-s}if(2*f+g>n.width){var b=n.width-2*f;2*Math.min(l,u)>b?(l=b/2,u=b/2):l>u?l=b-u:u=b-l}}var x=l+2*f+u,w=s+2*f+c;return{centerX:n.x+(n.width-x)/2+l+f,centerY:n.y+(n.height-w)/2+s+f,radius:f}},e.className="PolarChart",e.type="polar",e}(xa),Qu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},ec=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},nc=function(t){function e(e,n,r){void 0===e&&(e=window.document);var i=t.call(this,e,n,r)||this;return i._data={},i}return Qu(e,t),e.prototype.performLayout=function(){return tc(this,void 0,void 0,(function(){var e,n,r,i,o=this;return ec(this,(function(a){switch(a.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=a.sent(),n=this.seriesAreaPadding,r=e.clone(),e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,i=e.clone().grow(20),this.hoverRect=i,this.seriesRoot.translationX=Math.floor(e.x),this.seriesRoot.translationY=Math.floor(e.y),[4,Promise.all(this.series.map((function(t){return tc(o,void 0,void 0,(function(){return ec(this,(function(n){switch(n.label){case 0:return[4,t.update({seriesRect:e})];case 1:return n.sent(),[2]}}))}))})))];case 2:return a.sent(),this.seriesRoot.setClipRectInGroupCoordinateSpace(new A(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:r,paddedRect:e,hoverRect:i,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy",e}(xa);function rc(t,e){var n,r,i,o,a,l,s=Math.floor(t[0]),u=t[1];n=s,r=u,i=e,o=Math.abs(r-n)/(i-1),a=Math.floor(Math.log10(o)),l=Math.pow(10,a);var c=function(t,e,n){return function(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),r=t/n*10;return r>0&&r<=1?n/10:r>1&&r<=2?2*n/10:r>1&&r<=5?5*n/10:r>5&&r<=10?10*n/10:r>10&&r<=20?20*n/10:r>20&&r<=40?40*n/10:r>40&&r<=50?50*n/10:r>50&&r<=100?100*n/10:r}((e-t)/(n-1))}(s=Math.floor(n/l)*l,u,e);return[[s,u=s+(e-1)*c],function(t,e,n){for(var r=Math.floor(Math.log10(e)),i=e>0&&e<1?Math.abs(r):0,o=Math.pow(10,i),a=new Ia(i),l=0;l<n;l++){var s=t+e*l;a[l]=Math.round(s*o)/o}return a}(s,c,e)]}var ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ac=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return ic(e,t),oc([ne(le(Te(1),he("minSpacing"))),Tl(NaN)],e.prototype,"maxSpacing",void 0),e}(Wl),sc=function(t){function e(e,n){void 0===n&&(n=new ss);var r=t.call(this,e,n)||this;return r.min=NaN,r.max=NaN,n.strictClampByDefault=!0,r}return ic(e,t),e.prototype.normaliseDataDomain=function(t){return _l(t,this.min,this.max)},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(ot.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.createTick=function(){return new lc},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=ac(rc(this.dataDomain,null!=t?t:0),2),n=e[0],r=e[1];return this.scale.nice=!1,this.scale.domain=n,this.scale.update(),r},e.className="NumberAxis",e.type="number",oc([ne(le(Te(),ce("max"))),Tl(NaN)],e.prototype,"min",void 0),oc([ne(le(Te(),he("min"))),Tl(NaN)],e.prototype,"max",void 0),e}(yu),uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function hc(){return re((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var dc,fc=function(t){function e(e){var n=t.call(this,e,new kl)||this;return n.min=NaN,n.max=NaN,n.scale.strictClampByDefault=!0,n}return uc(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,r=this.max;t.length>2&&(t=null!==(e=Ol(t))&&void 0!==e?e:[NaN,NaN]),isNaN(n)||(t=[n,t[1]]),isNaN(r)||(t=[t[0],r]);var i=t[0]>t[1],o=t[0]<0&&t[1]>0,a=0===t[0]&&0===t[1];return(i||o||a)&&(t=[],o?ot.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&ot.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",cc([ne(le(Te(),ce("max"),hc())),Tl(NaN)],e.prototype,"min",void 0),cc([ne(le(Te(),he("min"),hc())),Tl(NaN)],e.prototype,"max",void 0),e}(sc),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},vc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpacing=NaN,e}return pc(e,t),yc([ne(le(Te(1),he("minSpacing"))),Tl(NaN)],e.prototype,"maxSpacing",void 0),e}(Wl),gc=function(t){function e(e){var n=t.call(this,e,new tl)||this;n.datumFormat="%m/%d/%y, %H:%M:%S",n.min=void 0,n.max=void 0;var r=n.scale;return r.strictClampByDefault=!0,n.refreshScale(),n.datumFormatter=r.tickFormat({specifier:n.datumFormat}),n}return pc(e,t),e.prototype.normaliseDataDomain=function(t){var e,n=this.min,r=this.max;return"number"==typeof n&&(n=new Date(n)),"number"==typeof r&&(r=new Date(r)),t.length>2&&(t=(null!==(e=Ol(t))&&void 0!==e?e:[0,1e3]).map((function(t){return new Date(t)}))),n instanceof Date&&(t=[n,t[1]]),r instanceof Date&&(t=[t[0],r]),t[0]>t[1]&&(t=[]),t},e.prototype.createTick=function(){return new vc},e.prototype.onLabelFormatChange=function(e,n){n?t.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){var e;return null!==(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))&&void 0!==e?e:String(t)},e.prototype.calculatePadding=function(t,e){return[0,1]},e.className="TimeAxis",e.type="time",yc([ne(le(ke,ce("max")))],e.prototype,"min",void 0),yc([ne(le(ke,he("min")))],e.prototype,"max",void 0),e}(yu),mc=((dc={})[sc.type]=sc,dc[wu.type]=wu,dc[gc.type]=gc,dc[Au.type]=Au,dc[fc.type]=fc,dc);function bc(t,e){mc[t]=e}function xc(t,e){var n=mc[t];if(n)return new n(e);throw new Error("AG Charts - unknown axis type: "+t)}var wc={has:function(t){return Object.prototype.hasOwnProperty.call(mc,t)},get axesTypes(){return Object.keys(mc)}},Sc={};function kc(t,e){Sc[t]=e}var Oc,_c,Dc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Cc=["circle","cross","diamond","heart","plus","square","triangle"],Ec=re((function(t){return Cc.includes(t)||Object.getPrototypeOf(t)===co}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Pc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=mo,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return Dc(e,t),Mc([ne(pe),W({redraw:T.MAJOR})],e.prototype,"enabled",void 0),Mc([ne(Ec),W({redraw:T.MAJOR})],e.prototype,"shape",void 0),Mc([ne(Ee(0)),W({redraw:T.MAJOR})],e.prototype,"size",void 0),Mc([ne(Ee(0)),W({redraw:T.MAJOR})],e.prototype,"maxSize",void 0),Mc([ne(Re),W({redraw:T.MAJOR})],e.prototype,"domain",void 0),Mc([ne(De),W({redraw:T.MAJOR})],e.prototype,"fill",void 0),Mc([ne(De),W({redraw:T.MAJOR})],e.prototype,"stroke",void 0),Mc([ne(Pe(0)),W({redraw:T.MAJOR})],e.prototype,"strokeWidth",void 0),Mc([ne(Pe(0,1)),W({redraw:T.MAJOR})],e.prototype,"fillOpacity",void 0),Mc([ne(Pe(0,1)),W({redraw:T.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(V),Tc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nc=function(){return(Nc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Rc=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Lc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Ac=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ic=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Fc=((Oc={})[Fe.X]=["xKey"],Oc[Fe.Y]=["yKey"],Oc),Bc=((_c={})[Fe.X]=["xName"],_c[Fe.Y]=["yName"],_c),zc=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i,o)||this;return a.xKey=e,a.yKey=n,a}return Tc(e,t),e}(ur),Gc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return Tc(e,t),e}(zc),Wc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return Tc(e,t),e}(zc),Kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tc(e,t),e}(Kl),Vc=function(t){function e(e){var n=t.call(this,Nc(Nc({},e),{useSeriesGroupLayer:!0,directionKeys:Fc,directionNames:Bc}))||this;n.legendItemName=void 0,n._contextNodeData=[],n.nodeDataDependencies={},n.highlightSelection=Xi.select(n.highlightNode,(function(){return n.opts.hasMarkers?n.markerFactory():n.nodeFactory()})),n.highlightLabelSelection=Xi.select(n.highlightLabel,jt),n.subGroups=[],n.subGroupId=0,n.datumSelectionGarbageCollection=!0;var r=e.pathsPerSeries,i=void 0===r?1:r,o=e.hasMarkers,a=void 0!==o&&o,l=e.hasHighlightedLabels,s=void 0!==l&&l,u=e.pathsZIndexSubOrderOffset,c=void 0===u?[]:u;return n.opts={pathsPerSeries:i,hasMarkers:a,hasHighlightedLabels:s,pathsZIndexSubOrderOffset:c},n.animationState=new Kc("empty",{empty:{on:{update:{target:"ready",action:function(t){return n.animateEmptyUpdateReady(t)}}}},ready:{on:{updateData:{target:"waiting",action:function(){}},update:{target:"ready",action:function(t){return n.animateReadyUpdate(t)}},highlight:{target:"ready",action:function(t){return n.animateReadyHighlight(t)}},highlightMarkers:{target:"ready",action:function(t){return n.animateReadyHighlightMarkers(t)}},resize:{target:"ready",action:function(t){return n.animateReadyResize(t)}}}},waiting:{on:{update:{target:"ready",action:function(t){return n.animateWaitingUpdateReady(t)}}}}}),n}return Tc(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.addChartEventListeners=function(){var t,e,n=this;null===(t=this.ctx.chartEventManager)||void 0===t||t.addListener("legend-item-click",(function(t){return n.onLegendItemClick(t)})),null===(e=this.ctx.chartEventManager)||void 0===e||e.addListener("legend-item-double-click",(function(t){return n.onLegendItemDoubleClick(t)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,n,r){return(n&&Ut(t)||!n&&Xt(t))&&(r&&Ut(e)||!r&&Xt(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,n,r){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&r.inRange(e)},e.prototype.update=function(t){var e,n,r=t.seriesRect;return Lc(this,void 0,void 0,(function(){var t,i,o,a,l;return Ac(this,(function(s){switch(s.label){case 0:return t=this.visible,i=(null!==(n=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{}).series,o=i?i===this:void 0,a={seriesRectWidth:null==r?void 0:r.width,seriesRectHeight:null==r?void 0:r.height},(l=null!=Ir(this.nodeDataDependencies,a))&&(this.nodeDataDependencies=a,this.markNodeDataDirty()),[4,this.updateSelections(o,t)];case 1:return s.sent(),[4,this.updateNodes(o,t)];case 2:return s.sent(),l&&this.animationState.transition("resize",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths}))}),this.animationState.transition("update",{datumSelections:this.subGroups.map((function(t){return t.datumSelection})),markerSelections:this.subGroups.map((function(t){return t.markerSelection})),labelSelections:this.subGroups.map((function(t){return t.labelSelection})),contextData:this._contextNodeData,paths:this.subGroups.map((function(t){return t.paths})),seriesRect:r}),[2]}}))}))},e.prototype.updateSelections=function(t,e){var n;return Lc(this,void 0,void 0,(function(){var r,i=this;return Ac(this,(function(o){switch(o.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return o.sent(),e&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())?this.nodeDataRefresh?(this.nodeDataRefresh=!1,(null===(n=this.chart)||void 0===n?void 0:n.debug)&&ot.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),r=this,[4,this.createNodeData()]):[3,4]:[2];case 2:return r._contextNodeData=o.sent(),[4,this.updateSeriesGroups()];case 3:o.sent(),o.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(t,e){return i.updateSeriesGroupSelections(t,e)})))];case 5:return o.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e){return Lc(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c;return Ac(this,(function(h){switch(h.label){case 0:return n=t.datumSelection,r=t.labelSelection,i=t.markerSelection,o=this._contextNodeData[e],a=o.nodeData,l=o.labelData,s=t,[4,this.updateDatumSelection({nodeData:a,datumSelection:n,seriesIdx:e})];case 1:return s.datumSelection=h.sent(),u=t,[4,this.updateLabelSelection({labelData:l,labelSelection:r,seriesIdx:e})];case 2:return u.labelSelection=h.sent(),i?(c=t,[4,this.updateMarkerSelection({nodeData:a,markerSelection:i,seriesIdx:e})]):[3,4];case 3:c.markerSelection=h.sent(),h.label=4;case 4:return[2]}}))}))},e.prototype.nodeFactory=function(){return new dt},e.prototype.markerFactory=function(){return new(Eo())},e.prototype.updateSeriesGroups=function(){return Lc(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,f,p=this;return Ac(this,(function(y){if(e=(t=this)._contextNodeData,n=t.contentGroup,r=t.subGroups,i=t.opts,o=i.pathsPerSeries,a=i.hasMarkers,e.length===r.length)return[2];for(e.length<r.length&&r.splice(e.length).forEach((function(t){var e,r,i=t.dataNodeGroup,o=t.markerGroup,a=t.labelGroup,l=t.paths;n.removeChild(i),o&&n.removeChild(o),a&&n.removeChild(a);try{for(var s=Ic(l),u=s.next();!u.done;u=s.next()){var c=u.value;n.removeChild(c)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}})),l=e.length;l>r.length;){for(s=this.subGroupId++,u=new dt({name:this.id+"-series-sub"+s+"-dataNodes",layer:!1,zIndex:je.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("data",s)}),c=a?new dt({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:!1,zIndex:je.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",s)}):void 0,h=new dt({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:!1,zIndex:je.SERIES_LABEL_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",s)}),n.appendChild(u),n.appendChild(h),c&&n.appendChild(c),d=[],f=0;f<o;f++)d[f]=new ao,d[f].zIndex=je.SERIES_LAYER_ZINDEX,d[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),n.appendChild(d[f]);r.push({paths:d,dataNodeGroup:u,markerGroup:c,labelGroup:h,labelSelection:Xi.select(h,jt),datumSelection:Xi.select(u,(function(){return p.nodeFactory()}),this.datumSelectionGarbageCollection),markerSelection:c?Xi.select(c,(function(){return p.markerFactory()})):void 0})}return[2]}))}))},e.prototype.getGroupZIndexSubOrder=function(e,n){var r;void 0===n&&(n=0);var i=t.prototype.getGroupZIndexSubOrder.call(this,e,n);if("paths"===e){var o=null!==(r=this.opts.pathsZIndexSubOrderOffset[n])&&void 0!==r?r:0,a=i[0];i[0]="function"==typeof a?function(){return+a()+o}:+a+o}return i},e.prototype.updateNodes=function(t,e){var n;return Lc(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d=this;return Ac(this,(function(f){switch(f.label){case 0:return i=(r=this).highlightSelection,o=r.highlightLabelSelection,a=r._contextNodeData,l=r.opts,s=l.hasMarkers,u=l.hasHighlightedLabels,c=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e,this.rootGroup.visible=c,this.contentGroup.visible=c,this.highlightGroup.visible=c&&!!t,h=this.subGroups.map((function(t,e){var n=a[e].itemId;return d.getOpacity({itemId:n})})),s?[4,this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return f.sent(),this.animationState.transition("highlightMarkers",i),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1})];case 3:f.sent(),this.animationState.transition("highlight",i),f.label=4;case 4:return u?[4,this.updateLabelNodes({labelSelection:o,seriesIdx:-1})]:[3,6];case 5:f.sent(),f.label=6;case 6:return[4,Promise.all(this.subGroups.map((function(t,e){return Lc(d,void 0,void 0,(function(){var n,r,i,o,a,l,u,d,f,p,y,v,g,m;return Ac(this,(function(b){switch(b.label){case 0:n=t.dataNodeGroup,r=t.markerGroup,i=t.datumSelection,o=t.labelSelection,a=t.markerSelection,l=t.paths,u=t.labelGroup,d=c,f=h[e],n.opacity=f,n.visible=d,u.visible=d,r&&(r.opacity=f,r.zIndex=n.zIndex>=je.SERIES_LAYER_ZINDEX?n.zIndex:n.zIndex+1,r.visible=d),u&&(u.opacity=f);try{for(p=Ic(l),y=p.next();!y.done;y=p.next())(v=y.value).opacity=f,v.visible=d}catch(t){g={error:t}}finally{try{y&&!y.done&&(m=p.return)&&m.call(p)}finally{if(g)throw g.error}}return n.visible?[4,this.updateDatumNodes({datumSelection:i,isHighlight:!1,seriesIdx:e})]:[2];case 1:return b.sent(),[4,this.updateLabelNodes({labelSelection:o,seriesIdx:e})];case 2:return b.sent(),s&&a?[4,this.updateMarkerNodes({markerSelection:a,isHighlight:!1,seriesIdx:e})]:[3,4];case 3:b.sent(),b.label=4;case 4:return[2]}}))}))})))];case 7:return f.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return Lc(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g;return Ac(this,(function(m){switch(m.label){case 0:return r=(n=this).highlightSelection,i=n.highlightLabelSelection,o=n._contextNodeData,a=null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),l=t&&(null==a?void 0:a.datum)?a:void 0,s=this,[4,this.updateHighlightSelectionItem({item:l,highlightSelection:r})];case 1:if(s.highlightSelection=m.sent(),this.isLabelEnabled()&&null!=l){c=l.itemId,h=void 0===c?void 0:c;try{for(d=Ic(o),f=d.next();!f.done&&(p=f.value.labelData,null==(u=p.find((function(t){return t.datum===l.datum&&t.itemId===h}))));f=d.next());}catch(t){v={error:t}}finally{try{f&&!f.done&&(g=d.return)&&g.call(d)}finally{if(v)throw v.error}}}return y=this,[4,this.updateHighlightSelectionLabel({item:u,highlightLabelSelection:i})];case 2:return y.highlightLabelSelection=m.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var n,r,i=t.prototype.pickNodeExactShape.call(this,e);if(i)return i;var o=e.x,a=e.y,l=this.opts.hasMarkers;try{for(var s=Ic(this.subGroups),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.dataNodeGroup,d=c.markerGroup,f=h.pickNode(o,a);if(!f&&l&&(f=null==d?void 0:d.pickNode(o,a)),f)return{datum:f.datum,distance:0}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,n,r,i,o,a,l,s=t.x,u=t.y,c=this.axes,h=this.rootGroup,d=this._contextNodeData,f=c[Fe.X],p=c[Fe.Y],y=h.transformPoint(s,u),v=1/0;try{for(var g=Ic(d),m=g.next();!m.done;m=g.next()){var b=m.value;try{for(var x=(r=void 0,Ic(b.nodeData)),w=x.next();!w.done;w=x.next()){var S,k=w.value,O=k.point,_=void 0===O?{}:O,D=_.x,M=void 0===D?NaN:D,C=_.y,E=void 0===C?NaN:C;isNaN(M)||isNaN(E)||(null==f?void 0:f.inRange(M))&&(null==p?void 0:p.inRange(E))&&(S=Math.max(Math.pow(y.x-M,2)+Math.pow(y.y-E,2),0))<v&&(v=S,l=k)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}if(l)return{datum:l,distance:S=Math.max(Math.sqrt(v)-(null!==(a=null===(o=l.point)||void 0===o?void 0:o.size)&&void 0!==a?a:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var n,r,i,o,a,l,s=t.x,u=t.y,c=this.axes,h=this.rootGroup,d=this._contextNodeData,f=c[Fe.X],p=c[Fe.Y],y=[f,p].filter((function(t){return t instanceof wu})).map((function(t){return t.direction}));if(!e||0!==y.length){var v=jc(y,1)[0],g=void 0===v?Fe.X:v,m=h.transformPoint(s,u),b=g===Fe.X?[m.x,m.y]:[m.y,m.x],x=[1/0,1/0],w=void 0;try{for(var S=Ic(d),k=S.next();!k.done;k=S.next()){var O=k.value;try{for(var _=(i=void 0,Ic(O.nodeData)),D=_.next();!D.done;D=_.next()){var M=D.value,C=M.point,E=void 0===C?{}:C,P=E.x,T=void 0===P?NaN:P,N=E.y,R=void 0===N?NaN:N;if(!isNaN(T)&&!isNaN(R)&&(null==f?void 0:f.inRange(T))&&(null==p?void 0:p.inRange(R))){for(var L=g===Fe.X?[T,R]:[R,T],A=!0,I=0;I<L.length;I++){var j=Math.abs(L[I]-b[I]);if(j>x[I]){A=!1;break}j<x[I]&&(x[I]=j,x.fill(1/0,I+1,x.length))}A&&(w=M)}}}catch(t){i={error:t}}finally{try{D&&!D.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{k&&!k.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}if(w)return{datum:w,distance:Math.max(Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2))-(null!==(l=null===(a=w.point)||void 0===a?void 0:a.size)&&void 0!==l?l:0),0)}}},e.prototype.onLegendItemClick=function(t){var e=t.enabled,n=t.itemId,r=t.series,i=t.legendItemName,o=null!=this.legendItemName&&this.legendItemName===i;(r.id===this.id||o)&&this.toggleSeriesItem(n,e)},e.prototype.onLegendItemDoubleClick=function(t){var e=t.enabled,n=t.itemId,r=t.series,i=t.numVisibleItems,o=t.legendItemName,a=Object.values(i).reduce((function(t,e){return t+e}),0),l=null!=this.legendItemName&&this.legendItemName===o;r.id===this.id||l||e&&1===a?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.updateHighlightSelectionItem=function(t){return Lc(this,void 0,void 0,(function(){var e,n,r,i,o;return Ac(this,(function(a){return e=this.opts.hasMarkers,n=t.item,r=t.highlightSelection,i=n?[n]:[],e?(o=r,[2,this.updateMarkerSelection({nodeData:i,markerSelection:o,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:i,datumSelection:r,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return Lc(this,void 0,void 0,(function(){var e,n,r;return Ac(this,(function(i){return e=t.item,n=t.highlightLabelSelection,r=e?[e]:[],[2,this.updateLabelSelection({labelData:r,labelSelection:n,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return Lc(this,void 0,void 0,(function(){return Ac(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return Lc(this,void 0,void 0,(function(){return Ac(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return Lc(this,void 0,void 0,(function(){return Ac(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return Lc(this,void 0,void 0,(function(){return Ac(this,(function(t){return[2]}))}))},e.prototype.animateEmptyUpdateReady=function(t){},e.prototype.animateReadyUpdate=function(t){},e.prototype.animateWaitingUpdateReady=function(t){},e.prototype.animateReadyHighlight=function(t){},e.prototype.animateReadyHighlightMarkers=function(t){},e.prototype.animateReadyResize=function(t){},Rc([ne(ge)],e.prototype,"legendItemName",void 0),e}(mr),Hc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Tc(e,t),Rc([ne(fe),W({redraw:T.MAJOR})],e.prototype,"formatter",void 0),e}(Pc),Yc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xc=/(#\{(.*?)\})/g;function Uc(t,e,n){return t.replace(Xc,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[2],o=Yc(i.split(":"),2),a=o[0],l=o[1],s=e[a];if("number"==typeof s){if(d=l&&n&&n[l]){var u=d,c=u.locales,h=u.options;return s.toLocaleString(c,h)}return String(s)}if(s instanceof Date){var d;if("string"==typeof(d=l&&n&&n[l])){var f=Va(d);return f(s)}return s.toDateString()}return"string"==typeof s||(null==s?void 0:s.toString)?String(s):""}))}var Zc=null;function qc(t){return Zc=null!=Zc?Zc:document.createElement("div"),t?(Zc.textContent=t,Zc.innerHTML):""}var Jc,$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qc=function(){return(Qc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},th=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},eh=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},nh=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},rh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ih=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return $c(e,t),th([ne(fe)],e.prototype,"formatter",void 0),e}(Ml),ah=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return $c(e,t),th([ne(fe)],e.prototype,"renderer",void 0),th([ne(ge)],e.prototype,"format",void 0),e}(vr);!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(Jc||(Jc={}));var lh=function(t){function e(e){var n=t.call(this,{moduleCtx:e,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0})||this;n.tooltip=new ah,n.marker=new Hc,n.label=new oh,n.fill="#c16068",n.stroke="#874349",n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.xKey=void 0,n.xName=void 0,n.strokeWidth=2,n.shadow=void 0;var r=n,i=r.marker,o=r.label;return i.enabled=!1,o.enabled=!1,n}return $c(e,t),e.prototype.processData=function(t){return eh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x;return nh(this,(function(w){switch(w.label){case 0:return n=(e=this).xKey,r=e.yKey,i=e.axes,o=e.normalizedTo,a=e.data,l=e.visible,s=e.seriesGrouping,u=(void 0===s?{}:s).groupIndex,c=void 0===u?this.id:u,n&&r&&a?(h=i[Fe.X],d=i[Fe.Y],f=(null==h?void 0:h.scale)instanceof Ta,p=(null==d?void 0:d.scale)instanceof Ta,y=["area-stack-"+c+"-yValues","area-stack-"+c+"-yValues-trailing","area-stack-"+c+"-yValues-prev","area-stack-"+c+"-yValues-trailing-prev","area-stack-"+c+"-yValues-marker"],v=[],(g=o&&isFinite(o)?o:void 0)&&(v.push(Fn(this,[y[0],y[1],y[4]],g,"range")),v.push(Fn(this,[y[2],y[3]],g,"range"))),[4,t.request(this.id,a,{props:ih(ih(ih(ih(ih(ih([ir(this,n,f,{id:"xValue"}),or(this,r,p,{id:"yValue-raw",invalidValue:null})],rh(sr(this,r,p,"window","current",{id:"yValue-end",invalidValue:null,groupId:y[0]}))),rh(sr(this,r,p,"window-trailing","current",{id:"yValue-start",invalidValue:null,groupId:y[1]}))),rh(sr(this,r,p,"window","last",{id:"yValue-previous-end",invalidValue:null,groupId:y[2]}))),rh(sr(this,r,p,"window-trailing","last",{id:"yValue-previous-start",invalidValue:null,groupId:y[3]}))),rh(sr(this,r,p,"normal","current",{id:"yValue-cumulative",invalidValue:null,groupId:y[4]}))),rh(v)),groupByKeys:!0,dataVisible:l})]):[2];case 1:return m=w.sent(),b=m.dataModel,x=m.processedData,this.dataModel=b,this.processedData=x,[2]}}))}))},e.prototype.getDomain=function(t){var e=this.processedData,n=this.dataModel,r=this.axes;if(!e||!n)return[];var i=r[Fe.X],o=r[Fe.Y],a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",e),s=n.getDomain(this,/yValue-(previous-)?end/,"value",e);if(t===Fe.X)return"key"===(null==a?void 0:a.def.type)&&"category"===a.def.valueType?l:this.fixNumericExtent(Ol(l),i);if(o instanceof fc||o instanceof gc)return this.fixNumericExtent(s,o);var u=[s[0]>0?0:s[0],s[1]<0?0:s[1]];return this.fixNumericExtent(u,o)},e.prototype.createNodeData=function(){var t;return eh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M,C,E,P,T,N,R,L,A,I,j,F,B,z,G,W,K,V=this;return nh(this,(function(H){if(n=(e=this).axes,r=e.data,i=e.processedData,o=(void 0===i?{}:i).data,a=e.dataModel,l=e.ctx.callbackCache,s=n[Fe.X],u=n[Fe.Y],!(s&&u&&r&&a))return[2,[]];for(h=(c=this).yKey,d=void 0===h?"":h,f=c.xKey,p=void 0===f?"":f,y=c.marker,v=c.label,g=c.fill,m=c.stroke,b=c.id,x=s.scale,w=u.scale,S=w instanceof Ta,k=(null!==(t=x.bandwidth)&&void 0!==t?t:0)/2,O=a.resolveProcessedDataIndexById(this,"yValue-start").index,_=a.resolveProcessedDataIndexById(this,"yValue-end").index,D=a.resolveProcessedDataIndexById(this,"yValue-raw").index,M=a.resolveProcessedDataIndexById(this,"yValue-previous-start").index,C=a.resolveProcessedDataIndexById(this,"yValue-previous-end").index,E=a.resolveProcessedDataIndexById(this,"yValue-cumulative").index,P=function(t,e,n){var r=x.convert(t)+k,i=w.convert(e,{strict:!1});return[{x:r,y:w.convert(n,{strict:!1}),size:y.size},{x:r,y:i,size:y.size}]},T=function(t,e,n){var r,i=V.normalizedTo&&isFinite(V.normalizedTo),o=i&&S&&Ut(n);return(!i&&!isNaN(n)||o)&&(r=e),{x:x.convert(t)+k,y:w.convert(r,{strict:!1}),size:y.size}},I={itemId:d,fillSelectionData:A={itemId:d,points:[]},labelData:N=[],nodeData:R=[],strokeSelectionData:L={itemId:d,points:[],yValues:[]}},j=A.points,F=[],B=L.points,z=L.yValues,G=-1,null==o||o.forEach((function(t){var e=rh(t.keys,1)[0],n=t.datum;t.values.forEach((function(t,r){var i;G++;var o=n[r],a=t[D],s=t[O],u=t[_],c=t[M],h=t[C],f=t[E],x=null!=a,w=T(e,+f,a);if(x&&y&&R.push({index:G,series:V,itemId:d,datum:o,nodeMidPoint:{x:w.x,y:w.y},cumulativeValue:u,yValue:a,xValue:e,yKey:d,xKey:p,point:w,fill:g,stroke:m}),x&&v){var S=void 0;S=v.formatter?null!==(i=l.call(v.formatter,{value:a,seriesId:b}))&&void 0!==i?i:"":qt(a)?Number(a).toFixed(2):String(a),N.push({index:G,itemId:d,point:w,label:S?{text:S,fontStyle:v.fontStyle,fontWeight:v.fontWeight,fontSize:v.fontSize,fontFamily:v.fontFamily,textAlign:"center",textBaseline:"bottom",fill:v.color}:void 0})}var k=[c,s],L=[h,u];if([W,e].some((function(t){return null==t})))W=e;else{k.some((function(t){return null==t}))&&(k[0]=0,k[1]=0),L.some((function(t){return null==t}))&&(L[0]=0,L[1]=0);var A=P(W,+k[0],+L[0]);j.push(A[0]),F.push(A[1]);var I=P(e,+k[1],+L[1]);j.push(I[0]),F.push(I[1]),B.push({x:NaN,y:NaN}),z.push(void 0),null!=h&&(B.push(A[0]),z.push(h)),null!=u&&(B.push(I[0]),z.push(u)),W=e}}))})),K=F.length-1;K>=0;K--)j.push(F[K]);return[2,[I]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(Eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return eh(this,void 0,void 0,(function(){var e,n,r,i;return nh(this,(function(o){return e=t.nodeData,n=t.markerSelection,r=this.marker.enabled,i=r&&e?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(i,(function(t){t.tag=Jc.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return eh(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D;return nh(this,(function(M){return n=t.markerSelection,r=t.isHighlight,o=(i=this).id,a=i.xKey,l=void 0===a?"":a,s=i.marker,u=i.fill,c=i.stroke,h=i.fillOpacity,d=i.marker.fillOpacity,f=void 0===d?h:d,p=i.strokeOpacity,y=i.highlightStyle.item,v=y.fill,g=y.fillOpacity,m=void 0===g?f:g,b=y.stroke,x=y.strokeWidth,w=i.visible,S=i.ctx.callbackCache,k=s.size,O=s.formatter,_=null!==(e=s.strokeWidth)&&void 0!==e?e:this.strokeWidth,D="function"==typeof s.shape,n.each((function(t,e){var n,i,a,h,d,y,g,M,C=r&&void 0!==v?v:null!==(n=s.fill)&&void 0!==n?n:u,E=r?m:f,P=r&&void 0!==b?b:null!==(i=s.stroke)&&void 0!==i?i:c,T=r&&void 0!==x?x:_,N=void 0;O&&(N=S.call(O,{datum:e.datum,xKey:l,yKey:e.yKey,fill:C,stroke:P,strokeWidth:T,size:k,highlighted:r,seriesId:o})),t.fill=null!==(a=null==N?void 0:N.fill)&&void 0!==a?a:C,t.stroke=null!==(h=null==N?void 0:N.stroke)&&void 0!==h?h:P,t.strokeWidth=null!==(d=null==N?void 0:N.strokeWidth)&&void 0!==d?d:T,t.fillOpacity=null!=E?E:1,t.strokeOpacity=null!==(g=null!==(y=s.strokeOpacity)&&void 0!==y?y:p)&&void 0!==g?g:1,t.size=null!==(M=null==N?void 0:N.size)&&void 0!==M?M:k,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&w&&!isNaN(e.point.x)&&!isNaN(e.point.y),D&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),r||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return eh(this,void 0,void 0,(function(){var e;return nh(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=Jc.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return eh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s;return nh(this,(function(u){return e=t.labelSelection,n=this.label,r=n.enabled,i=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;u&&r?(t.fontStyle=i,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n;return new Gc(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new Wc(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r,i=this,o=i.xKey,a=i.id,l=i.axes,s=i.xName,u=i.yName,c=i.fill,h=i.stroke,d=i.tooltip,f=i.marker,p=i.dataModel,y=t.yKey,v=t.xValue,g=t.yValue,m=t.datum,b=l[Fe.X],x=l[Fe.Y];if(!(o&&y&&b&&x&&qt(g)&&p))return"";var w=p.resolveProcessedDataIndexById(this,"yValue-raw").index,S=f.size,k=f.formatter,O=f.strokeWidth,_=f.fill,D=f.stroke,M=b.formatDatum(v),C=x.formatDatum(g),E=null===(n=null===(e=this.processedData)||void 0===e?void 0:e.data[t.index])||void 0===n?void 0:n.values[0][w],P=qc(u),T=qc(M+": "+C),N=null!=O?O:this.strokeWidth,R=null!=_?_:c,L=void 0;k&&(L=k({datum:m,xKey:o,yKey:y,fill:R,stroke:null!=D?D:h,strokeWidth:N,size:S,highlighted:!1,seriesId:a}));var A=null!==(r=null==L?void 0:L.fill)&&void 0!==r?r:R,I={title:P,backgroundColor:A,content:T},j=d.renderer,F=d.format;if(F||j){var B={datum:m,xKey:o,xName:s,xValue:v,yKey:y,yValue:g,processedYValue:E,yName:u,color:A,title:P,seriesId:a};if(F)return wn({content:Uc(F,B)},I);if(j)return wn(j(B),I)}return wn(I)},e.prototype.getLegendData=function(){var t,e,n,r,i=this,o=i.data,a=i.id,l=i.xKey,s=i.yKey,u=i.yName,c=i.marker,h=i.fill,d=i.stroke,f=i.fillOpacity,p=i.strokeOpacity,y=i.visible;return(null==o?void 0:o.length)&&l&&s?[{legendType:"category",id:a,itemId:s,seriesId:a,enabled:y,label:{text:null!=u?u:s},marker:{shape:c.shape,fill:null!==(t=c.fill)&&void 0!==t?t:h,stroke:null!==(e=c.stroke)&&void 0!==e?e:d,fillOpacity:null!==(n=c.fillOpacity)&&void 0!==n?n:f,strokeOpacity:null!==(r=c.strokeOpacity)&&void 0!==r?r:p}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,r=t.labelSelections,i=t.contextData,o=t.paths,a=t.seriesRect,l=this,s=l.stroke,u=l.fill,c=l.fillOpacity,h=l.lineDash,d=l.lineDashOffset,f=l.strokeOpacity,p=l.strokeWidth,y=l.shadow;i.forEach((function(t,i){var l,v,g,m,b,x=t.fillSelectionData,w=t.strokeSelectionData,S=t.itemId,k=rh(o[i],2),O=k[0],_=k[1],D=null!==(v=null===(l=e.ctx.animationManager)||void 0===l?void 0:l.defaultOptions.duration)&&void 0!==v?v:1e3,M={from:0,to:null!==(g=null==a?void 0:a.width)&&void 0!==g?g:0,duration:D},C=w.points,E=w.yValues;_.tag=Jc.Stroke,_.fill=void 0,_.lineJoin=_.lineCap="round",_.pointerEvents=K.None,_.stroke=s,_.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:S}),_.strokeOpacity=f,_.lineDash=h,_.lineDashOffset=d,null===(m=e.ctx.animationManager)||void 0===m||m.animate(e.id+"_empty-update-ready_stroke_"+i,Qc(Qc({},M),{onUpdate:function(t){_.path.clear({trackChanges:!0});var e=!0;C.forEach((function(n,r){if(void 0===E[r]||isNaN(n.x)||isNaN(n.y))e=!0;else if(n.x<=t)e?(_.path.moveTo(n.x,n.y),e=!1):_.path.lineTo(n.x,n.y);else if(r>0&&void 0!==E[r]&&void 0!==E[r-1]&&C[r-1].x<=t){var i=C[r-1],o=n,a=t,l=i.y+(a-i.x)*(o.y-i.y)/(o.x-i.x);_.path.lineTo(a,l)}})),_.checkPathDirty()}}));var P=x.points,T=P.slice(0,P.length/2),N=P.slice(P.length/2);O.tag=Jc.Fill,O.stroke=void 0,O.lineJoin="round",O.pointerEvents=K.None,O.fill=u,O.fillOpacity=c,O.strokeOpacity=f,O.strokeWidth=p,O.lineDash=h,O.lineDashOffset=d,O.fillShadow=y,null===(b=e.ctx.animationManager)||void 0===b||b.animate(e.id+"_empty-update-ready_fill_"+i,Qc(Qc({},M),{onUpdate:function(t){O.path.clear({trackChanges:!0});var e=0,n=0;T.forEach((function(r,i){if(r.x<=t)e=r.x,n=r.y,O.path.lineTo(r.x,r.y);else if(i>0&&T[i-1].x<t){var o=T[i-1],a=r;e=t,n=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x),O.path.lineTo(e,n)}})),N.forEach((function(n,r){var i=N.length-r-1;if(n.x<=t)O.path.lineTo(n.x,n.y);else if(i>0&&T[i-1].x<t){var o=n,a=N[r+1],l=o.y+(e-o.x)*(a.y-o.y)/(a.x-o.x);O.path.lineTo(e,l)}})),N.length>0&&O.path.lineTo(N[N.length-1].x,N[N.length-1].y),O.path.closePath(),O.checkPathDirty()}})),n[i].each((function(t,n){var r,i,o,l,s=(null==a?void 0:a.width)?n.point.x/a.width*D:0,u=e.animateFormatter(n),c=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;null===(o=e.ctx.animationManager)||void 0===o||o.animate(e.id+"_empty-update-ready_"+t.id,Qc(Qc({},M),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),r[i].each((function(t,n){var r,i=(null==a?void 0:a.width)?n.point.x/a.width*D:0;null===(r=e.ctx.animationManager)||void 0===r||r.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:i,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this,n=t.contextData,r=t.paths,i=this,o=i.stroke,a=i.fill,l=i.fillOpacity,s=i.lineDash,u=i.lineDashOffset,c=i.strokeOpacity,h=i.strokeWidth,d=i.shadow;n.forEach((function(t,n){var i=t.strokeSelectionData,f=t.fillSelectionData,p=t.itemId,y=rh(r[n],2),v=y[0],g=y[1];g.stroke=o,g.strokeWidth=e.getStrokeWidth(e.strokeWidth,{itemId:p}),g.strokeOpacity=c,g.lineDash=s,g.lineDashOffset=u,g.path.clear({trackChanges:!0});var m=!0;i.points.forEach((function(t,e){void 0===i.yValues[e]||isNaN(t.x)||isNaN(t.y)?m=!0:m?(g.path.moveTo(t.x,t.y),m=!1):g.path.lineTo(t.x,t.y)})),g.checkPathDirty(),v.fill=a,v.fillOpacity=l,v.strokeOpacity=c,v.strokeWidth=h,v.lineDash=s,v.lineDashOffset=u,v.fillShadow=d,v.path.clear({trackChanges:!0}),f.points.forEach((function(t){v.path.lineTo(t.x,t.y)})),v.path.closePath(),v.checkPathDirty()}))},e.prototype.animateFormatter=function(t){var e,n,r,i=this,o=i.marker,a=i.fill,l=i.stroke,s=i.xKey,u=void 0===s?"":s,c=i.id,h=i.ctx.callbackCache,d=o.size,f=o.formatter,p=null!==(e=o.fill)&&void 0!==e?e:a,y=null!==(n=o.stroke)&&void 0!==n?n:l,v=null!==(r=o.strokeWidth)&&void 0!==r?r:this.strokeWidth,g=void 0;return f&&(g=h.call(f,{datum:t.datum,xKey:u,yKey:t.yKey,fill:p,stroke:y,strokeWidth:v,size:d,highlighted:!1,seriesId:c})),g},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",th([ne(_e)],e.prototype,"fill",void 0),th([ne(_e)],e.prototype,"stroke",void 0),th([ne(Ee(0,1))],e.prototype,"fillOpacity",void 0),th([ne(Ee(0,1))],e.prototype,"strokeOpacity",void 0),th([ne(Xe)],e.prototype,"lineDash",void 0),th([ne(Ee(0))],e.prototype,"lineDashOffset",void 0),th([ne(ge)],e.prototype,"xKey",void 0),th([ne(ge)],e.prototype,"xName",void 0),th([ne(ge)],e.prototype,"yKey",void 0),th([ne(ge)],e.prototype,"yName",void 0),th([ne(Pe(0))],e.prototype,"normalizedTo",void 0),th([ne(Ee(0))],e.prototype,"strokeWidth",void 0),e}(Vc),sh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ch=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new no,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=Nt.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Nt.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return sh(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,n,r=this.path,i=this.borderPath,o=this.crisp,a=this,l=a.x,s=a.y,u=a.width,c=a.height,h=a.strokeWidth,d=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),f=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),o&&(u<=d&&(f*=u/d),c<=d&&(f*=c/d),u=this.align(l,u),c=this.align(s,c),l=this.align(l),s=this.align(s)),h)if(u<d){var p=l+d/2;i.moveTo(p,s),i.lineTo(p,s+c),h=d,this.borderClipPath=void 0}else if(c<d){var y=s+d/2;i.moveTo(l,y),i.lineTo(l+u,y),h=d,this.borderClipPath=void 0}else if(h<u&&h<c){var v=h/2;l+=v,s+=v,u-=h,c-=h,this.borderClipPath=void 0,r.rect(l,s,u,c),i.rect(l,s,u,c)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new no,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,s,u,c),i.rect(l,s,u,c);else this.borderClipPath=void 0,r.rect(l,s,u,c);this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=f},e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return new A(t,e,n,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.applyFillAlpha=function(t){var e=this.fillOpacity,n=this.microPixelEffectOpacity,r=this.opacity,i=t.globalAlpha;t.globalAlpha=i*r*e*n},e.prototype.renderStroke=function(t){var e=this,n=e.stroke,r=e.effectiveStrokeWidth,i=e.borderPath,o=e.borderClipPath,a=e.opacity,l=e.microPixelEffectOpacity;if(n&&r){var s=this,u=s.strokeOpacity,c=s.lineDash,h=s.lineDashOffset,d=s.lineCap,f=s.lineJoin;o&&(o.draw(t),t.clip()),i.draw(t);var p=t.globalAlpha;t.strokeStyle=n,t.globalAlpha=p*a*u*l,t.lineWidth=r,c&&t.setLineDash(c),h&&(t.lineDashOffset=h),d&&(t.lineCap=d),f&&(t.lineJoin=f),t.stroke(),t.globalAlpha=p}},e.className="Rect",uh([oo()],e.prototype,"x",void 0),uh([oo()],e.prototype,"y",void 0),uh([oo()],e.prototype,"width",void 0),uh([oo()],e.prototype,"height",void 0),uh([oo()],e.prototype,"radius",void 0),uh([oo()],e.prototype,"crisp",void 0),e}(ao),hh=function(){return(hh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},dh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},fh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ph(t){var e,n=t.value,r=t.rect,i=t.placement,o=t.seriesId,a=t.padding,l=void 0===a?0:a,s=t.formatter,u=t.barAlongX,c=t.ctx.callbackCache;s&&(e=c.call(s,{value:qt(n)?n:void 0,seriesId:o})),void 0===e&&(e=qt(n)?n.toFixed(2):"");var h=r.x+r.width/2,d=r.y+r.height/2,f="center",p="middle",y=n>=0;switch(i){case"start":u?(h=y?r.x-l:r.x+r.width+l,f=y?"start":"end"):(d=y?r.y+r.height+l:r.y-l,p=y?"top":"bottom");break;case"outside":case"end":u?(h=y?r.x+r.width+l:r.x-l,f=y?"start":"end"):(d=y?r.y-l:r.y+r.height+l,p=y?"bottom":"top");break;case"inside":default:p="middle"}return{text:e,textAlign:f,textBaseline:p,x:h,y:d}}function yh(t){var e=t.rect,n=t.config,r=n.crisp,i=void 0===r||r,o=n.fill,a=n.stroke,l=n.strokeWidth,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineDash,h=n.lineDashOffset,d=n.fillShadow,f=n.visible,p=void 0===f||f;e.crisp=i,e.fill=o,e.stroke=a,e.strokeWidth=l,e.fillOpacity=s,e.strokeOpacity=u,e.lineDash=c,e.lineDashOffset=h,e.fillShadow=d,e.visible=p}function vh(t){var e,n,r,i,o,a,l,s=t.datum,u=t.isHighlighted,c=t.style,h=t.highlightStyle,d=t.formatter,f=t.seriesId,p=t.stackGroup,y=t.ctx.callbackCache,v=dh(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","stackGroup","ctx"]),g=u&&null!==(e=h.fill)&&void 0!==e?e:c.fill,m=u&&null!==(n=h.stroke)&&void 0!==n?n:c.stroke,b=u&&null!==(r=h.strokeWidth)&&void 0!==r?r:c.strokeWidth,x=u&&null!==(i=h.fillOpacity)&&void 0!==i?i:c.fillOpacity,w=c.strokeOpacity,S=c.fillShadow,k=c.lineDash,O=c.lineDashOffset,_=void 0;return d&&(_=y.call(d,hh({datum:s.datum,xKey:s.xKey,yKey:s.yKey,fill:g,stroke:m,strokeWidth:b,highlighted:u,seriesId:f,stackGroup:p},v))),{fill:null!==(o=null==_?void 0:_.fill)&&void 0!==o?o:g,stroke:null!==(a=null==_?void 0:_.stroke)&&void 0!==a?a:m,strokeWidth:null!==(l=null==_?void 0:_.strokeWidth)&&void 0!==l?l:b,fillOpacity:x,strokeOpacity:w,lineDash:k,lineDashOffset:O,fillShadow:S}}function gh(t){void 0===t&&(t=[]);var e=fh(t,2),n=e[0],r=e[1];return!(0!==n||1!==r)}function mh(t){var e=t.labelNode,n=t.labelDatum,r=t.config,i=t.visible;if(n&&r&&r.enabled){var o=n.x,a=n.y,l=n.text,s=n.textAlign,u=n.textBaseline,c=r.fontStyle,h=r.fontWeight,d=r.fontSize,f=r.fontFamily,p=r.color;e.fontStyle=c,e.fontWeight=h,e.fontSize=d,e.fontFamily=f,e.textAlign=s,e.textBaseline=u,e.text=l,e.x=o,e.y=a,e.fill=p,e.visible=i}else e.visible=!1}var bh,xh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Sh=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},kh=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Oh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_h=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Dh=["inside","outside"],Mh=function(t,e){return ie(t,e,(function(t){return Dh.includes(t)}))};!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(bh||(bh={}));var Ch,Eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return xh(e,t),wh([ne(fe)],e.prototype,"formatter",void 0),wh([ne(Mh)],e.prototype,"placement",void 0),e}(Ml),Ph=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return xh(e,t),wh([ne(fe)],e.prototype,"renderer",void 0),e}(vr),Th=function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[Un.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasHighlightedLabels:!0})||this;return n.label=new Eh,n.tooltip=new Ph,n.fill="#c16068",n.stroke="#874349",n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.xKey=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0,n.groupScale=new ka,n.stackGroup=void 0,n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.datumSelectionGarbageCollection=!1,n.label.enabled=!1,n}return xh(e,t),e.prototype.resolveKeyDirection=function(t){return this.getBarDirection()===Fe.X?t===Fe.X?Fe.Y:Fe.X:t},e.prototype.processData=function(t){var e,n,r,i,o;return Sh(this,void 0,void 0,(function(){var a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O;return kh(this,(function(_){switch(_.label){case 0:return l=(a=this).xKey,s=a.yKey,u=a.normalizedTo,c=a.seriesGrouping,h=(void 0===c?{}:c).groupIndex,d=void 0===h?this.id:h,f=a.data,p=void 0===f?[]:f,y=Math.abs(null!=u?u:NaN),v=(null===(e=this.getCategoryAxis())||void 0===e?void 0:e.scale)instanceof Ta,g=(null===(n=this.getValueAxis())||void 0===n?void 0:n.scale)instanceof Ta,b=(m="bar-stack-"+d+"-yValues")+"-trailing",x=y&&isFinite(y)?y:void 0,w=[],x&&w.push(Fn(this,[m,b],x,"range")),!(null===(r=this.ctx.animationManager)||void 0===r?void 0:r.skipAnimations)&&this.processedData&&w.push(Vn(this.processedData)),[4,t.request(this.id,p,{props:_h(_h(_h(_h([ir(this,l,v,{id:"xValue"}),or(this,s,g,{id:"yValue-raw",invalidValue:null})],Oh(sr(this,s,g,"normal","current",{id:"yValue-end",invalidValue:null,groupId:m}))),Oh(sr(this,s,g,"trailing","current",{id:"yValue-start",invalidValue:null,groupId:b}))),Oh(v?[An]:[])),Oh(w)),groupByKeys:!0,dataVisible:this.visible})];case 1:return S=_.sent(),k=S.dataModel,O=S.processedData,this.dataModel=k,this.processedData=O,this.smallestDataInterval={x:null!==(o=null===(i=O.reduced)||void 0===i?void 0:i[An.property])&&void 0!==o?o:1/0,y:1/0},this.animationState.transition("updateData"),[2]}}))}))},e.prototype.getDomain=function(t){var e,n=this.processedData,r=this.dataModel;if(!n||!r)return[];var i=n.reduced,o=(void 0===i?{}:i)[An.property],a=this.getCategoryAxis(),l=this.getValueAxis(),s=r.resolveProcessedDataDefById(this,"xValue"),u=r.getDomain(this,"xValue","key",n),c=r.getDomain(this,"yValue-end","value",n);if(t===this.getCategoryDirection()){if("key"===(null==s?void 0:s.def.type)&&"category"===(null==s?void 0:s.def.valueType))return u;var h=isFinite(o)?o:0,d=null!==(e=Ol(u))&&void 0!==e?e:[NaN,NaN];return t===Fe.Y?this.fixNumericExtent([d[0]+-h,d[1]],a):this.fixNumericExtent([d[0],d[1]+h],a)}if(this.getValueAxis()instanceof fc)return this.fixNumericExtent(c,l);var f=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return this.fixNumericExtent(f,l)},e.prototype.getNodeClickEvent=function(t,e){var n;return new Gc(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n;return new Wc(null!==(n=this.xKey)&&void 0!==n?n:"",e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){var t=this.getCategoryDirection();return this.axes[t]},e.prototype.getValueAxis=function(){var t=this.getBarDirection();return this.axes[t]},e.prototype.calculateStep=function(t){var e,n=this.smallestDataInterval,r=this.getCategoryAxis();if(r){var i=(r.dataDomain[1]-r.dataDomain[0])/(null!==(e=null==n?void 0:n.x)&&void 0!==e?e:1)+1,o=Math.floor(t),a=Math.min(i,o);return t/Math.max(1,a)}},e.prototype.createNodeData=function(){return Sh(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M,C,E,P,T,N,R,L,A=this;return kh(this,(function(I){if(e=(t=this).visible,n=t.dataModel,r=this.getCategoryAxis(),i=this.getValueAxis(),!(n&&e&&r&&i))return[2,[]];for(o=r.scale,a=i.scale,s=(l=this).groupScale,u=l.yKey,c=void 0===u?"":u,h=l.xKey,d=void 0===h?"":h,f=l.fill,p=l.stroke,y=l.strokeWidth,v=l.label,g=l.id,m=l.processedData,b=l.ctx,x=l.ctx.seriesStateManager,w=o.bandwidth,o instanceof Ta&&(S=Math.max(r.range[0],r.range[1]),k=this.calculateStep(S),w=k),O=[],_=x.getVisiblePeerGroupIndex(this),D=_.index,M=_.visibleGroupCount,C=0;C<M;C++)O.push(String(C));return s.domain=O,s.range=[0,null!=w?w:0],s.padding=r instanceof wu?r.groupPaddingInner:r instanceof Au?.1:0,0===s.padding?s.round=!1:s.round=!0,E=s.bandwidth>=1?s.bandwidth:s.rawBandwidth,P=n.resolveProcessedDataIndexById(this,"xValue","key").index,T=n.resolveProcessedDataIndexById(this,"yValue-raw").index,N=n.resolveProcessedDataIndexById(this,"yValue-start").index,R=n.resolveProcessedDataIndexById(this,"yValue-end").index,L={itemId:c,nodeData:[],labelData:[]},null==m||m.data.forEach((function(t,e){var n=t.keys,i=t.datum,l=t.values,u=n[P],h=o.convert(u),m=+l[0][R],x=+l[0][N],w=l[0][T],S=h+s.convert(String(D));if(r.inRange(S,E)&&!isNaN(m)){var k=a.convert(m,{strict:!1}),O=a.convert(x,{strict:!1}),_=A.getBarDirection()===Fe.X,M={x:_?Math.min(k,O):S,y:_?S:Math.min(k,O),width:_?Math.abs(O-k):E,height:_?E:Math.abs(O-k)},C={x:M.x+M.width/2,y:M.y+M.height/2},I=v.fontStyle,j=v.fontWeight,F=v.fontSize,B=v.fontFamily,z=v.color,G=ph({value:w,rect:M,formatter:v.formatter,placement:v.placement,seriesId:g,barAlongX:_,ctx:b}),W=G.text,K=G.textAlign,V=G.textBaseline,H=G.x,Y=G.y,X={index:e,series:A,itemId:c,datum:i[0],cumulativeValue:x+m,xValue:u,yValue:w,yKey:c,xKey:d,x:M.x,y:M.y,width:M.width,height:M.height,nodeMidPoint:C,fill:f,stroke:p,strokeWidth:y,label:W?{text:W,fontStyle:I,fontWeight:j,fontSize:F,fontFamily:B,textAlign:K,textBaseline:V,fill:z,x:H,y:Y}:void 0};L.nodeData.push(X),L.labelData.push(X)}})),[2,[L]]}))}))},e.prototype.nodeFactory=function(){return new ch},e.prototype.updateDatumSelection=function(t){return Sh(this,void 0,void 0,(function(){var e,n,r;return kh(this,(function(i){return e=t.nodeData,n=t.datumSelection,r=function(t){return t.xValue},[2,n.update(e,(function(t){return t.tag=bh.Bar}),r)]}))}))},e.prototype.updateDatumNodes=function(t){return Sh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b=this;return kh(this,(function(x){return e=t.datumSelection,n=t.isHighlight,i=(r=this).fill,o=r.stroke,a=r.fillOpacity,l=r.strokeOpacity,s=r.lineDash,u=r.lineDashOffset,c=r.shadow,h=r.formatter,d=r.id,f=r.highlightStyle.item,p=r.ctx,y=r.stackGroup,v=this.axes[Fe.X],g=gh(null==v?void 0:v.visibleRange),m=this.getCategoryDirection()===Fe.X,e.each((function(t,e){var r={fill:i,stroke:o,fillOpacity:a,strokeOpacity:l,lineDash:s,lineDashOffset:u,fillShadow:c,strokeWidth:b.getStrokeWidth(b.strokeWidth,e)},v=m?e.width>0:e.height>0,x=vh({datum:e,isHighlighted:n,style:r,highlightStyle:f,formatter:h,seriesId:d,stackGroup:y,ctx:p});x.crisp=g,x.visible=v,yh({rect:t,config:x})})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return Sh(this,void 0,void 0,(function(){var e,n,r,i;return kh(this,(function(o){return e=t.labelData,n=t.labelSelection,r=this.label.enabled,i=r?e:[],[2,n.update(i,(function(t){t.tag=bh.Label,t.pointerEvents=K.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return Sh(this,void 0,void 0,(function(){var e=this;return kh(this,(function(n){return t.labelSelection.each((function(t,n){mh({labelNode:t,labelDatum:n.label,config:e.label,visible:!0})})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n=this.xKey,r=this.yKey,i=this.processedData,o=this.ctx.callbackCache,a=this.getCategoryAxis(),l=this.getValueAxis(),s=t.xValue,u=t.yValue,c=t.datum;if(!(i&&n&&r&&a&&l))return"";var h=this,d=h.xName,f=h.yName,p=h.fill,y=h.stroke,v=h.tooltip,g=h.formatter,m=h.id,b=h.stackGroup,x=v.renderer,w=this.getStrokeWidth(this.strokeWidth),S=qc(a.formatDatum(s)),k=qc(l.formatDatum(u)),O=qc(f),_=S+": "+k,D=void 0;g&&(D=o.call(g,{datum:c,fill:p,stroke:y,strokeWidth:w,highlighted:!1,xKey:n,yKey:r,seriesId:m,stackGroup:b}));var M=null!==(e=null==D?void 0:D.fill)&&void 0!==e?e:p,C={title:O,backgroundColor:M,content:_};return x?wn(x({datum:c,xKey:n,xValue:s,xName:d,yKey:r,yValue:u,yName:f,color:M,title:O,seriesId:m,stackGroup:b}),C):wn(C)},e.prototype.getLegendData=function(){var t,e=this,n=e.id,r=e.data,i=e.xKey,o=e.yKey,a=e.yName,l=e.legendItemName,s=e.fill,u=e.stroke,c=e.fillOpacity,h=e.strokeOpacity,d=e.visible;if(!(e.showInLegend&&(null==r?void 0:r.length)&&i&&o))return[];var f=[];return f.push({legendType:"category",id:n,itemId:o,seriesId:n,enabled:d,label:{text:null!==(t=null!=l?l:a)&&void 0!==t?t:o},legendItemName:l,marker:{fill:s,stroke:u,fillOpacity:c,strokeOpacity:h}}),f},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.datumSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,l=this.getDirectionStartingValues(i),s=l.startingX,u=l.startingY;i.forEach((function(t){t.each((function(t,e){var n,i=s,o=0,l=e.y,c=e.height;r.getBarDirection()===Fe.Y&&(i=e.x,o=e.width,l=u,c=0);var h=[{from:i,to:e.x},{from:o,to:e.width},{from:l,to:e.y},{from:c,to:e.height}];null===(n=r.ctx.animationManager)||void 0===n||n.animateMany(r.id+"_empty-update-ready_"+t.id,h,{duration:a,ease:ni,onUpdate:function(e){var n=Oh(e,4),r=n[0],i=n[1],o=n[2],a=n[3];t.x=r,t.width=i,t.y=o,t.height=a}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,r=t.datumSelections;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),r.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.animateWaitingUpdateReady=function(t){var e,n,r,i,o,a=this,l=t.datumSelections,s=t.labelSelections,u=this.processedData,c=null===(e=null==u?void 0:u.reduced)||void 0===e?void 0:e.diff;if(null==c?void 0:c.changed){var h=null!==(r=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==r?r:1e3,d=h;(c.added.length>0||c.removed.length>0)&&(d=Math.floor(h/2));var f=this.getDirectionStartingValues(l),p=f.startingX,y=f.startingY,v=null===(o=null===(i=this.processedData)||void 0===i?void 0:i.defs.keys)||void 0===o?void 0:o[0],g={};c.added.forEach((function(t){g[t[0]]=!0}));var m={};c.removed.forEach((function(t){m[t[0]]=!0}));var b=this.id+"_"+Math.random(),x=this.id+"_"+Math.random();l.forEach((function(t){t.each((function(e,n){var r,i=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:e.y,to:n.y},{from:e.height,to:n.height}],o=c.removed.length>0?d:0,l=d,s=!1,u=v?n.xValue:"",h=p,f=0,x=n.y,w=n.height;a.getBarDirection()===Fe.Y&&(h=n.x,f=n.width,x=y,w=0);var S=void 0!==u&&void 0!==g[u],k=void 0!==u&&void 0!==m[u];S?(i=[{from:h,to:n.x},{from:f,to:n.width},{from:x,to:n.y},{from:w,to:n.height}],l=d):k&&(i=[{from:n.x,to:h},{from:n.width,to:f},{from:n.y,to:x},{from:n.height,to:w}],o=0,l=d,s=!0),null===(r=a.ctx.animationManager)||void 0===r||r.animateManyWithThrottle(a.id+"_waiting-update-ready_"+e.id,i,{delay:o,duration:l,ease:ni,throttleId:a.id+"_rects",throttleGroup:b,onUpdate:function(t){var n=Oh(t,4),r=n[0],i=n[1],o=n[2],a=n[3];e.x=r,e.width=i,e.y=o,e.height=a},onComplete:function(){s&&t.cleanup()}})}))})),s.forEach((function(t){t.each((function(t){var e;t.opacity=0,null===(e=a.ctx.animationManager)||void 0===e||e.animateWithThrottle(a.id+"_waiting-update-ready_"+t.id,{from:0,to:1,delay:h,duration:200,throttleId:a.id+"_labels",throttleGroup:x,onUpdate:function(e){t.opacity=e}})}))}))}else l.forEach((function(t){a.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height})),t.cleanup()},e.prototype.getDirectionStartingValues=function(t){var e=this.getBarDirection()===Fe.Y,n=this.axes[Fe.X],r=this.axes[Fe.Y],i=(null==n?void 0:n.scale)instanceof Ta,o=(null==r?void 0:r.scale)instanceof Ta,a=1/0,l=0;return r&&e&&(o?l=r.scale.convert(0):t.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(l=Math.max(l,e.height+e.y))}))}))),n&&!e&&(i?a=n.scale.convert(0):t.forEach((function(t){return t.each((function(t,e){e.yValue>=0&&(a=Math.min(a,e.x))}))}))),{startingX:a,startingY:l}},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.prototype.getBarDirection=function(){return Fe.X},e.prototype.getCategoryDirection=function(){return Fe.Y},e.className="BarSeries",e.type="bar",wh([ne(De)],e.prototype,"fill",void 0),wh([ne(De)],e.prototype,"stroke",void 0),wh([ne(Ee(0,1))],e.prototype,"fillOpacity",void 0),wh([ne(Ee(0,1))],e.prototype,"strokeOpacity",void 0),wh([ne(Xe)],e.prototype,"lineDash",void 0),wh([ne(Ee(0))],e.prototype,"lineDashOffset",void 0),wh([ne(fe)],e.prototype,"formatter",void 0),wh([ne(ge)],e.prototype,"xKey",void 0),wh([ne(ge)],e.prototype,"xName",void 0),wh([ne(ge)],e.prototype,"yKey",void 0),wh([ne(ge)],e.prototype,"yName",void 0),wh([ne(ge)],e.prototype,"stackGroup",void 0),wh([ne(Pe())],e.prototype,"normalizedTo",void 0),wh([ne(Ee(0))],e.prototype,"strokeWidth",void 0),e}(Vc),Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xh(e,t),e.prototype.getBarDirection=function(){return Fe.Y},e.prototype.getCategoryDirection=function(){return Fe.X},e.type="column",e.className="ColumnSeries",e}(Th),Rh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ah=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Ih=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},jh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Fh=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Bh=["count","sum","mean"],zh=re((function(t){return Bh.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean");!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(Ch||(Ch={}));var Gh,Wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Rh(e,t),Lh([ne(fe)],e.prototype,"formatter",void 0),e}(Ml),Kh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return Rh(e,t),Lh([ne(fe)],e.prototype,"renderer",void 0),e}(vr),Vh=function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[Un.EXACT_SHAPE_MATCH]})||this;return n.label=new Wh,n.tooltip=new Kh,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.xKey=void 0,n.areaPlot=!1,n.bins=void 0,n.aggregation="count",n.binCount=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0,n.strokeWidth=1,n.shadow=void 0,n.calculatedBins=[],n.datumSelectionGarbageCollection=!1,n.label.enabled=!1,n}return Rh(e,t),e.prototype.deriveBins=function(t){if(void 0===this.binCount){var e=Ra(t[0],t[1],10),n=Aa(t[0],t[1],10),r=e[0];return Fh([[r-n,r]],jh(e.map((function(t){return[t,t+n]}))))}return this.calculateNiceBins(t,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var n=Math.floor(t[0]),r=t[1],i=e||1,o=this.calculateNiceStart(n,r,i),a=o.start,l=o.binSize;return this.getBins(a,r,l,i)},e.prototype.getBins=function(t,e,n,r){for(var i=[],o=0;o<r;o++){var a=Math.round(10*(t+o*n))/10,l=Math.round(10*(t+(o+1)*n))/10;o===r-1&&(l=Math.max(l,e)),i[o]=[a,l]}return i},e.prototype.calculateNiceStart=function(t,e,n){var r=Math.abs(e-t)/n,i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return{start:Math.floor(t/o)*o,binSize:r}},e.prototype.processData=function(t){var e;return Ah(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,f,p=this;return Ih(this,(function(y){switch(y.label){case 0:return r=(n=this).xKey,i=n.yKey,o=n.data,a=n.areaPlot,l=n.aggregation,s=[ir(this,r,!0),In],i?(u=Cn(this,"groupCount"),"count"===l||("sum"===l?u={id:"groupAgg",scopes:[this.id],type:"aggregate",matchGroupIds:v?[v]:void 0,aggregateFunction:function(t){return Mn(t)},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e}}:"mean"===l&&(u=function(t,e,n){return{id:e,scopes:[t.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:function(t){return Mn(t)},groupAggregateFunction:function(t,e){var n,r;return void 0===e&&(e=[0,0,-1]),e[0]+=null!==(n=null==t?void 0:t[0])&&void 0!==n?n:0,e[1]+=null!==(r=null==t?void 0:t[1])&&void 0!==r?r:0,e[2]++,e},finalFunction:function(t){void 0===t&&(t=[0,0,0]);var e=t[0]+t[1];return e>=0?[0,e/t[2]]:[e/t[2],0]}}}(this,"groupAgg"))),a&&(u=En(this,"groupAgg",u)),s.push(or(this,i,!0,{invalidValue:void 0}),u)):(u=Cn(this,"groupAgg"),a&&(u=En(this,"groupAgg",u)),s.push(u)),c=function(t){var e,n=yn(t.domain.keys[0]);if(0===n.length)return t.domain.groups=[],function(){return[]};var r=null!==(e=p.bins)&&void 0!==e?e:p.deriveBins(n),i=r.length;return p.calculatedBins=Fh([],jh(r)),function(t){for(var e=t.keys[0],n=0;n<i;n++){var o=r[n];if(e>=o[0]&&e<o[1])return o;if(n===i-1&&e<=o[1])return o}return[]}},!(null===(e=this.ctx.animationManager)||void 0===e?void 0:e.skipAnimations)&&this.processedData&&s.push(Vn(this.processedData,!1)),[4,t.request(this.id,null!=o?o:[],{props:s,dataVisible:this.visible,groupByFn:c})];case 1:return h=y.sent(),d=h.dataModel,f=h.processedData,this.dataModel=d,this.processedData=f,this.animationState.transition("updateData"),[2]}var v}))}))},e.prototype.getDomain=function(t){var e,n,r,i,o=this.processedData,a=this.dataModel;if(!o||!a)return[];var l=a.getDomain(this,"groupAgg","aggregate",o),s=null===(e=this.calculatedBins)||void 0===e?void 0:e[0][0],u=null===(n=this.calculatedBins)||void 0===n?void 0:n[(null!==(i=null===(r=this.calculatedBins)||void 0===r?void 0:r.length)&&void 0!==i?i:0)-1][1];return t===Fe.X?yn([s,u]):yn(l)},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new Gc(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new Wc(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.createNodeData=function(){var t;return Ah(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M,C=this;return Ih(this,(function(E){return n=(e=this).axes,r=e.processedData,i=e.ctx.callbackCache,o=n[Fe.X],a=n[Fe.Y],this.visible&&o&&a&&r&&"grouped"===r.type?(l=o.scale,s=a.scale,c=(u=this).fill,h=u.stroke,d=u.strokeWidth,f=u.id,p=u.yKey,y=void 0===p?"":p,v=u.xKey,g=void 0===v?"":v,m=[],b=function(t){return String(t.value)},x=this.label,w=x.formatter,S=void 0===w?b:w,k=x.fontStyle,O=x.fontWeight,_=x.fontSize,D=x.fontFamily,M=x.color,r.data.forEach((function(t){var e,n=t.aggValues,r=jh(void 0===n?[[0,0]]:n,1),o=jh(r[0],2),a=o[0],u=o[1],p=t.datum,v=t.datum.length,b=t.keys,x=jh(t.keys,2),w=x[0],E=x[1],P=l.convert(w),T=l.convert(E),N=a+u,R=s.convert(0),L=s.convert(N),A=T-P,I=Math.abs(L-R),j=0!==N?{text:null!==(e=i.call(S,{value:N,seriesId:f}))&&void 0!==e?e:String(N),fontStyle:k,fontWeight:O,fontSize:_,fontFamily:D,fill:M,x:P+A/2,y:L+I/2}:void 0,F={x:P+A/2,y:L+I/2};m.push({series:C,datum:p,aggregatedValue:N,frequency:v,domain:b,yKey:y,xKey:g,x:P,y:L,xValue:P,yValue:L,width:A,height:I,nodeMidPoint:F,fill:c,stroke:h,strokeWidth:d,label:j})})),[2,[{itemId:null!==(t=this.yKey)&&void 0!==t?t:this.id,nodeData:m,labelData:m}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new ch},e.prototype.updateDatumSelection=function(t){return Ah(this,void 0,void 0,(function(){var e;return Ih(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=Ch.Bin,t.crisp=!0}),(function(t){return t.domain.join("_")}))]}))}))},e.prototype.updateDatumNodes=function(t){return Ah(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f=this;return Ih(this,(function(p){return e=t.datumSelection,n=t.isHighlight,i=(r=this).fillOpacity,o=r.strokeOpacity,a=r.shadow,l=r.highlightStyle.item,s=l.fill,u=l.fillOpacity,c=void 0===u?i:u,h=l.stroke,d=l.strokeWidth,e.each((function(t,e,r){var l,u,p=n&&void 0!==d?d:e.strokeWidth,y=n?c:i;t.fill=null!==(l=n?s:void 0)&&void 0!==l?l:e.fill,t.stroke=null!==(u=n?h:void 0)&&void 0!==u?u:e.stroke,t.fillOpacity=y,t.strokeOpacity=o,t.strokeWidth=p,t.lineDash=f.lineDash,t.lineDashOffset=f.lineDashOffset,t.fillShadow=a,t.zIndex=n?mr.highlightedZIndex:r,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return Ah(this,void 0,void 0,(function(){var e;return Ih(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=Ch.Label,t.pointerEvents=K.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return Ah(this,void 0,void 0,(function(){var e,n;return Ih(this,(function(r){return e=t.labelSelection,n=this.label.enabled,e.each((function(t,e){var r=e.label;r&&n?(t.text=r.text,t.x=r.x,t.y=r.y,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.fontSize=r.fontSize,t.fontFamily=r.fontFamily,t.fill=r.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this.xKey,n=this.yKey,r=void 0===n?"":n,i=this.axes,o=i[Fe.X],a=i[Fe.Y];if(!e||!o||!a)return"";var l=this,s=l.xName,u=l.yName,c=l.fill,h=l.tooltip,d=l.aggregation,f=l.id,p=h.renderer,y=t.aggregatedValue,v=t.frequency,g=t.domain,m=jh(t.domain,2),b=m[0],x=m[1],w=qc(null!=s?s:e)+": "+o.formatDatum(b)+" - "+o.formatDatum(x),S=r?"<b>"+qc(null!=u?u:r)+" ("+d+")</b>: "+a.formatDatum(y)+"<br>":"",k={title:w,backgroundColor:c,content:S+="<b>Frequency</b>: "+v};return p?wn(p({datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:e,xValue:g,xName:s,yKey:r,yValue:y,yName:u,color:c,title:w,seriesId:f}),k):wn(k)},e.prototype.getLegendData=function(){var t,e=this,n=e.id,r=e.data,i=e.xKey,o=e.yName,a=e.visible,l=e.fill,s=e.stroke,u=e.fillOpacity,c=e.strokeOpacity;return r&&0!==r.length?[{legendType:"category",id:n,itemId:i,seriesId:n,enabled:a,label:{text:null!==(t=null!=o?o:i)&&void 0!==t?t:"Frequency"},marker:{fill:null!=l?l:"rgba(0, 0, 0, 0)",stroke:null!=s?s:"rgba(0, 0, 0, 0)",fillOpacity:u,strokeOpacity:c}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.datumSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3,l=0;i.forEach((function(t){return t.each((function(t,e){l=Math.max(l,e.height+e.y)}))})),i.forEach((function(t){t.each((function(t,e){var n;null===(n=r.ctx.animationManager)||void 0===n||n.animateMany(r.id+"_empty-update-ready_"+t.id,[{from:l,to:e.y},{from:0,to:e.height}],{duration:a,ease:ni,onUpdate:function(n){var r=jh(n,2),i=r[0],o=r[1];t.y=i,t.height=o,t.x=e.x,t.width=e.width}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.datumSelections.forEach((function(t){e.resetSelectionRects(t)}))},e.prototype.animateReadyHighlight=function(t){this.resetSelectionRects(t)},e.prototype.animateReadyResize=function(t){var e,n=this,r=t.datumSelections;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),r.forEach((function(t){n.resetSelectionRects(t)}))},e.prototype.animateWaitingUpdateReady=function(t){var e,n,r,i=this,o=t.datumSelections,a=t.labelSelections,l=this.processedData,s=null===(e=null==l?void 0:l.reduced)||void 0===e?void 0:e.diff;if(null==s?void 0:s.changed){var u=null!==(r=null===(n=this.ctx.animationManager)||void 0===n?void 0:n.defaultOptions.duration)&&void 0!==r?r:1e3,c=u;s.added.length>0&&s.removed.length>0?c=Math.floor(u/3):(s.added.length>0||s.removed.length>0)&&(c=Math.floor(u/2));var h=0;o.forEach((function(t){return t.each((function(t,e){h=Math.max(h,e.height+e.y)}))}));var d={};s.added.forEach((function(t){d[t.join("_")]=!0}));var f={};s.removed.forEach((function(t){f[t.join("_")]=!0})),o.forEach((function(t){t.each((function(e,n){var r,o=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:e.y,to:n.y},{from:e.height,to:n.height}],a=s.removed.length>0?c:0,l=!1,u=n.domain.join("_"),p=h;void 0!==u&&void 0!==d[u]?(o=[{from:n.x,to:n.x},{from:n.width,to:n.width},{from:p,to:n.y},{from:0,to:n.height}],a+=c):void 0!==u&&void 0!==f[u]&&(o=[{from:e.x,to:n.x},{from:e.width,to:n.width},{from:n.y,to:p},{from:n.height,to:0}],a=0,l=!0),null===(r=i.ctx.animationManager)||void 0===r||r.animateMany(i.id+"_waiting-update-ready_"+e.id,o,{disableInteractions:!0,delay:a,duration:c,ease:ni,repeat:0,onUpdate:function(t){var n=jh(t,4),r=n[0],i=n[1],o=n[2],a=n[3];e.x=r,e.width=i,e.y=o,e.height=a},onComplete:function(){l&&t.cleanup()}})}))})),a.forEach((function(t){t.each((function(t){var e;t.opacity=0,null===(e=i.ctx.animationManager)||void 0===e||e.animate(i.id+"_waiting-update-ready_"+t.id,{from:0,to:1,delay:u,duration:200,ease:Qr,repeat:0,onUpdate:function(e){t.opacity=e}})}))}))}else o.forEach((function(t){i.resetSelectionRects(t)}))},e.prototype.resetSelectionRects=function(t){t.each((function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}))},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",Lh([ne(De)],e.prototype,"fill",void 0),Lh([ne(De)],e.prototype,"stroke",void 0),Lh([ne(Ee(0,1))],e.prototype,"fillOpacity",void 0),Lh([ne(Ee(0,1))],e.prototype,"strokeOpacity",void 0),Lh([ne(Xe)],e.prototype,"lineDash",void 0),Lh([ne(Ee(0))],e.prototype,"lineDashOffset",void 0),Lh([ne(ge)],e.prototype,"xKey",void 0),Lh([ne(pe)],e.prototype,"areaPlot",void 0),Lh([ne(ae())],e.prototype,"bins",void 0),Lh([ne(zh)],e.prototype,"aggregation",void 0),Lh([ne(Pe(0))],e.prototype,"binCount",void 0),Lh([ne(ge)],e.prototype,"xName",void 0),Lh([ne(ge)],e.prototype,"yKey",void 0),Lh([ne(ge)],e.prototype,"yName",void 0),Lh([ne(Ee(0))],e.prototype,"strokeWidth",void 0),e}(Vc),Hh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yh=function(){return(Yh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Xh=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Uh=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},Zh=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},qh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return Hh(e,t),Xh([ne(fe)],e.prototype,"formatter",void 0),e}(Ml),$h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return Hh(e,t),Xh([ne(fe)],e.prototype,"renderer",void 0),Xh([ne(ge)],e.prototype,"format",void 0),e}(vr),Qh=function(t){function e(e){var n=t.call(this,{moduleCtx:e,hasMarkers:!0,pickModes:[Un.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Un.NEAREST_NODE,Un.EXACT_SHAPE_MATCH]})||this;n.marker=new Hc,n.label=new Jh,n.title=void 0,n.stroke="#874349",n.lineDash=[0],n.lineDashOffset=0,n.strokeWidth=2,n.strokeOpacity=1,n.tooltip=new $h,n.xKey=void 0,n.xName=void 0,n.yKey=void 0,n.yName=void 0;var r=n,i=r.marker,o=r.label;return i.fill="#c16068",i.stroke="#874349",o.enabled=!1,n}return Hh(e,t),e.prototype.processData=function(t){return Uh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p;return Zh(this,(function(y){switch(y.label){case 0:return n=(e=this).axes,r=e.xKey,i=void 0===r?"":r,o=e.yKey,a=void 0===o?"":o,l=i&&a&&this.data?this.data:[],s=n[Fe.X],u=n[Fe.Y],c=(null==s?void 0:s.scale)instanceof Ta,h=(null==u?void 0:u.scale)instanceof Ta,[4,t.request(this.id,null!=l?l:[],{props:[or(this,i,c,{id:"xValue"}),or(this,a,h,{id:"yValue",invalidValue:void 0})],dataVisible:this.visible})];case 1:return d=y.sent(),f=d.dataModel,p=d.processedData,this.dataModel=f,this.processedData=p,[2]}}))}))},e.prototype.getDomain=function(t){var e=this.axes,n=this.dataModel,r=this.processedData;if(!r||!n)return[];var i=e[Fe.X],o=e[Fe.Y],a=n.resolveProcessedDataDefById(this,"xValue");if(t===Fe.X){var l=n.getDomain(this,"xValue","value",r);return"value"===(null==a?void 0:a.def.type)&&"category"===a.def.valueType?l:this.fixNumericExtent(Ol(l),i)}return l=n.getDomain(this,"yValue","value",r),this.fixNumericExtent(l,o)},e.prototype.createNodeData=function(){var t,e,n,r,i;return Uh(this,void 0,void 0,(function(){var o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M,C,E,P,T,N,R,L,A,I,j,F,B,z,G,W,K,V,H,Y,X;return Zh(this,(function(U){if(a=(o=this).processedData,l=o.dataModel,s=o.axes,u=o.marker,c=u.enabled,h=u.size,d=u.strokeWidth,f=o.ctx.callbackCache,p=s[Fe.X],y=s[Fe.Y],!(a&&l&&p&&y))return[2,[]];for(g=(v=this).label,m=v.yKey,b=void 0===m?"":m,x=v.xKey,w=void 0===x?"":x,S=v.id,k=p.scale,O=y.scale,_=(null!==(t=k.bandwidth)&&void 0!==t?t:0)/2,D=(null!==(e=O.bandwidth)&&void 0!==e?e:0)/2,M=new Array(a.data.length),C=c?h:0,E=l.resolveProcessedDataIndexById(this,"xValue").index,P=l.resolveProcessedDataIndexById(this,"yValue").index,T=!0,N=void 0,R=void 0,L=0,A=0;A<a.data.length;A++)if(I=null!=R?R:a.data[A],j=I.datum,F=I.values,B=F[E],void 0===(z=F[P]))N=void 0,T=!0;else{if(G=k.convert(B)+_,isNaN(G)){N=void 0,T=!0,R=void 0;continue}if(W=(null!==(n=k.bandwidth)&&void 0!==n?n:.5*h+(null!=d?d:0))+1,R=void 0===(null===(r=a.data[A+1])||void 0===r?void 0:r.values[P])?void 0:a.data[A+1],K=null===(i=a.data[A+1])||void 0===i?void 0:i.values[E],V=p.inRangeEx(G,0,W),H=R&&p.inRangeEx(k.convert(K)+_,0,W),-1===V&&-1===H){T=!0;continue}if(1===V&&1===N){T=!0;continue}N=V,Y=O.convert(z)+D,X=void 0,g.formatter&&(X=f.call(g.formatter,{value:z,seriesId:S})),void 0!==X||("number"==typeof z&&isFinite(z)?X=z.toFixed(2):z&&(X=String(z))),M[L++]={series:this,datum:j,yKey:b,xKey:w,point:{x:G,y:Y,moveTo:T,size:C},nodeMidPoint:{x:G,y:Y},yValue:z,xValue:B,label:X?{text:X,fontStyle:g.fontStyle,fontWeight:g.fontWeight,fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:"center",textBaseline:"bottom",fill:g.color}:void 0},T=!1}return M.length=L,[2,[{itemId:b,nodeData:M,labelData:M}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.markerFactory=function(){return new(Eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return Uh(this,void 0,void 0,(function(){var e,n,r,i,o;return Zh(this,(function(a){return e=t.nodeData,n=t.markerSelection,r=this.marker,i=r.shape,o=r.enabled,e=i&&o?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){var e;return Uh(this,void 0,void 0,(function(){var n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O;return Zh(this,(function(_){return n=t.markerSelection,r=t.isHighlight,o=(i=this).marker,a=i.marker.fillOpacity,l=i.xKey,s=void 0===l?"":l,u=i.yKey,c=void 0===u?"":u,h=i.stroke,d=i.strokeOpacity,f=i.highlightStyle.item,p=f.fill,y=f.fillOpacity,v=void 0===y?a:y,g=f.stroke,m=f.strokeWidth,b=i.id,x=i.ctx.callbackCache,w=o.size,S=o.formatter,k=null!==(e=o.strokeWidth)&&void 0!==e?e:this.strokeWidth,O="function"==typeof o.shape,n.each((function(t,e){var n,i,l,u,f,y,_,D=r&&void 0!==p?p:o.fill,M=r?v:a,C=r&&void 0!==g?g:null!==(n=o.stroke)&&void 0!==n?n:h,E=r&&void 0!==m?m:k,P=void 0;S&&(P=x.call(S,{datum:e.datum,xKey:s,yKey:c,fill:D,stroke:C,strokeWidth:E,size:w,highlighted:r,seriesId:b})),t.fill=null!==(i=null==P?void 0:P.fill)&&void 0!==i?i:D,t.stroke=null!==(l=null==P?void 0:P.stroke)&&void 0!==l?l:C,t.strokeWidth=null!==(u=null==P?void 0:P.strokeWidth)&&void 0!==u?u:E,t.fillOpacity=null!=M?M:1,t.strokeOpacity=null!==(y=null!==(f=o.strokeOpacity)&&void 0!==f?f:d)&&void 0!==y?y:1,t.size=null!==(_=null==P?void 0:P.size)&&void 0!==_?_:w,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),O&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),r||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return Uh(this,void 0,void 0,(function(){var e,n,r,i,o;return Zh(this,(function(a){return e=t.labelData,n=t.labelSelection,r=this.marker,i=r.shape,o=r.enabled,e=i&&o?e:[],[2,n.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return Uh(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s;return Zh(this,(function(u){return e=t.labelSelection,n=this.label,r=n.enabled,i=n.fontStyle,o=n.fontWeight,a=n.fontSize,l=n.fontFamily,s=n.color,e.each((function(t,e){var n=e.point,u=e.label;e&&u&&r?(t.fontStyle=i,t.fontWeight=o,t.fontSize=a,t.fontFamily=l,t.textAlign=u.textAlign,t.textBaseline=u.textBaseline,t.text=u.text,t.x=n.x,t.y=n.y-10,t.fill=s,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new Gc(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new Wc(null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r=this.xKey,i=this.yKey,o=this.axes,a=o[Fe.X],l=o[Fe.Y];if(!(r&&i&&a&&l))return"";var s=this,u=s.xName,c=s.yName,h=s.tooltip,d=s.marker,f=s.id,p=h.renderer,y=h.format,v=t.datum,g=t.xValue,m=t.yValue,b=a.formatDatum(g),x=l.formatDatum(m),w=qc(null!==(e=this.title)&&void 0!==e?e:c),S=qc(b+": "+x),k=d.formatter,O=d.fill,_=d.stroke,D=d.strokeWidth,M=d.size,C=null!=D?D:this.strokeWidth,E=void 0;k&&(E=k({datum:v,xKey:r,yKey:i,fill:O,stroke:_,strokeWidth:C,size:M,highlighted:!1,seriesId:f}));var P=null!==(n=null==E?void 0:E.fill)&&void 0!==n?n:O,T={title:w,backgroundColor:P,content:S};if(y||p){var N={datum:v,xKey:r,xValue:g,xName:u,yKey:i,yValue:m,yName:c,title:w,color:P,seriesId:f};if(y)return wn({content:Uc(y,N)},T);if(p)return wn(p(N),T)}return wn(T)},e.prototype.getLegendData=function(){var t,e,n,r,i,o,a,l=this,s=l.id,u=l.data,c=l.xKey,h=l.yKey,d=l.yName,f=l.visible,p=l.title,y=l.marker,v=l.stroke,g=l.strokeOpacity;return(null==u?void 0:u.length)&&c&&h?[{legendType:"category",id:s,itemId:h,seriesId:s,enabled:f,label:{text:null!==(t=null!=p?p:d)&&void 0!==t?t:h},marker:{shape:y.shape,fill:null!==(e=y.fill)&&void 0!==e?e:"rgba(0, 0, 0, 0)",stroke:null!==(r=null!==(n=y.stroke)&&void 0!==n?n:v)&&void 0!==r?r:"rgba(0, 0, 0, 0)",fillOpacity:null!==(i=y.fillOpacity)&&void 0!==i?i:1,strokeOpacity:null!==(a=null!==(o=y.strokeOpacity)&&void 0!==o?o:g)&&void 0!==a?a:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e=this,n=t.markerSelections,r=t.labelSelections,i=t.contextData,o=t.paths;i.forEach((function(t,i){var a,l,s,u=t.nodeData,c=qh(o[i],1)[0],h=c.path,d=[0],f=u.reduce((function(t,e,n){if(0===n)return t;var r=u[n-1];if(isNaN(e.point.x)||isNaN(e.point.y)||isNaN(r.point.x)||isNaN(r.point.y))return d.push(t),t;var i=Math.sqrt(Math.pow(e.point.x-r.point.x,2)+Math.pow(e.point.y-r.point.y,2));return d.push(t+i),t+i}),0);c.fill=void 0,c.lineJoin="round",c.pointerEvents=K.None,c.stroke=e.stroke,c.strokeWidth=e.getStrokeWidth(e.strokeWidth),c.strokeOpacity=e.strokeOpacity,c.lineDash=e.lineDash,c.lineDashOffset=e.lineDashOffset;var p=null!==(l=null===(a=e.ctx.animationManager)||void 0===a?void 0:a.defaultOptions.duration)&&void 0!==l?l:1e3,y={from:0,to:f};null===(s=e.ctx.animationManager)||void 0===s||s.animate(e.id+"_empty-update-ready",Yh(Yh({},y),{duration:p,onUpdate:function(t){h.clear({trackChanges:!0}),u.forEach((function(e,n){if(d[n]<=t)e.point.moveTo?h.moveTo(e.point.x,e.point.y):h.lineTo(e.point.x,e.point.y);else if(n>0&&d[n-1]<t){var r=u[n-1].point,i=e.point,o=d[n]-d[n-1],a=(o-(d[n]-t))/o,l=(1-a)*r.x+a*i.x,s=(1-a)*r.y+a*i.y;e.point.moveTo?h.moveTo(l,s):h.lineTo(l,s)}})),c.checkPathDirty()}})),n[i].each((function(t,n,r){var i,o,a,l,s=f>0?d[r]/f*p:0,u=e.animateFormatter(n),c=null!==(o=null===(i=n.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0;null===(a=e.ctx.animationManager)||void 0===a||a.animate(e.id+"_empty-update-ready_"+t.id,Yh(Yh({},y),{to:null!==(l=null==u?void 0:u.size)&&void 0!==l?l:c,delay:s,duration:200,onUpdate:function(e){t.size=e}}))})),r[i].each((function(t,n,r){var i,o=d[r]/f*p;null===(i=e.ctx.animationManager)||void 0===i||i.animate(e.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:o,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){this.resetMarkersAndPaths(t)},e.prototype.animateReadyResize=function(t){var e;null===(e=this.ctx.animationManager)||void 0===e||e.reset(),this.resetMarkersAndPaths(t)},e.prototype.resetMarkersAndPaths=function(t){var e=this,n=t.markerSelections,r=t.contextData,i=t.paths;r.forEach((function(t,r){var o=t.nodeData,a=qh(i[r],1)[0],l=a.path;a.stroke=e.stroke,a.strokeWidth=e.getStrokeWidth(e.strokeWidth),a.strokeOpacity=e.strokeOpacity,a.lineDash=e.lineDash,a.lineDashOffset=e.lineDashOffset,l.clear({trackChanges:!0}),o.forEach((function(t){t.point.moveTo?l.moveTo(t.point.x,t.point.y):l.lineTo(t.point.x,t.point.y)})),a.checkPathDirty(),n[r].each((function(t,n){var r,i,o,a=e.animateFormatter(n),l=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))}))},e.prototype.animateFormatter=function(t){var e,n,r=this,i=r.marker,o=r.xKey,a=void 0===o?"":o,l=r.yKey,s=void 0===l?"":l,u=r.stroke,c=r.id,h=r.ctx.callbackCache,d=i.size,f=i.formatter,p=i.fill,y=null!==(e=i.stroke)&&void 0!==e?e:u,v=null!==(n=i.strokeWidth)&&void 0!==n?n:this.strokeWidth,g=void 0;return f&&(g=h.call(f,{datum:t.datum,xKey:a,yKey:s,fill:p,stroke:y,strokeWidth:v,size:d,highlighted:!1,seriesId:c})),g},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",Xh([ne(ge)],e.prototype,"title",void 0),Xh([ne(De)],e.prototype,"stroke",void 0),Xh([ne(Xe)],e.prototype,"lineDash",void 0),Xh([ne(Ee(0))],e.prototype,"lineDashOffset",void 0),Xh([ne(Ee(0))],e.prototype,"strokeWidth",void 0),Xh([ne(Ee(0,1))],e.prototype,"strokeOpacity",void 0),Xh([ne(ge)],e.prototype,"xKey",void 0),Xh([ne(ge)],e.prototype,"xName",void 0),Xh([ne(ge)],e.prototype,"yKey",void 0),Xh([ne(ge)],e.prototype,"yName",void 0),e}(Vc),td=function(){function t(){this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map((function(t){return $t.fromString(t)}))}return t.prototype.update=function(){var t=this.domain,e=this.range;t.length<2&&(ot.warnOnce("`colorDomain` should have at least 2 values."),0===t.length?t.push(0,1):1===t.length&&t.push(t[0]+1));for(var n=1;n<t.length;n++)if(t[n-1]>=t[n]){ot.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((function(t,e){return t-e}));break}var r=e.length<t.length;if(r||t.length>2&&e.length>t.length)if(ot.warnOnce("Number of elements in `colorRange` needs to match the number of elements in `colorDomain`."),r)for(n=e.length;n<t.length;n++)e.push("black");else e.splice(t.length);this.parsedRange=this.range.map((function(t){return $t.fromString(t)}))},t.prototype.convert=function(t){var e,n,r=this.domain,i=this.range,o=this.parsedRange,a=r[0],l=r[r.length-1],s=i[0],u=i[i.length-1];if(t<=a)return s;if(t>=l)return u;if(2===r.length){var c=(t-a)/(l-a),h=1/(i.length-1);n=(c-(e=i.length<=2?0:Math.min(Math.floor(c*(i.length-1)),i.length-2))*h)/h}else{for(e=0;e<r.length-2&&!(t<r[e+1]);e++);var d=r[e];n=(t-d)/(r[e+1]-d)}return qr(o[e],o[e+1])(n)},t}(),ed=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nd=function(){return(nd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},rd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},id=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},od=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ad=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ld=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},sd=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ud=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return ed(e,t),rd([ne(fe)],e.prototype,"formatter",void 0),e}(Ml),cd=function(t){function e(e,n,r,i,o,a){var l=t.call(this,n,r,i,o,a)||this;return l.sizeKey=e,l}return ed(e,t),e}(zc),hd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return ed(e,t),e}(cd),dd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return ed(e,t),e}(cd),fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return ed(e,t),rd([ne(fe)],e.prototype,"renderer",void 0),e}(vr),pd=function(t){function e(e){var n=t.call(this,{moduleCtx:e,pickModes:[Un.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,Un.NEAREST_NODE,Un.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return n.sizeScale=new ss,n.marker=new Hc,n.label=new ud,n.title=void 0,n.labelKey=void 0,n.xName=void 0,n.yName=void 0,n.sizeName="Size",n.labelName="Label",n.xKey=void 0,n.yKey=void 0,n.sizeKey=void 0,n.colorKey=void 0,n.colorName="Color",n.colorDomain=void 0,n.colorRange=["#ffff00","#00ff00","#0000ff"],n.colorScale=new td,n.tooltip=new fd,n.label.enabled=!1,n}return ed(e,t),e.prototype.processData=function(t){var e,n;return id(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M;return od(this,(function(C){switch(C.label){case 0:return i=(r=this).xKey,o=void 0===i?"":i,a=r.yKey,l=void 0===a?"":a,s=r.sizeKey,u=r.labelKey,c=r.axes,h=r.marker,d=r.data,f=c[Fe.X],p=c[Fe.Y],y=(null==f?void 0:f.scale)instanceof Ta,v=(null==p?void 0:p.scale)instanceof Ta,m=(g=this).colorScale,b=g.colorDomain,x=g.colorRange,w=g.colorKey,[4,t.request(this.id,null!=d?d:[],{props:ld(ld(ld([or(this,o,y,{id:"xValue"}),or(this,l,v,{id:"yValue"})],ad(s?[or(this,s,!0,{id:"sizeValue"})]:[])),ad(w?[or(this,w,!0,{id:"colorValue"})]:[])),ad(u?[or(this,u,!1,{id:"labelValue"})]:[])),dataVisible:this.visible})];case 1:return S=C.sent(),k=S.dataModel,O=S.processedData,this.dataModel=k,this.processedData=O,s&&(_=k.resolveProcessedDataIndexById(this,"sizeValue").index,D=null!==(e=O.domain.values[_])&&void 0!==e?e:[],this.sizeScale.domain=h.domain?h.domain:D),w&&(M=k.resolveProcessedDataIndexById(this,"colorValue").index,m.domain=null!==(n=null!=b?b:O.domain.values[M])&&void 0!==n?n:[],m.range=x,m.update()),[2]}}))}))},e.prototype.getDomain=function(t){var e=this.dataModel,n=this.processedData;if(!n||!e)return[];var r=t===Fe.X?"xValue":"yValue",i=e.resolveProcessedDataDefById(this,r,"value"),o=e.getDomain(this,r,"value",n);if("value"===(null==i?void 0:i.def.type)&&"category"===(null==i?void 0:i.def.valueType))return o;var a=this.axes[t];return this.fixNumericExtent(Ol(o),a)},e.prototype.getNodeClickEvent=function(t,e){var n,r;return new hd(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){var n,r;return new dd(this.sizeKey,null!==(n=this.xKey)&&void 0!==n?n:"",null!==(r=this.yKey)&&void 0!==r?r:"",t,e,this)},e.prototype.createNodeData=function(){var t,e,n,r,i,o;return id(this,void 0,void 0,(function(){var a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k,O,_,D,M,C,E,P,T,R,L,A,I,j,F,B,z,G,W,K,V,H,Y,X,U,Z,q,J,$,Q,tt,et;return od(this,(function(nt){if(l=(a=this).visible,s=a.axes,u=a.yKey,c=void 0===u?"":u,h=a.xKey,d=void 0===h?"":h,f=a.label,p=a.labelKey,y=a.ctx.callbackCache,v=a.dataModel,g=a.processedData,m=s[Fe.X],b=s[Fe.Y],!(v&&g&&l&&m&&b))return[2,[]];x=v.resolveProcessedDataIndexById(this,"xValue").index,w=v.resolveProcessedDataIndexById(this,"yValue").index,S=this.sizeKey?v.resolveProcessedDataIndexById(this,"sizeValue").index:-1,k=this.colorKey?v.resolveProcessedDataIndexById(this,"colorValue").index:-1,O=this.labelKey?v.resolveProcessedDataIndexById(this,"labelValue").index:-1,D=(_=this).colorScale,M=_.sizeKey,C=_.colorKey,E=_.id,P=m.scale,T=b.scale,R=(null!==(t=P.bandwidth)&&void 0!==t?t:0)/2,L=(null!==(e=T.bandwidth)&&void 0!==e?e:0)/2,I=(A=this).sizeScale,j=A.marker,F=new Array(null!==(r=null===(n=this.processedData)||void 0===n?void 0:n.data.length)&&void 0!==r?r:0),I.range=[j.size,j.maxSize],B=f.getFont(),z=0;try{for(G=sd(null!==(i=g.data)&&void 0!==i?i:[]),W=G.next();!W.done;W=G.next())K=W.value,V=K.values,H=K.datum,Y=V[x],X=V[w],U=P.convert(Y)+R,Z=T.convert(X)+L,this.checkRangeXY(U,Z,m,b)&&(q=void 0,f.formatter&&(q=y.call(f.formatter,{value:X,seriesId:E,datum:H})),void 0===q&&(q=p?String(V[O]):""),J=N.getTextSize(q,B),$=M?I.convert(V[S]):j.size,Q=C?D.convert(V[k]):void 0,F[z++]={series:this,itemId:c,yKey:c,xKey:d,datum:H,xValue:Y,yValue:X,sizeValue:V[S],point:{x:U,y:Z,size:$},nodeMidPoint:{x:U,y:Z},fill:Q,label:nd({text:q},J)})}catch(t){tt={error:t}}finally{try{W&&!W.done&&(et=G.return)&&et.call(G)}finally{if(tt)throw tt.error}}return F.length=z,[2,[{itemId:null!==(o=this.yKey)&&void 0!==o?o:this.id,nodeData:F,labelData:F}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(Eo(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return id(this,void 0,void 0,(function(){var e,n,r,i;return od(this,(function(o){return e=t.nodeData,n=t.markerSelection,r=this.marker.enabled,this.marker.isDirty()&&n.clear(),i=r?e:[],[2,n.update(i)]}))}))},e.prototype.updateMarkerNodes=function(t){return id(this,void 0,void 0,(function(){var e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S,k;return od(this,(function(O){return e=t.markerSelection,n=t.isHighlight,i=(r=this).marker,o=r.xKey,a=void 0===o?"":o,l=r.yKey,s=void 0===l?"":l,u=r.sizeScale,c=r.marker,h=c.fillOpacity,d=c.strokeOpacity,f=c.strokeWidth,p=r.highlightStyle.item,y=p.fill,v=p.fillOpacity,g=void 0===v?h:v,m=p.stroke,b=p.strokeWidth,x=r.id,w=r.ctx.callbackCache,S=i.formatter,u.range=[i.size,i.maxSize],k="function"==typeof i.shape,e.each((function(t,e){var r,o,l,u,c,p,v,O,_,D,M=n&&void 0!==y?y:null!==(r=e.fill)&&void 0!==r?r:i.fill,C=n?g:h,E=n&&void 0!==m?m:i.stroke,P=d,T=n&&void 0!==b?b:null!=f?f:1,N=null!==(l=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==l?l:0,R=void 0;S&&(R=w.call(S,{datum:e.datum,xKey:a,yKey:s,fill:M,stroke:E,strokeWidth:T,size:N,highlighted:n,seriesId:x})),t.fill=null!==(u=null==R?void 0:R.fill)&&void 0!==u?u:M,t.stroke=null!==(c=null==R?void 0:R.stroke)&&void 0!==c?c:E,t.strokeWidth=null!==(p=null==R?void 0:R.strokeWidth)&&void 0!==p?p:T,t.fillOpacity=null!=C?C:1,t.strokeOpacity=null!=P?P:1,t.translationX=null!==(O=null===(v=e.point)||void 0===v?void 0:v.x)&&void 0!==O?O:0,t.translationY=null!==(D=null===(_=e.point)||void 0===_?void 0:_.y)&&void 0!==D?D:0,t.visible=t.size>0,k&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,n;return id(this,void 0,void 0,(function(){var r,i,o,a;return od(this,(function(l){return r=t.labelSelection,i=this.label.enabled,o=i&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[],a=o.map((function(t){return nd(nd({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,r.update(a)]}))}))},e.prototype.updateLabelNodes=function(t){return id(this,void 0,void 0,(function(){var e,n;return od(this,(function(r){return e=t.labelSelection,n=this.label,e.each((function(t,e){var r,i,o,a;t.text=e.label.text,t.fill=n.color,t.x=null!==(i=null===(r=e.point)||void 0===r?void 0:r.x)&&void 0!==i?i:0,t.y=null!==(a=null===(o=e.point)||void 0===o?void 0:o.y)&&void 0!==a?a:0,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n,r,i,o,a,l,s=this.xKey,u=this.yKey,c=this.axes,h=c[Fe.X],d=c[Fe.Y];if(!(s&&u&&h&&d))return"";var f=this,p=f.marker,y=f.tooltip,v=f.xName,g=f.yName,m=f.sizeKey,b=f.sizeName,x=f.labelKey,w=f.labelName,S=f.id,k=f.ctx.callbackCache,O=p.stroke,_=null!==(e=t.fill)&&void 0!==e?e:p.fill,D=this.getStrokeWidth(null!==(n=p.strokeWidth)&&void 0!==n?n:1),M=this.marker.formatter,C=void 0;M&&(C=k.call(M,{datum:t,xKey:s,yKey:u,fill:_,stroke:O,strokeWidth:D,size:null!==(i=null===(r=t.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0,highlighted:!1,seriesId:S}));var E=null!==(a=null!==(o=null==C?void 0:C.fill)&&void 0!==o?o:_)&&void 0!==a?a:"gray",P=null!==(l=this.title)&&void 0!==l?l:g,T=t.datum,N=t.xValue,R=t.yValue,L=t.sizeValue,A=t.label.text,I=qc(h.formatDatum(N)),j=qc(d.formatDatum(R)),F="<b>"+qc(null!=v?v:s)+"</b>: "+I+"<br><b>"+qc(null!=g?g:u)+"</b>: "+j;m&&(F+="<br><b>"+qc(null!=b?b:m)+"</b>: "+qc(L)),x&&(F="<b>"+qc(null!=w?w:x)+"</b>: "+qc(A)+"<br>"+F);var B={title:P,backgroundColor:E,content:F},z=y.renderer;return z?wn(z({datum:T,xKey:s,xValue:N,xName:v,yKey:u,yValue:R,yName:g,sizeKey:m,sizeName:b,labelKey:x,labelName:w,title:P,color:E,seriesId:S}),B):wn(B)},e.prototype.getLegendData=function(){var t,e,n,r,i,o=this,a=o.id,l=o.data,s=o.xKey,u=o.yKey,c=o.yName,h=o.title,d=o.visible,f=o.marker,p=f.fill,y=f.stroke,v=f.fillOpacity,g=f.strokeOpacity;return(null==l?void 0:l.length)&&s&&u?[{legendType:"category",id:a,itemId:u,seriesId:a,enabled:d,label:{text:null!==(t=null!=h?h:c)&&void 0!==t?t:u},marker:{shape:f.shape,fill:null!==(n=null!==(e=f.fill)&&void 0!==e?e:p)&&void 0!==n?n:"rgba(0, 0, 0, 0)",stroke:null!==(i=null!==(r=f.stroke)&&void 0!==r?r:y)&&void 0!==i?i:"rgba(0, 0, 0, 0)",fillOpacity:null!=v?v:1,strokeOpacity:null!=g?g:1}}]:[]},e.prototype.animateEmptyUpdateReady=function(t){var e,n,r=this,i=t.markerSelections,o=t.labelSelections,a=null!==(n=null===(e=this.ctx.animationManager)||void 0===e?void 0:e.defaultOptions.duration)&&void 0!==n?n:1e3;i.forEach((function(t){t.each((function(t,e){var n,i,o,l,s=r.animateFormatter(t,e),u=null!==(i=null===(n=e.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0,c=null!==(o=null==s?void 0:s.size)&&void 0!==o?o:u;null===(l=r.ctx.animationManager)||void 0===l||l.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:c,duration:a,onUpdate:function(e){t.size=e}})}))})),o.forEach((function(t){t.each((function(t){var e;null===(e=r.ctx.animationManager)||void 0===e||e.animate(r.id+"_empty-update-ready_"+t.id,{from:0,to:1,delay:a,duration:200,onUpdate:function(e){t.opacity=e}})}))}))},e.prototype.animateReadyUpdate=function(t){var e=this;t.markerSelections.forEach((function(t){e.resetMarkers(t)}))},e.prototype.animateReadyHighlightMarkers=function(t){this.resetMarkers(t)},e.prototype.resetMarkers=function(t){var e=this;t.each((function(t,n){var r,i,o,a=e.animateFormatter(t,n),l=null!==(i=null===(r=n.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0;t.size=null!==(o=null==a?void 0:a.size)&&void 0!==o?o:l}))},e.prototype.animateFormatter=function(t,e){var n,r,i,o=this,a=o.xKey,l=void 0===a?"":a,s=o.yKey,u=void 0===s?"":s,c=o.marker.strokeWidth,h=o.id,d=o.ctx.callbackCache,f=this.marker.formatter,p=null!==(n=e.fill)&&void 0!==n?n:t.fill,y=t.stroke,v=null!=c?c:1,g=null!==(i=null===(r=e.point)||void 0===r?void 0:r.size)&&void 0!==i?i:0,m=void 0;return f&&(m=d.call(f,{datum:e.datum,xKey:l,yKey:u,fill:p,stroke:y,strokeWidth:v,size:g,highlighted:!1,seriesId:h})),m},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",rd([ne(ge)],e.prototype,"title",void 0),rd([ne(ge)],e.prototype,"labelKey",void 0),rd([ne(ge)],e.prototype,"xName",void 0),rd([ne(ge)],e.prototype,"yName",void 0),rd([ne(ge)],e.prototype,"sizeName",void 0),rd([ne(ge)],e.prototype,"labelName",void 0),rd([ne(ge)],e.prototype,"xKey",void 0),rd([ne(ge)],e.prototype,"yKey",void 0),rd([ne(ge)],e.prototype,"sizeKey",void 0),rd([ne(ge)],e.prototype,"colorKey",void 0),rd([ne(ge)],e.prototype,"colorName",void 0),rd([ne(Re)],e.prototype,"colorDomain",void 0),rd([ne(Me)],e.prototype,"colorRange",void 0),e}(Vc),yd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd=function(t){function e(e){return t.call(this,{moduleCtx:e,pickModes:[Un.EXACT_SHAPE_MATCH]})||this}return yd(e,t),e.prototype.getLabelData=function(){return[]},e}(mr),gd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),md=function(){return(md=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},bd=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},xd=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},wd=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Sd=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return gd(e,t),bd([ne(fe)],e.prototype,"renderer",void 0),e}(vr),Od=function(t){function e(e,n,r,i,o,a){var l=t.call(this,i,o,a)||this;return l.labelKey=e,l.sizeKey=n,l.colorKey=r,l}return gd(e,t),e}(ur),_d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return gd(e,t),e}(Od),Dd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return gd(e,t),e}(Od),Md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return gd(e,t),bd([ne(Ee(0))],e.prototype,"padding",void 0),e}(Ml),Cd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrapping="on-space",e}return gd(e,t),bd([ne(an)],e.prototype,"wrapping",void 0),e}(Ml),Ed=function(){function t(){var t;this.style=((t=new Ml).color="white",t)}return bd([ne(ge)],t.prototype,"key",void 0),bd([ne(ge)],t.prototype,"name",void 0),bd([ne(fe)],t.prototype,"formatter",void 0),t}();!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(Gh||(Gh={}));var Pd=new jt;function Td(t,e){var n=e.fontStyle,r=e.fontWeight,i=e.fontSize,o=e.fontFamily;Pd.fontStyle=n,Pd.fontWeight=r,Pd.fontSize=i,Pd.fontFamily=o,Pd.text=t,Pd.x=0,Pd.y=0,Pd.textAlign="left",Pd.textBaseline="top";var a=Pd.computeBBox();return{width:a.width,height:a.height}}function Nd(t){return"string"!=typeof t||$t.validColorString(t)?t:(ot.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black")}var Rd=function(){function t(){this.color="black"}return bd([ne(De)],t.prototype,"color",void 0),t}(),Ld=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new Rd,e}return gd(e,t),e}(yr),Ad=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.groupSelection=Xi.select(n.contentGroup,dt),n.highlightSelection=Xi.select(n.highlightGroup,dt),n.title=((e=new Md).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),n.subtitle=function(){var t=new Md;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),n.labels={large:function(){var t=new Cd;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Cd;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Cd;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),formatter:void 0,value:new Ed},n.nodePadding=2,n.nodeGap=0,n.labelKey="label",n.sizeKey="size",n.colorKey="color",n.colorDomain=[-5,5],n.colorRange=["#cb4b3f","#6acb64"],n.groupFill="#272931",n.groupStroke="black",n.groupStrokeWidth=1,n.tileStroke="black",n.tileStrokeWidth=1,n.gradient=!0,n.formatter=void 0,n.colorName="Change",n.rootName="Root",n.highlightGroups=!0,n.tileShadow=new os,n.labelShadow=new os,n.tooltip=new kd,n.highlightStyle=new Ld,n}return gd(e,t),e.prototype.getNodePaddingTop=function(t,e){var n,r=this.title,i=this.subtitle,o=this.nodePadding,a=t.label;if(t.isLeaf||!a||0===t.depth)return o;var l=t.depth>1?i:r,s=Td(a,l);return l.fontSize>e.width/3||l.fontSize>e.height/3||s.height>=e.height?o:s.height+o+(null!==(n=l.padding)&&void 0!==n?n:0)},e.prototype.getNodePadding=function(t,e){var n=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}},e.prototype.squarify=function(t,e,n){if(void 0===n&&(n=new Map),e.width<=0||e.height<=0)return n;n.set(t,e);var r=this.getNodePadding(t,e),i=e.width-r.left-r.right,o=e.height-r.top-r.bottom;if(i<=0||o<=0||t.value<=0)return n;for(var a=0,l=0,s=1/0,u=t.value,c=t.children,h=new A(e.x+r.left,e.y+r.top,i,o),d=h.clone(),f=0;f<c.length;f++){var p=c[f].value,y=c[l].value,v=d.width<d.height;a+=p;var g=v?d.height:d.width,m=v?d.width:d.height,b=m*y/a,x=g*a/u,w=Math.max(b,x)/Math.min(b,x),S=Math.abs(1-w);if(S<s)s=S;else{x=g*(a-=p)/u;for(var k=v?d.x:d.y,O=l;O<f;O++){var _=c[O],D=v?k:d.x,M=v?d.y:k,C=m*_.value/a,E=new A(D,M,v?C:x,v?x:C);this.applyGap(h,E),this.squarify(_,E,n),u-=_.value,k+=C}v?(d.y+=x,d.height-=x):(d.x+=x,d.width-=x),l=f,a=0,s=1/0,f--}}var P=d.width<d.height,T=P?d.x:d.y;for(f=l;f<c.length;f++){D=P?T:d.x,M=P?d.y:T;var N=c[f].value/u,R=d.width*(P?N:1),L=d.height*(P?1:N);E=new A(D,M,R,L),this.applyGap(h,E),this.squarify(c[f],E,n),T+=P?R:L}return n},e.prototype.applyGap=function(t,e){var n=this.nodeGap/2,r=function(t){return{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height}},i=r(t),o=r(e);Object.keys(i).forEach((function(t){us(i[t],o[t])||e.shrink(n,t)}))},e.prototype.processData=function(){return xd(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h=this;return wd(this,(function(d){return this.data?(e=(t=this).data,n=t.sizeKey,r=t.labelKey,i=t.colorKey,o=t.colorDomain,a=t.colorRange,l=t.groupFill,s=this.labels.formatter,(u=new td).domain=o,u.range=a,u.update(),c=function(t,e,o){var a,d,f,p,y;void 0===e&&(e=0),s&&(y=h.ctx.callbackCache.call(s,{datum:t})),void 0!==y||(y=r&&null!==(a=t[r])&&void 0!==a?a:"");var v=i&&null!==(d=t[i])&&void 0!==d?d:e;v=Nd(v);var g=!t.children,m=l;"string"==typeof v?m=v:!g&&l||(m=u.convert(v));var b={datum:t,depth:e,parent:o,value:0,label:y,fill:m,series:h,isLeaf:g,children:[]};return g?b.value=n&&null!==(f=t[n])&&void 0!==f?f:1:(null===(p=t.children)||void 0===p||p.forEach((function(t){var n=c(t,e+1,b),r=n.value;!isNaN(r)&&isFinite(r)&&0!==r&&(b.value+=r,b.children.push(n))})),b.children.sort((function(t,e){return e.value-t.value}))),b},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return xd(this,void 0,void 0,(function(){return wd(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return xd(this,void 0,void 0,(function(){return wd(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return xd(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s;return wd(this,(function(u){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,n=t.dataRoot,e&&n&&e.getSeriesRect()?(r=[],(i=function(t){var e;r.push(t),null===(e=t.children)||void 0===e||e.forEach(i)})(n),a=(o=this).groupSelection,l=o.highlightSelection,s=function(t){return t.update(r,(function(t){var e=new ch,n=new jt;n.tag=Gh.Name;var r=new jt;r.tag=Gh.Value,t.append([e,n,r])}))},this.groupSelection=s(a),this.highlightSelection=s(l),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.ctx.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var n,r=this.formatter,i=this.ctx.callbackCache;if(!r)return{};var o=this,a=o.gradient,l=o.colorKey,s=o.labelKey,u=o.sizeKey,c=o.tileStroke,h=o.tileStrokeWidth,d=o.groupStroke,f=o.groupStrokeWidth,p=t.isLeaf?c:d,y=t.isLeaf?h:f,v=i.call(r,{seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:l,sizeKey:u,labelKey:s,fill:t.fill,stroke:p,strokeWidth:y,gradient:a,highlighted:e});return null!=v?v:{}},e.prototype.updateNodes=function(){return xd(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,l,s,u,c,h,d,f,p,y,v,g,m,b,x,w,S=this;return wd(this,(function(k){return this.chart?(e=(t=this).gradient,n=t.highlightStyle,r=n.item,i=r.fill,o=r.fillOpacity,a=r.stroke,l=r.strokeWidth,s=n.text.color,u=t.tileStroke,c=t.tileStrokeWidth,h=t.groupStroke,d=t.groupStrokeWidth,f=t.tileShadow,p=t.labelShadow,(y=t.dataRoot)?(v=this.chart.getSeriesRect(),g=this.squarify(y,new A(0,0,v.width,v.height)),m=this.buildLabelMeta(g),b=this.getHighlightedSubtree(y),this.updateNodeMidPoint(g),x=function(t,n,r){var s,p,y,v,m,b,x=g.get(n);if(x){var w=r&&void 0!==i?i:n.fill,k=null!==(s=r?o:1)&&void 0!==s?s:1,O=h;r&&void 0!==a?O=a:n.isLeaf&&(O=u);var _=d;r&&void 0!==l?_=l:n.isLeaf&&(_=c);var D=S.getTileFormat(n,r),M=Nd(null!==(p=null==D?void 0:D.fill)&&void 0!==p?p:w);if(null!==(y=null==D?void 0:D.gradient)&&void 0!==y?y:e){var C=$t.tryParseFromString(w).brighter().toString(),E=$t.tryParseFromString(w).darker().toString();t.fill="linear-gradient(180deg, "+C+", "+E+")"}else t.fill=M;t.fillOpacity=null!==(v=null==D?void 0:D.fillOpacity)&&void 0!==v?v:k,t.stroke=Nd(null!==(m=null==D?void 0:D.stroke)&&void 0!==m?m:O),t.strokeWidth=null!==(b=null==D?void 0:D.strokeWidth)&&void 0!==b?b:_,t.fillShadow=f,t.crisp=!0,t.x=x.x,t.y=x.y,t.width=x.width,t.height=x.height,t.visible=!0}else t.visible=!1},this.groupSelection.selectByClass(ch).forEach((function(t){return x(t,t.datum,!1)})),this.highlightSelection.selectByClass(ch).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&x(t,t.datum,e)})),w=function(t,e,n,r){var i=m.get(e),o=null==i?void 0:i[r];o?(t.text=o.text,t.fontFamily=o.style.fontFamily,t.fontSize=o.style.fontSize,t.fontWeight=o.style.fontWeight,t.fill=n&&null!=s?s:o.style.color,t.fillShadow=n?void 0:p,t.textAlign=o.hAlign,t.textBaseline=o.vAlign,t.x=o.x,t.y=o.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(Gh.Name).forEach((function(t){return w(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(Gh.Name).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&w(t,t.datum,e,"label")})),this.groupSelection.selectByTag(Gh.Value).forEach((function(t){return w(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(Gh.Value).forEach((function(t){var e=S.isDatumHighlighted(t.datum);t.visible=e||b.has(t.datum),t.visible&&w(t,t.datum,e,"value")})),[2]):[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.getHighlightedSubtree=function(t){var e=this,n=new Set,r=function(t){var i;(e.isDatumHighlighted(t)||t.parent&&n.has(t.parent))&&n.add(t),null===(i=t.children)||void 0===i||i.forEach(r)};return r(t),n},e.prototype.buildLabelMeta=function(t){var e=this,n=e.labels,r=e.title,i=e.subtitle,o=e.nodePadding,a=e.labelKey,l=e.ctx.callbackCache,s=/-$/m,u=new Map;return t.forEach((function(t,e){var c,h,d;if(a&&0!==e.depth){var f=t.width-2*o,p=t.height-2*o,y=function(e){return e.fontSize>t.width/3||e.fontSize>t.height/3},v=e.isLeaf?e.label:e.label.toUpperCase(),g="",m=n.value,b=m.style,x=Math.ceil(2*b.fontSize*(jt.defaultLineHeightRatio-1));e.isLeaf&&(m.formatter?g=null!==(c=l.call(m.formatter,{datum:e.datum}))&&void 0!==c?c:"":m.key&&(g=e.datum[m.key]));var w,S=Td(g,b);g&&S.width>f&&(g="");var k="";if(e.isLeaf){var O=function(){var t,e,r=p-(g?b.fontSize+x:0),i=[n.large,n.medium,n.small];try{for(var o=Sd(i),a=o.next();!a.done;a=o.next()){var l=a.value,u=Td(v,l),c=u.width;if(!(u.height>r||y(l))){if(c<=f)return{style:l,wrappedText:void 0};var h=jt.wrap(v,f,r,l,l.wrapping);if(h&&"\u2026"!==h&&(l===n.small||!s.exec(h)&&!h.endsWith("\u2026")))return{style:l,wrappedText:h}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return Td(v,n.small).height<=r&&!y(n.small)?{style:n.small,wrappedText:void 0}:{style:void 0,wrappedText:void 0}},_=O();!_.style&&g&&(g="",_=O()),w=null!==(h=_.style)&&void 0!==h?h:n.small,k=null!==(d=_.wrappedText)&&void 0!==d?d:""}else w=1===e.depth?r:i;var D=Td(k||v,w);if(!y(w)){if(D.width>f){var M=Math.floor(v.length*f/D.width)-1;v=v.substring(0,M).trim()+"\u2026"}S=Td(g,b);var C=g&&S.width<f&&S.height+D.height+x<p;u.set(e,{label:md({text:k||v,style:w},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(C?S.height/2+x/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+o,y:t.y+o}),value:C?{text:g,style:b,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+D.height/2+x/2}:void 0})}}})),u},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new _d(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new Dd(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,r,i;if(!this.highlightGroups&&!t.isLeaf)return"";var o=this,a=o.tooltip,l=o.sizeKey,s=o.labelKey,u=o.colorKey,c=o.rootName,h=o.id,d=o.labels,f=o.ctx.callbackCache,p=t.datum,y=a.renderer,v=t.depth?p[s]:null!==(e=p[s])&&void 0!==e?e:c,g="",m=this.getTileFormat(t,!1),b=null!==(r=null!==(n=null==m?void 0:m.fill)&&void 0!==n?n:t.fill)&&void 0!==r?r:"gray",x=d.value.key,w=d.value.formatter;if(x||w){var S="";if(w)S=f.call(w,{datum:p});else if(null!=x){var k=p[x];"number"==typeof k&&isFinite(k)&&(S=cs(k))}S&&(d.value.name&&(g+="<b>"+d.value.name+":</b> "),g+=S)}var O={title:v,backgroundColor:b,content:g};return y?wn(y({datum:t.datum,parent:null===(i=t.parent)||void 0===i?void 0:i.datum,depth:t.depth,sizeKey:l,labelKey:s,colorKey:u,title:v,color:b,seriesId:h}),O):v||g?wn(O):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",bd([ne(Ee(0))],e.prototype,"nodePadding",void 0),bd([ne(Ee(0))],e.prototype,"nodeGap",void 0),bd([ne(ve)],e.prototype,"labelKey",void 0),bd([ne(ge)],e.prototype,"sizeKey",void 0),bd([ne(ge)],e.prototype,"colorKey",void 0),bd([ne(Ne)],e.prototype,"colorDomain",void 0),bd([ne(Me)],e.prototype,"colorRange",void 0),bd([ne(ge)],e.prototype,"groupFill",void 0),bd([ne(De)],e.prototype,"groupStroke",void 0),bd([ne(Pe(0))],e.prototype,"groupStrokeWidth",void 0),bd([ne(De)],e.prototype,"tileStroke",void 0),bd([ne(Pe(0))],e.prototype,"tileStrokeWidth",void 0),bd([ne(pe)],e.prototype,"gradient",void 0),bd([ne(fe)],e.prototype,"formatter",void 0),bd([ne(ve)],e.prototype,"colorName",void 0),bd([ne(ve)],e.prototype,"rootName",void 0),bd([ne(ye)],e.prototype,"highlightGroups",void 0),e}(vd),Id={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},jd={},Fd={has:function(t){return Object.prototype.hasOwnProperty.call(Id,t)},isCartesian:function(t){return"cartesian"===Id[t]},isPolar:function(t){return"polar"===Id[t]},isHierarchy:function(t){return"hierarchy"===Id[t]},get seriesTypes(){return Object.keys(Id)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function Bd(t,e){var n;jd[t]=Br([null!==(n=jd[t])&&void 0!==n?n:{},e])}function zd(t){var e;return null!==(e=jd[t])&&void 0!==e?e:{}}var Gd={area:lh,bar:Th,column:Nh,histogram:Vh,line:Qh,pie:js,scatter:pd,treemap:Ad},Wd={},Kd={},Vd={},Hd={};function Yd(t,e,n,r,i,o){Wd[t]=n,Kd[t]=r,Vd[t]=i,o&&qd(t,o),function(t,e){Id[t]=e}(t,e)}function Xd(t,e){var n,r=null!==(n=Wd[t])&&void 0!==n?n:Gd[t];if(r)return new r(e);throw new Error("AG Charts - unknown series type: "+t)}function Ud(t){return Kd[t]}function Zd(t){return Vd[t]}function qd(t,e){Hd[t]=e}var Jd={axes:[{type:sc.type,position:"left"},{type:wu.type,position:"bottom"}]},$d={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},Qd={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]};function tf(t,e){if(nf(t)&&nf(e)){var n={};return Object.keys(t).forEach((function(r){n[r]=r in e?tf(t[r],e[r]):t[r]})),Object.keys(e).forEach((function(r){r in t||(n[r]=e[r])})),n}return Array.isArray(t)&&!Array.isArray(e)||ef(t)&&!ef(e)?t:e}function ef(t){return t&&"object"==typeof t}function nf(t){return ef(t)&&t.constructor===Object}var rf=function(){return(rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},of=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},af=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lf={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},sf=Symbol("extends-axes-defaults"),uf=Symbol("extends-axes-label-defaults"),cf=Symbol("extends-axes-line-defaults"),hf=Symbol("extends-series-defaults"),df=Symbol("override-series-label-defaults"),ff=Symbol("default-font"),pf=function(){function t(t){var e=(t=tf({},null!=t?t:{})).overrides,n=void 0===e?null:e,r=t.palette,i=void 0===r?null:r,o=this.createChartConfigPerChartType(this.getDefaults());if(n){var a=n.common,l=n.cartesian,s=n.polar,u=n.hierarchy,c=function(t,e,n){n&&(o[t]=tf(o[t],n),e.forEach((function(t){var e=t;o[e]=tf(o[e],n)})))};c("common",Object.keys(o),a),c("cartesian",Fd.cartesianTypes,l),c("polar",Fd.polarTypes,s),c("hierarchy",Fd.hierarchyTypes,u),Fd.seriesTypes.forEach((function(t){var e,r=t,i=n[r];i&&(i.series&&(i.series=((e={})[r]=i.series,e)),o[r]=tf(o[r],i))}))}this.palette=null!=i?i:this.getPalette(),this.config=Object.freeze(o)}return t.prototype.getPalette=function(){return lf},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return rf(rf({},this.getSeriesDefaults()),{fillOpacity:1,strokeOpacity:1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return rf(rf({},t),{tooltip:rf(rf({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return rf(rf({},t),{nodeClickRange:"nearest",tooltip:rf(rf({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return rf(rf({},t),{tooltip:rf(rf({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getCaptionWrappingDefaults=function(){return"hyphenate"},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",wrapping:t.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",wrapping:t.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30,wrapping:t.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e=this,n={cartesian:Fd.cartesianTypes,polar:Fd.polarTypes,hierarchy:Fd.hierarchyTypes,groupedCategory:[]};return Object.entries(n).forEach((function(n){var r=of(n,2),i=r[0],o=r[1],a=i,l=e.templateTheme(zd(a));o.forEach((function(e){var n=e;t[n]||(t[n]=tf({},t[a]),tf(t[n],l))}))})),t},t.prototype.getDefaults=function(){var e=this,n=tf({},t.defaults),r=function(t,n){var r=e.templateTheme(zd(t));return r.series=n.reduce((function(t,n){var r=Zd(n);return r&&(t[n]=e.templateTheme(r)),t}),{}),"cartesian"!==t&&"polar"!==t||(r.axes=wc.axesTypes.reduce((function(t,n){var r=function(t){var e;return null!==(e=Sc[t])&&void 0!==e?e:{}}(n);return r&&(t[n]=e.templateTheme(r)),t}),{})),r};return tf(n,{cartesian:r("cartesian",Fd.cartesianTypes),groupedCategory:r("cartesian",Fd.cartesianTypes),polar:r("polar",Fd.polarTypes),hierarchy:r("hierarchy",Fd.hierarchyTypes)})},t.prototype.templateTheme=function(t){var e=Br([t]),n=this.getTemplateParameters(),r=n.extensions,i=n.properties;return Gr(e,(function(t,e){var n,o;if(e.__extends__){var a=e.__extends__,l=r.get(a);if(null==l)throw new Error("AG Charts - no template variable provided for: "+a);Object.keys(l).forEach((function(t){t in e||(e[t]=l[t])})),delete e.__extends__}if(e.__overrides__){a=e.__overrides__;var s=r.get(a);if(null==s)throw new Error("AG Charts - no template variable provided for: "+a);Object.assign(e,s),delete e.__overrides__}try{for(var u=af(Object.entries(e)),c=u.next();!c.done;c=u.next()){var h=of(c.value,2),d=h[0],f=h[1];i.has(f)&&(e[d]=i.get(f))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}),{}),e},t.prototype.getTemplateParameters=function(){var e=new Map;e.set(sf,t.getAxisDefaults()),e.set(uf,t.getAxisDefaults().label),e.set(cf,t.getAxisDefaults().line),e.set(hf,t.getSeriesDefaults()),e.set(df,{});var n=new Map;return n.set(ff,t.fontFamily),{extensions:e,properties:n}},t.prototype.mergeWithParentDefaults=function(t,e){return tf(t,e)},t.fontFamily="Verdana, sans-serif",t.cartesianDefaults=rf(rf({},t.getChartDefaults()),{axes:{number:rf({},t.getAxisDefaults()),log:rf(rf({},t.getAxisDefaults()),{base:10}),category:rf(rf({},t.getAxisDefaults()),{groupPaddingInner:.1,label:rf(rf({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:rf({},t.getAxisDefaults()),time:rf({},t.getAxisDefaults())},series:{column:rf({},t.getBarSeriesDefaults()),bar:rf({},t.getBarSeriesDefaults()),line:rf(rf({},t.getLineSeriesDefaults()),{title:void 0,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:rf(rf({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:rf(rf({},t.getScatterSeriesDefaults()),{sizeName:"Size",labelName:"Label",marker:rf({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:rf(rf({},t.getAreaSeriesDefaults()),{normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:rf(rf({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:rf(rf({},t.getSeriesDefaults()),{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})}}),t.polarDefaults=rf(rf({},t.getChartDefaults()),{series:{pie:rf(rf({},t.getSeriesDefaults()),{title:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",spacing:0},radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=rf(rf({},t.getChartDefaults()),{series:{treemap:rf(rf({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,nodeGap:0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:2},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:2},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white",wrapping:"on-space"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),yf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vf=function(){return(vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},gf=function(t){function e(e){return t.call(this,e)||this}return yf(e,t),e.prototype.getDefaults=function(){var n=this,r=e.fontColor,i=e.mutedFontColor,o={title:{color:r},label:{color:r},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},a={label:{color:r}},l={axes:{number:vf({},o),category:vf({},o),time:vf({},o)}},s={background:{fill:"rgb(34, 38, 41)"},title:{color:r},subtitle:{color:i},legend:{item:{label:{color:r}},pagination:{activeStyle:{fill:r},inactiveStyle:{fill:i},highlightStyle:{fill:r},label:{color:r}}}},u=function(t){return t.reduce((function(t,e){var r=Zd(e);return r&&(t[e]=n.templateTheme(r)),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:vf(vf(vf({},s),l),{series:vf({line:vf({},a),bar:vf({},a),column:vf({},a),histogram:vf({},a)},u(Fd.cartesianTypes))}),groupedCategory:vf(vf(vf({},s),l),{series:vf({bar:vf({},a),column:vf({},a),histogram:vf({},a)},u(Fd.cartesianTypes))}),polar:vf(vf({},s),{series:vf({pie:{calloutLabel:{color:r},sectorLabel:{color:r},title:{color:r},innerLabels:{color:r}}},u(Fd.polarTypes))}),hierarchy:vf(vf({},s),{series:vf({treemap:{tileStroke:"white",groupStroke:"white",title:{color:r},subtitle:{color:i},labels:{large:{color:r},medium:{color:r},small:{color:r},value:{style:{color:r}}}}},u(Fd.hierarchyTypes))})})},e.prototype.getTemplateParameters=function(){var n=t.prototype.getTemplateParameters.call(this);return n.extensions.set(df,e.seriesLabelDefaults.label),n},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e}(pf),mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bf={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mf(e,t),e.prototype.getPalette=function(){return bf},e}(pf),wf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sf={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wf(e,t),e.prototype.getPalette=function(){return Sf},e}(gf),Of=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_f={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Of(e,t),e.prototype.getPalette=function(){return _f},e}(pf),Mf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cf={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mf(e,t),e.prototype.getPalette=function(){return Cf},e}(gf),Pf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tf={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pf(e,t),e.prototype.getPalette=function(){return Tf},e}(pf),Rf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lf={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rf(e,t),e.prototype.getPalette=function(){return Lf},e}(gf),If=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return If(e,t),e.prototype.getPalette=function(){return jf},e}(pf),Bf=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bf(e,t),e.prototype.getPalette=function(){return zf},e}(gf),Wf=function(){return(Wf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Kf=function(){return new pf},Vf=function(){return new gf},Hf={undefined:Kf,null:Kf,"ag-default":Kf,"ag-material":function(){return new xf},"ag-pastel":function(){return new Df},"ag-solar":function(){return new Nf},"ag-vivid":function(){return new Ff}},Yf=Wf(Wf({},{undefined:Vf,null:Vf,"ag-default-dark":Vf,"ag-material-dark":function(){return new kf},"ag-pastel-dark":function(){return new Ef},"ag-solar-dark":function(){return new Af},"ag-vivid-dark":function(){return new Gf}}),Hf);function Xf(t){var e;if(t instanceof pf)return t;var n=Yf[t];if(n)return n();t=t;for(var r,i=[];"object"==typeof t;)i.push(null!==(e=t.overrides)&&void 0!==e?e:{}),t.palette&&null==r&&(r=t.palette),t=t.baseTheme;i.reverse();var o=Wf({baseTheme:t,overrides:Br(i)},r?{palette:r}:{});return o.baseTheme||o.overrides?new(Xf(o.baseTheme).constructor)(o):Kf()}var Uf=function(){return(Uf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Zf=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jf=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},$f=["bar","column","area"],Qf=["bar","column"];function tp(t,e){var n,r,i=[],o=function(t){var e,n,r,i,o,a,l,s,u,c,h={},d={},f={},p=[];try{for(var y=Zf(t),v=y.next();!v.done;v=y.next()){var g=v.value,m=null!==(o=g.type)&&void 0!==o?o:"line",b=$f.includes(m),x=Qf.includes(m);if(b||x){var w=g,S=w.stacked,k=w.stackGroup,O=w.grouped,_=void 0===O?void 0:O,D=w.xKey,M=null!=k||!0===S;null!==(a=f[m])&&void 0!==a||(f[m]=!1),f[m]||(f[m]=M);var C=!0===_,E=[null!=k?k:!0===S?"stacked":void 0,C?"grouped":void 0].filter((function(t){return null!=t})).join("-");E||(E="default-ag-charts-group");var P=m+"-"+D+"-"+E;if(M&&b)0===(T=null!==(l=d[P])&&void 0!==l?l:d[P]={type:"stack",opts:[]}).opts.length&&p.push(T),T.opts.push(g);else if(C&&x){var T;0===(T=null!==(s=h[P])&&void 0!==s?s:h[P]={type:"group",opts:[]}).opts.length&&p.push(T),T.opts.push(g)}else p.push({type:"ungrouped",opts:[g]})}else p.push({type:"ungrouped",opts:[g]})}}catch(t){e={error:t}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}if(!Object.values(f).some((function(t){return t})))return p;try{for(var N=Zf(Object.entries(h)),R=N.next();!R.done;R=N.next()){var L=qf(R.value,2)[1];!0===f[m=null!==(c=null===(u=L.opts[0])||void 0===u?void 0:u.type)&&void 0!==c?c:"line"]&&(L.type="stack")}}catch(t){r={error:t}}finally{try{R&&!R.done&&(i=N.return)&&i.call(N)}finally{if(r)throw r.error}}return p}(e.map((function(t){var e;return"bar"!==t.type&&"column"!==t.type||null==t.yKey||t.stacked?t:Uf(Uf({},t),{grouped:null===(e=t.grouped)||void 0===e||e})}))),a=o.reduce((function(t,e){var n,r;if("ungrouped"===e.type)return t;var i=null!==(n=e.opts[0].type)&&void 0!==n?n:"line";return null!==(r=t[i])&&void 0!==r||(t[i]=0),t[i]+="stack"===e.type?1:e.opts.length,t}),{}),l={},s=function(t){var e,n,r,i,o,s,u,c,h=0,d=null!==(u=t.opts[0].type)&&void 0!==u?u:"line";if(null!==(c=l[d])&&void 0!==c||(l[d]=0),"stack"===t.type){try{for(var f=Zf(t.opts),p=f.next();!p.done;p=f.next())p.value.seriesGrouping={groupIndex:l[d],groupCount:a[d],stackIndex:h++,stackCount:t.opts.length}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}l[d]++}else if("group"===t.type)try{for(var y=Zf(t.opts),v=y.next();!v.done;v=y.next())v.value.seriesGrouping={groupIndex:l[d],groupCount:a[d],stackIndex:0,stackCount:0},l[d]++}catch(t){r={error:t}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}else try{for(var g=Zf(t.opts),m=g.next();!m.done;m=g.next())m.value.seriesGrouping=void 0}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return t.opts};[!0,"opts"].includes(pt("agChartsDebug"))&&ot.debug("processSeriesOptions() - series grouping: ",o);try{for(var u=Zf(o),c=u.next();!c.done;c=u.next()){var h=c.value;switch(h.opts[0].type){case"column":case"bar":case"area":i.push.apply(i,Jf([],qf(s(h))));break;case"line":default:h.opts.length>1&&ot.warn("unexpected grouping of series type: "+h.opts[0].type),i.push.apply(i,Jf([],qf(h.opts)))}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return i}var ep=function(){return(ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},np=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ip=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function op(t){var e,n,r,i;return null!==(i=null!==(e=t.type)&&void 0!==e?e:null===(r=null===(n=t.series)||void 0===n?void 0:n[0])||void 0===r?void 0:r.type)&&void 0!==i?i:"line"}function ap(t){var e=op(t);return null==e||("cartesian"===e?(ot.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):Fd.isCartesian(e))}function lp(t){var e=op(t);return null!=e&&("hierarchy"===e?(ot.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):Fd.isHierarchy(e))}function sp(t){var e=op(t);return null!=e&&("polar"===e?(ot.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):Fd.isPolar(e))}function up(t){return null!=t&&Fd.has(t)}function cp(t,e,n){for(var r=[],i=0;i<n;i++)r.push(e[(i+t.colourIndex)%e.length]);return r}var hp={avoidDeepClone:["data"]};function dp(t,e){var n,r,i,o,a,l,s,u,c,h,d=Br([e,t],hp);!function(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((function(e){var n,r=rp(e,2),i=r[0],o=r[1];(null===(n=t.series)||void 0===n?void 0:n.some((function(t){return null!=t[i]})))&&ot.warnOnce("property [series."+i+"] is deprecated, please use [series."+o+"] and multiple series instead.")}))}(d);var f=d.type,p=op(d),y=null!==(l=null===(a=d.tooltip)||void 0===a?void 0:a.position)&&void 0!==l?l:{},v=function(t){if(null!=t&&!up(t)&&!Ud(t))throw new Error("AG Charts - unknown series type: "+t+"; expected one of: "+Fd.seriesTypes)};v(p);try{for(var g=np(null!==(s=d.series)&&void 0!==s?s:[]),m=g.next();!m.done;m=g.next()){var b=m.value.type;null!=b&&v(b)}}catch(t){n={error:t}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}d=ep(ep({},d),{type:p});var x="line";ap(d)?x="line":lp(d)?x="treemap":sp(d)&&(x="pie");var w={},S=Ud(p);S?w=S:"bar"===p?w=$d:"scatter"===p||"histogram"===p?w=Qd:ap(d)&&(w=Jd),function(t){Gr(t,(function(t,e){"enabled"in e&&!1===e.enabled&&Object.entries(e).forEach((function(t){var n=rp(t,1)[0];"enabled"!==n&&delete e[n]}))}),{skip:["data","theme"]})}(d);var k=function(t,e){var n=function(t){var e,n,r=Xf(t.theme),i=r.config[null!==(e=op(t))&&void 0!==e?e:"cartesian"],o=Object.entries(r.config).reduce((function(t,e){var n=rp(e,2),r=n[0],i=n[1].series;return t[r]=null==i?void 0:i[r],t}),{});return{theme:r,axesThemes:null!==(n=i.axes)&&void 0!==n?n:{},seriesThemes:o,cleanedTheme:Br([i,{axes:jr,series:jr}])}}(e),r=n.theme,i=n.cleanedTheme,o=n.axesThemes,a=n.seriesThemes,l={colourIndex:0,palette:r.palette},s=Br([t,i,e],hp);return{context:l,mergedOptions:s,axesThemes:o,seriesThemes:a}}(w,d),O=k.context,_=k.mergedOptions,D=k.axesThemes,M=k.seriesThemes;_.series=tp(0,(null!==(u=_.series)&&void 0!==u?u:[]).map((function(t){var e=x;t.type?e=t.type:up(f)&&(e=f);var n=function(t,e,n,r){var i,o,a=Br([ep({},r),null===(i=t.tooltip)||void 0===i?void 0:i.position],hp);return Br([null!==(o=n[e])&&void 0!==o?o:{},ep(ep({},t),{type:e,tooltip:ep(ep({},t.tooltip),{position:a})})],hp)}(t,e,M,y);return"pie"===e&&function(t,e,n){Array.isArray(e.innerLabels)?n.innerLabels=e.innerLabels.map((function(e){return Br([t.innerLabels,e])})):n.innerLabels=jr}(M.pie,t,n),n}))).map((function(t){return function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=pp(t,e),o={stacked:jr,grouped:jr};return Br(ip(ip([],rp(n)),[i,e,o]),hp)}(O,t)}));var C=function(t){var e,n=null!=(e=t)&&wc.has(e);return n||ot.warnOnce("AG Charts - unknown axis type: "+t+"; expected one of: "+wc.axesTypes+", ignoring."),n};if("axes"in _){var E=!0;try{for(var P=np(null!==(c=_.axes)&&void 0!==c?c:[]),T=P.next();!T.done;T=P.next())C(T.value.type)||(E=!1)}catch(t){i={error:t}}finally{try{T&&!T.done&&(o=P.return)&&o.call(P)}finally{if(i)throw i.error}}_.axes=E?null===(h=_.axes)||void 0===h?void 0:h.map((function(t){var e,n,r=t.type;return function(t,e){var n={top:jr,bottom:jr,left:jr,right:jr};if(t.crossLines){Array.isArray(t.crossLines)||(ot.warn("axis[].crossLines should be an array."),t.crossLines=[]);var r=e.crossLines;t.crossLines=t.crossLines.map((function(t){return Br([r,t])}))}return Br([e,{crossLines:jr},t,n],hp)}(t,Br([D[r],null!==(n=D[r][null!==(e=t.position)&&void 0!==e?e:"unknown"])&&void 0!==n?n:{}]))})):w.axes,function(t,e){var n,r,i,o;void 0===(null===(n=t.legend)||void 0===n?void 0:n.enabled)&&void 0===(null===(r=e.legend)||void 0===r?void 0:r.enabled)&&(null!==(i=e.legend)&&void 0!==i||(e.legend={}),(null!==(o=t.series)&&void 0!==o?o:[]).length>1?e.legend.enabled=!0:e.legend.enabled=!1)}(d,_)}return function(t,e){Gr(t,(function(t,e,n){if(n){var r=n._enabledFromTheme;null!=r&&delete n._enabledFromTheme,"enabled"in n&&(r||null==e.enabled&&(n.enabled=!0))}}),{skip:["data","theme"]},e),Gr(e,(function(t,e){null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}(d,_),_}qd("pie",(function(t){return(0,t.takeColors)(t.colorsCount)}));var fp=function(t){var e=(0,t.takeColors)(1);return{fill:rp(e.fills,1)[0],stroke:rp(e.strokes,1)[0]}};function pp(t,e){var n,r,i=(r=e.type,Hd[r]);if(!i)return{};var o=t.palette,a=o.fills,l=o.strokes;return i({seriesCount:function t(e){var n,r,i=0;try{for(var o=np(e),a=o.next();!a.done;a=o.next()){var l=a.value;l instanceof Array&&(i+=t(l)),null!=l&&i++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(null!==(n=e.yKeys)&&void 0!==n?n:[])||1,colorsCount:Math.max(a.length,l.length),takeColors:function(e){var n={fills:cp(t,a,e),strokes:cp(t,l,e)};return t.colourIndex+=e,n}})}qd("area",fp),qd("bar",fp),qd("column",fp),qd("histogram",fp),qd("scatter",(function(t){var e=fp(t);return{marker:{fill:e.fill,stroke:e.stroke}}})),qd("line",(function(t){var e=fp(t),n=e.fill;return{stroke:n,marker:{fill:n,stroke:e.stroke}}}));var yp=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vp=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var n=yp(this.destroyFns),r=n.next();!r.done;r=n.next())(0,r.value)()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),gp=[];function mp(t){var e=gp.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var n=gp.indexOf(e);gp.splice(n,1,t)}}else gp.push(t)}var bp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xp=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},wp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return bp(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.centerX,e=this.centerY,n=this.width,r=this.height;return new A(t-n/2,e-r/2,n,r)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,r=t.centerY,i=t.width,o=t.height;e.clear();var a=n-i/2,l=r-o/2,s=this.align(a),u=this.align(l),c=s+this.align(a,i),h=u+this.align(l,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.gripLineGap/2,f=this.gripLineLength/2;e.moveTo(this.align(n-d),this.align(r-f)),e.lineTo(this.align(n-d),this.align(r+f)),e.moveTo(this.align(n+d),this.align(r-f)),e.lineTo(this.align(n+d),this.align(r+f))},e.className="RangeHandle",xp([ne(_e)],e.prototype,"_fill",void 0),xp([ne(_e)],e.prototype,"_stroke",void 0),xp([ne(Ee(0))],e.prototype,"_strokeWidth",void 0),xp([ne(Ze)],e.prototype,"_lineCap",void 0),xp([ne(Ee(0))],e.prototype,"_width",void 0),xp([ne(Ee(0))],e.prototype,"_gripLineGap",void 0),xp([ne(Ee(0))],e.prototype,"_gripLineLength",void 0),xp([ne(Ee(0))],e.prototype,"_height",void 0),e}(ao),Sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kp=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Op=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Sp(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this.x,e=this.y,n=this.width,r=this.height;return new A(t,e,n,r)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.y,r=t.width,i=t.height,o=t.min,a=t.max,l=e+r*o;return new A(l,n,e+r*a-l,i)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,r=t.y,i=t.width,o=t.height,a=t.min,l=t.max;e.clear();var s=this.align(n),u=this.align(r),c=s+this.align(n,i),h=u+this.align(r,o);e.moveTo(s,u),e.lineTo(c,u),e.lineTo(c,h),e.lineTo(s,h),e.lineTo(s,u);var d=this.align(n+i*a),f=this.align(n+i*l);e.moveTo(d,u),e.lineTo(d,h),e.lineTo(f,h),e.lineTo(f,u),e.lineTo(d,u)},e.className="RangeMask",kp([ne(_e)],e.prototype,"_stroke",void 0),kp([ne(Ee(0))],e.prototype,"_strokeWidth",void 0),kp([ne(_e)],e.prototype,"_fill",void 0),kp([ne(Ee(0,1))],e.prototype,"_fillOpacity",void 0),kp([ne(Ze)],e.prototype,"_lineCap",void 0),kp([ne(Ee(0))],e.prototype,"_width",void 0),kp([ne(Ee(0))],e.prototype,"_height",void 0),kp([ne(Ee())],e.prototype,"_min",void 0),kp([ne(Ee())],e.prototype,"_max",void 0),e}(ao),_p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dp=function(){return(Dp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Mp=function(t){function e(){var n=t.call(this,{name:"rangeSelectorGroup"})||this;return n.minHandle=new wp,n.maxHandle=new wp,n.mask=function(){var t=e.defaults,r=t.x,i=t.y,o=t.width,a=t.height,l=t.min,s=t.max,u=new Op;u.x=r,u.y=i,u.width=o,u.height=a,u.min=l,u.max=s;var c=n,h=c.minHandle,d=c.maxHandle;return h.centerX=r,d.centerX=r+o,h.centerY=d.centerY=i+a/2,n.append([u,h,d]),u.onRangeChange=function(){var t;n.updateHandles(),null===(t=n.onRangeChange)||void 0===t||t.call(n)},u}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return _p(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,r=t.x,i=t.y,o=t.width,a=t.height,l=t.mask;e.centerX=r+o*l.min,n.centerX=r+o*l.max,e.centerY=n.centerY=i+a/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,r=t.stats;this.dirty!==T.NONE||n?(this.computeTransformMatrix(),this.matrix.toContext(e),[this.mask,this.minHandle,this.maxHandle].forEach((function(r){r.visible&&(n||r.dirty>T.NONE)&&(e.save(),r.render(Dp(Dp({},t),{ctx:e,forceRender:n})),e.restore())})),this.markClean({force:!0}),r&&r.nodesRendered++):r&&r.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(dt),Cp=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),Ep=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),Pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tp=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Np={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:function(t){function e(e){var n,r=t.call(this)||this;return r.ctx=e,r.rs=new Mp,r.mask=new Cp(r.rs.mask),r.minHandle=new Ep(r.rs.minHandle),r.maxHandle=new Ep(r.rs.maxHandle),r.minHandleDragging=!1,r.maxHandleDragging=!1,r.panHandleOffset=NaN,r._enabled=!1,r.margin=10,r._visible=!0,r.rs.onRangeChange=function(){return r.ctx.zoomManager.updateZoom("navigator",{x:{min:r.rs.min,max:r.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return r.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return r.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return r.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return r.onDragStop()}))].forEach((function(t){return r.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return r.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return r.layoutComplete(t)}))].forEach((function(t){return r.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),null===(n=e.scene.root)||void 0===n||n.appendChild(r.rs),r.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(r.rs)})),r.destroyFns.push((function(){return r.ctx.zoomManager.updateZoom("navigator")})),r.updateGroupVisibility(),r}return Pp(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){var t=this.enabled&&this.visible;this.rs.visible=t,t?this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max}}):this.ctx.zoomManager.updateZoom("navigator")},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var n=this.rs.height+this.margin;e.shrink(n,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,n=e.rect,r=e.visible;this.enabled&&r&&(this.rs.x=n.x,this.rs.width=n.width),this.visible=r},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,r=this.rs,i=r.minHandle,o=r.maxHandle,a=r.x,l=r.width,s=r.min,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.containsPoint(e,n)?this.minHandleDragging=!0:o.containsPoint(e,n)?this.maxHandleDragging=!0:u.containsPoint(e,n)&&(this.panHandleOffset=(e-a)/l-s))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,r=e.x,i=e.y,o=e.width,a=e.height,l=e.minHandle,s=e.maxHandle,u=t.offsetX,c=t.offsetY,h=r+o*e.min,d=r+o*e.max,f=new A(h,i,d-h,a),p=function(){return Math.min(Math.max((u-r)/o,0),1)};if(l.containsPoint(u,c)||s.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):f.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=p();else if(this.maxHandleDragging)e.max=p();else if(!isNaN(n)){var y=e.max-e.min,v=Math.min(p()-n,1-y);v<=e.min?(e.min=v,e.max=e.min+y):(e.max=v+y,e.min=e.max-y)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},Tp([ne(pe)],e.prototype,"_enabled",void 0),Tp([ne(Ee(0))],e.prototype,"margin",void 0),e}(vp),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}};mp(Np);var Rp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lp=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ap={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:function(t){function e(e){var n,r=t.call(this)||this;r.onLayoutComplete=function(t){var e=t.chart,n=e.width,i=e.height;r.rectNode.width=n,r.rectNode.height=i},r.node=new dt({name:"background"}),r.node.zIndex=je.SERIES_BACKGROUND_ZINDEX,r.rectNode=new ch,r.node.appendChild(r.rectNode),r.fill="white",r.visible=!0,null===(n=e.scene.root)||void 0===n||n.appendChild(r.node),r.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(r.node)}));var i=e.layoutService.addListener("layout-complete",r.onLayoutComplete);return r.destroyFns.push((function(){return e.layoutService.removeListener(i)})),r}return Rp(e,t),Lp([ne(pe),Yn("node","visible")],e.prototype,"visible",void 0),Lp([ne(De),Yn("rectNode","fill")],e.prototype,"fill",void 0),e}(vp)};mp(Ap);var Ip=Object.freeze({__proto__:null,Motion:oi,assignJsonApplyConstructedArray:zs,get ChartUpdateType(){return si},Validate:ne,predicateWithMessage:re,OPTIONAL:ie,ARRAY:oe,OPT_ARRAY:ae,AND:le,OR:se,LESS_THAN:ce,GREATER_THAN:he,FUNCTION:de,OPT_FUNCTION:fe,BOOLEAN:pe,OPT_BOOLEAN:ye,STRING:ve,OPT_STRING:ge,DATE:me,OPT_DATE:be,DATE_ARRAY:xe,DATETIME_MS:we,OPT_DATETIME_MS:Se,OPT_DATE_OR_DATETIME_MS:ke,COLOR_STRING:_e,OPT_COLOR_STRING:De,COLOR_STRING_ARRAY:Me,OPT_COLOR_STRING_ARRAY:Ce,NUMBER:Ee,OPT_NUMBER:Pe,NUMBER_OR_NAN:Te,NUMBER_ARRAY:Ne,OPT_NUMBER_ARRAY:Re,STRING_ARRAY:Le,OPT_STRING_ARRAY:Ae,STRING_UNION:Ie,BOOLEAN_ARRAY:Be,OPT_BOOLEAN_ARRAY:ze,FONT_STYLE:We,OPT_FONT_STYLE:Ke,FONT_WEIGHT:Ve,OPT_FONT_WEIGHT:He,LINE_DASH:Ye,OPT_LINE_DASH:Xe,LINE_CAP:Ze,OPT_LINE_CAP:qe,LINE_JOIN:$e,OPT_LINE_JOIN:Qe,POSITION:en,INTERACTION_RANGE:rn,TEXT_WRAP:an,Default:Tl,BaseModuleInstance:vp,REGISTERED_MODULES:gp,registerModule:mp,CHART_NAVIGATOR_MODULE:Np,ProxyOnWrite:function(t){return ee((function(e,n,r){return e[t]=r,r}))},ProxyPropertyOnWrite:Yn,ActionOnSet:Xn,CHART_BACKGROUND_MODULE:Ap,get ChartAxisDirection(){return Fe},fixNumericExtent:yn,DataModel:gn,DataController:aa,UpdateService:Wi,LayoutService:zi,AnimationManager:pi,ChartEventManager:mi,CursorManager:vi,HighlightManager:wi,InteractionManager:Ei,TooltipManager:Ni,ZoomManager:ji,get Layers(){return je},get SeriesNodePickMode(){return Un},keyProperty:ir,valueProperty:or,rangedValueProperty:ar,accumulativeValueProperty:lr,trailingAccumulatedValueProperty:function(t,e,n,r){return void 0===r&&(r={}),qn(qn({},or(t,e,n,r)),{processor:function(){var t=0;return function(e){if("number"!=typeof e)return e;if(isNaN(e))return e;var n=t;return t+=e,n}}})},groupAccumulativeValueProperty:sr,SeriesNodeBaseClickEvent:ur,SeriesNodeClickEvent:cr,SeriesNodeDoubleClickEvent:hr,SeriesItemHighlightStyle:dr,HighlightStyle:yr,SeriesTooltip:vr,SeriesTooltipInteraction:gr,Series:mr,SeriesMarker:Pc,CartesianSeriesNodeBaseClickEvent:zc,CartesianSeriesNodeClickEvent:Gc,CartesianSeriesNodeDoubleClickEvent:Wc,CartesianSeries:Vc,CartesianSeriesMarker:Hc,createLabelData:ph,updateRect:yh,getRectConfig:vh,checkCrisp:gh,updateLabel:mh,PolarSeries:ms,get Tags(){return Nl},Axis:ts,AxisTick:Wl,PolarAxis:Hu,__FORCE_MODULE_DETECTION:0,StateMachine:Kl}),jp=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fp=function(){return(Fp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Bp=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function l(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((r=r.apply(t,e||[])).next())}))},zp=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Gp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Wp=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Kp=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Vp(t){if(ap(t))return"cartesian";if(sp(t))return"polar";if(lp(t))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+t.type)}var Hp=function(){function t(){}return t.create=function(t){return Xp.createOrUpdate(t)},t.update=function(t,e){if(!Yp.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");Xp.createOrUpdate(e,t)},t.updateDelta=function(t,e){if(!Yp.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return Xp.updateUserDelta(t,e)},t.download=function(t,e){if(!(t instanceof Yp))throw new Error("AG Charts - invalid chart reference passed");return Xp.download(t,e)},t.getImageDataURL=function(t,e){if(!(t instanceof Yp))throw new Error("AG Charts - invalid chart reference passed");return Xp.getImageDataURL(t,e)},t}(),Yp=function(){function t(t){this.chart=t}return t.isInstance=function(e){var n,r;if(e instanceof t)return!0;if("AgChartInstanceProxy"===(null===(n=e.constructor)||void 0===n?void 0:n.name)&&null!=e.chart)return!0;var i=Object.keys(null===(r=e.constructor)||void 0===r?void 0:r.prototype);return!(!Object.keys(t.prototype).every((function(t){return i.includes(t)}))||null==e.chart)},t.prototype.getOptions=function(){return this.chart.getOptions()},t.prototype.destroy=function(){this.chart.destroy()},t}(),Xp=function(){function t(){}return t.initialiseModules=function(){t.initialised||(function(){var t,e,n,r,i,o;try{for(var a=jp(gp),l=a.next();!l.done;l=a.next()){var s=l.value;if(null!=Bs.constructors&&null!=s.optionConstructors&&Object.assign(Bs.constructors,s.optionConstructors),"root"===s.type&&s.themeTemplate)try{for(var u=(n=void 0,jp(s.chartTypes)),c=u.next();!c.done;c=u.next())Bd(c.value,s.themeTemplate)}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if("series"===s.type){if(s.chartTypes.length>1)throw new Error("AG Charts - Module definition error: "+s.identifier);Yd(s.identifier,s.chartTypes[0],s.instanceConstructor,s.seriesDefaults,s.themeTemplate,s.paletteFactory)}if("axis-option"===s.type&&s.themeTemplate)try{for(var h=(i=void 0,jp(s.axisTypes)),d=h.next();!d.done;d=h.next())kc(d.value,s.themeTemplate)}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}"axis"===s.type&&(bc(s.identifier,s.instanceConstructor),s.themeTemplate&&kc(s.identifier,s.themeTemplate)),"legend"===s.type&&qo(s.identifier,s.instanceConstructor)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}(),t.initialised=!0)},t.createOrUpdate=function(e,n){var r=this;t.initialiseModules(),Up(">>> AgChartV2.createOrUpdate() user options",e);var i={};!0===t.DEBUG()&&(i.debug=!0);var o=e.overrideDevicePixelRatio;delete e.overrideDevicePixelRatio;var a=dp(e,i),l=null==n?void 0:n.chart;null!=l&&Vp(e)===Vp(l.processedOptions)||(l=t.createChartInstance(a,o,l)),null==n?n=new Yp(l):n.chart=l;var s=l;s.queuedUserOptions.push(e);var u=function(){var t=s.queuedUserOptions.indexOf(e);s.queuedUserOptions.splice(0,t)};return s.requestFactoryUpdate((function(){return Bp(r,void 0,void 0,(function(){var n;return zp(this,(function(r){switch(r.label){case 0:return s.destroyed?[2]:null==(n=Ir(s.processedOptions,a))?(u(),[2]):[4,t.updateDelta(s,n,e)];case 1:return r.sent(),u(),[2]}}))}))})),n},t.updateUserDelta=function(e,n){var r,i=e.chart,o=e.chart.queuedUserOptions,a=null!==(r=o[o.length-1])&&void 0!==r?r:i.userOptions,l=Br([a,n]);Up(">>> AgChartV2.updateUserDelta() user delta",n),Up("AgChartV2.updateUserDelta() - base options",a),t.createOrUpdate(l,e)},t.download=function(e,n){Bp(this,void 0,void 0,(function(){var r;return zp(this,(function(i){switch(i.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return(r=i.sent()).chart.scene.download(null==n?void 0:n.fileName,null==n?void 0:n.fileFormat),r!==e&&r.destroy(),[2]}}))})).catch((function(t){return ot.errorOnce(t)}))},t.getImageDataURL=function(e,n){return Bp(this,void 0,void 0,(function(){var r,i,o;return zp(this,(function(a){switch(a.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return r=a.sent(),i=r.chart,o=i.scene.canvas.getDataURL(null==n?void 0:n.fileFormat),r!==e&&r.destroy(),[2,o]}}))}))},t.prepareResizedChart=function(e,n){return Bp(this,void 0,void 0,(function(){var r,i,o,a,l,s,u,c;return zp(this,(function(h){switch(h.label){case 0:return r=e.chart,o=(i=null!=n?n:{}).width,a=i.height,l=r.width,s=r.height,void 0===o&&void 0===a||1===r.scene.canvas.pixelRatio&&l===o&&s===a?[2,e]:(o=null!=o?o:l,a=null!=a?a:s,u=Fp(Fp({},r.userOptions),{container:document.createElement("div"),width:o,height:a,autoSize:!1,overrideDevicePixelRatio:1}),[4,(c=t.createOrUpdate(u)).chart.waitForUpdate()]);case 1:return h.sent(),[2,c]}}))}))},t.createChartInstance=function(t,e,n){var r=null==n?void 0:n.destroy({keepTransferableResources:!0});if(ap(t))return new Ku(document,e,r);if(lp(t))return new nc(document,e,r);if(sp(t))return new $u(document,e,r);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},t.updateDelta=function(t,e,n){var r;return Bp(this,void 0,void 0,(function(){return zp(this,(function(i){switch(i.label){case 0:return null==e.type&&(e=Fp(Fp({},e),{type:null!==(r=t.processedOptions.type)&&void 0!==r?r:op(e)})),[4,t.awaitUpdateCompletion()];case 1:return i.sent(),t.destroyed||(Up("AgChartV2.updateDelta() - applying delta",e),function(t,e,n){var r,i,o,a,l=Br([null!==(r=t.processedOptions)&&void 0!==r?r:{},e],hp),s=function(t,e){var n,r,i=function(e){return t instanceof Ku&&e.chartTypes.includes("cartesian")||t instanceof $u&&e.chartTypes.includes("polar")||t instanceof nc&&e.chartTypes.includes("hierarchy")},o=!1,a=gp.filter((function(t){return"root"===t.type}));try{for(var l=Kp(a),s=l.next();!s.done;s=l.next()){var u=s.value,c=i(u)&&null!=e[u.optionsKey],h=t.isModuleEnabled(u);c!==h&&(o=!0,c?t.addModule(u):t.removeModule(u))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o}(t,l),u=["type","data","series","listeners","theme","legend"];if(ap(e)||sp(e))u.push("axes");else if(!lp(e))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+e.type);e.listeners&&qp(t,e.listeners),Jp(t,e,{skip:u});var c=!1;e.series&&e.series.length>0&&(function(t,e){var n=e.series;n&&(t.series.length===n.length&&t.series.every((function(t,e){var r;return t.type===(null===(r=n[e])||void 0===r?void 0:r.type)}))?t.series.forEach((function(e,r){var i,o,a,l,s=Ir(null!==(a=null===(o=null===(i=t.processedOptions)||void 0===i?void 0:i.series)||void 0===o?void 0:o[r])&&void 0!==a?a:{},null!==(l=n[r])&&void 0!==l?l:{});s&&(Up("AgChartV2.applySeries() - applying series diff idx "+r,s),$p(e,s,{path:"series["+r+"]",index:r}),e.markNodeDataDirty())})):t.series=function(t,e){var n,r,i,o=[],a=t.getModuleContext(),l=0;try{for(var s=Kp(null!=e?e:[]),u=s.next();!u.done;u=s.next()){var c=u.value,h="series["+l+++"]",d=Xd(null!==(i=c.type)&&void 0!==i?i:"unknown",a);$p(d,c,{path:h,index:l}),o.push(d)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}(t,n))}(t,e),c=!0),"axes"in e&&Array.isArray(e.axes)&&function(t,e){var n=e.axes;if(!n)return!1;if(t.axes.length===n.length&&t.axes.every((function(t,e){return t.type===n[e].type}))){var r=t.processedOptions;if(ap(r))return t.axes.forEach((function(t,e){var i,o,a=Ir(null!==(o=null===(i=r.axes)||void 0===i?void 0:i[e])&&void 0!==o?o:{},n[e]);Up("AgChartV2.applyAxes() - applying axis diff idx "+e,a),Jp(t,a,{path:"axes["+e+"]",skip:["axes[].type"]})})),!0}return t.axes=function(t,e){var n,r,i=[],o=["axes[].type"],a=t.getModuleContext(),l=0;try{for(var s=Kp(null!=e?e:[]),u=s.next();!u.done;u=s.next()){var c=u.value,h=xc(c.type,a),d="axes["+l+++"]";Zp(h,c),Jp(h,c,{path:d,skip:o}),i.push(h)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}(t,n),!0}(t,e)&&(c=!0),function(t,e){var n=["listeners"];t.setLegendInit((function(r){var i,o,a,l;Jp(r,null!==(i=e.legend)&&void 0!==i?i:{},{skip:n}),(null===(o=e.legend)||void 0===o?void 0:o.listeners)&&Object.assign(null===(a=t.legend)||void 0===a?void 0:a.listeners,null!==(l=e.legend.listeners)&&void 0!==l?l:{})}))}(t,e);var h=e.series,d=!!e.data||(null==h?void 0:h.some((function(t){return null!=t.data}))),f=null!==(o=null!==(i=e.legend)&&void 0!==i?i:e.title)&&void 0!==o?o:e.subtitle;c=c||d||!!f,e.data&&(t.data=e.data),e.listeners&&t.updateAllSeriesListeners(),t.processedOptions=l,t.userOptions=Br([null!==(a=t.userOptions)&&void 0!==a?a:{},n],hp);var p=c||s?si.PROCESS_DATA:si.PERFORM_LAYOUT;Up("AgChartV2.applyChartOptions() - update type",si[p]),t.update(p,{forceNodeDataRefresh:c})}(t,e,n)),[2]}}))}))},t.DEBUG=function(){var t;return null!==(t=pt("agChartsDebug"))&&void 0!==t&&t},t.initialised=!1,t}();function Up(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];[!0,"opts"].includes(Xp.DEBUG())&&ot.debug.apply(ot,Wp([t],Gp(e)))}function Zp(t,e){var n,r,i=!1,o=gp.filter((function(t){return"axis-option"===t.type}));try{for(var a=Kp(o),l=a.next();!l.done;l=a.next()){var s=l.value,u=null!=e[s.optionsKey];u!==t.isModuleEnabled(s)&&(i=!0,u?t.addModule(s):t.removeModule(s))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function qp(t,e){for(var n in t.clearEventListeners(),e){var r=e[n];"function"==typeof r&&t.addEventListener(n,r)}}function Jp(t,e,n){var r=void 0===n?{}:n,i=r.skip,o=r.path;return zr(t,e,Fp(Fp(Fp({},Ws()),{skip:i}),o?{path:o}:{}))}function $p(t,e,n){var r,i,o=void 0===n?{}:n,a=o.path,l=o.index,s=["series[].listeners","series[].seriesGrouping"],u=Ws(),c=null!==(r=u.constructors)&&void 0!==r?r:{},h={constructors:Fp(Fp({},c),{title:"pie"===t.type?Rs:c.title})},d=zr(t,e,Fp(Fp(Fp(Fp(Fp({},u),h),{skip:Wp(["series[].type"],Gp(null!=s?s:[]))}),a?{path:a}:{}),{idx:null!=l?l:-1})),f=null==e?void 0:e.listeners;null!=f&&qp(t,f);var p=e.seriesGrouping;if("seriesGrouping"in(null!=e?e:{}))if(p){var y=Object.freeze(Fp(Fp({},null!==(i=t.seriesGrouping)&&void 0!==i?i:{}),p));t.seriesGrouping=y}else t.seriesGrouping=p;return d}var Qp,ty=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ey=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(Qp||(Qp={}));var ny=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=Qp.Open,e.restoreOwnStyles(),e}return ty(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return us(Ot(this.startAngle),Ot(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===Qp.Chord?t.closePath():this.type!==Qp.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new A(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),r=this.computeBBox();return this.type!==Qp.Open&&r.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Object.assign({},Nt.defaultStyles,{lineWidth:1,fillStyle:null}),ey([oo()],e.prototype,"centerX",void 0),ey([oo()],e.prototype,"centerY",void 0),ey([oo()],e.prototype,"radius",void 0),ey([oo()],e.prototype,"startAngle",void 0),ey([oo()],e.prototype,"endAngle",void 0),ey([oo()],e.prototype,"counterClockwise",void 0),ey([oo()],e.prototype,"type",void 0),e}(ao),ry=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iy=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},oy=function(t){function e(e){var n=t.call(this)||this;return n.x=0,n.y=0,n.width=0,n.height=0,n.opacity=1,n.sourceImage=e,n}return ry(e,t),e.prototype.render=function(e){var n=e.ctx,r=e.forceRender,i=e.stats;if(this.dirty!==T.NONE||r){this.computeTransformMatrix(),this.matrix.toContext(n);var o=this.sourceImage;n.globalAlpha=this.opacity,n.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else i&&i.nodesSkipped++},iy([W({redraw:T.MAJOR})],e.prototype,"x",void 0),iy([W({redraw:T.MAJOR})],e.prototype,"y",void 0),iy([W({redraw:T.MAJOR})],e.prototype,"width",void 0),iy([W({redraw:T.MAJOR})],e.prototype,"height",void 0),iy([W({redraw:T.MAJOR})],e.prototype,"opacity",void 0),e}(J),ay=Object.freeze({__proto__:null,Caption:Ca,DropShadow:os,Group:dt,Scene:wt,Node:J,get PointerEvents(){return K},get RedrawType(){return T},SceneChangeDetection:W,Selection:Xi,Arc:ny,Line:Da,Path:ao,Rect:ch,Sector:vs,Shape:Nt,Text:jt,getFont:Ft,ContinuousScale:Ta,BandScale:ka,LinearScale:ss,toRadians:Dt,Label:Ml,Marker:co,getMarker:Eo,Circle:mo,Diamond:So,Square:fo,Tooltip:_n,toTooltipHtml:wn,HdpiCanvas:N,BBox:A,Image:oy,Path2D:no}),ly=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},sy=Object.entries(Yf).reduce((function(t,e){var n=ly(e,2),r=n[0],i=n[1];return t[r]=i(),t}),{}),uy=Object.freeze({__proto__:null,themes:sy,getChartTheme:Xf,ChartTheme:pf,EXTENDS_AXES_DEFAULTS:sf,EXTENDS_AXES_LABEL_DEFAULTS:uf,EXTENDS_AXES_LINE_DEFAULTS:cf,EXTENDS_SERIES_DEFAULTS:hf,OVERRIDE_SERIES_LABEL_DEFAULTS:df,DEFAULT_FONT_FAMILY:ff}),cy=Object.freeze({__proto__:null,TimeScale:tl,BandScale:ka,ContinuousScale:Ta,ColorScale:td,LinearScale:ss}),hy=Object.freeze({__proto__:null,ticks:Ra,extent:Ol,normalisedExtent:_l,toFixed:cs,isNumberEqual:us,tickFormat:gl,interpolateString:Uc,Color:$t,isString:Ht,isStringObject:Yt,isDate:function(t){return t instanceof Date&&!isNaN(+t)},isDiscrete:Xt,isContinuous:Ut,checkDatum:Zt,isNumber:qt,resetIds:function(){for(var t in B)delete B[t]},createId:z,Padding:xr,jsonDiff:Ir,DELETE:jr,jsonMerge:Br,jsonApply:zr,jsonWalk:Gr,normalizeAngle360:Ot,normalizeAngle360Inclusive:function(t){return t%=kt,(t+=kt)!==kt&&(t%=kt),t},normalizeAngle180:_t,toRadians:Dt,toDegrees:function(t){return t/Math.PI*180},sanitizeHtml:qc,Logger:ot});t.AgChart=Hp,t.Marker=co,t.VERSION="8.2.1",t._ModuleSupport=Ip,t._Scale=cy,t._Scene=ay,t._Theme=uy,t._Util=hy,t.__FORCE_MODULE_DETECTION=0,t.time=C,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).agCharts={});